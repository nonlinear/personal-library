[
  {
    "chunk_full": "generative \nart\na practical guide\nusing processing\nforeword by marius watz\nmatt pearson \nM A N N I N G\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 0
  },
  {
    "chunk_full": "generative\nart\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1
  },
  {
    "chunk_full": "ii\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2
  },
  {
    "chunk_full": "generative\nart\na practical guide \nusing processing\nmatt pearson \nshelter island\nM A N N I N G\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 3
  },
  {
    "chunk_full": "For online information and ordering of this and other Manning books, please visit \nwww.manning.com. The publisher offers discounts on this book when ordered in quantity. \nFor more information, please contact\nSpecial Sales Department\nManning Publications Co.\n20 Baldwin Road\nPO Box 261\nShelter Island, NY 11964\nEmail: orders@manning.com\n©2011 by Manning Publications Co. All rights reserved.\nNo part of this publication may be reproduced, stored in a retrieval system, or transmitted, in any form\nor by means electronic, mechanical, photocopying, or otherwise, without prior written permission of\nthe publisher, with the exception of the Introduction, Chapter 1, Chapter 6, and the source code\nthroughout, which are available under a Creative Commons (Attribution-NonCommercial 3.0) license.\nSee creativecommons.org/licenses/by-nc/3.0/. Note that Creative Commons distribution of the\nimages in the Introduction and in Chapter 1 is limited to those by Matt Pearson only.\nMany of the designations used by manufacturers and sellers to distinguish their products are claimed\nas trademarks. Where those designations appear in the book, and Manning Publications was aware\nof a trademark claim, the designations have been printed in initial caps or all caps.\nAll efforts have been made to identify and contact copyright holders for the illustrations reproduced in\nthis book. Copyright holders not acknowledged here should contact the author to be acknowledged\nin future editions of this book.\nRecognizing the importance of preserving what has been written, it is Manning’s policy to have the\nbooks we publish printed on acid-free paper, and we exert our best efforts to that end. Recognizing\nalso our responsibility to conserve the resources of our planet, Manning books are printed on paper\nthat is at least 15 percent recycled and processed without the use of elemental chlorine.\nManning Publications Co. \nDevelopment editor: Jeff Bleiel\n20 Baldwin Road \nCopyeditor: Tiffany Taylor\n\t\nDesigner and Typesetter: Irene Korol Scala\nShelter Island, NY 11964 \nCover design: Irene Korol Scala \nCover image:  Matt Pearson\nISBN: 9781935182627\nPrinted in the United States of America\n1 2 3 4 5 6 7 8 9 10 — MAL — 16 15 14 13 12 11\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 4
  },
  {
    "chunk_full": "dedicated to my boys, Rudy and Oz\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 5
  },
  {
    "chunk_full": "vi\nList of artworks viii\nForeword x\nPreface xii\nAcknowledgments xiv\nAbout this book xv\nAbout the author xvii\nIntroduction:  \nThe Organic vs. the Mechanical xviii\nGenerative art is easy xxii\nOrder and chaos xxv\nProgramming as poetry xxxv\nThe chaos artist xli\nPart 1 Creative Coding\n1 Generative Art: In Theory and Practice 3\n1.1 \nNot your father’s art form 4\n1.2 \nThe history of a new idea 6\n1.3 \nThe digital toolset 9\n1.3.1 Perpetual impermanence 9\n1.3.2 The latest in primitive technology 11\n1.4 \nSummary 12\n2 Processing: A Programming Language  \nfor Artists 13\n2.1 \nWhat is Processing? 14\n2.1.1 Bold strides and baby steps 15\n2.1.2 Hello World 17\n2.2 \nProgrammatic drawing 19\n2.2.1 Functions, parameters, and color values 20\n2.2.2 Strokes, styles and co-ordinates 22\n2.2.3 Variables 23\n2.2.4 Fills, alpha values, and drawing order 24\n2.3 \nStructure, logic, and animation 27\n2.3.1 The frame loop 27\n2.3.2 Writing your own functions 30\n2.3.3 Operators 31\n2.3.4 Conditionals 33\n2.4 \nLooping 34\n2.4.1 While loops 35\n2.4.2 Leaving traces 37\n2.4.3 For loops 39\n2.5 \nSaving, publishing, and distributing your work 40\n2.5.1 Version control 42\n2.5.2 Creating stills 43\n2.5.3 Using a still as an alt image 44\n2.5.4 Creating video 44\n2.5.5 Frame rates and screen sizes 45\n2.5.6 Mobile devices, iPhone/iPad, and Android 46\n2.6 \nSummary 47\ntable of contents\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 6
  },
  {
    "chunk_full": "Part 2 Randomness and Noise\n3 The Wrong Way to Draw A Line 51\n3.1 \nRandomness and not-so-randomness 52\n3.2 \nIterative variance 54\n3.3 \nNaturalistic variance 57\n3.3.1 Perlin noise in Processing 57\n3.3.2 Creating your own noise 60\n3.3.3 A custom random function 63\n3.4 \nSummary 64\n4 The Wrong Way to Draw a Circle 65\n4.1 \nRotational drawing 66\n4.1.1 Drawing your first circle 67\n4.1.2 Turning a circle into a spiral 69\n4.1.3 Noisy spirals 69\n4.1.4 Creating your own noise, revisited 73\n4.2 \nCase study: Wave Clock 76\n4.3 \nSummary 82\n5 Adding Dimensions 83\n5.1 \nTwo-dimensional noise 84\n5.1.1 Creating a noise grid 84\n5.1.2 Noise visualizations 85\n5.2 \nNoisy animation 89\n5.3 \nThe third dimension 92\n5.3.1 Drawing in 3D space 93\n5.3.2 Three-dimensional noise 95\n5.3.3 The wrong way to draw a sphere 100\n5.4 \nSummary 103\nPart 3 Complexity\n6  Emergence 107\n6.1 \nEmergence defined 108\n6.1.1 Ant colonies and flocking algorithms 108\n6.1.2 Think locally, act locally 110\n6.2 \nObject-oriented programming 112\n6.2.1 Classes and instances 113\n6.2.2 Local knowledge (collision detection) 120\n6.2.3 Interaction patterns 121\n6.3 \nSummary 126\n7 Autonomy 127\n7.1 \nCellular automata 128\n7.1.1 Setting up the framework 130\n7.1.2 The Game of Life 134\n7.1.3 Vichniac Vote 137\n7.1.4 Brian’s Brain 138\n7.1.5 Waves (averaging) 143\n7.2 \nSimulation and visualization 146\n7.2.1 Software agents 146\n7.2.2 Human agents 149\n7.3 \nSummary 153\n8  Fractals 155\n8.1 \nInfinite recursion 158\n8.2 \nCoding self-similarity 159\n8.2.1 Trunks and branches 159\n8.2.2 Animating your tree 163\n8.3 \nExponential growth 165\n8.4 \nCase study: Sutcliffe Pentagons 170\n8.4.1 Construction 171\n8.4.2 Exploration 180\n8.5 \nSummary 187\nIndex 189\n vii\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 7
  },
  {
    "chunk_full": "viii\nlist of artworks\n\t\nxxx–xxxi \n\t\nxxxviii\n\t\nxxvii, 102\n\t\nxxxvi\n\t\nxix\n\t\nxxxvii\n\t\n72\n\t\n5\n\t\nCover, xxviii\n\t\n77, 81\n\t\nxxvi\n\t\nxxiv\n\t\nxxxix\n\t\n156\n\t\nxx\n\t\nxxi\n\t\nxxi\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 8
  },
  {
    "chunk_full": " ix\n ix\n ix\n\t\nxxxiv, 150 \n\t\n8\n\t\nxxix\n\t\nxxxix\n\t\nxl\n\t\n149\n\t\nxxxv\n\t\nxxxii\n\t\nxxxiii\n\t\nxxxii\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 9
  },
  {
    "chunk_full": "x\nInstead, we put smartphones in our pockets and walk out into the world armed with search\nengines, Wikipedia, social networking services, and advanced mapping services. Without giving\nit much thought, we have turned into augmented beings existing in a world that is simultaneously\nreal and virtual.\nThis revolution would be impossible without a new understanding of software as cultural artifact.\nWhere we once saw text processors as literal typewriter replacements, we now download and\nexchange apps as a popular pastime. Websites that used to be closed domains of proprietary\ninformation now sport public APIs, enabling professionals and enthusiasts alike to create ever-\npopular “mashups” based on their data. \nIn the creative field, the most significant development is the realization that software processes\naren’t simply tools, but can become the very material from which works are made. New design\ndisciplines like interaction design and information visualization are based on the application of\ncomputational solutions to design problems, while generative art has become a household term\ndescribing artworks articulated as code. A new generation of electronic artists has turned to code\nas fertile ground for conceptual and formal experimentation, simultaneously providing a pragmatic\nframework for computational creativity and a theoretical context for the created artwork.\nThe roots of this trend can be traced back to the mid-1990s, when creatives began experimenting\nwith HTML, Shockwave, Flash, and Java applets as a creative medium. Predating iPhone and\nAndroid by more than a decade, the World Wide Web was the first media platform to deliver\ncomputational content, authored using tools aimed at creatives rather than computer scientists.\nBut despite the important work done in this “golden age” of the web, the real revolution came\nwith the introduction of open source tools such as Processing.1.\nWritten by artists for artists and initially intended as teaching tool, Processing is a simplified\nlanguage built on top of Java, focusing on creative applications like real-time graphics and\ninteractive systems. It eliminates tedious tasks typical to regular programming tools, allowing even\nnovices to get sketching with code quickly. But despite its simplicity, Processing is a powerful \n1.  Processing is just one of many free development tools intended for artists. Pure Data (PD) and \nvvvv are both so-called visual patching tools, popular for video and sound manipulation. NodeBox and \nScriptographer are specialized for graphic programming, and systems like Structure Synth and Context \nFree are based on recursive shape grammars.\nThe last decade has seen a significant shift in our understanding of digital tools. Not only\ndo we now take them for granted, we are becoming the cyborg creatures much-prophesied\nin 1990s millennial theory but without the neural implants and virtual reality that so alienated\nmainstream audiences.\nforeword\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 10
  },
  {
    "chunk_full": " xi\n xi\nplatform capable of supporting the most demanding digital media application. It’s designed to\nbe extended through user-contributed libraries that add functionality to the core framework,\nand is easily integrated with other systems like the popular Arduino microcontroller. A recent\ndevelopment lets users develop apps for Google’s Android OS, making Processing a veritable\nSwiss Army knife for creative computational.\nAlthough generative art has grown in popularity, it remains somewhat mystical as a practice,\nthe domain of vaguely mathematical magic. How are these works created? How do we sketch in\ncode? The technical aspects of writing code are tricky enough, let alone manipulating algorithms\ninto serving aesthetic principles. \nVisual thinkers think in terms of logically connected workflows: take a photo, manipulate it,\ncombine it with graphic elements, add typography. Coding often involves obscure steps that at\nfirst might seem completely disconnected from the aim of producing a visual composition: find a\ndataset, write a parser, analyze boundary values, write an algorithm for visual translation, tweak\nthe parameters, and rewrite. Code requires identifying logical connections between elements\nand describing behaviors in terms of rules that might seem unrelated, and beginners tend to find\nit frustrating when the need for trigonometry invades even the simplest animation.\nFortunately, most of the essential tools in the generative artist’s repertoire can be described as\na set of simple principles. As Matt Pearson writes, generative art is easy—at least, sometimes.\nUsing Processing as his tool of choice, Matt shows how to progress from primitive drawing\nto more complex topics like interactive animation and simulated phenomena such as cellular\nautomata. But rather than just demonstrating syntax, he describes the creative process involved\nin designing generative systems, showing how manipulating parameters and tweaking algorithms\ncan result in radically different outcomes. \nHaving grown up with the ZX Spectrum and worked many years as a programmer while also being\ninvolved in the arts, Matt is perfectly placed at the intersection of code and creative thinking.\nIn this book, he sets out to provide the reader with a toolbox of recommended practices while\nsimultaneously introducing a deeper cultural context to the work. It should have readers quickly\nthinking beyond simple code tricks to the more complex ideas that underlie a computational\nmodel of form. My personal favorites are the sections on “wrong” ways to do things, showing\nhow a simple form like a line or a circle can be transformed into complex systems by thinking\ncreatively about the way they’re constructed. \nHappy coding!\nMarius Watz\nMarius Watz is an artist working \nwith code as his material,  \nwho has shown his work around \nthe world. He is the founder of \nthe Generator.x platform for \ngenerative art and design and is  \na lecturer in interaction design at \nthe Oslo School of Architecture \nand Design. He is currently based \nin Oslo and New York.  \nhttp://mariuswatz.com/\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 11
  },
  {
    "chunk_full": "xii\nAs a young man, this career shift wasn’t entirely motivated by a need to restore the right-left\nhemisphere balance to my young brain; it may also have had something to do with the worry\nthat knowing a lot about Alan Turing and C++ was probably not the best way to get a girlfriend. \nMy studies of early 1990s ideas of computing had so repulsed me that I made efforts to stay\nas far away from computers as I could for the next 10 years. For much of the 90s, I didn’t even\nown a computer; instead I had a guitar, an attitude, and an ill-advised haircut. I was only drawn\nback toward the end of the decade when the web started to take off, and a lot of creative people\nsuddenly discovered that what they’d been doing recently with video cameras, photography,\nand hypertext was now being called New Media, and everyone was doing it. This rehabilitation\nof computing has continued unabated, to the point that today, to say you “work with computers”\nis about as meaningful as saying you breathe air.\nAt the time I dropped out, I couldn’t imagine anything worse than spending the rest of my days\ncommuning with these soulless beasts of logic and wires. But in adulthood, I discovered a\nnew enthusiasm for computing after stumbling across a simple realization; that computers and\ncomputing were not the same thing. What hadn’t been made apparent to me during my university\ndays was that computation is everywhere, and it can be a thing of beauty. \nComputing is what a stream does as it finds its way downhill toward the ocean. It’s what the\nplanets do as they move in their orbits. It’s what our bodies do as they maintain the balance\nneeded to keep us upright. It’s what our DNA does as it unravels. Computing is what I’m doing\nnow as I process these ideas and output them as text—and what your brain is doing as you\nread the words and form your own ideas as a result. \nThis is why I can say, without contradiction, that while I still find computers boring, I think\ncomputing is cool. The only place computers really come into it is in attempting to simulate\nthese computations or creating new ones to rival those of the natural world. Which brings me\nto the subject in hand: generative art.\nAs a jobbing coder, I always dabbled with generative ideas when I could. Whenever I got my\nhands on a new bit of kit, the first thing I’d run would be a few fractal creations to test its limits.\nBut I’d never taken it seriously as an art form, and I was only dimly aware of the growing\nmovement of artists who did. But this side of the millennium, that movement was gathering pace\nand becoming more visible, as the tools also became increasingly powerful and accessible. \npreface\nI’m going to issue a disclaimer before we proceed: I tried doing it the right way, I tried becoming\na “real” programmer, I really did. But I failed. I started a computer science degree, but dropped\nout after about a year and a half. I’m sorry, but it bored me senseless.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 12
  },
  {
    "chunk_full": " xiii\n xiii\nI’ve always believed that if you want to do something, the best way to go about it is to stop talking\nyourself out of it and just get on with it. Nothing should stop you, as long as you’re happy to work\nwithout reward. Although, as experience testifies, I’ve found that if you do something long enough\nand maintain an enthusiasm for it, sooner or later someone will end up offering you money for\nit. Or ask you to write a book about it. Admittedly, this principle may not apply to self-abuse or\nserial killing, but it’s certainly true of most artistic endeavors.\nSo, you could say the genesis of the book you’re now holding (physically or virtually) was in\na project I started, in accordance with this principle, in 2008. I decided that if I was going to\ntake generative art seriously, I’d start a generative art blog. I called it 100 Abandoned Artworks\nand set myself the task of producing a generative artwork every week, throwing it out there in\nwhatever state I had got it to (hence the abandoned) before real-life commitments intruded on\nmy playtime. I included the source code, Creative Commons licensed, so anyone could take\nmy abandoned, half-finished works and find some use in them. I pledged that I wouldn’t allow\nmyself to stop until I reached 100. This strict, self-imposed schedule was a conscious way to\nforce myself to reorder my priorities. I knew that somehow I found time to spend hours reading\ncomic books and watching no end of god-awful movies, yet generative art, something I enjoyed,\nwas the thing I never found the time for. \nThe discipline worked. Not only did I find the schedule easy to maintain, my enthusiasm for\nProcessing (the tool I had chosen) keep growing. The project took me on many diversions, into\nprint and video, and started feeding back into my day job. It was somewhere around the 50 mark\nthat Christina Rudloff at Manning got in touch to discuss the possibility of a book.\nThat project is now complete, as is the book. This book is a snapshot of where I am right now, of\neverything I’ve learned and unlearned in my programming career up to this point. I didn’t want to\nwrite yet another Processing book—I don’t particularly like programming books, and I’ve never\nread one from cover to cover. I wanted to write something more inspiring, something that was\nabout the why as much as the how. Programming art is a different discipline than programming\nsystems, and there should be no right or wrong way to use the powerful tools we have at our\ndisposal. I wanted to get across how coding can be liberating and creative, not just structured\nand orderly, and accessible to more people than just the techies. Whether I’ve succeeded in\nthis aim is for you to decide.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 13
  },
  {
    "chunk_full": "xiv\nAlan Sutcliffe, Rob “SanchoTheFat” O’Rourke, Justin “Soulwire” Windle, Seb Lee Delisle,\nJ4mie Matthews, Ron Wheedon, Robert Hodgin, Aaron Koblin, Jeremy Thorp, Jared Tarbell,\nCasey Reas, Ben Fry, Manfred Mohr, Reza Ali, Jerome “01010101” Saint-Clair, Dan Shiffman,\nShardcore, Norman Klein, Kerry Mitchell, Orhan Alkan, Patrick Steger, Andy Dingley; at Manning:\nMarjan Bace, Emily Macel, Christina Rudloff, Jeff Bleiel, Mary Piergies, Tiffany Taylor, Barbara\nMirecki, Irene Korol Scala, (and anyone else who had the misfortune of dealing with me); also\nPhilip Galanter, Kevin “lomokev” Meredith, Marc Banks, Alice Eldridge, Rich “Text Format” Willis,\nRifa Bhunnoo, Chris TT, Ewan Swain, Eric Bates, Iestyn Lloyd, Alec Morrison, everyone at\ndotBrighton, Ruth and Jo, plus my friends at FutureDeluxe and TGSi (in part for letting me leech\ndesk space while I was writing).\nSpecial thanks to Marius Watz, for his artworks and foreword; Frederik “w:blut” Vanhoutte for\nhis artworks and technical review; and Cliff Pickford for the Alan Watts quote.\nApologies to anyone I’ve forgotten.\nMost of all, thanks to my patient wife, Deborah, who somehow still loves me, despite my being\na massive nerd.\nacknowledgments\nHuge thanks go out to all the following, for the work they contributed, for making it possible,\nfor being nice, for supporting the project, for putting up with my crap, for reviewing the\nmanuscript, for giving feedback, and/or just saying the right thing at the right time: \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 14
  },
  {
    "chunk_full": " xv\n xv\nabout this book\nIf this book were to be just a collection of recipes for you to follow, to produce certain aesthetically\npleasing results, it would be missing the point—not to mention hugely arrogant. The appreciation\nof art is entirely subjective, so if I were to declare that there is a right way to go about creating\nart, I would be in need of a slap.\nSimilarly, this isn’t a book about “design.” With design, the intention is to produce a visual that\nproduces the same response in everyone who sees it—the intention (such as “street,” “retro,” or\n“subtle”) should be mostly unambiguous. With art, you’re still aiming to produce a response, but\nif that response is different in different people that doesn’t matter. It’s fine for one person to like\na piece while another sneers. Even better, if one viewer loves the work, we would hope another\nmight hate it. If we can foster such an extremity of reaction, it’d be a measure of success. Perhaps\nthe only cardinal sin of art is to be boring. \nThis book is peppered throughout with stills from my own generative works, most of them relating\nto whatever topic is under discussion, but others are just randomly thrown in as a breather.\nSource code for many of these images can be downloaded from http://abandonedart.org and\nfrom the publisher’s website at www.manning.com/GenerativeArt. It is also published under a\nCreative Commons license, so you’re welcome to take these works and deconstruct them, adapt\nthem, mash them up, and destroy them. But, importantly, you’re also entitled to think they’re\nrubbish. It wouldn’t bother me too much if you did—that isn’t the purpose of the book. \nI would hope that even if you hated every single piece of artwork within these pages, you may\nstill get something from the book, if only the inspiration to do something better. In this way, even\nbad art can be good, as it is only the very worst that can inspire an extreme reaction. To not\nproduce any reaction at all is to fail as an artist.\nIf there is one thing I want to get across with this book, it’s a style of programming rather than\na rulebook for achieving certain types of results. I want to explore how programmers can open\nthemselves to more artistic flurries, a way of freeing the brain to get creative with code. \nThe roadmap for this approach is as follows: The first part of the book, “Creative Coding,” sets the\nscene and teaches all the necessary prerequisites. Chapter 1 looks at the concept of generative\nart from a few different angles; then, in chapter 2, we get up to speed with Processing, a simple\nprogramming language that will be our main tool for the rest of the book. \nWithin these pages, you’ll learn how to begin experimenting with generative art. We’ll explore\ntools and algorithms and creative approaches, and look at ways you can take ideas and\ndevelop them further. But there is one thing you won’t learn from this book, and that is how to\nbe an “artist.” \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 15
  },
  {
    "chunk_full": "xvi\nxvi\nxvi\nPart 2, “Randomness and Noise,” begins to break down my process for creating generative\nvisuals with Processing, looking at the algorithmic creation of the simplest of forms, and\nconsidering new ways of approaching them. We begin with the drawing of a line in chapter\n3; we see how even this can be spun out into interesting spaces with a more fluid approach,\nextending the idea to trigonometry with chapter 4. Chapter 5 explores animation and 3D drawing.\nThe final part of the book, “Complexity,” goes beyond the machine and looks at three organic\nprocesses taught to us by the natural world: emergence, autonomy, and fractals. We maintain\na practical approach throughout though, exploring how we might simulate these phenomena in\ncode, and learning, by stealth methods, more advanced object-oriented programming required\nfor these experiments.\nThere is no right or wrong way to be a generative artist. There are no rules or recipes. Generative\nart is about the organic, the emergent, the beautiful, the imprecise, and the unexpected. It’s\nabout exploring these within a world of logic and precise mechanics. This delightful paradoxicality\nmakes it an almost Zen approach to computing: playful and organic, free of restraint, and inviting\na natural flow. \nTo put it more simply, generative art is about having fun with coding. Programming isn’t just about\ngood practice, structure, and efficiency; it can be about freedom, creativity, and expression, too.\nThe programming language can be an artistic tool, capable of making both profound statements\nand banal ones, if in the right hands.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 16
  },
  {
    "chunk_full": " xvii\n xvii\nabout the author\nMatt Pearson is a creative coder and sometime writer. A perpetual freelancer, he has donned\nhis coding gloves for clients such as London’s National Portrait Gallery, the Cleveland Museum \nof Art, Perth Arts Festival, the BBC, the Victoria and Albert Museum, London, The Art Institute of\nChicago, the Vancouver Museum of Anthropology, Paramount Pictures, and the UK government.\nHe lives in Brighton UK, where he shares a house with a number of small blonde children,\na collection of MacBooks, and probably the most beautiful woman Wolverhampton ever\nproduced. You can find more of his incessant babbling at http://zenbullets.com.\nAuthor Online forum\nYou can also contact Matt through the Author Online forum run by Manning Publications at\nwww.manning.com/GenerativeArt. Manning’s commitment to our readers is to provide a venue\nwhere a meaningful dialogue between individual readers and between readers and the author\ncan take place. It isn’t a commitment to any specific amount of participation on the part of the\nauthor, whose contributions to the book’s forum remain voluntary (and unpaid). The Author Online\nforum and the archives of previous discussions will be accessible from the publisher’s website\nas long as the book is in print.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 17
  },
  {
    "chunk_full": "xviii\nFrom the standpoint of Taoist philosophy natural forms are not made but grown,  \nand there is a radical difference between the organic and the mechanical.\nThings which are made, such as houses, furniture, and machines, are an assemblage \nof parts put together, or shaped, like sculpture, from the outside inwards.\nBut things which grow shape themselves from within outwards—they are not \nassemblages of originally distinct parts; they partition themselves, elaborating their \nown structure from the whole to the parts, from the simple to the complex. ”\nAlan Watts, 1958\nAlan Watts (1915–73), English philosopher and Zen monk, was a Buddhist in a very 1960s sense. \nHe was a master of theology, a priest, and the author of more than 20 books on Zen philosophy.\nHe also experimented with psychedelic drugs, both on a personal level and in laboratory trials.\nHe had plenty to say on the subject of creativity and technology but never, as far as I know, said\nanything specifically on the subject of generative art.\nIn the above quote, he’s talking about the incongruity between the natural world and the\nmanmade, separating creation into the organic and the mechanical. This concept of organic\ngrowth, whereby forms are constructed “from within outwards” describes this book’s topic rather\nwell; but in such a clear bilateralism, how can we say that a work of computer programming\nbelongs to the world of the organic rather than the mechanical? \nGenerative art is neither programming nor art, in their conventional sense. It’s both and neither\nof these things. Programming is an interface between man and machine; it’s a clean, logical\ndiscipline, with clearly defined aims. Art is an emotional subject, highly subjective and defying\ndefinition. Generative art is the meeting place between the two; it’s the discipline of taking\nstrict, cold, logical processes and subverting them into creating illogical, unpredictable, and\nexpressive results.\nGenerative art isn’t something we build, with plans, materials, and tools. It’s grown, much like a\nflower or a tree is grown; but its seeds are logic and electronics rather than soil and water. It’s an\nemergent property of the simplest of processes: logical decisions and mathematics. Generative\nart is about creating the organic using the mechanical.\nintroduction: the organic\nvs. the mechanical\n“\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 18
  },
  {
    "chunk_full": " xix\n xix\nWatts’ opposing categories of worldly things, the mechanical and the organic, are easy to\nseparate. A building has straight edges and sharp corners: it’s functional and accurate; it’s in\nthe realm of the mechanical. A tree is irregular and temporally inconstant, its leaves shake in the\nwind and shed in the autumn; it’s in the realm of the organic. Mechanical things are constructed;\nthey’re fashioned, as Watts says, from the outside in. They’re built, drawn, assembled, sculpted,\nmanufactured. On the other hand, organic things are grown: they’re self-structuring, holistic.\nTheir forms come about without intent; they don’t conform to designs or blueprints. \nLike the landscape gardener, the lot of the generative artist is to take naturally evolving\nphenomena and to fashion them into something aesthetically pleasing. It’s finding that point of\nbalance between the beautiful unruliness of the natural world and the desired order of our ape\nbrains. A garden that is unkempt and overgrown is unpleasing to us because it’s too far into the\nrealm of the chaotic, whereas concreting the area instead is the tidiest, most ordered of solutions,\nwhich also removes all beauty. \nThe sweet spot is between the two, where the grass is neat and evenly cut but still no two blades\nare alike or move in perfect synchronicity—where the colors of the flowers are evenly balanced,\nbut not in a way that is exact and precise. The sweet spot is where the “art” lives.\n\nFrom here on, if the artist is unspecified, assume that the artworks are by the author.\nYou may be used to skimming figure captions for clues as to how the figure relates to the chapter. But \nsometimes a figure is just there because it’s prettier to look at than unbroken text. Sorry.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 19
  },
  {
    "chunk_full": "xx\nxx\n\nAddition/Subtraction, Variant (2010) by Robert Hodgin, an artist whose work continues to be a huge inspiration. \nSee also figures i.5 and i.6.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 20
  },
  {
    "chunk_full": "\nMagnetic Ink by Robert Hodgin (2007).  This work was created using a flocking algorithm, each agent leaving a mist of ink. \nSee www.flight404.com/blog/?p=86 for further explanation. You’ll learn more about flocking in chapter 6.\n\nJelly (Magnetosphere) by Robert Hodgin (2007) . Most of Robert’s early work, including this image, was created \nusing Processing, a tool you’ll be learning a lot about.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 21
  },
  {
    "chunk_full": "xxii\nGenerative art is easy\nIf you were to decide to become an artist, you would need to take only one step: write your\nname, write “(artist)” after it, and then print it on a business card. Congratulations: you’re an\nartist. From this point on, every scribble, gesture, utterance, or movement you make can be\ndefined as art, if you so choose. Every stool you leave in the cistern of life can find meaning to\nsomeone, somewhere, even if it’s only yourself. You may not be a particularly good artist, but\nan artist is what you are.\nBecoming a “generative artist” is a little more specific, but not that much more difficult. You\nmay infer that some kind of skill set is required to qualify for this title. Perhaps you see learning a\nprogramming language as a significant barrier to entry. This isn’t the case; the language isn’t a\nbarrier, it’s a shortcut. Compared with other disciplines of the arts, where a minimum skill level\nis necessary for your work be taken seriously, with generative art most of the skill doesn’t have\nto be learned; it’s already encapsulated within the tools. \nIt takes many years to learn to paint, to draw, or to sculpt, but the programming aptitude required\nto get professional results in generative art can be learned in a matter of days. And if you don’t\nbelieve me, I hope this book will prove it. The images in figure i.7 were generated in only 24\nlines of code, which you can view in the listing on the next page. Every time it runs, it produces\na different still image.\nAll this code does is iterate through a grid using two loops; then, a function call on line 14 draws\na circle at each grid point and displaces it in 3D space using a mathematical variance. Don’t\nworry if you don’t understand the code, or indeed the previous sentence, at this point: that’s\nwhat this book is for. We’ll unpack all these concepts in the first few chapters. \n\nFour generative works created by the 24 lines of code in listing i.1\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 22
  },
  {
    "chunk_full": " xxiii\n xxiii\nListing i.1 A generative system in 24 lines of code\nvoid setup() {\n  size(2000, 2000, P3D);\n  background(150);\n  stroke(0, 50);\n  fill(255, 200);\n  float xstart = random(10);\n  float ynoise = random(10);\n  translate(width/2, height/2, 0);\n  for (float y = -(height/8); y <= (height/8); y+=3) {\n    ynoise += 0.02;\n    float xnoise = xstart;\n    for (float x = -(width/8); x <= (width/8); x+=3) {\n      xnoise += 0.02;\n      drawPoint(x, y, noise(xnoise, ynoise));\n    }\n  } \n}\nvoid drawPoint(float x, float y, float noiseFactor) {\n  pushMatrix();\n  translate(x * noiseFactor * 4, y * noiseFactor * 4, -y);\n  float edgeSize = noiseFactor * 26;\n  ellipse(0, 0, edgeSize, edgeSize);\n  popMatrix();\n}\nEven if you’ve never coded before, by the end of chapter 2 you’ll have a powerful programming\nlanguage under your belt. Then, from chapter 3 onward, you’ll learn a number of techniques that\nwill enable you to quickly achieve generative art proficiency. Taking this proficiency on toward\nmastery is then up to you. \nIf you come blessed with programming skills, you’re already most of the way there. In fact, the\nmain problem for experienced programmers may be unlearning the strict practices you’re used\nto. Chaos is something we don’t usually expect or welcome from computing devices, but for the\nnext few hundred pages it will be our friend and collaborator. Order and chaos may be mutually\nexclusive, but that doesn’t mean they can’t work together. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 23
  },
  {
    "chunk_full": "xxiv\nFigure i.8\nPerth Arts Festival Branding (2010). Image from a print/video/online generative branding  \nproject I created in collaboration with Brighton's FutureDeluxe (http://futuredeluxe.co.uk).  \nSee http://vimeo.com/20096257 for the full story.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 24
  },
  {
    "chunk_full": " xxv\n xxv\nOrder and chaos\nThe image in figure i.9 shows Newton, painted by William Blake in 1795. To the left of the picture\nare brightly colored flora and fauna, the complexity of the natural world. To the right is order,\nthe precision of geometry and the compass. In the middle, between these two incongruous\nelements, sits Man. \nExcept, in this case, it isn’t just any man, it’s Isaac Newton, writer of Principia Mathematica, the\nfounding work of classical mechanics. Blake’s painting is a criticism of Newton’s world view; he\nis turning his back upon the beauty of the natural world, his sole interest is in his scroll and compass. \nWilliam Blake was a Romantic, with a capital R. He was part of the Romanticism movement, the\nartistic, literary, and intellectual reaction to The Enlightenment of the late 18th century. The Age\nof Enlightenment was the time that heralded the birth of modern science, when purest reason \nFigure i.9 \nNewton, by William Blake is a beautiful illustration of the incongruity between the chaos of nature and \nthe precision of science and mathematics.\nWilliam Blake (1757–1827) Newton, ca. 1795, print with ink and watercolor, Tate, London\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 25
  },
  {
    "chunk_full": "xxvi\n\nIt was made using Perlin noise and deconstructed spheres, a process described in chapter 5.  \nThe finished film is at http://vimeo.com/10924639.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 26
  },
  {
    "chunk_full": " xxvii\n xxvii\nwas the dominant philosophical trend. The Romantics feared the coming godless world and clung\nto the dying remnants of an idea of natural idyll: the aesthetic, the rural, and the picturesque.\nThey saw the future on their horizon, the world of the rational and scientific, the future we now\nlive in. And it repulsed them.\nModern computer programmers may adopt the same pose as Newton. They spend their working\ndays entranced before a screen, squinting at a glowing monitor in a dimmed office, making only\nthe barest micro-movements with their mouse-hand and keyboard fingers, only vaguely aware of\nwhat is beyond the screen, outside the window, outside the city. The chaos of the natural world\nisn’t welcome in this world of logic; unpredictability isn’t something we want from a computer.\n\nFrosti (2010). Here, I reused the same system that generated the video work in figure i.10 for a print work. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 27
  },
  {
    "chunk_full": "xxviii\nFigure i.12 \nContact sheets for Twill (2010). This book’s cover image was chosen from a run of several hundred generative images. \nBut the generative artist would be the programmer sitting facing the other direction, straddling\nthat rock like Christine Keeler.1 The generative artist comes from the world of logic to look toward\nthe natural world for inspiration.\nIs there an inherent contradiction in using computers to explore the realm of the organic? What\ncould be less mechanical than the 1s and 0s of a humming box of electronics? Is generative art\nlittle more than a fool’s errand?\nAnd furthermore, if we declare our work as art, aren’t we implying an intent to explore emotion\nand aesthetic? Can we reasonably expect to create works with emotional resonance using only\nprocedures, logic, and mathematics? Relying on a computer to create an artwork and expecting\nit to connect with a viewer on a human level is surely akin to waiting for an infinite number of\nmonkeys, with an infinite number of synthesizers, to write the perfect pop song. \nHerein lies the challenge.\nOrder and chaos, simplicity and complexity, the mechanical and the organic, aren’t necessarily\nat opposite ends of a spectrum. They’re symbiotic, intertwined. Any line we might walk between\nthe two is a knife edge. Our very existence is poised between entropy and order, between the\n1.  If you aren’t old (or British) enough to remember the scandalous tale of John Profumo and Christine Keeler, \nvisit Wikipedia to learn what a “defiant straddle” looks like: http://en.wikipedia.org/wiki/Profumo_Affair.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 28
  },
  {
    "chunk_full": " xxix\n xxix\n\nProcess 14 / Image 4 by C. E. B. Reas (2008). Casey Reas was one of the initiators of the \nProcessing project. This print is from a series of Processing works exhibited at the bitforms \ngallery in New York in Spring 2008.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 29
  },
  {
    "chunk_full": "xxx\n\n100 Abandoned Artworks (2008–2010). Two years of weekly generative animation experiments, and their source code, which \nyou can find at http://abandonedart.org. The code for many of the other works in this book can also be found there.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 30
  },
  {
    "chunk_full": " xxxi\n xxxi\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 31
  },
  {
    "chunk_full": "xxxii\nturbulence of a hostile, chaotic environment, the natural world that we would find so difficult to\nsurvive unaided, and the simplicity of purest nothingness, the void that is equally fatal to our\nanimal needs. We may think we have both mastered the chaos and fought off the boredom and\nmadness of purest order. But any living being can testify that there is a constant fluctuation\nbetween the two. No matter how much order you impose upon your life, chaos is never more\nthan a car crash away.\nThe mechanical and the organic, like order and chaos, are codependent; one couldn’t exist\nwithout the other. The complex appeals to us as much as the simple, the organic as much as the\nmechanical. Fashion or mood may sway us more toward one or another in any given situation, but\nwe never go completely over to one side or the other. For to do so is to stop living; to eradicate\nchaos is to become a robot; to eradicate order is to become a savage.\nFortunately, no one is asking us to take sides. The aim of generative art, if it has any aim at all, is to\nmake something beautiful. We can attempt to use the mechanical to create the organic, starting\nfrom order and heading toward chaos, careful not to stray too far in one direction or the other. And\nif we become adept at this, we may be able to consider ourselves both programmer and artist. \n\n(Left) Grid Distortion 02D 0018, a laser etching by Marius Watz (2010) \nFigure i.16  \n(Right) KBGD01E 0012 by Marius Watz (2010)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 32
  },
  {
    "chunk_full": " xxxiii\n xxxiii\n\nIlluminations B by Marius Watz (2007). Marius, who provided this book’s foreword, is another generative \nartist whose work has been a great inspiration to me. Two more of his creations appear in figures i.15 \nand i.16. You can explore his other work and processes at www.unlekker.net.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 33
  },
  {
    "chunk_full": "xxxiv\n\nRenders from Aaron Koblin’s Flight Patterns (2005), a data-driven work that is discussed in chapter 7\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 34
  },
  {
    "chunk_full": " xxxv\n xxxv\nProgramming as poetry\nSome may think there is something counterintuitive about using a programming language as\nan artistic tool, like using a forklift to perform a ballet or a T-square to draw a curve. This is\nbecause, traditionally, programming languages have been the realm of logic, structure, and\norganization. They’re used for problem solving, modeling data, and accurate simulations. Highly\nlogical activities such as these inevitably make coding unattractive to more creative thinkers.\nThis is a waste. Programming languages are just tools; they don’t belong to one community or\nanother. They can be equally effective in the hands of a designer or in the hands of a systems\narchitect, but the works created by these tool users will be radically different.\nThe history of programming has been toward ever-greater sophistication of organization. When\ncomputer scientists talk about design patterns, they don’t mean aesthetics; in programming\nlingo, a design pattern is a useful framework for tackling programming problems homogeneously.\nThe intention is that common challenges can be addressed the same way, in a move toward a\nmore universal language of programming. The use and understanding of these tried and tested\ndesign patterns is typically the mark of a good programmer, but they’re also a highly rigid way of \nFigure i.19  \nStrange Symmetry 2 by Frederik Vanhoutte (2008)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 35
  },
  {
    "chunk_full": "\nMondrian Architecture (2009). A fractal inspired by Piet Mondrian. The joy of creating fractal structures is \nexploring the detail: they can truly be said to work on many levels. Each detail is from zooming in to the upper-left \ncorner of the previous image. These ideas are explained in chapter 8.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 36
  },
  {
    "chunk_full": "\nOrbitals (2009). Perlin noise applied to 3D circles. All the necessary principles behind this work are discussed in chapters 4 and 5.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 37
  },
  {
    "chunk_full": "xxxviii\napproaching language use. What we’re doing with generative art is swimming against this tide\nand saying there isn’t a right or wrong way to do anything. We can still use these fine practices,\nand we can learn a lot from them, but we shouldn’t allow ourselves to be hindered by them. If\nrules exist, they’re for the breaking. \nBut not the rules of programming syntax, unfortunately. It doesn’t take long to discover that\nthere’s nothing iconoclastic about missing a semicolon: you just end up with broken code. This\nis an unfortunate reality. \nA programming language is, after all, just another language. And a language can be spoken in\nmany different ways, with a variety of accents or inflections. The programming language differs\nfrom languages such as English, German, and French only in that it’s intended to facilitate\ncommunication between humans and machines, rather than humans and other humans. Because\nof this necessary unambiguity of human-to-machine communication, we wouldn’t imagine that\nwe could use a language like Java or C++ to write a poem. But if a language isn’t capable of\npoetry, it has clearly lost its relevance on the human side of the equation. \nMy conjecture is that code can be poetry, and code can be fun. But we may have to sacrifice\nsome of the rigidity, good design, and best practices of professional, commercial programming\nto enable this. \n\nBroken Mirrors 1–4 (2011) Still from a gallery installation I built. It shows one of four generative \nanimations created from the movement of the spectators viewing the piece \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 38
  },
  {
    "chunk_full": " xxxix\n xxxix\nFigure i.23  \nLORMALIZED by Reza Ali (2010). Ali published this work as an app, so others could create their \nown images using his system. You can download it from www.syedrezaali.com/.\nFigure 1.24  \nDrawing With Particles by 01010101 (2009). Jerome Saint-Clair, aka 01010101, fashioned this image with moves of the \nmouse, but the tool his mouse controlled was a generative particle system of 01010101’s own creation.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 39
  },
  {
    "chunk_full": "xl\n\nHappy Place by Jared Tarbell (2006). Agent-oriented behaviors at the micro level, \nproducing emergent complexity at the macro level. If these words mean nothing to you \nright now, chapters 6 and 7 will explain. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 40
  },
  {
    "chunk_full": " xli\n xli\nThe chaos artist\nDeclaring our work as “art” is a bold and arrogant thing to do. By doing so, we’re saying that our\nwork is beyond mere utility: it’s an expression of our humanity and individuality. It may even be\nin the realm of the ineffable. Unfortunately, it may also be an expression of our pretentiousness,\nbut let’s try not to worry about that for now. If you’re of the opinion that nothing in life is worth\ndoing if it’s without specific purpose or measurable value, you’ve picked up the wrong book.\nFurthermore, to describe our work as “generative” art means we not only intend our work to\nexpress our individuality, but we also want it to express the chaos and abandonment of processes\nfree of our control. Without this unpredictability, our art would belong in a box other than the\none labeled generative. Generative artists are chaos artists. They have bred the unpredictable,\nwelcomed it, harnessed it, and can fashion it into pleasing forms.\nCommon or garden chaos (as opposed to the mathematical kind, which we’ll touch on in part\n3 of this book) may seem anathema to the logician. Unpredictability is something unwanted in\ntraditional programming practices, which is why more experienced programmers reading these\nwords may be finding some of these ideas unpalatable. But trust me: it’s for your own good.\nNonlinear approaches to the familiar can be healthy for the brain. And, who knows, you may\neven be able to take some of these creative angles back to your coder day job and make yourself\nincredibly unpopular with your bosses and colleagues.\nChaos isn’t to be feared. After all, we aren’t doing anything more dangerous than making attractive\nimagery with computers. Seriously, what is the worst that can happen? To engage in generative\nprocesses means we are expecting the unpredictable—it isn’t an unwelcome visitor. We’ll\nbecome comfortable with a lack of control over our work. We’ll embrace this chaos and learn\nto love it. n\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 41
  },
  {
    "chunk_full": "",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 42
  },
  {
    "chunk_full": "Part\nCreative Coding\n“\nThe machine makes the music,  \n \n \n \nbut I created the machine… \nI don’t know where responsibility lies  \n \n \nin that situation.”\nAutechre's Sean Booth, in interview, 2010\none\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 43
  },
  {
    "chunk_full": "",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 44
  },
  {
    "chunk_full": "Chapter One\n 3\n\nIn Theory and Practice\nOn first appraisal, the question “What is generative art?” may seem\nsimple. But, as is the nature of all things generative, even this definition\nhas an emergent complexity. \nThe elucidation most often cited in recent years is attributed to Philip\nGalanter, artist and professor at Texas A&M University, from his 2003 paper\n“What Is Generative Art? Complexity Theory as a Context for Art Theory”:1\n“Generative art refers to any art practice where the artist uses a system, such\nas a set of natural language rules, a computer program, a machine, or other\nprocedural invention, which is set into motion with some degree of autonomy\ncontributing to or resulting in a completed work of art.”\nAlthough this is accurate and descriptive—and a long sentence with all\nthe right words—a single phrase like this isn’t enough. I don’t think it quite\ncaptures the essence of generative art (GenArt), which is much more\nnebulous. In my mind, GenArt is just another byproduct of the eternal titanic\nbattle between the forces of chaos and order trying to work out their natural\nharmony, as expressed in a ballet of light and pixels. But flowery crap like\nthat isn’t going to get us anywhere either\n1. You can read Prof. Galanter’s paper in full at  \nwww.philipgalanter.com/downloads/ga2003_paper.pdf.\n1\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 45
  },
  {
    "chunk_full": "4\nWe have to be careful treading around this topic, because we want at all costs to avoid trying to\ndefine “What is art?” which is an argument best left alone. The concept of art can be so fragile\nand fuzzy that if we were to prod it too much, it would evaporate. So, instead of trying to carve\nup a subject that doesn’t want to be dissected in search of a pithy description, in the section that\nfollows I’ll take a more delicate and obtuse approach. We’ll begin by examining what generative\nart isn’t.\n1.1 Not your father’s art form\nWith more traditional art forms—sculpture, painting, or film, for example—an artist uses tools to\nfashion materials into a finished work. This is clearly doing it the hard way. With generative art,\nthe autonomous system does all the heavy lifting; the artist only provides the instructions to the\nsystem and the initial conditions.\nThe artist’s role in the production process may be closer to that of a curator than a creator. You\ncreate a system, model it, nurture it, and refine it, but ultimately your ownership of the work\nproduced may be no more than a parent’s pride in the work of their offspring. \nThis is hideously unfair, of course. We shouldn’t underestimate the human role in the collaboration.\nIn addition to the programming, the human contributes one other important skill: aesthetic\njudgment. It’s feasible for computers to develop a sense of aesthetics (plenty of work toward this\naim has been done within the field of evolutionary systems2), but it will never be the best division\nof labor in a human-machine creative partnership. If we need to calculate pi to a million digits, it\nwould be a misappropriation of resources to set a human brain to this task. Similarly, it’s probably\nbest not to leave it to machines to decide what’s pretty and what isn’t.\nAlthough GenArt is almost always abstract in nature, it can’t be defined by the style of the work.\nThe common factor of generative artworks is the methodology of its production, not the style\nof the end result. \nFigure 1.1, for example, is an abstract work, and it’s a monochrome work, but we can only say\nthat it’s a generative work if it happens to fit my claims as to how it was created. This particular\narrangement of pixels may have been achieved in Adobe Illustrator (not by my cloddish paws,\n2. Richard Dawkins’ book The Blind Watchmaker (1986) is a good, accessible introduction to the topic of \ngenetic algorithms and their application.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 46
  },
  {
    "chunk_full": "1\nGenerative Art | Pearson\n 5\nGenerative Art: In Theory and Practice\n\nTube Clock (2009)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 47
  },
  {
    "chunk_full": "6\nI would hasten to add); by photography; or by pencil, paper, and scanner; and in all cases, it\nwould still be a monochrome abstract. It may also still be generative, depending on the way each\nof these tools is used, but this isn’t a given. \nThe tools used aren’t the defining factor; it’s the way they’re used that provides the commonality.\nIn this book, the programming language, specifically the Processing language, is the chosen\ntool. But that doesn’t mean everything you create with that tool is generative. Programming\nlanguages are just ways of making computers do as they’re told; there is nothing inherently\ngenerative about following orders.\nTo be able to call a methodology generative, our first hard-and-fast rule needs to be that autonomy\nmust be involved. The artist creates ground rules and formulae, usually including random or semi-\nrandom elements, and then kicks off an autonomous process to create the artwork. The system\ncan’t be entirely under the control of the artist, or the only generative element is the artist herself.\nThe second hard-and-fast rule therefore is there must be a degree of unpredictability. It must be\npossible for the artist to be as surprised by the outcome as anyone else.\nCreating a generative artwork is always a collaboration, even if the artist works alone. Part-\nauthorship of any generative work must belong in part to the mechanisms the artist uses: the\nsystem that generates it. Fortunately, anonymous autonomous systems aren’t usually bothered\nif their unscrupulous artistic partners decide to steal all the credit.\nTo retain a necessary focus, this book discusses only one tool—the programming language—\nas a way of producing only one range of output: visuals. But generative methods may also be\nused to produce music, architecture, poetry, dance, storytelling or interactive experiences,\nand the autonomous systems behind their creation may also be mechanical, games of chance,\nnatural phenomena, or subconscious human behavior. We’ll touch on some of these alternative\napproaches later in the book. \n1.2 The history of a new idea\nGenerative art has a history measured in decades, not long compared to other arts, which is\nprobably why it’s still on the periphery of the art world. Art colleges across the globe are churning\nout tens of thousands of painters, potters, fashion designers, and graphic designers every\nyear, but the number of practicing generative artists in the world at present could probably fit\ncomfortably onto a single Caribbean cruise liner (which would be a lovely idea if anyone fancies\narranging it). This demographic is changing fast, though. As popular computing technology\naccelerates, more creative people are getting theirs hands on the tools and discovering this\nnovel art form. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 48
  },
  {
    "chunk_full": "1\nGenerative Art | Pearson\n 7\nGenerative Art: In Theory and Practice\nThe term generative art has only been in general use since the 1960s, but the concept has been\nwith us much longer. Generative forms of music, for example, have been around since Mozart.\nHis Musikalisches Würfelspiel (Musical Dice Game) was an early example of a generative artistic\nsystem.\nThe idea was to create a minuet by cutting and pasting together prewritten sections, making\nselections according to the roll of a die. Even with a single six-sided die, the number of possible\ncombinations rises quickly: by 5 rolls, there are 7,776 possible combinations; and with 6 rolls,\n46,656. These types of artistic parlor games became popular in the eighteenth century.\nIn the last century, composers such as John Cage, Karlheinz Stockhausen, and Brian Eno\nexpanded on the idea of generative music.3 John Cage’s 4’ 33”, his controversial note-less piece\ndefined only by its length, takes environmental ambient sounds as its only content, meaning no\ntwo performances of the work are ever the same. \nLater, Stockhausen and Eno (and others) experimented with procedural methods of composition,\nwhere music is defined by a set of rules or conditions. Eno’s Discreet Music LP (1975) is a fine\nexample of this. The first side is a 30-minute piece created by a tape-loop feedback system. A\nsynthesized melody was recorded onto a tape machine, the output of which was fed into a second\ntape machine. The output of the second machine was then fed back into the first machine and\nthe overlapping signals recorded. We know of this process because Eno included a diagram of\nhis setup on the back cover of the LP (see figure 1.2). \n3. Even though Processing can be used to create generative music, this book focuses solely on the \ncreation of visuals. Generative music is a huge and fascinating topic that warrants a book of its own. David \nToop’s Haunted Weather might be a good place to start.\nFigure 1.2  \nBrian Eno’s Discreet Music album included a diagram on the sleeve explaining the synthesizer  \nand tape-loop feedback system by which the music had been produced.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 49
  },
  {
    "chunk_full": "8\n\nLady Quark by Manfred Mohr (1972) , one of the earliest algorists (generative artists who work  \nwith computers). Mohr wrote his own software in order to explore his art.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 50
  },
  {
    "chunk_full": "1\nGenerative Art | Pearson\n 9\nGenerative Art: In Theory and Practice\nVisual forms of generative art started emerging in the 1960s, first with computers outputting to\nplotters, then with visual display units (VDUs), and later in more sophisticated forms of print and\nvideo. Early pioneers from the plotter years were Frieder Nake, George Nees, Vera Molnar, Paul\nBrown, and Manfred Mohr (see figure 1.3), who published a collection of computer-generated\nartworks called Artificiata I in 1969. \nBut although the development of GenArt has been closely tied to the evolution of the computer,\ncomputers are just a useful convenience. The real tools of GenArt, the underlying constants to\nthe various tools you can use, are the algorithms. Algorithms are a part of the natural world; they\nhave a universality that transcends medium. So while the systems capable of creating GenArt\nchange over time, evolving as technology evolves, the algorithms remain the same. Generative\nart may not be quite as old as art itself, but it may be said to be at least as old as mathematics.\nThis book is all about the algorithms. It’s about the philosophy, aesthetics, and experimentation\ntoo, but mostly it’s about the algorithms and the tools you use to explore them. You can,\ntheoretically, perform the mathematics behind procedural GenArt with a stick of chalk and a\nlarge flat rock, but that would make life unnecessarily difficult—especially when we live among\nthe ever-advancing sophistications of the twenty-first century and its remarkable digital toolset,\nwhich is what we’ll look at next. \n1.3 The digital toolset\nIf you’re a practitioner within the digital medium (and it’s difficult not to be these days), you likely\nalready have a set of tools you favor for your creative endeavors. You’ve come to grips with a\nparticular word processor or email client, so when you feel the need to craft words, you have\nthe means to do so. You may also have invested time in learning a graphics package for when\nyou’re inclined to say it with pixels. On a more fundamental level, you’ve probably developed\nrelationships, perhaps even dependencies, with your devices—MP3 players, phones, laptops—\nand have tamed them into serving your needs. Software and hardware alike, all of these are the\ntools in your digital toolbox. But how long-term are these man-machine marriages? \n1.3.1 Perpetual impermanence\nIn periods of rapid technological innovation (of which our current time is one, but so has been\npretty much every other era in human history) we become highly focused on the latest tools. We\ninvest a lot of time in mastering their quirks, and we upgrade them frequently. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 51
  },
  {
    "chunk_full": "10\nApple’s range of laptops is updated annually, with the top of the range reaching higher and higher\nlevels of power and convenience. An application like Adobe Photoshop has, on average, a major\nnew release every 18 months, with a dollar price for each release in the hundreds. It would be\nunimaginable to buy a chisel, or a paintbrush, or a set square, knowing that it would be obsolete\nin two years, yet this almost-immediate obsolescence is unquestioningly accepted on the cutting\nedge of both hardware and software. \nAn unwritten complicity exists between users and manufacturers of technology. The manufacturer\nwill have a roaring trade if every year it can deliver the same product to the same customer who\nbought it last year, but this is made possible only by the demand of the market: the users who\neagerly await these upgrades and see value in every minor iteration. They’re driven by the desire\nfor the latest technology has to offer, and they’re prepared to make the necessary sacrifices to\nhave it within their grasp. This creates a cycle of perpetual impermanence, which marches the\ntechnology forward.\n\nThe ZX Spectrum: the machine I learned to program on. It was the cutting edge of British home \ncomputing circa 1982: 48 KB RAM, no hard disk, and no mouse. The lack of a visual operating system \nmeant you had to learn basic programming skills just to be able to load a game. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 52
  },
  {
    "chunk_full": "1\nGenerative Art | Pearson\n 11\nGenerative Art: In Theory and Practice\nYou should bear this in mind as you create digital artwork. If you work with pixels, there is already\na fragility to the work you do: your art disappears the second the monitor is turned off. For this\nreason alone, many artists gravitate toward more tangible art forms such as print and sculpture\n(the decreasing prices of 3D printers promise some exciting possibilities for tangible generative\nart in the coming decade). Furthermore, if you become dependent on a machine to create your\nart, you know the machine and the software it runs are already halfway to obsolescence before\nyou’ve taken them out the box. This isn’t a bad thing, though, because the next generation will be\ncapable of even more remarkable mathematical feats, enabling ever-broader artistic possibilities.\nFrom our limited temporal perspective, the evolution of digital tools may seem to be in a uniformly\npositive direction, with every release bringing greater sophistication, speed, simplicity and/\nor intuitiveness. Moore’s Law; the 1960s observation that processing power is doubling, and\nits price halving, every few years, seems to be holding true and showing no sign of dropping\naway—which, for now, means the digital world is only ever going to get Faster! Better! Cheaper!\nBut as we’re swept forward on this breakneck digital tide, we may fool ourselves into believing\nthat our functional friends are at an unprecedented level of sophistication, that they’re the best\nour civilization can offer. But by what yardstick do we measure such sophistication? \n1.3.2 The latest in primitive technology\nWe’re in the very early days of digital technology. The computer is still in its first century—it’s\nbut an infant, and the art of human-computer interaction is still a work in progress. Applications\nsuch as Photoshop, Flash, GarageBand, After Effects, Illustrator, Final Cut Pro, Maya, syntaxes\nsuch as C++, Java, HTML, CSS, and so on, all do incredibly cool things and have changed the\nway our media looks and behaves. But they aren’t tools with the simplicity or intuitiveness of the\npaintbrush or the scalpel. They’re clearly much removed from pencils, pens, chisels, guitars,\ndrums, trowels, and scissors, from natural and instinctual ways of expressing ourselves that have\nevolved over the millennia, rather than the last few decades. Compared this way, our digital tools\nappear extremely primitive in their usability, and at times quite an impediment to our creative\nflow. The purpose of a tool is not only to extend our capabilities; it should also enhance the flow\nof our creativity. The newest software gives us the power to fashion the world in ways that would\nhave been unimaginable only 50 years ago, but there is still a long way to go in terms of a natural\nartistry to their use. Almost all of the more powerful tools have a steep learning curve and require\ndedication and constant use to master. A child can’t quickly pick up Adobe Illustrator and draw a\nline. Even adults with a certain degree of techno-savvy can’t come fresh to a program like Maya\nand find a way to express themselves within a few minutes. On the other hand, using a pencil or \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 53
  },
  {
    "chunk_full": "12\na paintbrush, a child could instantly make some kind of statement involving line and color without\nhaving to learn any keyboard shortcuts. Their efforts would likely be rather amateur, it’s true, but\nthe important point is that they haven’t been at all hindered by their tool, only empowered by it.\nAn art form is defined by its tools. The tools give an art form its grammar. If the nature of a tool\nmeans it’s easy to perform one action or express one idea, and harder to perform another, the\neasier option will become more common. This is why so few landscape painters work in 3D,\nand why choreographers aren’t interested in bowls of fruit. In this way, our tools have a greater\ninfluence on the work they’re put into producing than you may realize. They can limit our creative\nchoices at the same time they extend them. \nThe trick is to appreciate these parameters and to come up with new ways of using the tools,\nto avoid falling into tired and over-familiar practices. This applies to a programming language as\nmuch as it does a paintbrush. If you’re an experienced programmer with a more formal grounding\nin your trade, that is one of the things I hope you’ll get from this book: a fresh way of approaching\nthe art of coding. And if you’ve never coded before, I hope you’ll find novelty in these new toys.\nFor what use is a paintbrush without an artist with the will to hold it? \n1.4 Summary\nWe’ve explored what generative art isn’t, and we’ve grudgingly accepted the limits of our primitive\nand impermanent toolset. Surely there must be something positive to take away from this chapter.\nFor starters, we’ve built a list a few things that, it’s probably safe to say, generative art definitely is.\nIt’s:\n• An algorithmic way of creating an aesthetic \n• A collaboration between an artist and an autonomous system\n• An exercise in extracting unpredictable results from perfectly deterministic processes\n• A quest for that sweet spot between order and chaos\n• A fresh, fun approach to coding\n• A growing medium with huge potential\nIt may be early days for the digital toolset, but these technological marvels award us some novel\npowers of expression. At the same time, they have a huge bearing on the type of work we produce\nwith them. The tool we’ll focus on for the GenArt experiments in this book is a wonderfully simple\nlanguage called Processing, which we’ll get started with in the next chapter. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 54
  },
  {
    "chunk_full": " 13\n 13\nChapter Two\nProcessing: A Programming \nLanguage for Artists\nIn this chapter you’re going to become a programmer. Although you\ndon’t necessarily need to know a programming language to experiment\nwith generative art, you’ll find it makes things a hell of a lot easier. \nObviously, one chapter probably can’t cover everything there is to know\nabout any one language, but I’m confident that in around 30 pages, I can\nintroduce all you need to start getting creative with code: from Hello World,\nthrough basic syntax and functions, to publishing your work for print, video,\nor mobile phones. \nBut first, if you plan to invest a significant amount of time in learning a tool,\nI feel I must justify the choice of programming language I’ve made for this\nbook. Even constrained as you are to the toolset of the early twenty-first\ncentury, you have an abundance of software choices for experimentation\nwith generative visuals. The options range from expensive professional tools\n(such as Flash and 3ds Max) to free online resources (like HasCanvas and\nScratch). But your time is precious, and you could never hope to master them\nall. For your purposes, you need just one. The best one.\nTo narrow it down, I came up with a few criteria. The language has to be easy,\npowerful, extensible, and well supported. I also wanted it to be equally adept\nat producing generative visuals for print and video, not just the computer\nscreen. Most important, though, I don’t want you to have to pay for it. Even\nwith these demands, we’re still spoiled for choice. This book could just \n2\n 13\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 55
  },
  {
    "chunk_full": "14\nhave easily been focused on openFrameworks (www.openframeworks.cc/), Context Free (www.\ncontextfreeart.org/), Structure Synth (http://structuresynth.sourceforge.net/), NodeBox (http://\nnodebox.net/) or vvvv (http://vvvv.org/). And if you ever find yourself looking for a new toy to\nplay with, you’ll have fun exploring any of these. But I’m assuming that, for now, you’re new to\nthe world of programming, so you want something that suits an initial gentle learning curve while\nretaining the scope for advanced techniques and professional results. With this in mind, I propose\nthat there is only one obvious choice: Processing.\nThe main reason I favor Processing, though, and the reason it warrants a book like this one\nat this point in its life cycle, is that I believe this one tool marks a significant advance in the\ndemocratization of programmatic art. To date, generative art has struggled to catch on outside\nof the realms of mathematics and computer science—fields that have never traditionally attracted\nthose with more adventurous aesthetic obsessions. Processing is perhaps the first language\nto enable the creation of professional generative art by a general audience, not just computer\nscientists.\n2.1 What is Processing?\nProcessing was conceived as a language for artists. It was developed as an open source\nproject (initiated by Casey Reas and Benjamin Fry while at MIT) specifically intended to teach\nprogramming skills via the instant feedback of visuals. It’s built on a much more complex and\npowerful language, Java, but greatly simplified and applied. As it has grown in popularity, the\nsimplicity of the core language has been enhanced with third-party libraries, enabling it to also\nbe put to other more sophisticated uses: drawing in 3D, reading XML, talking to MIDI or Arduino,\nor interfacing with other APIs (Flickr, Twitter, and so on). \nMozilla, the organization behind the open source Firefox web browser, has announced Processing\nfor the Web, a project proposal for porting the Processing language and environment to the\nopen web, so it can integrate with standard technologies like JavaScript and HTML5’s Canvas \ntag. This would mean Processing could be run directly in the web browser, without a plug-in.\nAlready, strides have been made in this direction with John Resig’s Processing.js project, which\nimplements Processing in JavaScript. There are also implementations of Processing in Ruby\n(http://wiki.github.com/jashkenas/ruby-processing/), Clojure (http://github.com/rosado/clj-\nprocessing),  and Scala (http://technically.us/spde/), all of which have emerged as grassroots\nprojects, typically through the work of a single coder, in the last two years. They’re clear symptoms\nof the growing popularity of Processing and its potential for the future. The barriers for entry are\ndropping as the potential distribution opportunities are expanding.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 56
  },
  {
    "chunk_full": "2\nGenerative Art | Pearson\n 15\nProcessing: A Programming Language for Artists\nMastery of a programming language is perhaps the single significant barrier of entry to generative\nart. Although it may not be possible to pick up Processing instantly, the learning curve required\nto get started with Processing makes it accessible to a much wider range of technical abilities\nthan other languages, while it still retains the power to be more than just a toy or learning aid.\nAll tools, even the most basic, come with a learning curve. Your first efforts with a pencil will\nunlikely be great works of art; and although most of us are first introduced to handheld drawing\nimplements as children, when our brains are most malleable, it may take years to master even\nthis simplest of tools.\nThe programming language is at the other end of the complexity spectrum: it can’t be encapsulated\ninto a neatly tangible physical object, it requires a highly sophisticated chunk of hardware to\nrun it (and is useless without it), and it’s abstracted in a way that makes input and response not\nimmediately apparent. Rather than the immediate feedback of sweeping a pencil against paper\nand seeing the line created, the process of write—run—amend (or write—run—debug) puts a\ngap between the artist and their work. \nBut, as previously mentioned, the Processing language, once tamed, can assist you in your\nart, and become your collaborator as well as your instrument. The programming language, with\nmathematical and logical aptitudes far beyond your own, can do all the heavy lifting and leave\nyou to concentrate on the finesse. \nNew programmers will find that there is a logic to coding that becomes familiar with time,\nappealing to the ordering, categorical instincts of the left brain. I hope, for the non-programmers\nwho have picked up this book, that by the time you’re finished with it, the idea of programming\nwill hold no trepidation. After you’ve made friends with your tool and established a confident\nworking relationship, you can get on to having some fun with your new collaborator. \n2.1.1 Bold strides and baby steps \nThe starting point for these explorations, as well as the Processing download, is the Processing\nwebsite (see figure 2.1). You can find the latest version at www.processing.org/download/. It’s\ncurrently supported for Mac OS X, Windows, and Linux. The screenshots used throughout these\npages are taken from the Mac version, but the interface is nearly identical for all the supported\nplatforms.\nNote that it’s worth checking back to the Processing download page occasionally, because\nrevisions to the language are frequent. The application went through 161 versions prior to its \n1.0 release in November 2008, and it continues to be updated and improved. There are also\nmany other resources to be explored at www.processing.org, including some great getting-\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 57
  },
  {
    "chunk_full": "16\n\nProcessing.org: an invaluable resource for tutorials, reference, and discourse. It’s also the place to \ndownload the latest version of Processing.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 58
  },
  {
    "chunk_full": "2\nGenerative Art | Pearson\n 17\nProcessing: A Programming Language for Artists\nstarted tutorials by Dan Shiffman and Ira Greenberg in the Learning area, lots of code examples\ndemonstrating various features of the language (again in the Learning area), and an active forum\nin the Discourse area. And while you’re bookmarking things, you might also like to add both my\nsite (www.zenbullets.com) and the Abandoned Art site (www.abandonedart.org) to your list;\nwhere you’ll find the downloads for this book as well as many other generative artworks and the\nsource code behind them. \nThe following section will introduce you to the technology, show you around the Processing\nDevelopment Environment (PDE), and point out where to write your first line of code. If you’ve\ncoded before, you may not need much more than this to get you started. But if you do, the rest of\nthe chapter is a whistle-stop tour of the language essentials, written specifically with the beginner\nin mind. It will take you through the key concepts of Processing and programming languages in\ngeneral, and arm you with everything you need to start experimenting. If you’re a beginner, this\nsection is essential.\nIf you have programming experience but haven’t tried Processing before, you may skim these\npages a little faster than the rank amateur. But every programming language has its idiosyncrasies,\nso it will be useful for you to learn how Processing uses concepts such as the frame loop, for\nexample. If you’ve programmed Java or any ECMA-based language (ActionScript, JavaScript),\nProcessing should come naturally to you.\nOne of the joys of open community projects such as Processing is that there is no shortage\nof free resources on the web in support of the product. If you find that the tutorials in this\nchapter don’t suit your pace, plenty of free options are available to help you. Again, I refer you to\nwww.processing.org as a starting point.\nOkay, you’ve said hello to Processing; next, let’s see if you can get Processing to say it back.\n2.1.2 Hello World\nAfter you’ve downloaded Processing, installed it, and run it for the first time, you’ll see something\nsimilar to figure 2.2.\nThis window is called the Processing Development Environment (PDE). Quickly, before blank-\npage paralysis sets in, let’s type something. Key the following in the main window:\nellipse(25, 25, 50, 50);\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 59
  },
  {
    "chunk_full": "Then, click the Run button: \n. What do you see? The output window should pop up (see figure \n2.3). In it is a 100 x 100 pixel canvas within which has been drawn an ellipse, center point at\ncoordinates 25, 25 (measured from upper-left), width and height 50 pixels. This is the visual\nprogramming equivalent of Hello World.\nIf you’re new to coding, in only one line you’ve already mastered two programming concepts.\nYou’ve called a function (ellipse) and passed it a number of parameters (x, y, width, and height). \nYou can think of a function as a service you use to perform a certain task. Sometimes you feed\nit parameters; sometimes it only needs to be called. It may give you a value back, or it may just\nperform the task it’s designed for—such as drawing to the screen. Later in this chapter, you’ll\nwrite your own functions; but before you get there, you’ll test a number of the core functions built\ninto Processing, of which ellipse is but one. If you click the Help menu and select Reference,\nyou’ll see a full list of the others. The reference is also online at http://processing.org/reference/. \n\n(Left) The empty PDE window: the first thing you’ll see when you download and run Processing\n\n(Right) Hello World. The output window shows the result of your commands.  \nThe single line ellipse(25, 25, 50, 50) drew a circle 50 pixels in diameter with its center at point 25, 25.\n18\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 60
  },
  {
    "chunk_full": "2\nGenerative Art | Pearson\n 19\nProcessing: A Programming Language for Artists\n2.2 Programmatic drawing\nEverything you need to know to start programming in the Processing language is contained in\nthis and sections 2.3 and 2.4 to follow. After reading all three, you’ll have the basics not just of\nProcessing but also of programming in general. At their core, all programming languages boil\ndown to the same types of structures: variables, loops, and functions. When you’ve got a grip on\nthese concepts in Processing, you’ll find you have half an understanding of many other languages\nand will be the toast of your local chess club. \nI appreciate that some of this may be a little unintuitive at first. If you feel you’re in unfamiliar\nterritory as you wander through, I’d suggest you take this chapter very slowly. Code along as\nwe go, and take the time to play around with trying every code chunk until you feel in control;\nonly move on when you’re happy. There is no time limit, and your patience will be rewarded.\nExperienced coders are probably already speed-reading chapter 3 at this stage, so I’ll assume\nI’m not catering to them from here on.\nFrom chapter 3 onward, there’s a lot of fun to be had with graphical programming, getting messy\nand breaking rules. But before you can break any rules, you have to learn a few of the rules you’ll\nbe breaking. It’s tedious, I know; but remember that if you want to effectively insult a Frenchman,\nyou’ll be a lot more effective at it if you’ve learned French first.\nYou’ll start with drawing a few simple shapes.\nSyntax matters\nThere is a certain fragility to the syntax of most programming languages. In a human\nlanguage, if you were to mistakenly capitalize a word in a sentence—for example, \nEllipse rather than ellipse—it might look odd, but the meaning would still be intact. \nBut try this in a programming language, and it will break.\nSimilarly, whatever you do, don’t forget the semicolon at the end of an instruction. \nThe semicolon is the Processing syntax equivalent of a full stop. Whitespace doesn’t\nmatter—you can use a new line for every statement you write, or run them all along the\nsame line, as long as each statement has the semicolon to terminate it. Forgetting the\nsemicolon is a common cause of errors. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 61
  },
  {
    "chunk_full": "20\n2.2.1 Functions, parameters, and color values\nIn the previous section, you downloaded Processing, typed your first one-line script, and\npublished it to the output window. You’d called your first function (ellipse) and passed it a number\nof parameters (x, y, width, and height). Now, let’s try a few more.\nOpen a new window, and type the following into the PDE window (see figure 2.4). Note that the\nlines beginning with // are comments, a place where you can put human-readable text. The // \nindicates that Processing shouldn’t try to run that line. You can also use the notation /* … */ to\nspread comments across more than one line:\n// setup and background\nsize(500, 300);\nsmooth();\nbackground(230, 230, 230);\n// draw two crossed lines\nstroke(130, 0, 0); \nstrokeWeight(4);\nline(width/2 - 70, height/2 - 70, width/2 + 70, height/2 + 70);\nline(width/2 + 70, height/2 - 70, width/2 - 70, height/2 + 70);\n// draw a filled circle too\nfill(255, 150);\nellipse(width/2, height/2, 50, 50);\nClick Run, and you should see something like figure 2.5. What you’ve written in the PDE is a list\nof functions. I’ll walk you through them and explain what each one does.\nFirst, set the size of the canvas to 500 pixels by 300 pixels:\nsize(500, 300); \nTurn on smoothing, which anti-aliases the lines you draw so they don’t look jaggy:\nsmooth();\nAnd set a grey background color:\nbackground(230, 230, 230);\nThe three parameters to the background function are RGB values—Red, Green, Blue. Each value\nis a number from 0 to 255 defining how much of that color goes into the mix. Together, these\nthree numbers give you 1.6 million combinations of colors you can use. In this case, because \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 62
  },
  {
    "chunk_full": "\nThe PDE with your new script\n\nThe output window showing the result of the commands you’ve just written\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 63
  },
  {
    "chunk_full": "22\nall three RGB values are the same, the result will be a grey color (any even mix yields a shade\nof grey). You can use a shorter version of the function for grayscale, with just one parameter:\nbackground(230);. This produces the same result as the three-parameter version.\nMany other graphical applications use this RGB notation. If you’re unfamiliar with it, try a few\ndifferent values from 0–255 in each of the background parameters to get used to this way of\ncolor mixing. You may also have seen hex values used to denote color values (as in HTML or \nPhotoshop), such as #FF0000, which denotes red. This notation is similar; the three RGB values\nare expressed as hexadecimal (base 16) character pairs. Each two characters represent a color\nvalue: in the example, Red: 255 (ff), Green: 00, Blue: 00.1 \nYou can use hex values in Processing if you prefer. background(#E6E6E6); produces the same\nresult as background(230, 230, 230); (E6 hexadecimal = 230 decimal).\nNext, let’s look at the stroke.\n2.2.2 Strokes, styles, and coordinates\nReturning to the code walkthrough, these are the next two lines:\nstroke(130, 0, 0); \nstrokeWeight(4);\nThey tell Processing to set the color of your stroke (imagine this as your virtual pen) to a medium\nred (using RGB values again), and set the pixel thickness to 4.\nAfter this, you draw a line in the stroke style you’ve just set:\nline(width/2 - 70, height/2 - 70, width/2 + 70, height/2 + 70); \nFor this function, the parameters are (startx, starty, endx, endy); but in this case, you haven’t\nsimply passed static values. In the slot for each of the four parameters is a simple sum. The result\nof each sum is passed as the parameter. Remembering that you previously defined a width and\nheight of 500 x 300 pixels, you can calculate that the resulting drawn line will be from point (180, \n90) to point (320, 220). (Coordinate values are always measured from upper-left.)\nAt this point, you may question why the function isn’t just written line(180, 80, 320, 220), because\nthis would perform exactly the same action. The reason is that you’re trying to draw a cross\nrelative to the center of the canvas. Yes, you know that your canvas is 500 x 300, because you\nset these values yourself only a few lines back; but if you use Processing’s knowledge of the \n1. For more information about hex notation, see www.web-colors-explained.com/hex.php.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 64
  },
  {
    "chunk_full": "2\nGenerative Art | Pearson\n 23\nProcessing: A Programming Language for Artists\ncanvas width and height, instead of relying on your human faculties, then if you go back and\nchange the size function at any point—say, to size(600,150) (go on, try it)—the crossed lines\nwill still meet at the center point. \nAn absolute coordinate (250, 150) never moves. But a relative coordinate (width/2, height/2)\ndynamically repositions itself relative to the size of the canvas.\nThe next line of code does the same, drawing a second line relative to the center point to\ncomplete the cross:\nline(width/2 + 70, height/2 - 70, width/2 - 70, height/2 + 70);\nThis is a good point to introduce another programming concept: the variable.\n2.2.3 Variables\nYou can see that you’re performing the same calculation (width/2 and height/2) multiple times.\nWouldn’t it be neater if you did it only once? Your code will be easier to read, and it will execute\nfaster if the processor has to do fewer calculations. \nWhen you get into more complex coding, you’ll see that one of the biggest limitations is speed.\nThe CPU in any machine can perform only so many calculations per second. It may not matter\nat this point when you’re managing just a handful of instructions; but it won’t be long until you’re\nperforming many thousand calculations per second, so it’s worth developing a consideration of\nefficiency. If there is ever a way to easily reduce the number of calculations you’re performing,\nyou should take it. \nTry changing the two cross-drawing lines to the following:\nfloat centX = width/2;\nfloat centY = height/2;\nline(centX - 70, centY - 70, centX + 70, centY + 70);\nline(centX + 70, centY - 70, centX - 70, centY + 70);\nHere you declare two variables to hold the result of a calculation. Think of a variable as a box in\nwhich you can put only one thing of a certain type; but the thing you put in may, um, vary (hence\nvariable). You have to declare your box before you can use it, and give it a name (which can be\nanything you want), although you don’t necessarily have to put anything in it at first. The following\nis a valid way of declaring and filling a variable:\nfloat centX;\ncentX = width/2;\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 65
  },
  {
    "chunk_full": "24\nYou declare a variable by defining the type of data you’ll be putting in it, in this case a float.\nA float? “What’s a float?” I hear you cry. Table 6.1 lists all the built-in variable data types you\nhave to choose from. \nNext, let’s look at fill colors and alpha values. \n2.2.4 Fills, alpha values, and drawing order\nOkay, we’ve thoroughly deconstructed the drawing of two crossed lines. The final two lines of\nthe script draw the circle: \nfill(255, 150);\nellipse(width/2, height/2, 50, 50);\nTable 2.1 The most common Processing data types\n\t\nDESCRIPTION\nchar \nchar varName ='a'; \nA letter or Unicode symbol, such as a or #.\nNote the single quotation marks used around\nthe symbol.\n\t\nAn integer (a whole number). Can be positive\nor negative.\nfloat \nfloat varName = 1.2345;  \nA floating-point number. A number that may\nhave a decimal point.\nboolean \nboolean varName = true;  \nA true or false value. Used for logical\noperations because it can only ever be one of\ntwo states. (It can also be undefined, but this\nwould resolve as false.)\nbyte \nbyte varName = -127;  \nA less commonly used data type, which can\nonly store a numerical value between -127\nand 128. It’s most useful when you need to\ncommunicate with the serial port, which you\nwon’t do in this book.\nString \nString varName = \"hello\";  \nA list of chars, such as a sentence. Note the\ncapital S on String, signifying that this is a\ncomposite type (a collection of chars).\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 66
  },
  {
    "chunk_full": "2\nGenerative Art | Pearson\n 25\nProcessing: A Programming Language for Artists\nWhat you’re doing here, before you draw the circle, is setting a fill color. The fill is the area within\nthe lines of a shape. Using this fill value and the stroke you previously set for the crossed lines, the\nfinal command draws a circle (an ellipse with equal width and height). You set the fill color using\nthe single color value 255 (the grayscale notation), which is white. But you also have a second\nparameter that sets the alpha value—the transparency of the color—again, a number 0–255.\nAn alpha value of 0 is fully transparent, whereas 255 is fully opaque. Any time you define a color,\nyou also have the option of giving it an alpha value. If you like, go back and try adding an alpha\nparameter to your stroke color too. With the three-parameter RGB syntax, the alpha value is the\nfourth parameter:\nstroke(130, 0, 0, 50);\nThe order in which you’ve written the functions means that you first draw two solid lines and then\nplace a semitransparent circle on top of them. The list of functions that make up the program are\nexecuted in the order they’re given. If you change the order so that the ellipse is drawn before\nthe crossed lines, the point where they cross will be above the semitransparent white circle, so\nthe lines will appear solid. Try the following code if you don’t believe me:\nsize(500, 300); \nsmooth();       \nbackground(230, 230, 230);\nfloat centX = width/2;\nfloat centY = height/2;\nstroke(130, 0, 0);  \nstrokeWeight(1); \nfill(0, 40, 0); \nellipse(centX, centY, 30, 30);          \nline(centX - 70, centY - 70, centX + 70, centY + 70); \nline(centX + 70, centY - 70, centX - 70, centY + 70); \nThe first section of the code sets up the drawing and creates the background. Next, you set the\nstroke and fill. Finally, you draw the circle followed by two lines.\nThe order of execution is relevant not only to the layering of your drawing but also to the styles\nyou set. Processing is state-based, which means that when you set a style (such as the color\nor weight of the stroke), that state will be maintained until you set it to something else. In the\nexample, you call stroke and strokeWeight before drawing anything, so all the lines drawn are \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 67
  },
  {
    "chunk_full": "26\nof the same style. But you can change these settings as often as you please; whenever a line is\ndrawn, it uses whatever setting was received last. Here’s an example that changes the stroke\nstyles between shapes:\nsize(500, 300);        \nsmooth();\nbackground(230, 230, 230);\nstroke(130, 0, 0);  \nstrokeWeight(1);    \nline(width/2 - 70, height/2 - 70, width/2 + 70, height/2 + 70);\nline(width/2 + 70, height/2 - 70, width/2 - 70, height/2 + 70);\nstroke(0, 125); \nstrokeWeight(6);    \nfill(255, 150);      \nellipse(width/2, height/2, 50, 50);\nThe result is shown in figure 2.6.\n\nCommands such as stroke, fill and strokeWeight set the drawing style before a shape is drawn.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 68
  },
  {
    "chunk_full": "2\nGenerative Art | Pearson\n 27\nProcessing: A Programming Language for Artists\nIf you don’t want your ellipse (or any other shape) filled, you can use the function noFill (a function\nwith no parameters) to remove the fill entirely. Similarly, if you want to turn off the stroke, call\nnoStroke. \nThis covers the basics of drawing in Processing. Feel free to take a little time to try a few\ncommands to get used to the coordinate system; or perhaps pick a few other shapes from\nthe Processing reference, such as rect to draw a rectangle or quad for a non-right-angled\nquadrilateral. I’m not going to give you any clues as to what the triangle function might create. \nOnce you’re happy with your drawing skills, next you’ll learn a little more about how to organize\ncode and control decisions, as we introduce animation. \n2.3 Structure, logic, and animation\nSo far your scripts have been nothing more than a short list of instructions to perform, after\nwhich they stop. But with anything above the most basic level of simplicity, you need to go a little\nfurther: you need ways to group instructions and make decisions. It’s time to step it up a notch.\n2.3.1 The frame loop\nThis section introduces a concept that is Processing specific (although it exists in many other\ntools too): frames. The word frame can mean a variety of things within the computer sciences,\nbut our meaning is the movie industry sense—a single still image which, if we flash enough of\nthem faster than the eye can see, gives the illusion of animation. \nWith Processing, a frame loop redraws the screen continuously. If you instruct Processing to do\nso, you can use this feature to add the dimension of time to your two-dimensional visuals and\ncan create works that grow and move.\nTo enable this way of drawing to the screen, you need to begin putting your code in function\nblocks. A function block is a way of chunking a group of commands together. Processing sets\naside two special blocks for frame-based scripting: setup() and draw(). The code inside the\nsetup() function block is called once when the program launches, so it should contain all your\ninitialization code—setting the canvas size, setting the background color, initializing variables,\nand so on. The code you write inside draw() is then called repeatedly, triggered on every frame. \nYou can set the speed with which draw() is called by using the frameRate function. If you give\nit a number (12, 24, 25, and 30 are typical), it will attempt to maintain that rate, calling draw() \nregularly. Otherwise, it will perform the frame loop as quickly as the machine can handle.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 69
  },
  {
    "chunk_full": "28\n\t\n\t\n\t\t\nNote that if you’re performing many complex instructions with every frame, your machine may\nnot be able to process the code as fast as the frame rate you’ve specified. It will loop as fast at it\ncan, which may result in not just a lower frame rate, but potentially an irregular one as well.\nLet’s look at an example. Open a new script, and enter the code in the following listing. Don’t\nworry if you don’t understand all the instructions in the function blocks—a few more new concepts\nare being introduced here that you’ll step through in the next few pages.\nListing 2.1 Organizing code into setup() and draw() function blocks\nint diam = 10;  \nfloat centX, centY;\nvoid setup() {    \n  size(500, 300);\n\t\n  smooth();\n  background(180);\n  centX = width/2;\n  centY = height/2;\n  stroke(0);\n  strokeWeight(5); \n  fill(255, 50);     \n}\nvoid draw() {    \n   if (diam <= 400) { \n\t\n    ellipse(centX, centY, diam, diam);  \n\t\n  }\n}\nWhen you run this you’ll see a circle grow toward you in the output window, stopping when\nthe diameter reaches 400 pixels (see figure 2.7). The diameter and the center points are kept\nin variables, with the center points calculated in setup(). The frame loop then checks that the\ndiameter is smaller than 400, redraws the background, draws the circle, and increases the\ndiameter by 10 for the next time it goes around the loop. The effect is that it draws a circle of\ndiameter 10, 20, 30, and so on until the diam variable gets to 400. Note that the frame loop\ncontinues to be called over and over after the circle has reached its full size, but the draw() script\nis no longer drawing anything.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 70
  },
  {
    "chunk_full": "2\nGenerative Art | Pearson\n 29\nProcessing: A Programming Language for Artists\nAs soon as you start using function blocks, you lose the convenience of being able to write\ncommands outside of function blocks, which is what you’ve been doing so far. But don’t look\nback—that capability was just a feature to improve the learning curve (thanks, Processing). You’re\nwelcome to continue programming long lists of sequential commands if you choose, seeing how\nyou’re so good at it now, but you can only go so far with that formatting.\nNotice that you still declare your variables outside of the function blocks. This is fine syntactically:\ndeclaring variables outside of the function blocks means the contents of those variables are\navailable to any and all function blocks in the script. If you define a variable within a function\nblock, rather than outside it, that variable is only available within that block. It’s good practice to\ndo this if a variable is only needed within a single function (then the processor doesn’t have to\nremember that value and can free up its memory for some other use). \nThis is called variable scope. Variables inside functions are called local: they only exist in that\nlocality. Variables outside of functions are called global: they’re everywhere. A variable with an\nunintended scope is a common programming bug for amateurs and experts alike, so it’s one of the\nfirst things to check if your code is behaving unexpectedly. Many programmers use an underline \n(_) symbol to preface the names of global variables, so they don’t get confused. For example:\n\nA circle drawn using a frame loop. When you run the script, the circle grows \nfrom a diameter of 10 to 400.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 71
  },
  {
    "chunk_full": "30\nint _num = 20; \nvoid draw() {\n    int inc = 10; \n    _num = _num + inc;\n}\nHere, the first line declares a global variable (_num), whereas the inc variable in the function\nblock is local.\nThe chunk of script in listing 2.1 contains a number of other new concepts for the nonprogrammer.\nBefore you continue playing with the frame loop, let’s look at those in more detail. \n2.3.2 Writing your own functions\nFirst there is the function block itself. The syntax of a function block is\nreturnType funcName([parameters]) {\n    // code in here\n}\nThe return type of the setup() and draw() functions is void, which is Processing’s way of declaring\nthat the function doesn’t return anything at all. There are no required parameters to these\nfunctions either. The other valid return types for functions are the same as the data types for\nvariables: String, char, int, float, and so on. \nThe idea of a function returning something will make more sense when you start creating functions\nof your own. Open a new script, and try this:\nvoid setup() {\n  int x = AddNumbers(1,2); \n  println(x);\n}\n \nint AddNumbers(int a, int b) {\n   int returnValue = a + b;\n   return returnValue; \n}\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 72
  },
  {
    "chunk_full": "2\nGenerative Art | Pearson\n 31\nProcessing: A Programming Language for Artists\nThe first function setup() is automatically called by Processing when the script is launched. But\nthe second function AddNumbers is one of your own and won’t do anything until you call it. You\ndo this within the setup() function: define an integer variable x, and set its contents to the return\nvalue of the custom function AddNumbers(1,2);. You define the return value of your custom\nfunction as an int also; otherwise, you’d get an error. You also define the data type of the two\nparameters the function requires, so it knows what to expect.\nThe custom function adds together the two parameters it’s passed, puts the result in a variable,\nand returns that variable. If you give a function a return type, there must be the keyword return \nsomewhere within the function; otherwise it throws an error. After the function has completed\nits job and the returned value has been put into variable x, Processing continues to execute the\ncommands in the setup() function block. The line println(x) outputs the value of this variable\nto the console window (the black window below the text editor in the PDE). This script has no\nvisual output, so the output window is an empty canvas. \n2.3.3 Operators\nWithin your custom function is another new programming concept: an operator, returnValue = \na + b. Nothing to worry about here—it’s just math. The full list of operators is in table 2.2.\nYou can group your operators and define the order they’re dealt with by using brackets, just as\nyou do in conventional mathematical notation:\n    float a = 45;\n    float b = 5;\n    float c = 4;\n    float sum1 = (a + b) * (b * c);\n    float sum2 = a / (b + c);\nIn this example, sum1 will contain 1000 (50 * 20), and sum2 will contain 5 (45 / 9).\nNote that we use floats where the result of a sum may not necessarily be a whole number.\nThere are also a few mathematical functions you’ll find useful:\n• ceil()—Rounds up to the nearest whole number\n• floor()—Rounds down to the nearest whole number\n• round()—Rounds up or down to the nearest whole number\n• min()—Returns the smallest of the list of numbers passed\n• max()—Returns the largest of the list of numbers passed\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 73
  },
  {
    "chunk_full": "32\nThe three rounding functions are most useful when you’re converting from floating-point numbers\nto integer values:\nint centX = floor(width/2); \nWithout the floor() function, it would throw an error because if the width is an odd number of\npixels, the result is floating-point number. The floor function prevents the error and ensures that\nyou’re always dealing in nice whole numbers (and you’re not going to be able to see the difference\nif your center point is half a pixel off anyway).\nThe Processing language includes a lot more sophisticated math functions, some of which you’ll\nuse later in this book’s experiments. If you want to leap ahead and try some of your own code-\nbased fun, look at the available functions in the Processing reference and play around. \nTable 2.2 Operators used in Processing\n\t\n\t\nEXPECTED RESULT\n+ \nAddition \nnum = 45 + 5; \nnum becomes equal to 50.\n- \nSubtraction \nnum = 45 – 5; \nnum becomes equal to 40.\n* \nMultiplication \nnum = 45 * 5; \nnum becomes equal to 255.\n% \nModulo \nnum = 45 % 5; \nnum becomes equal to the\nremainder of 45 / 5 (0).\n/ \nDivision \nnum = 45 / 5; \nnum becomes equal to 9.\n\t\nThe value of num increases by 1.\n\t\nThe value of num decreases by 1.\n\t\nAdds 4 to the value of num, and\nputs the result back in num.\n\t\nSubtracts 4 from the value of num,\nand puts the result back in num.\n\t\nMultiplies the value of num by 4,\nand puts the result back in num.\n\t\nDivides the value of num by 4, and\nputs the result back in num.\n- \nNegation \nminusnum = -num; \nMultiplies the value of num by -1.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 74
  },
  {
    "chunk_full": "2\nGenerative Art | Pearson\n 33\nProcessing: A Programming Language for Artists\n2.3.4 Conditionals\nThe final new element in the circle-drawing script is the conditional:\nif (diam <= 400) { ... }\nA conditional checks that a condition has been met before executing the code inside the block\nmarked by the braces that follow it. In this case, the conditional asks whether the value of diam \nis less than or equal to 400. If it is, the code in the block executes. If not, the code in the block\nis skipped:\n  // check a condition\n  if (diam <= 400) {\n      // execute code between the braces \n      // if condition is met \n  }\nYou can also use an else clause to provide a block of code to be executed if the condition isn’t met:\nif (diam <= 400) {\n    // execute this code if diam <= 400\n} else {\n    // execute this code if diam > 400\n}\nIf you imagine the flow of execution as a trickle of water running down the script, by setting a\nconditional you’re effectively creating different channels for the stream to follow. With an if ... \nelse clause, the stream can go one of two ways. if on its own means the stream either goes\nthrough the block or goes around.\nThe comparison operators you can use are as follows:\n• == equal to\n• != not equal to\n• > greater than\n• < less than\n• >= greater or equal to\n• <= less than or equal to\nYou can also use logic operators to group conditions\n• || logical OR\n• && logical AND\n• ! logical NOT\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 75
  },
  {
    "chunk_full": "34\nHere are a few examples:\nString likeStr;\nif ((likeStr == \"pina colada\") || (likeStr == \"getting lost in the rain\")) {\n    println(\"come with me and escape\");\n}\nNote also that conditions can be nested as deeply as you like. The following is valid code:\nint man = 5; \nint devil = 6;\nint god = 7;\nif (man == 5) { \n    if (devil == 6) { \n        if (god == 7) { \n            goToHeaven(\"monkey\");\n         }\n    } \n}\nBut in this case, the same result can be achieved as follows:\nif ((man == 5) && (devil == 6) && (god == 7)) {\n    goToHeaven(\"monkey\");\n}\nNow you’re starting to get the idea of programmatic flow and trusting the logic to make decisions\nfor you. Next, in the final chunk of programming essentials, we’ll look at one of the few things our\ncalculating machines can do better than us humans: repetition. \n2.4 Looping\nThere is one last core programming concept you’ll need to in order to call yourself a coder:\nthe loop. After that, we’re finished, I promise. The ability to take a single instruction or group\nof instructions and repeat it hundreds, thousands, or millions of times is a key advantage of\nprogrammatic drawing over any other comparable creative process. This is a very straightforward\nway to scale ideas.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 76
  },
  {
    "chunk_full": "2\nGenerative Art | Pearson\n 35\nProcessing: A Programming Language for Artists\nYou have already encountered one working loop in the previous examples: the frame loop. The\nchunk of code within the draw() function is called every time a new frame is entered, so the\ncode is executed repeatedly for as long as the program is running. You can use this to perform\nrepeating actions if you want, but this  isn’t the only loop available to you. You can code your\nown loops, too.\nReload the circle drawing frame-loop script from a few pages back, and let’s try it.\n2.4.1 While loops\nA code loop looks something like this:\nint bass = 99;\nwhile (bass > 0) {\n    println(bass);\n    bass--;\n}\nprintln(\"how low can you go\");\nThis outputs the value of bass to the console window 99 times. The while command checks a\ncondition and, if the condition is met, executes the code inside the braces; it then loops back\nup to the top of the block. The execution continues to the final line only after the condition is no\nlonger met (in this case, when bass is 0).\nNote that if you don’t include the bass-- line inside the loop, which subtracts 1 from the number\nevery time it loops, the condition will never be met and the loop will go on forever. This is one of\nthose errors the compiler isn’t always clever enough to spot when you click Run. If your code\nincludes an infinite loop, it can lock up your system, and you may have to force-quit Processing\nto escape it. So be careful out there, kids.\nLet’s put this into action. Modify the circle script with the additions highlighted in the following\nlisting, and then run it.\nListing 2.2 Drawing with a while loop\nint diam = 10; \nfloat centX, centY;\nvoid setup() {    \n  size(500, 300);\n\t\n(continued on next spread)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 77
  },
  {
    "chunk_full": "36\n\nfor next loop\nLoop within loop\n\t\n(Listing 2.2 continued)\n  background(180);\n  centX = width/2;\n  centY = height/2;\n  stroke(0);\n  strokeWeight(5); \n  fill(255, 50);     \n}\nvoid draw() {\n  if (diam <= 400) {\n    background(180); \n     \n    strokeWeight(5); \n    fill(255, 50);   \n    ellipse(centX, centY, diam, diam);\n    \n    strokeWeight(0);     \n    noFill();\n    int tempdiam = diam;\n\t\n       ellipse(centX, centY, tempdiam, tempdiam);\n       tempdiam -= 10; \n    }\n    \n\t\n  }\n}\nHere you have a loop within a loop. You copy the diam value into another variable; and then,\nevery time you draw a circle of whatever diam you’re currently at, a second loop draws circles\ninward, decreasing the diameter back to 10 in 10-pixel jumps. You can see the effect in figure 2.8.\nNotice how you have to add extra lines to reset the stroke and fill; otherwise, the next time the\nframe loop was triggered, the previous settings would be applied. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 78
  },
  {
    "chunk_full": "2\nGenerative Art | Pearson\n 37\nProcessing: A Programming Language for Artists\n2.4.2 Leaving traces\nThere is actually a much easier way of drawing concentric circles though. Try the following.\nListing 2.3 Concentric circles drawn using traces\nint diam = 10;  \nfloat centX, centY;\nvoid setup() {\n  size(500, 300);\n  frameRate(24);\n  smooth();\n  background(180);\n  centX = width/2;\n  centY = height/2;\n  stroke(0);\n  strokeWeight(1); \n  noFill(); \n}\nvoid draw() {\n  if (diam <= 400) {\n    // background(180);    comment out this line \n    ellipse(centX, centY, diam, diam);\n    diam += 10;\n  }\n}\nAgain, you see the same concentric rings from figure 2.8, but with fewer lines of code. The crucial\nchange is that you comment-out background(180);, the command that clears the image every\nframe (and forces you to redraw everything every time). If you don’t clear the image, you draw over\nthe top of the previous frame. The animation of the growing circle is a series of frames of circles\nat growing diameters. If you don’t clear the frame, you can see the traces your movement leaves. \nYou can use this to great effect. Try changing the noFill(); line to fill(255, 25);, giving each circle\na highly transparent white fill color (see figure 2.9). \nEven though the transparency is barely visible, the effect is accumulative. In the center, where\nmore circles are layered atop each other, the white is deeper than on the edges where fewer\ncircles are overlaid. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 79
  },
  {
    "chunk_full": "38\n\nCircles within circles, a loop within a loop\n\nBy not clearing the frame every time you redraw, you can create subtle fades using alpha values.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 80
  },
  {
    "chunk_full": "2\nGenerative Art | Pearson\n 39\nProcessing: A Programming Language for Artists\nSquare edges on lines\n2.4.3 For loops \nThere is one final loop to show you before we can go boil the kettle. The for loop is used when\nyou want to iterate through a set number of steps, rather than just wait for a condition to be\nsatisfied. The syntax is as follows:\nfor ([initial state]; [end condition]; [step]) {\n    code to be executed\n}\nAn example is probably the best way to see how this works. Open a new script, and enter the\nfollowing:\nvoid setup() {\n  size(500, 300); \n  background(180);\n  strokeWeight(4);\n\t\n  for (int h = 10; h <= (height - 15); h+=10) {\n    stroke(0, 255-h);\n    line(10, h, width - 20, h);\n    stroke(255, h);)\n    line(10, h+4, width - 20, h+4);\n  }\n} \nNo frame loop this time, just a single block of code. The initial state of the for loop sets a variable\nh to 10. The code in the loop executes until h <= (height-15) (the end condition). Every time the\nloop is executed, the value of h increases by 10, according to the step you’ve defined (h += 10). \nThis means the code inside the parentheses of the for loop will execute 28 times, with h set to\n10, 20, 30 … 270, 280.\nKnowing that the h variable follows this pattern, you can use it in multiple ways. The lines you’re\ndrawing are in 10-pixel steps down the canvas, because you use h for the y value. But the alpha\ntransparency of the lines also varies as h varies: the black line gets lighter, and the white line\ngets darker (see figure 2.10).\nYou can also terminate loops from within the code block using the break; keyword. For example,\nif you wish to stop your loop as soon as the black line is entirely invisible (and the white line is\nfully visible), place the following line inside the loop:\nif (h > 255) { break; }\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 81
  },
  {
    "chunk_full": "40\nOkay new programmers, you now have a fistful of new concepts to get your heads around. There\nare a few more to come in later chapters, but these are the essential ones. Master these few,\nand you’ll have all the necessary skills to call yourself a coder and be able to hold your corner\nat a very boring dinner party. \nPlenty more programming concepts may be new to you in the remaining chapters of this book,\nbut we won’t dwell on them quite as long as we have here. If you’re still struggling to get your\nhead around the logic of the procedural processing of instructions, I suggest that you take the\ntime to experiment with the small set of concepts introduced in this section, and also make\nuse of the many great free resources at Processing.org (in particular, the code examples in the\nLearning section). \nNext, we’ll look at what you can do with your creations after you’ve finished coding them.\n2.5 Saving, publishing, and distributing \nyour work\nThe simplified syntax of Processing is perhaps its chief advantage, particularly for the amateur\nprogrammer; it greatly reduces the learning curve. But Processing also makes it significantly\neasier to publish your work and share it with the world.\n\nDemonstrating the for loop in action\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 82
  },
  {
    "chunk_full": "2\nGenerative Art | Pearson\n 41\nProcessing: A Programming Language for Artists\nBefore you publish your work you should save it. Save, if you haven’t already worked it out, is\nthe fifth button on the toolbar (see figure 2.11)—the down arrow. When you first save a script, a\nfolder is created with the name you provide in the dialog box. Your script is saved as a text file in\nthis folder, sharing the same name, with the extension .pde appended. The reason for the folder\nis to keep things neat when you begin importing and exporting. \nYou’ll notice that when loading and saving, Processing uses the term sketch to refer to the bundle\nof scripts and resources that go into a folder. I presume this is to increase the artist appeal, but\nI think the metaphor becomes rather limiting after a while. You’ll have to pardon me if I continue\nto refer to the text files as scripts and the bundle as the script folder. This way, you won’t end up\nsounding like an idiot if you ever find yourself having a conversation about similar concepts in\nsome other programming language.\nOnce you have your script folder, you can free your pixels from the confines of the local output\nwindow in a number of ways. The first to try is clicking the Export button (the far-right arrow\non the toolbar). Doing so creates a folder called applet within your script folder, containing\neverything needed to run the sketch in a web browser (see figure 2.12). If you launch the index.\nhtml file in a browser, there’s your creation, ready to be uploaded to the web (if that is what you\nwant to do with it).\n\nThe script folder (sketch), containing the script (.pde) and an exported applet folder\n\nThe toolbar\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 83
  },
  {
    "chunk_full": "42\nTo generate applications to run on the desktop, choose File > Export Application. This enables\nyou to create standalone applications for OS X, Linux, and Windows, or all three at once. Again,\nthe folder containing all you need for these installations is placed in your script folder.\n2.5.1 Version control\nHaving shown you the handy Save button on the toolbar, I’m now going to advise you to stop\nusing it immediately. A much more useful feature is available for organizing your work: Save As,\nwhich you can only access via the File menu (or using the keyboard shortcut Apple-Shift-S on\nthe Mac). If you get into the habit of using Save As instead of just hitting Save, you’ll be prompted\nfor a name every time you save. You can increment this name—HelloWorld_1, HelloWorld_2, and\nso on—leaving a version trail as you code.\nThis technique is called version control, and it’s useful to have in place to protect your work (it\nmeans you can always roll back to an earlier version). But it’s also useful for psychological reasons.\nIf your work has a trail of iterations, it frees you to make more sweeping changes to your code, to\ntake new directions, or to try stupid ideas, without worrying about doing anything catastrophic. \nThis will, imperceptibly, make your coding bolder and more confident, in the same way that when\nyou drive a bumper car at an amusement park, you feel safe knowing that no one is really going\nto get hurt no matter how crazily you yank the wheel. You tend to drive more recklessly than you\nwould the family sedan.\nThis practice also enables you to revisit interesting accidents or follow strange tangents. There\nis little overhead to saving multiple versions; the scripts are just text files (rarely more than a few\nKB), so they won’t fill up your disk. \nThis amazing feature may seem blindingly obvious to anyone new to coding, but you’d be\nsurprised how this isn’t always easy to do in some other more sophisticated programming\nlanguages (usually because there are often many files with multiple dependencies upon each \nWarning: Java and the web\nIn order for your applet to run in a user’s browser, a recent version of Java must be\ninstalled. Java in the web browser doesn’t have the ubiquity of something like Flash,\nand the user isn’t prompted for automatic upgrades to their Java if their installation is\nout of date. Publishing Java to the web is often fraught with cross-browser difficulties.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 84
  },
  {
    "chunk_full": "2\nGenerative Art | Pearson\n 43\nProcessing: A Programming Language for Artists\nother). This is partly why different languages can have such different flavors. Some encourage\na methodical, structured approach; while others, such as Processing (in its native PDE form,\nanyway), are more attuned to creative flurries. \n2.5.2 Creating stills\nThe final destination of a generative art project isn’t always an application or animation, nor may it\nbe intended for the computer screen—in which case you’ll be interested in other forms of output. \nCapturing still images from an application is relatively straightforward. You can export screenshots\nof the output window in a variety of formats as the application runs. If you put the following\nfunction into your code, it captures a snap at that point and saves it in your script folder:\nsaveFrame(\"screen-####.jpg\");\nThe #### is replaced with the current frame number when the file is saved, to ensure that\nProcessing doesn’t replace the image every frame. If you want to save as .png, .tif, or .tga, these\nformats are supported; you just need to change the extension in the filename parameter. You\ncan also add folder paths to the URL.\nIf you place a saveFrame function in the draw() frame loop and use the hash syntax for your\nfilename, you’ll fill your script folder with a succession of sequentially named image files. If it’s\njust a single image you’re after, you’ll end up with a folder full of imagery that you’ll need to sort\nthrough at some stage; so you may want to consider writing a conditional (an if statement) to\nsnap an image only if certain criteria are met. It will likely require some pretty complicated logic\nfor the machine to determine a good shot from a bad one, so the best way to capture the perfect\nstill is probably to rely on your own eye instead. Include this function within your code:\nvoid keyPressed() {\n  if (keyCode == ENTER) {\n    saveFrame(\"screen-####.jpg\");\n  }\n}\nThe keyPressed() function is a built-in event function, called whenever a key is pressed. The\nprevious function checks whether the key pressed is Enter and, if so, takes a snapshot and\nsaves it in the script folder. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 85
  },
  {
    "chunk_full": "44\n2.5.3 Using a still as an alt image\nIf you’re creating work for the web, here is a useful tip. You may have noticed in figure 2.12 that\nwhen you export an applet, it includes a loading.gif image file, which the browser displays while\nthe application is loading or if it fails to load. If a user’s Java is incompatible, the loading image\nmay be all they see; so a nice touch when delivering your works to the web is to replace this\nloading image with a still of the work that is loading. You do this by modifying the generated\nindex.html file. Look for this line:\n<param name=\"image\" value=\"loading.gif\" />\nIf you replace loading.gif with a reference to your own image, it provides a failsafe for users whose\nbrowser isn’t capable of running the Java application. At least they’ll see a still of your work, even\nif they can’t see it in action. \nNext up: the moving image as an output format.\n2.5.4 Creating video\nA saveFrame function within the draw() loop creates a folder full of screenshots of every frame\nin a running application. What’s more, the image files are numbered sequentially if you use the\nhash syntax for your filename. This is useful for software such as QuickTime Pro, which can\nopen an image sequence (available from the File menu in QuickTime Pro) to create a movie file.\nThe joy of creating for video is that you no longer have to worry about processing power and\nmaintaining a smooth frame rate in Processing. Even if you’ve specified a frame rate using\nthe frameRate parameter, the sketch will only run as fast as your machine allows. If you’ve\noverloaded it with some processor-heavy fractal-generation algorithms (which you will in part 3\nof this book, believe me), a running application can still crawl. But if you export each frame as\nan image, to use video as your final medium, you have to take frame rate into account only when\nyou build the movie from the image sequence. The movie will run as fast as you tell it, even if the\nimage sequence it was generated from took many hours to create. \nIt’s common, when creating work for video, to leave a dedicated machine rendering frames\novernight, and only see the result when you import the generated frames into your movie maker\nthe next day. Obviously, this removes the immediacy of feedback that you’ve become used to\nwhen working with software, and you can start to get an appreciation for the computer scientists\nof previous generations who coped with programming via punched cards and mainframe\ncomputers. For more complicated movies, you’ll probably find yourself developing a system \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 86
  },
  {
    "chunk_full": "2\nGenerative Art | Pearson\n 45\nProcessing: A Programming Language for Artists\nof working with wireframes—simplified or abstracted versions of the finished piece—while you\ndevelop, and only upping values/reenabling textures/knitting together features when you run\na render.\nIf you don’t have (the incredibly useful) QuickTime Pro or a similar application capable of\nsequencing images into a movie, Processing can create QuickTime movies from within your\ncode using the Video library, which also enables the use of a webcam as an input device. We\nwon’t be covering the huge range of available Processing libraries in these pages, as it’s a topic\nworthy of a book in itself, but they aren’t difficult to use. You can explore the functions provided\nby the Video library at www.processing.org/reference/libraries/video/. \n2.5.5 Frame rates and screen sizes\nProcessing snaps frames at whatever size you’ve specified for the stage, so a movie can be any\ndimension. Similarly, the frame rate you specify when importing the sequence is usually arbitrary.\nBut there exist various standards that are used for the web and broadcast media. \nWhen it comes to frame rates, 25 fps (frames per second) is the most common for work intended\nto be viewed on computer monitors or TVs, although 24 fps and 30 fps are also used in the US\n(this is the main difference between the 24 fps NTSC format of video that is standard in the US,\nand 25 fps PAL/SECAM used elsewhere). HDTVs use higher frame rates of 50 or 60 fps because\nit’s been proposed that somewhere around the 50-60 fps mark is the limit of flicker-fusion—\nthe point where the human eye can’t tell it’s watching frames. If you imagine a movie as being\nalternating black and white frames, at frame rates below 50-60 fps, a person would see it as a\nflicker; above this limit, it would be seen as grey. This said, a certain amount of lo-fi flicker isn’t\nprohibitively uneasy on the eyes, and an animation can still look smooth at a frame rate of 12 or so.\nWith screen dimensions, a widescreen format is the most common, usually a 16:9 ratio (such\nas 1024 x 768 or 1280 x 720). The best practice, though, is to consider where you may want to\nshow your video, and aim for that. Projecting a work onto the wall of an art gallery will doubtless\nrequire a different screen ratio than a work designed for mobile phone. \nIf you’re creating video for the web, screen, or TV, the 16:9 standard is pretty ubiquitous. YouTube,\nfor example, currently recommends 1920 x 1080 or 1280 x 720. If you don’t use the 16:9 ratio\nwhen you upload to YouTube, black borders are automatically added to your movie, padding it\nto fit. Vimeo isn’t too dissimilar, currently supporting 640 x 480 standard definition, 853 x 480\nwidescreen DV, and 1280 x 720 HD.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 87
  },
  {
    "chunk_full": "46\n2.5.6 Mobile devices, iPhone/iPad, and Android\nProcessing, as you’ve discovered, is based on Java. Most modern mobile phones run Java. Does\nthis mean you can create mobile-phone applications in Processing? The answer is yes. Kinda.\nIf you wish to develop for devices that use Google’s Android operating system, it couldn’t be\nsimpler. Processing enables you to publish sketches to an Android emulator or an attached device\nas easily as you can export them to the desktop. The 1.5 release of the Processing IDE added a\nnew button to the toolbar, which toggles the view between “Standard” and “Android”. If you select\nAndroid Mode, the run and export functionality will be overridden to target a device. You will need\nto have the Android SDK installed on your machine to use this though. Full instructions on how\nto set this up are at http://wiki.processing.org/w/Android. There are also two great tutorials on\ncreativeapplications.net that talk through the creation of your first Android app2 and publishing\nit for the Android Market3, by Jer Thorp and Jerome Saint-Clair respectively.\nIf you’re targeting a wider range of devices, including older mobile phones, Processing also has\nthis capability, but it’s not as fully featured as the Android route. The Java that most current mobile\nphones run is special flavor called Java Micro Edition (Java ME), which means there is a special\nflavor of Processing too to go with it. Mobile Processing isn’t a library but an entirely separate\napplication. It has a stripped-down subset of Processing’s functions but includes extra functions\nfor dealing with touchscreen interaction, memory management, and other functionality that’s\nspecifically relevant to mobiles. It has a similar IDE, but you also need to download a wireless\ntoolkit (WTK)—basically, a phone emulator—to develop for these very particular mini platforms.\nI won’t go into further details here but will only say that, yes, if mobile is a platform you want to\ntarget, the majority of the material in this book can be applied to Mobile Processing as easily\nas it can Processing. To get started, you can download the IDE and WTK from http://mobile.\nprocessing.org/download/. As with Processing, the project is well supported, and a number of\ntutorials and a reference are available on the site to get you started.\nThe iPhone and iPad though, are a different matter. When the iPhone was launched in the UK,\nthe Advertising Standards Authority banned an Apple advertisement that claimed the iPhone\ngave you access to “all the internet,” on the basis that if a device doesn’t run Java or Flash, it\ncan’t really claim to cover “all the internet.” At the time of writing, neither Java nor Flash runs on\nthe iPhone, either natively or in the web browser. To develop for Apple platforms, you need to\nlearn Objective-C and be prepared to pay to publish through Apple’s App Store. \n2. http://www.creativeapplications.net/android/mobile-app-development-processing-android-tutorial/\n3. http://www.creativeapplications.net/android/from-processing-to-the-android-market-tutorial/\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 88
  },
  {
    "chunk_full": "2\nGenerative Art | Pearson\n 47\nProcessing: A Programming Language for Artists\nThis situation may, I hope, change over time. Small steps are already being made. But at the\ntime of writing, the huge success of the iPhone, iPad, and the App Store doesn’t really put any\npressure on Apple to encourage development using other technologies. Recent versions of Flash\ninclude a compiler to create iPhone apps, even though Apple’s Terms and Conditions prohibit its\nuse. There is also a comparable, and promising, initiative for Processing, called iProcessing. But\nnon-native conversions from one language to another will never compete with native Objective-C\napplications in terms of performance.\nIf you want a quick way to see your Processing sketches on your iPhone, there is one beautifully\ncrazy solution. I’ve already mentioned Processing.js, the JavaScript port of Processing. It’s quite\na little marvel. It uses HTML5’s Canvas element to draw shapes directly in the web browser. \nLike Mobile Processing, it supports only a subset of Processing functions, but it has the added\npower of being able to mix JavaScript and Processing code together (they’re similar in syntax). \nYou can find the download and introduction to Processing.js at www.processingjs.org/. It exists\nas a few hundred lines of JavaScript that you include in a webpage. You’ll need a little experience\nwith using JavaScript within HTML to get it working in your own web pages; but if you aren’t\nblessed with such skills, you can get straight into Processing.js via HasCanvas, an online interface\ndeveloped by Robert O’Rourke. It enables you to program direct to the HTML5 Canvas tag in real\ntime. You can find it here: www.hascanvas.com/. Anything you create using Processing.js can\nbe seen just about anywhere you can view the web, including your favorite irritatingly proprietary\nbut highly fashionable devices.\n2.6 Summary\nThis brings you to the end of your introduction to Processing. You now have a tool grasped\nfirmly in your eager little fists and are ready for some creative coding. You have the basics of\nprogrammatic drawing and a variety of options for media in which to publish—web, print, video,\nor mobile device. You’ve also learned a set of programming principles that will serve you well\nwith any programming languages, not just Processing.\nNext, we’ll bring the focus back to how you create art in the generative style. In chapter 3, we’ll\nlook at randomness, noise, and the ways you might go about shrugging off the precise computer\nway of doing things and allow the pen to slip from your fingers a little.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 89
  },
  {
    "chunk_full": "",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 90
  },
  {
    "chunk_full": "Randomness & Noise\nPart\n“\nIf people do not believe  \n \n \n \nthat mathematics is simple,  \nit is only because they do not realize  \n \n \nhow complicated life is. ”\nJohn von Neumann, speaking in 1947\ntwo\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 91
  },
  {
    "chunk_full": "",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 92
  },
  {
    "chunk_full": "If there is one thing computers excel at, it’s following instructions with a\nhigh degree of accuracy. This is partly why they have revolutionized design,\narchitecture, manufacturing, the sciences, and countless other fields. \nThe Wrong Way  \nto Draw a Line\nChapter Three\n 51\nBut precision is of only limited interest to us in the context of generative art.\nThere is a certain joylessness in perfect accuracy; the natural world isn’t\nlike that. If our art were to achieve such perfection, it might be dismissed\nas overly mechanical.\nObversely, although we may crave forms with imperfection and\nunpredictability, we don’t want that imperfection to wander too far into\nindistinction, either. We’re looking for the sweet spot: that balance between\nthe organic and the mechanical, between chaos and order. To find this, we\nmay need to move away from the efficient, programmatic way of drawing\nlines and nudge the process toward something a little less deterministic.\nIn this chapter (and the next), I’ll explain and demonstrate a core principle\nbehind my particular approach to programmatic art: breaking down even\nthe simplest of processes, and allowing a touch of chaos to creep in. The\n“right” way to draw a line, according to a machine, is always the most efficient\nand accurate way of getting from point A to point B. But from an artistic\nstandpoint, it’s the “wrong” way that is the often the most interesting. \n3\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 93
  },
  {
    "chunk_full": "52\n3.1 Randomness and not-so-randomness\nIt may be argued that all generative art has to include a degree of randomness; without\nrandomness, there can be no unpredictability, can there? This isn’t strictly true. A call to a\nrandom-number-generating function isn’t always necessary in order to come up with something\nthat appears unpredictable to our limited human calculating faculties. Mathematical formulae\nabove a certain degree of sophistication always return predictable results, yes, but the result\nmay only be predictable to another calculating device of comparable sophistication. It may be\nbeyond what a human observer can project.\nAlmost all programming languages include a function equivalent to Processing’s random function,\nbut returning a truly random number is an impossibility for a predictable machine. Computer-\ngenerated randomness is always pseudo-random, using mathematical formulae, often including\na reference to the machine’s internal clock as one of its factors to ensure that no two calculations\ngive the same result. The formulae behind these functions are an art in themselves, but you need\nonly trust that a returned random value will be good enough to fool us dumb humans.\nI may make light of the topic, but pseudo-randomness is a significant problem in computer\nscience, mainly because of its use in data encryption. If you want to get really anally retentive\nabout your randomness, you’ll love the random.org project run by Dublin Trinity College’s\nSchool of Computer Science. It has an online API for returning “true” random numbers based\non atmospheric noise. But this only moves the debate into the realm of chaos math and the\nquestionable quantum predictability or unpredictability of the natural world.\nUsing random is simple. A random function typically returns a value in the range 0 to 1, which you\ncan then manipulate to give a value within any given range. In Processing, you pass a parameter\nto give a maximum value, or two parameters to return a number within a range. For example, if\nyou want a number in the range 20 to 480, you can use\nfloat randnum = random(460) + 20;\nOr you can also write it like this: \nfloat randnum = random(20, 480);\nI prefer the first notation, even though the range is less obvious upon reading. Later in this\nchapter, you’ll use functions that can only return values between 0 and 1; you won’t have the\nconvenience of passing a range to them, which is why I force myself to get used to thinking of\nvariance without Processing’s more convenient convention. Without using any parameters, you\ncan express any random range as follows:\nfloat randnum = (random(1) * (max+min)) – min;\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 94
  },
  {
    "chunk_full": "3\nGenerative Art | Pearson\n 53\nThe Wrong Way to Draw a Line\nLet’s apply this to the drawing of a line. If a line is what you’re after, there is an easy way to connect\npoint A to point B (see figure 3.1):\nsize(500,100);\nbackground(255);\nstrokeWeight(5);\nsmooth();\nstroke(20, 50, 70);\nline(20,50,480,50);\nRandomizing the line is then just a matter of replacing the parameters. Note how you use the\nwidth and height constants, even though you know the width is 500 and the height is 100. It\nmeans the script will adapt to these relative values if you decide to change width or height later. \nEven if you have no intention of doing such a thing, it’s a good habit to get into:\nstroke(0, 30);\nline(20,50,480,50);\nstroke(20, 50, 70); \nfloat randx = random(width);\nfloat randy = random(height);\nline(20,50,randx, randy);\n\nThe correct way to draw a line\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 95
  },
  {
    "chunk_full": "54\nFigure 3.2 shows a possible output. Without wanting to be too judgmental of your first piece\nof generative drawing, this is rather uninteresting. It’s just not doing it for me I’m afraid. Still the\nline is too controlled, too tightly gripped by the machine’s way of drawing. To overcome this, we\nneed to take a step back from the language’s useful conveniences and deconstruct it a little. \n3.2 Iterative variance\nWe know the computer is capable of getting from point A to B with maximum efficiency, but\nefficiency isn’t necessarily useful aesthetically. To make things more interesting, we need to take\na step back from the “best” way of drawing a line and look at some less optimal options. You\ncould start by breaking the line-drawing process into a series of steps. \nThe following code chunk uses a for loop to iterate through the x position in 10-pixel steps,\nkeeping track of the last x and y positions so it can draw a micro-line back to the previous point. \nThe line is constructed as a chain of 46 links. The resulting image in the output window will look\nexactly the same as that shown in figure 3.1: a line from point 20,50 to 480,20. But you’re now\nusing a few more lines of code:\nint step = 10;\nfloat lastx = -999;\nfloat lasty = -999;\nfloat y = 50;\nint border = 20;\nfor (int x=border; x<=width-border; x+=step) {\n  if (lastx > -999) {\n     line(x, y, lastx, lasty); \n  }\n  lastx = x;\n  lasty = y;\n}\n\nA rather uninteresting random line\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 96
  },
  {
    "chunk_full": "3\nGenerative Art | Pearson\n 55\nThe Wrong Way to Draw a Line\nIf this were an old lady you were helping across the road, and you insisted on instructing her every\nfootstep—“Now move your left foot a few centimeters, then your right …”—she’d probably think\nyou were crazy, and be checking her purse. But it’s impossible to patronize a computer program.\nBelieve me, I’ve tried. Pointless, tedious, and seemingly arbitrary instructions are perfectly fine\nand won’t be criticized. Our machines are capable of carrying out dumb instructions as smoothly\nand efficiently as they would execute “good” code.\nThis staccato drawing style enables you to start adding a more interesting flavor of randomness\nto your line. Add an instruction to vary the y value with every step:\nint step = 10;\nfloat lastx = -999;\nfloat lasty = -999;\nfloat y = 50;\nint borderx=20;\nint bordery=10;\nfor (int x=borderx; x<=width-borderx; x+=step) {\n  y = bordery + random(height - 2*bordery);  \n  if (lastx > -999) {\n     line(x, y, lastx, lasty); \n  }\n  lastx = x;\n  lasty = y;\n}\nThe first line in the loop assigns y a random value between 10 and 90. The result is shown in\nfigure 3.3.\n\nIntroducing randomness to the y position\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 97
  },
  {
    "chunk_full": "56\nHow easily the line develops an unpredictability. The line will be different every time you run the\nscript. But perhaps you’ve wandered too far in the direction of chaos. Let’s pull back on the\nrandomness reins a little. In the following example, instead of just making the y position random\nin a range, you add or subtract a random amount from the previous y value, creating a more\nnatural variance:\nfloat xstep = 10;\nfloat ystep = 10;\nfloat lastx = 20;\nfloat lasty = 50;\nfloat y = 50;\nfor (int x=20; x<=480; x+=xstep) {\n  ystep = random(20) - 10;  //range -10 to 10\n  y += ystep;\n  line(x, y, lastx, lasty);\n  lastx = x;\n  lasty = y;\n}\nThe result is shown in figure 3.4.\nThis is starting to look better. Yes, a raggedy line is what I’m calling “better” in this context: the\nline is less controlled, yet not so chaotic as to be useless.\nYou’ve drawn only a single line so far, but already you can see a touch of the analogue creeping\ninto the output. You can refine this further to get a gentler progression, or dive in and start drawing\nmore shapes using this method; but first I want to show you a much easier way of giving your\nlines naturalistic forms. Wherever you can use random, you can use noise, which is what you’ll\nplay with next. \n\nRandom variance looks better than plain randomness.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 98
  },
  {
    "chunk_full": "3\nGenerative Art | Pearson\n 57\nThe Wrong Way to Draw a Line\n3.3 Naturalistic variance\nThere aren’t many programming awards that your mom has heard of. So on the day Ken Perlin\nbought home an Oscar—an Academy of Motion Picture Arts and Sciences award—for an\nalgorithm he created, I’d imagine it was a rare case of a programmer’s mother phoning all her\nfriends and praising his decision to devote his life to communing with the calculating machines. \nThe Technical Achievement Oscar that Ken was (rather belatedly) awarded in 1997 was for his\nwork on procedural textures developed while working on the graphics for the science fiction film\nTRON (1982). TRON was a pioneering movie in both subject matter and production. It made a\nhero of a video gamer at a time when video games were seen as an idiotic frivolity; and much of\nthe film took place in virtual reality, two years before William Gibson’s Neuromancer was credited\nwith popularizing the concept of cyberspace. Most significantly, though, it was one of the first\nfilms to rely heavily on computer graphics for its special effects.\nKen’s job was to develop textures to give 3D objects a more natural appearance. He was looking\nfor ways to generate randomness in a controlled fashion, much like we were in the previous\nsection. The function he came up with to do this, his Perlin noise, is really just another pseudo-\nrandom function—but it’s a bloody good one, one specifically attuned to natural-looking visuals.\nIf you’re interested in the logic behind it, you can view the code, along with examples of Ken’s\napplications of it, on his website: http://mrl.nyu.edu/~perlin/.\nBy the late 1980s, Ken Perlin’s noise functions were pretty much ubiquitous. It’s probably safe\nto say that if you’ve ever played a graphical console game, or seen a computer-animated film, or\nseen CGI used in any movie made in the last 20 years, you’ve seen Ken’s work in action. Now,\nwith Processing, Ken’s algorithms are encapsulated into a simple function—noise—that enables\nyou to harness in your own creations the same naturalistic variance seen on the big screen.\n3.3.1 Perlin noise in Processing\nnoise is generally used to produce a sequence of numbers. You pass it a series of seed values,\neach of which returns a noise value between 0 and 1 calculated according to the values that\nprecede and follow it. It doesn’t matter where you start the sequence of values, but it’s a good\nidea to randomize the start point; otherwise, the resulting line will be identical every time. Small\nincrements, between 0 and 0.1, usually give the best results.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 99
  },
  {
    "chunk_full": "58\n\nPerlin noise: a possible output of listing 3.1\nFigure 3.6 \nPerlin noise, with ynoise increment of 0.03 for every x pixel\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 100
  },
  {
    "chunk_full": "3\nGenerative Art | Pearson\n 59\nThe Wrong Way to Draw a Line\nBetween 10 and 90\nProbably the best way to get an appreciation of noise is to try using it. Listing 3.1 takes the script\nfrom the last section and replaces the call to random with a noise sequence.\nListing 3.1 Perlin noise\nsize(500,100);\nbackground(255);\nstrokeWeight(5);\nsmooth();\nstroke(0, 30);\nline(20,50,480,50);\nstroke(20, 50, 70);\nint step = 10;\nfloat lastx = -999;\nfloat lasty = -999;\nfloat ynoise = random(10);\nfloat y;\nfor (int x=20; x<=480; x+=step) {\n\t\n  if (lastx > -999) {\n     line(x, y, lastx, lasty); \n  }\n  lastx = x;\n  lasty = y;\n  ynoise += 0.1;\n}\nIn this example, the sequence of values starts somewhere between 0 and 10 (random(10)) and\nincrements by 0.1 every step of the loop. The call to noise() for every seed value in the sequence\nreturns a floating-point number between 0 and 1, which you adapt (multiply by 80, add 10) to\nproduce a useful y value between 10 and 90. The result (one possible result, anyway) is shown\nin figure 3.5.\nFor a smoother result, you can reduce the x step to 1, so the line steps only one pixel at a time\nhorizontally; reduce the ynoise step accordingly. Figure 3.6 shows a single-pixel x step with\nynoise steps of 0.03.\nIt’s a handy trick. But don’t think Ken Perlin is the only person who can write an interesting\nvariance function.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 101
  },
  {
    "chunk_full": "60\nsin returns -1 to +1\n3.3.2 Creating your own noise\nAs mentioned at the start of this chapter, when you call a function such as noise or random,\nyou aren’t plucking a value from the ether; the function returns the result of a calculation. The\ncalculation may be deliberately abstract, as in the case of random—so abstract as to appear\nutterly unpredictable (although, obviously, it is predictable if you know the formula), but it’s still\njust a calculation. I don’t want you to think these are the only calculations you can use to spice\nup the drawing of a line. You have the whole world of mathematics to explore.\nLet’s start with a few easy formulas. Like noise, the trigonometric functions sin and cos also return\nvalues that vary smoothly according to arguments you pass to them. With these two mathematical\nfunctions, you pass an angle (in radians), and the functions return a value between -1 and 1.\nTo visualize this, let’s reapproach the straight line once more, using some mathematics of a\ndistinctly smoother flavor. Try listing 3.2.\nListing 3.2 Drawing a sine curve\nfloat xstep = 1;\nfloat lastx = -999;\nfloat lasty = -999;\nfloat angle = 0;\nfloat y = 50;\nfor (int x=20; x<=480; x+=xstep) {\n  float rad = radians(angle);\n\t\n  if (lastx > -999) {\n    line(x, y, lastx, lasty);\n  }\n  lastx = x;\n  lasty = y;\n  angle++;\n}\nThis code produces the curve shown in figure 3.7.\nIf you replace sin with a cosine function (see figure 3.8), the result is similar. Sine and cosine are\nused to calculate the points around a circle (more of that in the next chapter), so it’s unsurprising\nthat the values they return are a nice smooth variance.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 102
  },
  {
    "chunk_full": "3\nGenerative Art | Pearson\n 61\nThe Wrong Way to Draw a Line\n\nA cosine curve. Not too dissimilar from a sine curve.\n\nA sine curve\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 103
  },
  {
    "chunk_full": "62\n\nThe customRandom function in action. It isn’t quite as random as random.\n\nsin cubed, with a soupçon of noise\n\nA line constructed from the return values of sin cubed\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 104
  },
  {
    "chunk_full": "3\nGenerative Art | Pearson\n 63\nThe Wrong Way to Draw a Line\nHaving set out to experiment with chaos, this smooth predictability may seem useless. But that’s\nonly because the calculation is too simple. It doesn’t take many degrees of abstraction before\nit starts looking like the unpredictability of a random or noise function.\nHow does it look if you cube sin (see figure 3.9)?\ny = 50 + (pow(sin(rad), 3) * 30);\nOr, how about if you add a bit of noise too (see figure 3.10)? Is that cheating?\ny = 50 + (pow(sin(rad), 3) * noise(rad*2) * 30);\nThis is the basic principle: by mixing up a few mathematical transformations, you can start to\nget interesting and unique lines. Let’s put this principle into action.\n3.3.3 A custom random function\nThe problem with random, as you’ve discovered, is that it’s just too damn random. Perhaps if\nyou can transform the randomness into something a little more predictable, it may have more\naesthetic value. \nFirst, let’s create a custom function:\nfloat customRandom() {   \n   float retValue = 1 - pow(random(1), 5);\n   return retValue; \n}\nThen, use this function where you calculate the y position:\ny = 20 + (customRandom() * 60);\nWhat you’ve done with this function is raise the random number to the power of five (see figure \n3.11). If you were to square the random number, you’d get a returned value that tended more\ntoward 0. If you were to raise it to the power of a half, the number would tend toward 1. Taking\nit further, raising it to the power of 5 (or, in the other direction, 0.1 as another example), you get\na range of random results that are, well, less random. \nYou can experiment further with other transformations within this function. You can even rewrite\nit so it doesn’t use the random function at all—instead, come up with a calculation so convoluted\nthat it appears random, the same way other pseudo-random functions work. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 105
  },
  {
    "chunk_full": "64\n3.4 Summary\nAll we’ve done in this chapter is look at various different ways of drawing a single line: leaving\nbehind the convenience of Processing’s built-in line function, and discovering more interesting\npossibilities by iterating through the line a pixel at a time. Through this mechanism, you can add\nsome attractive flavors of variance, freeing your line from its mechanical perfection.\nIn the next chapter, having mastered the art of messing up a simple job like drawing a straight line,\nyou’ll apply this technique to something a little more substantial. Prepare yourself to rediscover\nthe joys of trigonometry, as we look at that simplest of shapes, the circle.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 106
  },
  {
    "chunk_full": "To most, trigonometry is a scary word. I’ll be the first to confess that\nit utterly bewildered me at school. I remember thinking to myself that \nI would never use this crap in the real world. And I was right—for a\ncouple of years at least. \nThe Wrong Way \nto Draw a Circle\nChapter Four\n 65\nUntil sometime in my late twenties, I found myself making Flash games\nfor a living, and more and more I found bits of half-remembered trig\nproving useful.\nIn this chapter, we’ll play with unconventional ways of drawing circles, for\nwhich we’ll need a little trig. In the same way we wandered away from the\nuseful convenience of the line function in the last chapter, we won’t rely\non Processing’s ellipse function here. Instead, by working out the math\nourselves, we’ll be able to tease out a more nonmechanical, imprecise way\nof drawing this one shape. Many of my own works have been based on this\nsingle idea—rotational drawing algorithms—and so I’ll offer one of them\nas a case study later in the chapter.\n4\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 107
  },
  {
    "chunk_full": "66\n4.1 Rotational drawing\nIt didn’t take much googling to discover that, after subjecting my poor adolescent brain to two\nyears of A-level mathematics, all the trig I’ve ever really needed to know fits quite easily onto the\nback of a postcard. I scribbled the arcane markings you see in figure 4.1 sometime during my\ncoding adolescence (a period I don’t think I’ve ever really left). I’ve had this card tucked into a\nbook in my office for more than 10 years now, and I’ve never needed much more (although the\nbook it’s tucked into has changed many times).\nWe’ll use a little of that trig now, as in the same way we deconstructed the drawing of a line, we\nvandalize the circle. \nFigure 4.1 \nAll the trig I’ve ever needed fits on the back of a postcard.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 108
  },
  {
    "chunk_full": "4\nGenerative Art | Pearson\n 67\nThe Wrong Way to Draw a Circle\n4.1.1 Drawing your first circle\nLet’s start with the easy way of drawing a circle: \nellipse(x, y, diameter, diameter);\nAll you need for this method is a center point, width, and height, width and height both being\nequal to the diameter when you’re drawing a circle. But there is a lot more fun to be had if you\nbreak it down a little. To do so, you’ll use two equations from my postcard cheat-sheet: sin x =\nopp/hyp, and cos x = adj/hyp. The sine of angle x is equal to the opposite over the hypotenuse.\nThe cosine of angle x is equal to the adjacent over the hypotenuse. \nKnowing the center point of the circle, the hypotenuse between the center and a point on the\ncircumference is the radius. The opposite and adjacent then correspond to the difference in x\nand y positions from the center point. By jigging the equations, you can calculate the coordinates\nof any point on the circumference of a circle relative to the angle as follows:\nX = centerX + (radius * cos(angle));\nY = centerY + (radius * sin(angle));\nFigure 4.2 shows the circle drawn using the code in listing 4.1. To highlight the math in action,\nI’ve marked the steps of the loop as points. \nTo complete the circle, you would draw lines connecting these points. Increments of 5 degrees\nare smooth enough for this example, but you can decrease this increment later if you want.\n\nDrawing a circle using trigonometry: the output of listing 4.1\nRadians and degrees\nAngles used by trigonometric functions are in radians, not degrees. One radian is\nequal to 180/π, so a full revolution of a circle (360 degrees) is 2π radians. If you aren’t\ncomfortable with radians, you can work in degrees and convert before calling a\ntrigonometric function. The formula is on my postcard: radian = degrees * (180/π), but \nProcessing has two handy conversion functions already built in - degrees and radians. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 109
  },
  {
    "chunk_full": "68\n\t\n\nto radians\nListing 4.1 Drawing a circle: first the easy way, then using trigonometry\nsize(500,300);\nbackground(255);\nstrokeWeight(5);\nsmooth();\nfloat radius = 100;\nint centX = 250;\nint centY = 150;\nstroke(0, 30);\nnoFill();\nellipse(centX,centY,radius*2,radius*2);\nstroke(20, 50, 70);\nfloat x, y;\nfloat lastx = -999;\nfloat lasty = -999;\n\t\n\t\n  x = centX + (radius * cos(rad));\n  y = centY + (radius * sin(rad));\n  point(x,y);\n}\nThat’s all you need. That’s as hard as the trig is going to get within these pages. You now have a\nsystematic way of drawing a circle; the next job is to begin tweaking it into something less rigid. \n\nA few minor tweaks, and the circle becomes a spiral.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 110
  },
  {
    "chunk_full": "4\nGenerative Art | Pearson\n 69\nThe Wrong Way to Draw a Circle\n                                      Starts small\n                              Loops four times\n4.1.2 Turning a circle into a spiral\nNow that you have greater control over the drawing, you can perform tricks like turning a circle\ninto a spiral. To do so, you simply increase the radius as the angle turns. Note that you’ll need to\nturn more than just 360 degrees, though. The required changes to the code are highlighted in\nthe following listing, and the output is shown in figure 4.3.\nListing 4.2 Code changes required to turn a circle into a spiral\n\t\n \nfloat x, y;\nfloat lastx = -999;\nfloat lasty = -999;\n\t\n  radius += 0.5;\n  float rad = radians(ang);\n  x = centX + (radius * cos(rad));\n  y = centY + (radius * sin(rad));\n  if (lastx > -999) {\n    line(x,y,lastx,lasty);\n  }\n  lastx = x;\n  lasty = y;  \n}\nSo far, so boring. Let’s add some noise. \n4.1.3 Noisy spirals\nListing 4.3 increments the radius as before but also varies it by a rather large noise factor. A\npossible output is shown in figure 4.4.\nListing 4.3 Adding noise to the spiral\nradius = 10;\nfloat x, y;\nfloat lastx = -999;\nfloat lasty = -999;\nfloat radiusNoise = random(10);\nfor (float ang = 0; ang <= 1440; ang += 5) {\n\t\n(continued on next page)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 111
  },
  {
    "chunk_full": "70\n\nThe spiral, with noise. Is that a butterfly in the middle there?\n\nThe spiral code turned up to 11\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 112
  },
  {
    "chunk_full": "4\nGenerative Art | Pearson\n 71\nThe Wrong Way to Draw a Circle\n                                 Draws 100 spirals\n Finer line\n\t\n(Listing 4.3 continued)\n  float thisRadius = radius + (noise(radiusNoise) * 200) - 100;\n  float rad = radians(ang);\n  x = centX + (thisRadius * cos(rad));\n  y = centY + (thisRadius * sin(rad));\n  if (lastx > -999) {\n    line(x,y,lastx,lasty);\n  }\n  lastx = x;\n  lasty = y;  \n}\nI hope you agree that by the time you’ve reached this stage, you’re starting to see something\ninteresting emerging—something you might call generative. These shapes have a basis in\nmathematical seeds you’ve programmed, but there is enough randomness about the way they’re\ndrawn that they’re taking on a form of their own.\nThe next step—and I firmly believe that, if in doubt, this should always be your next step—is to\nmultiply it all by 100 (see figure 4.5).\nIn this version, you use a for loop to draw the same spiral 100 times. You also lighten the line\nweight; and for each spiral, you randomize the stroke color, the alpha, the starting angle, the\nend angle, and the angle step. The full code is in the following listing. \nListing 4.4 100 spirals, with noise\nsize(500,300);\nbackground(255);\n\t\n \nsmooth();\nint centX = 250;\nint centY = 150;\nfloat x, y;\n\t\n  float lastx = -999;\n  float lasty = -999;\n  float radiusNoise = random(10);\n\t\n(continued on next page)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 113
  },
  {
    "chunk_full": "72\nRandomizes \nspiral aspects\n\t\n(Listing 4.4 continued)\n\t\n\t\n\t\n\t\n  for (float ang = startangle; ang <= endangle; ang += anglestep) {\n    radiusNoise += 0.05;\n    radius += 0.5;\n    float thisRadius = radius + (noise(radiusNoise) * 200) - 100;\n    float rad = radians(ang);\n    x = centX + (thisRadius * cos(rad));\n    y = centY + (thisRadius * sin(rad));\n    if (lastx > -999) {\n      line(x,y,lastx,lasty);\n    }\n    lastx = x;\n    lasty = y;  \n  }\n}\nFigure 4.6 \nSpiral Stairs (2009)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 114
  },
  {
    "chunk_full": "4\nGenerative Art | Pearson\n 73\nThe Wrong Way to Draw a Circle\nIt’s a mess, but it’s an interesting mess. I wouldn’t print this on a greeting card quite yet, but it’s\na start. I do hope you can see how the application of noise and/or randomness to a systematic\ndrawing process can lead us toward aesthetically interesting results (see figure 4.6, for example). \nThrough this process of abstracting a mathematically constructed shape, you move the visual\nfrom order toward chaos. As long as you don’t go too far toward the disordered end of the\nspectrum, the abstraction stays interesting. And if it’s interesting, you can call it art. \n4.1.4 Creating your own noise, revisited\nTo stop you from getting too dependent on Perlin noise, useful though it is, let’s try the circle\ndrawing once more, but this time produce your own naturalistic variance. In the last chapter,\nyou created a custom random function for the drawing of a line. Now you can take that a step\nfurther and adapt that into a custom noise function, which calculates a return value according\nto the seed value it’s passed; you can then apply this function to your circle.\nTo do this, you’ll have to organize things a little first. In listing 4.5, you take the circle-drawing\ncode from listing 4.1 and do the following:\n• Rewrite it into function blocks.\n• Add the customNoise function.\nListing 4.5 A circle drawn with a custom noise function\nvoid setup () {\n  size(500,300);\n  background(255);\n  strokeWeight(5);\n  smooth();\n  \n  float radius = 100;\n  int centX = 250;\n  int centY = 150;\n  stroke(0, 30);\n  noFill();\n  ellipse(centX,centY,radius*2,radius*2);\n  \n  stroke(20, 50, 70);\n\t\n(continued on next page)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 115
  },
  {
    "chunk_full": "74\n\nThe output of listing 4.5: a custom variance to the circumference, based on sine\n\nAnother custom variance based on powers of sine\nFigure 4.9 You can see the source code for this animation at http://abandonedart.org/?p=549. It \nuses a simple custom noise function much like you’ve created in this section.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 116
  },
  {
    "chunk_full": "4\nGenerative Art | Pearson\n 75\nThe Wrong Way to Draw a Circle\nRandomizes start point\nReturns value -1 to +1\n\t\t\n(Listing 4.5 continued)\n\t\n  float radVariance, thisRadius, rad;\n  beginShape(); \n  fill(20, 50, 70, 50);\n  for (float ang = 0; ang <= 360; ang += 1) {\n    \n    noiseval += 0.1;\n    radVariance = 30 * customNoise(noiseval);\n    \n    thisRadius = radius + radVariance;\n    rad = radians(ang); \n    x = centX + (thisRadius * cos(rad));\n    y = centY + (thisRadius * sin(rad));\n    \n    curveVertex(x,y);\n  }\n  endShape();\n}\n\t\n \n   float retValue = pow(sin(value), 3);\n   return retValue; \n}\nYou make one other crucial change in listing 4.5. Instead of drawing lines back to the previous\npoint, as you did before, this time you use beginShape and endShape  to draw an enclosed\narea to which you apply a fill. You add points to the shape with curveVertex(x,y). The result is\nsomething a little like figure 4.7.\nFor this first example, customNoise returns the value of sine cubed, which gives you a regular\nrepeating variance. Now that you have the structure, you can experiment with the mathematics\nin your new function. Let’s try, for example, using the parameter value to determine the power\nto which you raise sine: \nfloat customNoise(float value) {  \n   int count = int((value % 12));\n   float retValue = pow(sin(value), count);\n   return retValue; \n}\nUsing this function, you end up with something like figure 4.8.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 117
  },
  {
    "chunk_full": "76\nOkay, it doesn’t quite have the beauty of Perlin noise, so I don’t think this one will win the Oscar.\nBut you now have a custom variance you can call your own, which you can apply to lines, shapes,\nmovement, or anything else you might apply noise to. \nThe next stage is to continue throwing whatever mathematics you know into the function and\nseeing what other glorious messes the routine can create (see, for example, figure 4.9). It doesn’t\nmatter if your math is poor—you can achieve plenty with just addition, subtraction, multiplication,\nand division. The complexity of the math doesn’t necessarily correspond to the interestingness\nof the visual. Juggle some numbers, alter the shapes or the drawing style, turn it up to 11, and\nsee if you can surprise yourself. \nIn the next section, I’ll walk you through my process in creating one of my own Perlin noise–based\nworks. There are a thousand creative things you can do with a set of numbers in a naturally\nvarying sequence (we’ll look at a few more in the next chapter), but I hope a single practical\nexample at this point will be sufficient to inspire you to apply the techniques of this chapter and\nthe last to your own ideas. \n4.2 Case study: Wave Clock\nMy Wave Clock (see figure 4.10) is a nice, simple example of using Perlin noise to produce a\nnatural-looking form. I can’t say I was working toward any particular goal at the time I fashioned the\nsystem, but I can still recount the steps I took so you can gain some appreciation of my process. \nI began by plotting a circle, exactly as you did in the previous section, and then drawing a line from\neach point on the circumference to its opposite point. I calculated the opposite point by adding\npi to the current angle, which, if you’re using radians, rotates it 180 degrees. I then extrapolated\nthe two circumference points using the same sine and cosine functions: \nfloat rad = radians(_angle);\nfloat x1 = centerX + (_radius * cos(rad));  \n float y1 = centerY + (_radius * sin(rad)); \n  \nfloat opprad = rad + PI; \nfloat x2 = centerX + (_radius * cos(opprad)); \n float y2 = centerY + (_radius * sin(opprad));\n \n line(x1, y1, x2, y2);\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 118
  },
  {
    "chunk_full": "4\nGenerative Art | Pearson\n 77\nThe Wrong Way to Draw a Circle\nFigure 4.10  \nWave Clock (2009)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 119
  },
  {
    "chunk_full": "Figure 4.11\nA circle constructed by drawing lines from a point \non the circumference to its opposite edge\nFigure 4.13  \nPerlin noise variance added to the radius value\nFigure 4.14 \nPerlin noise variance added to the rotation speed/direction\nFigure 4.12\nFade effect added by incrementing  \nthe stroke color as the line rotates\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 120
  },
  {
    "chunk_full": "4\nGenerative Art | Pearson\n 79\nThe Wrong Way to Draw a Circle\nFigure 4.11 shows the output.\nThis produced a nice, smooth circle. To give it a fade, I added a few lines to vary the stroke color.\nI defined a strokeCol variable, started it at 255 (white), and decremented it by 1 every frame\nuntil it reached 0 (black). Then, I reversed the process back to 255 ad infinitum. The result is\nshown in figure 4.12.\nNext, I made the length of the connecting line change by varying the radius with a noise value\nas it rotated (see figure 4.13).\n  _radiusnoise += 0.005;\n  _radius = (noise(_radiusnoise) * 550) +1;\nThen, to give it a further spin, I varied the density of the line packing by adding a second noise\nvariance to the angle of rotation. I allowed the angle to increase or decrease so the rotation could\nreverse. This gave the effect you can see in figure 4.14:\n_angnoise += 0.005;\n_angle += (noise(_angnoise) * 6) - 3;\nif (_angle > 360) { _angle -= 360; }\nif (_angle < 0) { _angle += 360; }\nFinally, for one extra touch of non-linearity, I wobbled the center of the circle slightly, again using\na noise function to move it plus or minus 10 pixels in the x or y direction:\n  _xnoise += 0.01;\n  _ynoise += 0.01;\n  float centerX = width/2 + (noise(_xnoise) * 100) - 50;\n  float centerY = height/2 + (noise(_ynoise) * 100) - 50;\nThe final code for this system is in the following listing. \nListing 4.6 Final code for Wave Clock\nfloat _angnoise, _radiusnoise;    \nfloat _xnoise, _ynoise;        \nfloat _angle = -PI/2;        \nfloat _radius;        \nfloat _strokeCol = 254;        \nint _strokeChange = -1;        \n\t\n(continued on next page)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 121
  },
  {
    "chunk_full": "80\n\t\n(Listing 4.6 continued)\n  smooth();                \n  frameRate(30);            \n  background(255);    \n  noFill();        \n  \n  _angnoise = random(10);        \n  _radiusnoise = random(10);    \n  _xnoise = random(10);        \n  _ynoise = random(10);        \n}\nvoid draw() {\n  \n  _radiusnoise += 0.005;                \n  _radius = (noise(_radiusnoise) * 550) +1;    \n  \n  _angnoise += 0.005;                \n  _angle += (noise(_angnoise) * 6) - 3;        \n  if (_angle > 360) { _angle -= 360; }       \n  if (_angle < 0) { _angle += 360; }        \n  \n  _xnoise += 0.01;                        \n  _ynoise += 0.01;                        \n  float centerX = width/2 + (noise(_xnoise) * 100) - 50;    \n  float centerY = height/2 + (noise(_ynoise) * 100) - 50;    \n  \n  float rad = radians(_angle);            \n  float x1 = centerX + (_radius * cos(rad));    \n  float y1 = centerY + (_radius * sin(rad));    \n  \n  float opprad = rad + PI;                \n  float x2 = centerX + (_radius * cos(opprad));    \n  float y2 = centerY + (_radius * sin(opprad));     \n  \n  _strokeCol += _strokeChange;            \n  if (_strokeCol > 254) { _strokeChange = -1; }    \n  if (_strokeCol < 0) { _strokeChange = 1; }    \n\t\n(continued on next page)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 122
  },
  {
    "chunk_full": "4\nGenerative Art | Pearson\n 81\nThe Wrong Way to Draw a Circle\nFigure 4.15 \nOutputs from the completed system: Wave Clock (2009)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 123
  },
  {
    "chunk_full": "82\n\t\n(Listing 4.6 continued)\n  line(x1, y1, x2, y2);                \n}\nFigure 4.15 shows a few possible outputs. \n4.3 Summary\nIn this chapter, we’ve gone from a wonky way of drawing a line to a complete generative system\none that churns out some rather pleasing results. The basic methodology established in these\nlast two chapters is as follows:\n• Deconstruct a machine-drawn shape. \n• Reconstruct it with some form of unpredictability. \nYou can apply this simple technique to make just about anything more interesting.\nThere is plenty of further fun to be had playing with circles—they’re one shape it’s hard to tire\nof. But you may now want to try other computer-drawn forms. I’ll leave it with you experiment. \nIn the next chapter, before we move on to even cooler organic methodologies in part 3 of the\nbook, we’ll take noise into a few extra dimensions and also see what happens when we use it to\nmanipulate both time and space.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 124
  },
  {
    "chunk_full": "Chapter Five\nAdding Dimensions\n5\n 83\n 83\nImagine you’re a tiny creature clinging to the surface of a large ball.1 You\nwalk the surface of that ball for a lifetime, until you feel you’ve covered\nevery part of its surface and know it intimately. At this stage, it feels as\nthough there is nowhere new for you to go, nothing new to see. That\nis, until you discover up, and suddenly you find a perspective from\nwhich everything looks very different.\nOften, we meet barriers like this in our work, when it seems there is\nnowhere else to take an idea. This is the point at which you should\nconsider adding extra dimensions. If you’ve been working in one\ndimension, try it with two. If you’re working in two dimensions, try three.\nThe computer monitor, printed page, or gallery wall has only two\ndimensions. Anything you create for these media will always be\nflattened for presentation. But that doesn’t mean your work is limited\nto those dimensions. You’ve already learned, in chapter 2, how to\nmake your work animate, giving it an extra dimension: time. In this\nchapter, we’ll revisit that idea, as well as learning how Processing\nrenders three-dimensional drawing. \n1.  This shouldn’t be hard to imagine, given that you actually are.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 125
  },
  {
    "chunk_full": "84\ntakes two values\nat start of each row\nWe’ll keep Perlin noise as our focus while we examine these concepts, because there is still much\nmore to explore in relation to that subject. So far, you’ve only used the noise function with a single\nparameter, creating one-dimensional noise. You’ll begin by adding an extra dimension to that. \n5.1 Two-dimensional noise\nNoise in two dimensions isn’t much more complicated than it is in one—it’s just a matter of\nshifting perspective, conceptually, from a line to a plane. One-dimensionally, a progression of\nnoise values yields a wavering line, like a mountain range viewed on the horizon. Looking at it in\ntwo dimensions, you’re viewing the mountain range from above, as if you were flying over it in a\nhelicopter; looking straight down, you see a plane of peaks and troughs.\n5.1.1 Creating a noise grid\nThe best way to demonstrate is with an example. Open a new script, and tap in the contents of\nthe following listing.\nListing 5.1 A two-dimensional noise grid\nsize(300,300);\nsmooth();\nbackground(255);\nfloat xstart = random(10);\nfloat xnoise = xstart;\nfloat ynoise = random(10);\n  \nfor (int y = 0; y <= height; y+=1) {    \n    ynoise += 0.01;\n\t\n    for (int x = 0; x <= width; x+=1) {    \n          xnoise += 0.01;\n\t\n           stroke(0, alph);\n            line(x,y, x+1, y+1);\n    }\n}\nResets xnoise \nNoise function \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 126
  },
  {
    "chunk_full": "5\nGenerative Art | Pearson\n 85\nAdding Dimensions\nIn this script, you create a grid of points (except I’ve used tiny lines instead of points, because\nin Processing lines are better at alpha values). You loop through the pixels of this 300 by 300\nsquare, traversing column by column, row by row, one pixel at a time. Noise seeds in the x and y\ndirection are incremented by 0.01 with every pixel, remembering to reset the x seed to its original\nposition at the end of each row, like hitting the carriage return on an old typewriter. The return of\nthe noise function for each x and y position is visualized as a variance in the alpha values on the\ntiny line you’re drawing at every position. The result is shown in figure 5.1.\nThe fun with two-dimensional noise is in dreaming up new ways to visualize it, which is what\nwe’ll do next. \n5.1.2 Noise visualizations\nFirst, knowing that the two-loop traversal through the grid won’t change much, you can separate\nthe visualization part into a function block. It will help if you also space the grid out a little, too,\nso you can see what’s going on.\n\nPerlin noise in 2D, visualized as alpha values\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 127
  },
  {
    "chunk_full": "86\nSpacing increased; \nincrease noise steps too \nListing 5.2 The noise grid, rewritten into neat function blocks\nfloat xstart, xnoise, ynoise;    \nvoid setup() {    \n  size(300,300);\n  smooth();\n  background(255);\n  xstart = random(10);\n  xnoise = xstart;\n  ynoise = random(10);\n\t\n\t\n\t\n\t\n\t\n \n      drawPoint(x, y, noise(xnoise, ynoise));  \n    }\n  } \n}\nvoid drawPoint(float x, float y, float noiseFactor) {    \n  float len = 10 * noiseFactor;\n  rect(x, y, len, len);\n}\nThe custom drawPoint() function takes three parameters: x and y to define where the point is,\nand the two-dimensional noiseFactor that has been calculated for that point. In this case, you\ndraw a tiny square, using the noise factor to determine its size. Click run, and you’ll be looking\nat something like figure 5.2.\nNow that you’ve defined the function, you can modify this part to experiment further. How about\nvisualizing the noise as a rotation? Here’s a new version of the drawPoint function that draws a\n20-pixel line rotated according to noiseFactor: \nvoid drawPoint(float x, float y, float noiseFactor) {\n  pushMatrix();\n  translate(x,y);\n  rotate(noiseFactor * radians(360));\n  stroke(0, 150);\n\t\n(continued on next page)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 128
  },
  {
    "chunk_full": "5\nGenerative Art | Pearson\n 87\nAdding Dimensions\n\n2D Perlin noise visualized as squares of varying size\n\n2D Perlin noise visualized using rotation\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 129
  },
  {
    "chunk_full": "88\n\t\n(continued from previous page)\n}\nTo perform the rotation, you used translate(x, y) to move the drawing position, and then you\nstart the drawing from point 0,0 instead of point (x,y). You do this so the rotation is around the\npoint you’re drawing at, not the upper-left 0,0 point. The functions pushMatrix and popMatrix \nare a way of storing the previous drawing position before you perform the translation and rotation,\nand then restoring it afterward. Figure 5.3 shows the result.\nOkay, one more. Change background(255) to background(0) in the setup function, and\nthen rewrite drawPoint so it varies the rotation, size, color, and alpha, all using the same\nnoise factor:\nvoid drawPoint(float x, float y, float noiseFactor) { \n    pushMatrix();\n    translate(x,y);\n    rotate(noiseFactor * radians(540));       \n     float edgeSize = noiseFactor * 35;       \n     float grey = 150 + (noiseFactor * 120);  \n     float alph = 150 + (noiseFactor * 120);     \n    noStroke();\n     fill(grey, alph);\n      ellipse(0,0, edgeSize, edgeSize/2); \n     popMatrix();\n}\nThe resulting grid now looks something like figure 5.4.\nUsing translate \nImagine you’re holding a pen in one hand and steadying a piece of paper with the other.\nWhen you give a command like line(20, 30, 120, 130), you’re specifying co-ordinates\nfor the pen to move from and to, relative to the origin point (0, 0) in the upper left corner. \nWhen you use translate(20, 30) you’re not commanding the pen, you’re instead\nmoving the paper. Point (20, 30) becomes the new origin from which to start drawing. \nPerforming translate(20, 30) and then line(0, 0, 100, 100) produces the same result\nas the command line(20, 30, 120, 130), but sometimes it’s easier to follow, especially\nwhen you begin drawing things relative to each other.\nFor some actions, such as rotating about a point, you will find it is much easier to do\nthis by moving the paper than it is the pen.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 130
  },
  {
    "chunk_full": "5\nGenerative Art | Pearson\n 89\nAdding Dimensions\nYou get the gist. I’d suggest that you try throwing a few of your own ideas at this function to see\nwhat emerges. Perhaps have a rifle through the Processing reference to come up with different\nways of drawing that you haven’t tried before, and then see how they can be subverted by\napplying the noise factor. \nNext, we’ll look at time as an extra dimension, and see how you can apply noise to that.\n5.2 Noisy animation\nThe frame loop, Processing’s built-in draw function, enables you to create images that change\nover time. This, folks, is what we call animation: you may have heard of it. Refer back to section \n2.3.1 if you need a refresher on how the frame loop works. The following listing uses the draw\nfunction to turn the two-dimensional noise grid into something that moves. \nListing 5.3 Noise grid again, now drawing on the frame loop\nfloat xstart, xnoise, ystart, ynoise;\nvoid setup() {\n\t\n(continued on next page) \n\n2D Perlin noise as little fluffy clouds\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 131
  },
  {
    "chunk_full": "90\nIncrements x/y \nnoise start values\nSets frame rate\n\t\n(Listing 5.3 continued)\n  background(0);\n\t\n  \n  xstart = random(10);\n  ystart = random(10);\n}\nvoid draw () {\n\t\n\t\n\t\n  \n  xnoise = xstart;\n  ynoise = ystart;\n  \n  for (int y = 0; y <= height; y+=5) {\n    ynoise += 0.1;\n    xnoise = xstart;\n    for (int x = 0; x <= width; x+=5) {\n      xnoise += 0.1;\n      drawPoint(x, y, noise(xnoise, ynoise));\n    }\n  } \n}\nvoid drawPoint(float x, float y, float noiseFactor) {\n  pushMatrix();\n  translate(x,y);\n  rotate(noiseFactor * radians(540));\n  noStroke();\n  float edgeSize = noiseFactor * 35;\n  float grey = 150 + (noiseFactor * 120);\n  float alph = 150 + (noiseFactor * 120);\n  fill(grey, alph);\n  ellipse(0,0, edgeSize, edgeSize/2);\n  popMatrix();\n}\nClears background every frame\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 132
  },
  {
    "chunk_full": "5\nGenerative Art | Pearson\n 91\nAdding Dimensions\nUses noise for \nstart positions\nVaries by +/- 0.25 \nevery frame\nThe drawPoint function is unchanged, as are the x within y loops to traverse the grid. What’s new\nis that with every frame, you increment the start point for both the x and y noise seeds. When\nyou run this, you’ll see something very similar to figure 5.4; but now clouds are drifting diagonally\nacross the screen, as if a steady wind were blowing from the southwest. There are no moving\nparts—the illusion is created by scrolling across the noise plane.\nObviously, it’s a little difficult for me to demonstrate this in print, so you’ll need to be coding\nalong to appreciate the effect. This movement seems a little predictable for my liking, though. If\nonly there were some way to produce a smooth, natural variance. Take a look at the next listing.\nListing 5.4 Noise grid with noise variance added to the movement\nfloat xstart, xnoise, ystart, ynoise;\nfloat xstartNoise, ystartNoise;\n        \nvoid setup() {\n  size(300,300);\n  smooth();\n  background(255);\n  frameRate(24);\n  \n\t\n\t\n  xstart = random(10);\n  ystart = random(10);\n}\nvoid draw () {\n  background(255);\n  \n\t\n\t\n\t\n\t\n  \n  xnoise = xstart;\n  ynoise = ystart;\n  \n  for (int y = 0; y <= height; y+=5) {\n    ynoise += 0.1;\n\t\n(continued on next page)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 133
  },
  {
    "chunk_full": "92\n\t\n(Listing 5.4 continued)\n      xnoise += 0.1;\n      drawPoint(x, y, noise(xnoise, ynoise));\n    }\n  }\n}\nvoid drawPoint(float x, float y, float noiseFactor) {\n  pushMatrix();\n  translate(x,y);\n  rotate(noiseFactor * radians(360));\n  stroke(0, 150);\n  line(0,0,20,0);\n  popMatrix();\n}\nThe extra code before the grid loop uses two (one-dimensional) noise sequences to give a drifting\ncamera position, floating over the noise plane with the gentle irregularity of a leaf in an updraft.\nYou’ll notice for this example I rolled back the drawPoint function to the rotating-lines version\nfrom the previous section. Adding time to this particular visualization produces a nice illusion of\nruffling fur, or the wind blowing through grass. Run it to see it in action.\nNote that there is no limit to the number of noise sequences you can have in a single script.\nListing 5.4 has four: xnoise and ynoise, which are combined to get a two-dimensional value; \nand xstartNoise and ystartNoise, which each give one-dimensional directional movement. \nNext, we’ll explore new depths, as you learn how Processing draws in 3D.\n5.3 The third dimension\nWhen you use the size function to specify the canvas area, there is a third, optional, parameter—\nMODE—that you haven’t needed to know about until now. This is how you tell Processing which\nrendering engine to use:\nsize(width, height, MODE);\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 134
  },
  {
    "chunk_full": "5\nGenerative Art | Pearson\n 93\nAdding Dimensions\nThe list of renderers is in table 5.1. The default is JAVA2D, which produces the best two-\ndimensional images; this is what you’ve used up until this point. To draw in 3D, you’ll need to\nchange MODE to either P3D or OPENGL. OPENGL usually gives better-looking results, but only \nP3D produces an applet small enough to publish to the web. For the purposes of this chapter,\nit doesn’t matter much which you choose.\nNow, if you’ve chosen a renderer, let’s try drawing something.\n5.3.1 Drawing in 3D space\nYou’re by now quite familiar with two-dimensional Cartesian coordinates, which is how you\nmeasure x and y positions on the canvas. To draw in 3D, you need to add an extra position—a\nz value—to measure how far you are above or below the 2D plane.\nAs with 2D drawing, Processing has a number of built-in functions for common 3D structures.\nYou can begin using these to get a sense of drawing in a three-dimensional space. For this first\nexample, you’ll use sphere. You’ll do the drawing using translate to move to a 3D position and\nthen drawing relative to that point. You’ll find this is the only sensible option when dealing with\nx, y, and z coordinates.\nTable 5.1 Processing’s choice of renderers\n\t\nThe default. The highest-quality 2D renderer.\nP2D (Processing 2D)  \nA faster 2D renderer, optimized for pixel data, but not usually as\naccurate as JAVA2D.\nP3D (Processing 3D)  \nA fast 3D renderer, intended for Java on the web. Prioritizes speed and\nfile size over quality.\n\t\nA better high-speed 3D renderer that utilizes OpenGL graphics\nhardware, if available. OPENGL smoothes all graphics, so smooth and\nnoSmooth commands become redundant. You need to import the\nOpenGL library to use this renderer (see listing 5.5).\n\t\nA renderer for writing directly to PDF files, rather than the screen. This\nis ideal for drawing high-resolution vector shapes, particularly when\nyou’re creating prints bigger than the screen (when you’d need to save\nto a file to see the results anyway). Requires the PDF library. For more\ninformation, see http://processing.org/reference/libraries/pdf/.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 135
  },
  {
    "chunk_full": "94\nOpen a fresh window, and type the following:\nimport processing.opengl.*;\nsize(500, 300, OPENGL);\nsphereDetail(40);\ntranslate(width/2, height/2, 0);\nsphere(100);\nThe first statement imports the OpenGL library. This line is added automatically if you import the\nlibrary via the Sketch menu (Sketch > Import Library). The size command then sets the canvas\nsize and selects this renderer.\nNext, the sphereDetail command tells the renderer how much detail to use when drawing a\nsphere. 3D renderers can’t draw smooth curves, so any shape will always be made up of a\ncollection of flat planes. By giving this command a value of 40, you effectively tell the renderer\nto make a new edge every 9 (360/40) degrees. \nThe final two lines create the sphere by moving the drawing point to the middle of the canvas and\ndrawing a sphere around that point with a radius of 100. Notice how you pass three variables to\nthe translate command, but you aren’t using z yet. The output is shown in figure 5.5.\n\nA sphere drawn using OpenGL\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 136
  },
  {
    "chunk_full": "5\nGenerative Art | Pearson\n 95\nAdding Dimensions\nSo far, barring the lines, this doesn’t look too different from a circle created using the 2D renderer.\nBut if you start modifying the third parameter of translate, you’ll see the difference. Change that\nline to translate(250, 150, 50); the sphere now appears bigger. You’ve moved it 50 pixels closer\nto you (a value of -50 moves it further away). If you set the third parameter to 150 it will appear\nas if you’re actually inside the sphere.\nLet’s now use this new perspective to look at the 2D noise plane from the last section from a\nfresh angle.\n5.3.2 Three-dimensional noise\nBegin by entering the code from the following listing into a new window.\nListing 5.5 2D noise from a 3D perspective\nimport processing.opengl.*;\nfloat xstart, xnoise, ystart, ynoise;\nvoid setup() {\n  size(500, 300, OPENGL);\n  background(0);\n  sphereDetail(8);\n  noStroke();\n  \n  xstart = random(10);\n  ystart = random(10);\n}\nvoid draw () {\n  background(0);    \n  \n  xstart += 0.01;      \n  ystart += 0.01;\n  \n  xnoise = xstart;\n  ynoise = ystart;\n  \n  for (int y = 0; y <= height; y+=5) {\n\t\n(continued on next page)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 137
  },
  {
    "chunk_full": "96\n\t\n(Listing 5.5 continued)\n    for (int x = 0; x <= width; x+=5) {\n      xnoise += 0.1;\n      drawPoint(x, y, noise(xnoise, ynoise));\n    }\n  } \n}\nvoid drawPoint(float x, float y, float noiseFactor) {\n  pushMatrix();\n  translate(x, 250 - y, -y);\n  float sphereSize = noiseFactor * 35;\n  float grey = 150 + (noiseFactor * 120);\n  float alph = 150 + (noiseFactor * 120);\n  fill(grey, alph);\n  sphere(sphereSize); \n  popMatrix();\n}\nAside from the change in renderer, this is similar to listing 5.4. The main difference is to the\ndrawPoint function. Instead of translating to a 2D point, you translate to a 3D point. The code\nreuses the y value for the z depth as a shortcut; doing so creates a tiered square, sloping \n\nTwo-dimensional noise, three-dimensional perspective\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 138
  },
  {
    "chunk_full": "5\nGenerative Art | Pearson\n 97\nAdding Dimensions\nChanges renderer to P3D\nbackward like theatre seating. At each 3D point, you create a sphere with a radius, fill color and\nalpha relative to the noise value. The result is another gently moving cloudscape, but with a better\nperspective (see figure 5.6).\nThe perspective is three-dimensional, while the plane you’re looking at, and the noise sequence\nthat defines it, remain essentially two-dimensional. But the noise function can take up to three\nparameters, so you have the capability to generate noise in three dimensions. The visual metaphor\nfor three-dimensional noise will no longer be a mountain range: now you need to imagine a\ncloud, or a smoke-filled room, and consider how you might use that type of variance to create\nvisualization. You can begin by building a controlled block of this noise.\nYou’ll need to make a few changes to the loop. You’ll now be iterating through all the points in a\ncube rather than a plane, and so you’ll pass four parameters to the drawPoint function: x, y, z\nand the three-dimensional noise value for that point. The changes are made in the next listing.\nListing 5.6 Constructing a cube of three-dimensional noise\nfloat xstart, ystart, zstart;\nfloat xnoise, ynoise, znoise;\nint sideLength = 200;\nint spacing = 5;\nvoid setup() {\n\t\n  background(0);\n  noStroke();\n  \n  xstart = random(10);\n  ystart = random(10);\n  zstart = random(10);\n}\nvoid draw () {\n  background(0);    \n  xstart += 0.01;       \n  ystart += 0.01;    \n  zstart += 0.01;    \n   (continued on next page)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 139
  },
  {
    "chunk_full": "98\nReposition to get  \na better perspective\nThree loops now\n\t\n(Listing 5.6 continued)\n  ynoise = ystart;\n  znoise = zstart;\n  \n\t\n\t\n\t\n  \n\t\n\t\n\t\n    for (int y = 0; y <= sideLength; y+=spacing) {\n      ynoise += 0.1;\n      xnoise = xstart;\n      for (int x = 0; x <= sideLength; x+=spacing) {\n        xnoise += 0.1;\n        drawPoint(x, y, z, noise(xnoise, ynoise, znoise));\n      }\n    } \n  }\n}\nvoid drawPoint(float x, float y, float z, float noiseFactor) {\n  pushMatrix();\n  translate(x, y, z);\n  float grey = noiseFactor * 255;\n  fill(grey, 10);\n  box(spacing, spacing, spacing);\n  popMatrix();\n}\nThe cube you build is made up of almost-transparent boxes, the color of which varies by the\nthree-dimensional noise factor. It’s still difficult to see, which is why you need the code to spin it\naround. You’ve essentially created a cloud in a box (see figures 5.7 and 5.8).\nCalculating your way around three dimensions isn’t straightforward: the math of 3D space is\nconsiderably more complicated than traversing a 2D canvas. But it comes with practice. After\nyou’ve played with it a while and got the hang of it, you may consider taking the “break it down,\nbuild it back up” approach of the previous two chapters and trying it with 3D shapes. By way of\nexample, we’ll end this chapter with a quick look at the trigonometry of a sphere. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 140
  },
  {
    "chunk_full": "5\nGenerative Art | Pearson\n 99\nAdding Dimensions\n\nThe source code for Haunted Fishtank (Abandoned Artwork #49), available at http://abandonedart.\norg/?p=449, is similar to the system you’ve developed in this section.\nFigure 5.7  \nThree-dimensional noise: a cloud in a box \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 141
  },
  {
    "chunk_full": "100\n5.3.3 The wrong way to draw a sphere\nBelow are the not-so-magic formulae for plotting points on the outer edge of a sphere. They’re\nsimilar to the formulae for points on a circle (see chapter 4), but they require two angles (s and \nt) to determine a location relative to the center point:\nx = centreX + (radius * cos(s) * sin(t));\ny = centreY + (radius * sin(s) * sin(t));\nz = centreZ + (radius * cos(t));\nTo construct a sphere without using Processing’s sphere function, you’ll take the same approach\nyou did in section 4.1: iterate around rotations of these two angles. In doing so, you can project\na line to every point on a sphere’s outer surface. \nSee the following listing for one application of this technique. The t angle circles around the central\naxis many times in 18-degree jumps, while the s angle does one slow 180-degree rotation turn. \nListing 5.7 Spiraling around a sphere\nimport processing.opengl.*;\nint radius = 100;\nvoid setup() {\n  size(500, 300, OPENGL);\n  background(255);\n  stroke(0);\n} \n  \nvoid draw() {\n  background(255);\n  \n  translate(width/2, height/2, 0);    \n  rotateY(frameCount * 0.03);\n  rotateX(frameCount * 0.04);\n  \n  float s = 0;\n  float t = 0;\n  float lastx = 0; \n  float lasty = 0;\n  float lastz = 0;\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 142
  },
  {
    "chunk_full": "5\nGenerative Art | Pearson\n 101\nAdding Dimensions\nradians for trig\n\n  while (t < 180) {\n     s += 18;  \n     t += 1;   \n     float radianS = radians(s);             \n\t\n     \n     float thisx = 0 + (radius * cos(radianS) * sin(radianT));\n     float thisy = 0 + (radius * sin(radianS) * sin(radianT));\n     float thisz = 0 + (radius * cos(radianT));\n     \n     if (lastx != 0) {\n        line(thisx, thisy, thisz, lastx, lasty, lastz);\n     }\n     lastx = thisx; \n     lasty = thisy; \n     lastz = thisz;\n  }\n}\nThe result is a spiral drawn onto the surface of a virtual sphere, as shown in figure 5.9.\nFigure 5.9 \nSpiraling around a sphere\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 143
  },
  {
    "chunk_full": "102\n\nFrosti (2010). A video work created by applying Perlin noise to a deconstructed sphere:  \nhttp://vimeo.com/9712740\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 144
  },
  {
    "chunk_full": "5\nGenerative Art | Pearson\n 103\nAdding Dimensions\nThe three lines of trig at the beginning of this section have served me well in my own work.\nThey’re the core math wizardry behind my video piece Frosti (2010), for example (see figure \n5.10). I leave you with this magic to make your own, to take and pervert into your own creations. \n5.4 Summary\nWhen an experiment feels like it has no further to go, you can always try adding an extra\ndimension. Be it a dimension in space or time. In this chapter, we’ve tried both. We’ve also\nintroduced three-dimensional drawing in Processing, which can now be considered an extra\nstring to your bow. \nWe have now, in this and previous chapters, pretty much exhausted Perlin Noise. Hopefully you\nnow have a good appreciation of the range of effects you can produce with it. Anywhere we need\na nice naturalistic variance it can be employed, which makes it such a useful convenience it is\nnever going to fall too far down the toy box. I imagine it would be possible to spend a lifetime\ncoming up with new ways to visualize this single algorithm, and when you tired of it you can\nchange algorithm and waste a second lifetime. \nAs far as this book is concerned, we’re putting down the noise and random functions for a while\nso we can look at a more organic way of exploring unpredictability. In part 3, we’ll introduce an\neven cooler mathematical toy: emergence. We’ll look at the simulation of natural processes,\nand practical ways of evoking natural forms the way they’re constructed in the world outside\nof our laptops. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 145
  },
  {
    "chunk_full": "",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 146
  },
  {
    "chunk_full": "Complexity\nPart\n  “\nThe distinction that’s new, and that we didn’t used to make,  \nis that something can be deterministic but not predictable.  \n \n \n \nWe tend to think they are synonyms but they’re not. \n \nSomething can be obeying some law of nature but it’s not predictable  \n \n \n \n \nbecause what it’s doing is so complicated \nthat the time it would take you to calculate what it was going to do  \n \n \n \n \n \nwould take longer than the thing actually doing it. \n \nSo you could compute it but you can’t compute the world  \nany faster than it is happening. ”\nRudy Rucker, in interview, 2007\nthree\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 147
  },
  {
    "chunk_full": "106\n\nA murmation of starlings over Brighton’s West Pier, photographed by Kevin Meredith (http://lomokev.com). \nLow-level rules creating higher-level organization.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 148
  },
  {
    "chunk_full": "Chapter Six\nEmergence\nI find these formations mesmerizing, because they appeal to both sides\nof my brain. One hemisphere appreciates the natural aesthetic beauty\nof these creatures in motion and the shapes they form, but there is also\nthe mathematical beauty of the flocking algorithm they are following, that\nchallenges my logical side. Each bird in the formation is obeying simple\ninstincts, oblivious to the higher-level pattern the flock is creating. Their\nbehavior is defined by a small set of rules—orienting themselves in relation\nto their immediate neighbors, seeking the center of the flock, avoiding the\npaths of other birds—but these simple low-level rules, when applied en\nmasse, create patterns of abstract beauty on a higher level. \n6\n 107\n 107\nI live in Brighton, on the southern coast of England. I moved here after a\nlifetime of living in urban environments; so I was, and remain, enraptured\nby the view to the south, where there is nothing but sea and sky. I\nused to walk home past Brighton’s West Pier, a once-beautiful Victorian\npleasure palace, abandoned since the 1970s and burned to a skeleton\nin 2003. It’s now home to many thousands of starlings, and every night\nshortly before the sun goes down they perform a stunning murmation,\ncircling in complex formations before settling to roost (see figure 6.1).\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 149
  },
  {
    "chunk_full": "108\n6.1 Emergence defined\nThis phenomenon, whereby a simple rule set at a low level creates organized complexity on a\nhigher level, is called emergence. The term was first coined in the mid-19th Century by George\nHenry Lewes, the English psychologist, philosopher, and sometime lover of George Eliot, in a\npaper on the mind; but notions of the whole being greater than the sum of its parts can be dated\nback as far as Aristotle. In recent decades, the concept of emergence has found a new relevance\nand wider popularity through its application to Complexity theory, first by John Holland in his\nbook Emergence (1989), and later for a more popular audience by Steven Johnson in a 2001\nbook of the same name. \nIn a nutshell, emergence is the observation of how complex and coherent patterns can arise\nfrom a large number of small, very simple interactions. The classic example is the ant colony, an\norganism that has clearly defined, logical and coherent behaviors observable on two different\nscales. When we study the patterns of each ant, we see that each one has needs, abilities, and\npheromone responses that define its behavior as an individual insect. But when we study the\ncollective behavior of the colony, we again see sophisticated behavioral patterns; the colony\noperating like a city, with factories, defenses, and waste-disposal facilities. What is remarkable\nis the fact that these macro patterns aren’t formed through any central design or intent: they’re\nnothing more than byproducts of the local self-interested behaviors of the individuals collectively.\nThese behaviors, seemingly insignificant on the micro level, form a more complex macro-\norganism when viewed collectively. \nThis is the principle we’ll be trying to harness in the next few chapters. When you create a large\nnumber of small agents with simple behaviors, collectively they can become capable of producing\na more complex, emergent, behavior on the macro level.\n6.1.1 Ant colonies and flocking algorithms\nThe common myth, still prevalent today among lazier minds (including the makers of animated\nfilms) is that ant colonies operate in a hierarchical organization, with the queen at the top of a\nchain of command. With our human-centric perspective, this is the type of organizational patterns\nwe find ourselves seeking; but the myth has been debunked in studies as far back as the 1970s.\nNo central organization defines the structure and operation of an ant colony. All these global-\nlevel patterns and structures arise as the result of a large number of local-level micro-decisions.\nDesign, hierarchy, pacemakers, and any other form of higher-level influence have no part in it. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 150
  },
  {
    "chunk_full": "6\nGenerative Art | Pearson\n 109\nEmergence\nThe role of the queen is as perfunctory as that of every other ant with a job to perform within the\ngreater whole. There is no trickle-down command; the ants’ organization is from the bottom up.\nIt is grass-roots. Emergent.\nSimilarly, the murmating starlings aren’t following a leader as they swirl around the West Pier.\nThe flock is made up of individuals, with individual behavioral impulses. Each starling looks only\nto its immediate surroundings and the movement of its closest neighbors to define the speed\nand orientation of its flight. This effect has been modeled in computing, most famously by Craig\nReynolds in his Boids algorithm, first published in 1987. Reynolds discovered that to produce a\nrealistic flocking simulation in code, he needed only three rules:\n• Separation—Steer to avoid your immediate neighbors.\n• Alignment—Steer to align with the average heading of your immediate neighbors.\n• Cohesion—Steer toward the average position of your immediate neighbors.\nMore complex rules can be added (object avoidance, for example), but these three are all that\nare required to achieve a complexity comparable with the West Pier starlings. Dan Shiffman\n(and others) have created Boids implementations in Processing, which are fun to adapt. I won’t\nreproduce the code here, because it’s a little lengthy and more complex than required for the\npurposes of this chapter; but you can copy it from http://processing.org/learning/topics/flocking.\nhtml if you want to play with it. One example of my experiments with this code is shown in figure \n6.2, and there are more sophisticated adaptations among the color images in the introduction.\n\nBlonde Boids (Abandoned Artwork #4) was my adaptation of Dan Shiffman’s adaptation  \nof Craig Reynolds Boids code.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 151
  },
  {
    "chunk_full": "110\nIt’s difficult to get far  with flocking algorithms, and other forms of emergent code, without a\nbasic understanding of object-oriented approaches to programming. This is the main thrust of\nthis chapter and something we’ll get on to in section 6.2. But before we do, I want to give you a\nlittle more context on what emergence means from a sociological perspective.\n6.1.2 Think locally, act locally\nThe concept of emergence, particularly in relation to both the natural world and society, has\nnecessitated a steady political shift upon its path to wider, mainstream acceptance. The concept\nwas extremely left-field in the 1950s (Alan Turing’s final work before his death in 1954 was on\nthe subject of morphogenesis: the way patterns formed in nature through emergent rules),\ngroundbreaking in the 1970s and 80s, and the subject of excited discussion in the 1990s. It’s\nonly now becoming more comfortable and familiar in the web-savvy 21st century, because the\ninternet has played no small part in changing the way we view other forms of organization. \nThe idea that a self-organized collective—be it the single cells of a slime mold, the ants of a\ncolony, the human inhabitants of a city, or the globally distributed users of the web—can organize\nthemselves into coherence is understandable and acceptable in a world where we conduct much\nof our intellectual discourse via the distributed nodes of the internet. Most of us can grasp how\na network like Twitter, for example, can have a significant sociological meaning, even though\neach of its single 140-character tweets is near meaningless.1 Each user’s tweeting is either\nentirely self-interested or influenced by a small local group of a few hundred followers. But the\nmeta-patterns of this chatter, when multiplied by hundreds of thousands, shape themselves into\ncultural shifts and global opinions. All we need is the right perspective, tools, or visualizations\nto be able to appreciate them. \nEmergent networks like this have incredible but subtle strength and resilience. Their power is in\ntheir distribution. Each node is too small to be meaningful individually, so it’s difficult to target,\ninfluence, or attack an emergent body. The internet avoids the vulnerabilities of a centralized\norganization in the same way a slime mold does: if a single node were to be lost or damaged,\nthe greater whole would feel little effect. Distributed file-sharing networks share this principle,\nresilient to legislation because there is no central point to target. \n1.  The Twitter protocol itself may be seen as an emergent phenomenon. Its syntax (hashtags, @ \naddresses, and so on) were never designed by its creators but have been adopted from the bottom up, \nthrough their use by the collective.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 152
  },
  {
    "chunk_full": "6\nGenerative Art | Pearson\n 111\nEmergence\nClearly, there are political connotations here. Emergence may suggest that, if it works so well for\nthe natural world, central organization in the human world — governments, institutions — may be\nlargely redundant. Ants follow local pheromone cues, oblivious to the effect of their decisions on\nthe colony as a whole, just as humans give their local concerns (wealth, status, security, and so\non) priority over the needs of the macro-organisms they form (groups, cities, countries). While our\ngrander objectivity acknowledges that our car use is having devastating environmental effects\non a global scale, it doesn’t influence many to sacrifice the convenience a car allows them to\nget to the supermarket a little quicker. Even an understanding of the greater whole and how the\neffect works doesn’t change the micro-behavior.\nMany newer, more radical groups have acknowledged and embraced emergence as an\norganizing principle. Anti-globalization and environmental protest groups, for example, have\nexplicitly modeled themselves after distributed, self-organized systems, as have the champions\nof file sharing. \nThere is a theory from the realms of neuroscience that argues that perhaps consciousness\nitself — the sense of self that is interpreting these words — is an example of emergence, being\na macro-level coherence formed from the micro-interactions between firing synapses within our\nbrains. Our whole sense of being may be an emergent effect.\nIt’s a concept with many applications and theories across many disciplines; but for our interests,\nemergence is of relevance as a way of generating organic artworks. It’s relevant first because\nemergence dictates how many forms of the natural world organize and construct themselves. If\nyou wish to resonate with this aesthetic, you should pay attention to how it works. Second, within\na methodology whereby you work with the simple logic of the programming language, where you\nencourage artworks to grow from logical seeds, and you wish to evolve a complexity sufficient to\nbe visually interesting, the principles of emergence seem to be an ideal tool for getting complex\nresults from simple code.\nUntil now, you’ve relied heavily on randomization and noise functions as ways of introducing\nunpredictability to your creations; but you’ll discover that you don’t always need such an obvious\napproach. You can program algorithms with a simplicity your animal brain can understand, but\nwhich through minimal abstraction can develop a complexity beyond what you could predict.\nOver the coming pages we’ll explore emergence in code. In the section to follow, you’ll stumble\nacross it as an accidental byproduct of simple programming. Then, in chapter 7, you’ll create it\nagain via the more organized approach of cellular automata, among other ideas. Chapter 8, on\nthe subject of fractals, then builds on this way of programming, adding the further concept of\nself-similarity. Throughout the chapters in this final part of the book, you’ll see copious examples\nof code that mirrors the organizational principles of the natural world. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 153
  },
  {
    "chunk_full": "112\n6.2 Object-oriented programming\nThere is a mission to the rest of this chapter: we’re going in search of the emergent complexity\nI just described. But in order to do this through the medium of code, we first need several new\ntools. In the next few pages, you’ll learn the basics of object-oriented programming (OOP).\nIf you’re a seasoned programmer, you’re probably already familiar with this concept—very\nfew languages above a certain power and sophistication don’t accommodate object-oriented\nstructures. But even if you’re on familiar ground, please bear with me, because OOP is only half\nof what I’m trying to illustrate.\nIf you’ve never heard the term before, OOP is just a small conceptual leap in how you think\nabout coding. Rather than giving the machine the task of dealing with a linear progression of\ninstructions, which is what you’ve done so far, you think in terms of creating objects in memory:\nself-contained data boxes that you can then use within the familiar linear programming style.\nThis conceptual shift is sometimes a little difficult for beginners, but it’s nothing to be scared\nof. All it’s really going to involve initially is drawing some circles and seeing where it takes you.\nRemember that what you’re really doing in this chapter is seeking emergent complexity, and I\nguarantee it won’t be long until you see some. First, let’s look at classes and instances.\n\nThe output of listing 6.1: randomly generated circles\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 154
  },
  {
    "chunk_full": "6\nGenerative Art | Pearson\n 113\nEmergence\n6.2.1 Classes and instances\nLet’s start simple. The following listing creates a script that draws a handful of randomly placed\ncircles every time the mouse is clicked.\nListing 6.1 Code to draw a few circles at the click of the mouse\nint _num = 10;          \nvoid setup() {\n  size(500,300);\n  background(255);\n  smooth();\n  strokeWeight(1);\n  fill(150, 50);\n  drawCircles();        \n}\nvoid draw() {\n                        \n}\nvoid mouseReleased() {\n  drawCircles();        \n}\nvoid drawCircles() {\n  for (int i=0; i<_num; i++) {\n    float x = random(width);\n    float y = random(height);\n    float radius = random(100) + 10;\n    noStroke();\n    ellipse(x, y, radius*2, radius*2);\n    stroke(0, 150);\n    ellipse(x, y, 10, 10);\n  }\n}\nI hope you can follow what’s happening here. The script creates 10 circles at random positions on\nthe screen every time you click the mouse. Try it a few times to get something similar to figure 6.3.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 155
  },
  {
    "chunk_full": "114\nObject color and alpha \n Object properties\nObject constructor\nSo far, the circles are pretty unsophisticated. They’re thrown at the screen and left there, and\nyou don’t have any way to do anything further with them. If you reapproach the circles and define\nthem in a more organized way, you’ll find they’re capable of a little more life. Instead of just telling\nProcessing to draw a circle, let’s instead create a circle object. The circle object will encapsulate\neverything there is to know about itself, which at the moment isn’t much more than the x,y of its\ncenter point, and its radius.\nAn object, in programming, isn’t too dissimilar from the concept of an object in the real world.\nImagine a rock: this is an object. It has properties—color, weight, roughness—just as the circle\nobject has an x,y and a radius. There are also things you can do with the rock: it has functions; it\ncan be thrown, it can be hit with a hammer, it can be placed on a desk to use as a paperweight.\nIt can also be disposed of before it becomes too convoluted a metaphor; let’s do that and look\ninstead at how you model an object in Processing.\nDefining an object is very similar to defining a function. You use the class keyword to specify\nthat this is a reusable object you’re defining. Add the contents of the next listing to the bottom\nof your sketch.\nListing 6.2 A Circle class\nclass Circle { \n\t\n\t\n\t\n\t\n \n\t\n    x = random(width);\n    y = random(height);\n    radius = random(100) + 10; \n\t\n\t\n\t\n  }\n}\nWhat you have done here is not define a single object, but a class of all objects of that type.\nThink of it as a template that you can reuse. You don’t need to make lots of different circles; you\ncan just create an instance of the circle class, an object constructed according to the template\nyou’ve defined.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 156
  },
  {
    "chunk_full": "6\nGenerative Art | Pearson\n 115\nEmergence\nNote that so far, this is purely conceptual. You haven’t drawn a circle to the screen—you haven’t\neven created a circle yet. You’ve just defined the template for it. To create an actual object from\nthis template, an instance of the class, you call the constructor by using the new keyword, as\ndemonstrated in this new version of the drawCircles function:\nvoid drawCircles() {\n  for (int i=0; i<_num; i++) { \n    Circle thisCirc = new Circle();    \n  }\n}\nFine so far, but you’re still not actually drawing any circles, just creating them conceptually in\nmemory. You’ve only defined the properties (variables) and the constructor (the function called\nwhen an object of that class is created) of the class so far. If you want to do something with the\nclass, you need to add some methods (functions) to it, as per the following listing. \nClasses and instances\nThe difference between classes and instances of those classes is important. If you can\ndigest this one concept, you’ve cracked OOP. \nA class is a definition for a collection of objects. For example, if we define a class \n80s English indie band, it describes a number of objects with shared characteristics\n(guitars, backcombed hair, maudlin lyrics. and so on). We can make an instance of that\nclass called The Smiths and a second instance called Echo and The Bunnymen. Both\nare independent of each other but can share common functionality; recordAlbum(),\nfeatureInJohnHughesFilm(),  splitAcrimoniously(), etc.\nThe class is a template: it defines only the parameters these objects share, functions\nthey can perform, and logic for how an object can be constructed. A class becomes an\nobject only when you make an instance of it.\nIn one of our lazy human languages, you might say you once saw an 80s English indie \nband, but what you mean is that you once saw one or more instances of 80s English \nindie band. You can’t get drunk and dance to a conceptual definition, no matter how\npost-modern you think you are. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 157
  },
  {
    "chunk_full": "116\n Properties\n Constructor\n Object method\nListing 6.3 The Circle class again, with its first method\n class Circle {\n  \n\t\n \n  float radius; \n  color linecol, fillcol; \n  float alph; \n  \n\t\n    x = random(width);\n    y = random(height);\n    radius = random(100) + 10; \n    linecol = color(random(255), random(255), random(255));\n    fillcol = color(random(255), random(255), random(255));\n    alph = random(255);\n  }\n  \n\t\n \n    noStroke(); \n    fill(fillcol, alph);\n    ellipse(x, y, radius*2, radius*2);\n    stroke(linecol, 150);\n    noFill();\n    ellipse(x, y, 10, 10);\n  }\n}\nNow, update the drawCircles function to call this method after you’ve created the object:\nvoid drawCircles() {\n  for (int i=0; i<_num; i++){ \n    Circle thisCirc = new Circle();    \n    thisCirc.drawMe();             \n  }\n}\nEt voilà, you have some circles, much as in figure 6.3. Great. This may seem like an awful lot\nof effort to get to where you were a few pages back. But when you start playing with the new\nstructure, you’ll see what you’ve gained by encapsulating the circles as objects. Now you can \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 158
  },
  {
    "chunk_full": "6\nGenerative Art | Pearson\n 117\nEmergence\nDefine array of circles \nAdd object to array\ngive each of the circles actions, behaviors, and lives of their own. You could also give them\nfeelings and opinions if you chose to, but we’ll save that for chapter 7. For now, we’ll concentrate\non making them drift around and interact with each other.\nLet’s make another few updates to the code. In listing 6.4, you do the following:\n• Create an array to store all the circles.\n• Give each circle a movement factor in the x and y directions.\n• Give each circle an updateMe method, called every frame by the draw loop.\nListing 6.4 Object-oriented circle-drawing code with movement\nint _num = 10;\n\t\nvoid setup() {\n  size(500,300); \n  background(255);\n  smooth();\n  strokeWeight(1);\n  fill(150, 50);\n  drawCircles();\n}\nvoid draw() {\n  background(255);\n  for (int i=0; i<_circleArr.length; i++) {\n    Circle thisCirc = _circleArr[i];\n    thisCirc.updateMe();\n  }\n}\nvoid mouseReleased() {\n  drawCircles();\n}\nvoid drawCircles() {\n  for (int i=0; i<_num; i++) { \n    Circle thisCirc = new Circle();\n    thisCirc.drawMe();\n\t\n\t\t\t\t\t \t\n(continued on next page)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 159
  },
  {
    "chunk_full": "118\nWrap position \nat stage edges\nMove every frame\nSteps to move every frame\nRandom step \n\t\t \t \t \t \t\n(Listing 6.4 continued)\n//================================= objects\nclass Circle {\n  float x, y;\n  float radius; \n  color linecol, fillcol; \n  float alph;\n  float xmove, ymove;                            \n  \n  Circle () {\n    x = random(width);\n    y = random(height);\n    radius = random(100) + 10; \n    linecol = color(random(255), random(255), random(255));\n    fillcol = color(random(255), random(255), random(255));\n    alph = random(255);\n\t\n \n\t\n  }\n  \n  void drawMe() { \n    noStroke(); \n    fill(fillcol, alph);\n    ellipse(x, y, radius*2, radius*2);\n    stroke(linecol, 150);\n    noFill();\n    ellipse(x, y, 10, 10);\n  }\n  \n  void updateMe() {\n\t\n\t\n\t\n\t\n\t\n\t\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 160
  },
  {
    "chunk_full": "6\nGenerative Art | Pearson\n 119\nEmergence\nDraw it\n\t\n \n  }\n}\nNow the circles are moving around. The updateMe method changes each object’s x and y\npositions and wraps it if it’s drifted offscreen. The drawMe method then renders the instance\nto the screen.\nNotice how, when you click to add more circles, the previous circles stay onscreen unchanged.\nYou’re still clearing the canvas every frame (you call background(255) in the draw frame loop); \nbut because the objects remain in memory, they don’t go anywhere, so you can redraw them\nwhenever you need them. Even if you didn’t render them to the screen every frame, they would\nstill be there in memory, following their paths invisibly.\nIf you click several times, bringing the circle count into the hundreds, then thousands, you’ll notice\nthat the performance of the movie starts to suffer. Depending on the speed of your machine,\nyou can probably comfortably manage a few hundred circles independently moving around the\nscreen before you see any sign of the animation slowing down, but you should start to get an\nappreciation of the limits of your processor.\nUsing Arrays\nAn array is a list of objects of a certain type. If you define an array as\nint[] numberArray = new int[5]; \nyou’re saying that you want a list of five items, all of type int. \nYou can specify what those five items are when you define the array using the braces\nsyntax: \nint[] numberArray = {1, 2, 3, 4, 5};\nHowever you define it, you can add items to each position like so:\nnumberArray[2] = 3; \nThis places a 3 as the third item, not the second. The first position is index 0, so the\nthird item is index 2.\nAn empty array, with no items, is defined as follows:\nint[] numberArray = {};\nTo add an extra slot to an array and place data in that slot (as you do in listing 6.4), you\nuse append. Note that you need to cast the new array returned by this command to the\ncorrect type, such as int[]:\nnumberArray = (int[])append(numberArray, 6);\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 161
  },
  {
    "chunk_full": "120\nYou have the object-oriented structure, and you have an application capable of generating many,\nmany simple objects. Next, lets look at how you might tweak this system and tease out some\nemergent patterns. \n6.2.2 Local knowledge (collision detection)\nAn instance created from the Circle class has what we might call self-awareness. It knows\neverything there is to know about itself, but nothing about the environment it’s in or how it’s being\nused by the script. If this was one of the murmating starlings, it would be flying blind, unable to\nsee its flock-mates. You can change this though, and give the objects created from the class\nsome rudimentary senses. \nYou have all the circle objects in an array; so by looping through this array, which is available\nglobally (to all objects), each object can test itself against every other object (regardless of\nwhether that object is onscreen or not). For this example, you’ll test to see if the current circle is\noverlapping any other circle. This is called, in gaming parlance, collision detection. \nCollision detection (and collision correction — making an object react realistically to a collision)\nis one of the dark arts of games programming. To have a realistic physics systems, objects need\nto be able to have an awareness of the environment around them and its inhabitants, and be able\nto react to their surroundings. As environments get more complex, and the number of inhabiting\nobjects increases, this becomes quite a processor intensive action to perform every frame loop,\nespecially if objects are of peculiar shapes. \nThere are entire books devoted to this topic, and for our needs we don’t require a realistic physics\nsimulation, so we’ll keep the example simple. When you’re dealing with circles, you just need a\nbit of trig to check the distance between two points; and Processing has a built-in dist function \nthat does the calculation for you. If you check the distance between the centers of two circles and\nsubtract their radii, if anything is left, you know the two circles aren’t touching. This calculation\nrequires a few extra lines in the updateMe function, as you can see in the following listing.\nListing 6.5 Circle class’s updateMe method with added collision detection\n  void updateMe() {\n    x += xmove;\n    y += ymove;\n    if (x > (width+radius)) { x = 0 - radius; }\n    if (x < (0-radius)) { x = width+radius; }\n    if (y > (height+radius)) { y = 0 - radius; }\n    if (y < (0-radius)) { y = height+radius; }\n    \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 162
  },
  {
    "chunk_full": "6\nGenerative Art | Pearson\n 121\nEmergence\nother circles\nDon’t test current circle\n    boolean touching = false;\n\t\n      Circle otherCirc = _circleArr[i];\n\t\n\t\n        if ((dis - radius - otherCirc.radius) < 0) {   \n          touching = true;\n          break; \n        }\n      }\n    }\n    if (touching) {\n      if (alph > 0) { alph--; }\n    } else {\n      if (alph < 255) { alph += 2; }\n    }\n    drawMe()\n}\nThe loop you’ve added checks through every other circle in the array and tests how far away it is.\nIf it’s overlapping, the touching flag is set to true, and it breaks out of the loop. The if statement\nthen applies an effect depending on whether the circles are intersecting. If circles are overlapping,\nthey fade. They increase in opacity if they’re in the clear. This should mean that smaller circles,\nwhich overlap other circles less as they move around, tend toward solidity, whereas larger circles\nbecome more transparent. Run the code to see it in action.\nI’m sure you can come up with something more visually interesting to do with this behavior, but\nbefore I leave you to play around with it, let’s try a little something. Where circles collide, let’s\ndraw another circle at the midpoint between them. \n6.2.3 Interaction patterns\nThe only potentially tricky bit here is calculating the midpoint between two circles that could be\nanywhere on (or off) screen. You need to ensure that all bases are covered. If the x position of\nthe current circle is greater than the x position of the intersecting circle, the midpoint x is \nx + (otherCirc.x – x)/2\nIf it’s less, the midpoint is \notherCirc.x + (x - otherCirc.x)/2\nCalculates distance \nbetween circles\nLoops through \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 163
  },
  {
    "chunk_full": "122\nCalculates overlap\nNegative overlap = touching\nCalculates midpoint\nThis is one way of doing it, but there is a neater way that will cover both possibilities with a single\nline of code. The average of the two x values will give us the midpoint between them, you can\ncalculate this by adding them together and dividing by 2.\n(x + otherCirc.x)/2\nThe same applies in the y direction. When you have the x and y position, you can mark it by\ndrawing a circle at that point, with the radius of the circle dictated by the size of the overlap. The\nupdated method is shown next.\nListing 6.6 Circle class’s updateMe method again, now with circles\nvoid updateMe() {\n    x += xmove;\n    y += ymove;\n    if (x > (width+radius)) { x = 0 - radius; }\n    if (x < (0-radius)) { x = width+radius; }\n    if (y > (height+radius)) { y = 0 - radius; }\n    if (y < (0-radius)) { y = height+radius; }\n    \n   for (int i=0; i<_circleArr.length; i++) {\n      Circle otherCirc = _circleArr[i];\n      if (otherCirc != this) {  \n        float dis = dist(x, y, otherCirc.x, otherCirc.y); \n\t\n\t\n\t\n\t\n\t\n          stroke(0, 100);\n          noFill();\n          overlap *= -1;                         4\n          ellipse(midx, midy, overlap, overlap); 5\n        }\n      }\n    }\n    \n    drawMe();\n  }\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 164
  },
  {
    "chunk_full": "\nThe circles are following a simple behavior you’ve programmed. But in the interaction between the \ncircles, a new, emergent complexity is apparent.\n\nRemoving the original behavior, all you have left are the emergent patterns, which are far more interesting.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 165
  },
  {
    "chunk_full": "124\n\nIt took 170 circle objects to create this. I can only guess how many actual circles are on the screen.\n\nThe emergent circles, abstracted further using a softer line and traces\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 166
  },
  {
    "chunk_full": "6\nGenerative Art | Pearson\n 125\nEmergence\nRun that, and you’ll see a whole new pattern emerging. Figure 6.4 shows the output. You’re\ndrawing the circles, which position themselves according to the simple behavior you’ve given\nthem, but you’ve also discovered an emergent property of the interaction between the circles.\nAbstracting this behavior by only a small degree, you’ve stumbled upon a new layer of complexity.\nThis new emergent behavior is clearly much more interesting than the simple one you built in the\ncode. Let’s isolate that so you can see it more clearly. If you comment out, or remove, the call to\ndrawMe in the updateMe function, you get rid of the original circles. The circles are still there, of\ncourse; you’re just not drawing them to the screen anymore. When you’ve done this, you have\nsomething that looks a little like figure 6.5.\nNext, add a line to the mouse-press function to trace the current number of circles to the console\nwindow, so you can see how many circles you need to produce what effect:\nvoid mouseReleased() {\n  drawCircles();\n  println(_circleArr.length); \n}\nI kinda liked 170 (see figure 6.6).\nThis clustering pattern, made up of nothing but circles, isn’t a product of intention. The pattern\nis a byproduct of the interactions between the behaviors you programmed, not the behaviors\nthemselves. Typically, it’s in the interactions between agents that you find the emergent patterns.\nA single starling follows a flight pattern that obeys a set of rules; but place that bird in a flock,\nand the complexity of the pattern increases several-fold, while the rule set remains unchanged.\nIn this example, the behaviors couldn’t have been much simpler: a number of objects moving\nin straight lines. And the drawing style was pretty basic, too. If you want to take this further, you\ncan follow a lot of paths. To start you off, here are a few ideas. How about:\n• Leaving traces—Don’t clear the screen between frames. Draw a transparent rectangle over\neverything instead (as described in 2.4.2).\n• Reducing the alpha and stroke weight—Make the lines more subtle to turn hard edges into\nan organic blur (see figure 6.7).\n• Plotting more complex paths—You’ve already seen in previous chapters how there are far\nmore interesting routes to take between two points than a straight line. How about plotting\nmovement along a curve, for example?\n• Drawing more interesting shapes—Draw something more exciting than a simple circle. You\ncan even import images to be the visual representations of objects. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 167
  },
  {
    "chunk_full": "126\n6.3 Summary\nIn this chapter, we’ve introduced the concept of emergence, discussed examples, and then,\nliving up to my promise, discovered one of our own: an emergent effect from the simplest of\nobjects behaving in the simplest of manners. I hope this has demonstrated how easy it is: how\nemergence isn’t something you need to work at, it’s something you may stumble upon almost\nby accident. Any system of many parts above a certain (relatively low) level of complexity, will be\nprone to emergent complexity. The only trick is exploiting it.\nWe haven’t relied on randomness or noise to introduce the generative element to the code in this\nchapter. All we’ve done is apply a level of abstraction sufficient to introduce an unpredictable\ncomplexity. Simple rules creating complex results.\nOne other achievement we’ve unlocked in this chapter is the mastery of a very useful programming\nmethodology: object-oriented programming. This will open us up to more advanced coding\npossibilities in the remaining chapters (and beyond).\nIn the next chapter, we’ll stick with the topic of emergent complexity but take a more structured\napproach to its creation. We’ll take our understanding of OOP and refine it toward a definition\nof agent-oriented programming.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 168
  },
  {
    "chunk_full": "Chapter Seven\nAutonomy\nObject-oriented programming (OOP) is a programming conceit. Objects are\nfor organizing conceptual things into conceptual structures. An “object” can\nbe anything: a speck within a particle system, a game character, a pure\ndata form, or just a neat way of collecting variables and methods.\nIt doesn’t necessarily have to correspond to anything that has a visual form\nor identity; it’s a data holder. But you don’t need to think of objects in such\nclinical terms. If you chose to define them so, you could give your objects\nfeelings, aspirations, failings, and destinies. They can be active citizens in\na virtual world, albeit a highly abstract one. Your objects can be more than\ndata holders: they can be autonomous agents.\nThe difference between an object and an agent, in programming parlance,\nis that agents, specifically, observe and interact with their environment.\nThey may have more sophisticated behaviors, such as goals, beliefs,\nand prejudices. They can also harbor imprecisions, self-interests, and\nirrationalities too, which is what makes them so interesting to work with. \nThis is what we mean when we speak of autonomy: the capability for\nsomething, whether human, monkey, software construct, robot, or\nsupermodel, to make its own decisions. The difference between an agent\nand an object is the difference between an animal and a rock. You don’t \n7\n 127\n 127\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 169
  },
  {
    "chunk_full": "128\nnecessarily have to anthropomorphize your objects to make them more interesting, but you might\ndo so expecting the more complex, and less predictable, behavior you’d get from a creature\nrather than a data construct. \nThe most familiar single example of an autonomous agent, to you at least, is the one staring at\nthis page. You, dear reader, with your behavior on any particular day defined by a complex mix\nof biology, psychology, and the comfortableness of your footwear, are an autonomous object,\ncreating interesting patterns in the data you create. Most everything you do these days leaves a\ndata trail: every purchase you make, every point you earn on your store card, every link you click,\nand every journey you take. The cards in your wallet are writing your economic autobiography,\nyour tweets and SMSs are writing an ASCII diary as part of a social map, and the phone in your\npocket is drawing a GPS picture of your daily psycho-geography.\nIn the second half of this chapter, we’ll look at the concept of the agent further, discussing some\nparticularly creative examples from both within and without our electronic boxes, including ways\nof tapping into the available mass of human-generated data for artistic use. But first, to familiarize\nyou with the concept of autonomy and the emergent complexity of this breed of object, we’ll play\none of the early parlor games of computer science: cellular automata.\n7.1 Cellular automata\nWe demonstrated in the previous chapter how easy it is to stumble across emergent complexity\nwithout particular intention. With the help of a cellular automata (CA) grid, you’ll learn a more\nstructured way of observing the phenomenon. In the 1970s, the field of computer science\nwas obsessed with CA. Super-computers were employed to churn through iterations of John\nConway’s Game of Life (see section 7.1.2) over periods of weeks. Today, that kind of computing\npower is available in our mobile phones, so we can easily simulate cellular automata in a\nlightweight Processing sketch.\nA 2D1 CA is a grid of cells (see figure 7.1),  each of which has only two states: on and off, black or\nwhite, alive or dead. Each cell has limited local knowledge, only able to see its eight immediate\nneighbors. In a series of cycles, each cell decides its next state based on the current states of\nits surrounding cells. \n1.  There are one-dimensional and multidimensional variants of CA, but for our purposes we’ll stick to two \ndimensions.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 170
  },
  {
    "chunk_full": "7\nGenerative Art | Pearson\n 129\nAutonomy\n\nA cellular automata grid\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 171
  },
  {
    "chunk_full": "130\nGets locations \nto each side\nGets locations \nto each side\nWraps locations \nat edges\nLoop tells each object \nits neighbors\nLoop tells each object \nits neighbors\nLoop tells each object \nits neighbors\nCreates grid \nof cells\n7.1.1 Setting up the framework\nThe best way to demonstrate is by example. The following listing creates a grid of cells with on/\noff states and a reference to their immediate neighbors.\nListing 7.1 CA framework\nCell[][] _cellArray;     \nint _cellSize = 10;          \nint _numX, _numY;             \nvoid setup() { \n  size(500, 300);\n  _numX = floor(width/_cellSize);\n  _numY = floor(height/_cellSize);\n  restart();\n} \nvoid restart() {\n\t\n\t\n\t\n\t\n \n\t\n\t\n \n\t\n  \n\t\n\t\n      \n\t\n\t\n\t\n\t\n      \n\t\n\t\n\t\n\t\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 172
  },
  {
    "chunk_full": "7\nGenerative Art | Pearson\n 131\nAutonomy\nCalculates next\nstate first\nDraws all cells\nPasses refs \nto surrounding locs\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n    }\n  }\n}\nvoid draw() {\n  background(200);\n                           \n\t\n\t\n\t\n\t\n\t\n                          \n  translate(_cellSize/2, _cellSize/2);      \n                        \n\t\n\t\n\t\n\t\n\t\n}\nvoid mousePressed() {\n  restart();\n}\n//================================= object\n\t\n\t\t\n(continued on next page) \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 173
  },
  {
    "chunk_full": "132\nOn or off \nRandomizes initial state\n\t\n(Listing 7.1 continued)\n  boolean nextState;  \n  Cell[] neighbors;\n  \n  Cell(float ex, float why) {\n    x = ex * _cellSize;\n    y = why * _cellSize;\n\t\n      nextState = true;\n    } else {\n      nextState = false; \n    } \n    state = nextState;\n    neighbors = new Cell[0];\n  }\n  \n  void addNeighbor(Cell cell) {\n    neighbors = (Cell[])append(neighbors, cell); \n  }\n  \n  void calcNextState() {\n     // to come \n  }\n  \n  void drawMe() {\n    state = nextState;\n    stroke(0);\n    if (state == true) {\n      fill(0);\n    } else {\n      fill(255);\n    }\n    ellipse(x, y, _cellSize, _cellSize);\n  }\n  \n}\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 174
  },
  {
    "chunk_full": "7\nGenerative Art | Pearson\n 133\nAutonomy\nIt’s a lengthy starting point, but nothing you haven’t encountered before. At the bottom of the\nscript you define an object, a Cell, which has x and y positions and a state, either on or off. It\nalso has a holder for its next state, nextState, the state it will enter the next time its drawMe \nmethod is called. \nIn setup, you calculate the number of rows and columns based on the width and height and\nthe size you want the cells; then, you call the restart function to fill a 2D array with this grid. \nAfter the grid is created, there is a second pass through the array to tell each of the cells who its\nneighbors are (above, below, left, and right of them). \nThe draw loop then does a double pass through the array. The first pass triggers each cell to\ncalculate its next state, and the second pass triggers each to make the transition and draw itself. \nNote that this needs to be done in two stages so each cell has a static set of neighbors on which\nto base its next state calculation.\nNow that you have the grid of cells (as shown in figure 7.1), you can begin giving the cells their\nsimple behaviors. The best-known CA is John Conway’s Game of Life, so that is the one we’ll\nstart with. \nMultidimensional arrays\nA one-dimensional array, as you saw in chapter 6, is a data structure for storing a list of\nelements. You define one as follows:\nint[] numberArray = {1, 2, 3};\nBut if you want to store more than a list, if you have a matrix of elements to keep track\nof, you can add an extra dimension to the array. A 2D array is initialized like so:\nint[][] twoDimArray = { {1, 2, 3}, {4, 5, 6}, {7, 8, 9} };\nEssentially, you’re defining an array of arrays. In listing 7.1, you can see an example of\ncreating and iterating through a 2D array.\nIf you want more dimensions, you can have them. You’re free to add as many\ndimensions as you can get your head around:\nint[][][] threeDimArray;\nint[][][][] fourDimArray;\n...\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 175
  },
  {
    "chunk_full": "134\n7.1.2 The Game of Life \nThe popularity of Conway’s Game of Life (GOL) is mostly due to the relevance it has found outside\nthe field of mathematics. Biologists, economists, sociologists, and neuroscientists, amongst\nothers, have discussed at length the parallels between the behavior of CA obeying GOL rules\nand the results of studies in their respective fields. It’s essentially a simple computational form\nof artificial life, a mathematical petri dish teeming with autonomous agents.\nThe rules for GOL are as follows:\n• Rule 1: If a live (black) cell has two or three neighbors, it continues to live. Otherwise it dies, \nof either loneliness or overcrowding.\n• Rule 2: If a dead cell has exactly three neighbors, a miracle occurs: it comes back to life.\nYou write this in code as follows. Complete the calcNextState function in accordance with the\nfollowing listing. \n\nConway’s Game of Life after 100 iterations\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 176
  },
  {
    "chunk_full": "7\nGenerative Art | Pearson\n 135\nAutonomy\n\nTriangle height and rotation depend on the age of a cell. Triangle width is the neighbor count.  \nThe color of the shape is mixed using a combination of the two.\n\nCircle size is determined by neighbor count. Lines and their rotations are determined by cell age.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 177
  },
  {
    "chunk_full": "136\nListing 7.2 Calculating the next state using GOL rules\nvoid calcNextState() { \n     int liveCount = 0;  \n     for (int i=0; i < neighbours.length; i++) {\n       if (neighbors[i].state == true) { \n         liveCount++; \n       }              \n     }                \n     if (state == true) {    \n        if ((liveCount == 2) || (liveCount == 3)) {\n          nextState = true;      \n        } else {                 \n          nextState = false;     \n        }                        \n     } else {                    \n        if (liveCount == 3) {    \n          nextState = true;      \n        } else {                 \n          nextState = false;     \n        }                        \n     }                           \n  }\nThis code first counts the number of neighbors alive and then applies GOL rules. If you run it\nfor a few seconds, you begin to see what looks like a microscope view of abstract organisms\n(see figure 7.2). Some parts bubble and then fade out; others achieve a looping stability. There\nhas been much study of this game, identifying the mathematical “life” that forms: gliders, toads,\nboats, blinkers, beacons, and so on. The GOL Wikipedia page has many animated examples\nof the complex shapes and patterns that arise from these simple rules: see http://en.wikipedia.\norg/wiki/Conway’s_Game_of_Life#Examples_of_patterns. \nIt would be very easy for us to get sidetracked here, because what you’ve written is essentially an\nAI program. Artificial intelligence is a field that, admittedly, has huge potential for the creation of\ngenerative art, but it’s far beyond the scope of this book.2 We’ll keep our focus relatively shallow\nand toy with the possibilities for each of these cells, with its local, blinkered behavior, to render\nitself to the screen in visually interesting ways. \n2.  If this subject interests you, I suggest that you seek out Douglas Hofstadter’s Pulitzer Prize winning \nGödel, Escher, Bach (1979) as an entertaining, not too scary, starting point.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 178
  },
  {
    "chunk_full": "7\nGenerative Art | Pearson\n 137\nAutonomy\nCounts neighbors, \nincluding me\nAm I in the majority?\nA simple black or white dot is only a starting point. Just as you did with multidimensional Perlin\nnoise back in chapter 5, where you used the noise value as rotation, shape, size, and alpha values,\nyou can try similar rendering experiments using a cell’s properties. In the two examples in figures \n7.3 and 7.4, I’ve used the number of live neighbors a cell has, and the number of frames it has\nremained alive, to determine the size, rotation, and color of a shape drawn at that cell’s location.\nYou may like to try similar experiments.\nGOL is only one of many potential rule sets. In addition to experimenting with visualizations, I’d\nencourage you to try inventing your own. In the following pages, I’ll demonstrate two more well-\nknown patterns, and one invented behavior, each of which produces forms that have analogues\nin the natural world. \n7.1.3 Vichniac Vote\nThe first pattern, the Vichniac Vote (after Gerard Vichniac who first experimented with it), is a\nlesson in conformity. Each cell is particularly susceptible to peer-group pressure and looks to its\nneighbors to observe the current trend. If the cell’s color is in the majority, it remains unchanged.\nIf it’s in the minority, it changes. To ensure that there is an odd number of cells on which to make\nthe decision, the cell includes its own current state in addition to its eight neighbors in making\nthe calculation.\nTo see the vote in action, rewrite the calcNextState function using the code from the following\nlisting. To create an artificial instability in the algorithm, you’ll swap the rules for four and five\nneighbors; otherwise, it settles quickly into a static pattern.\nListing 7.3 The Vichniac Vote rule\nvoid calcNextState() {\n     int liveCount = 0;\n\t\n\t\n\t\n\t\n\t\n\t\n         \n\t\n\t\n\t\n\t\n\t\t\t\t\t\n(continued on next page)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 179
  },
  {
    "chunk_full": "138\nSwaps rules for 4 and 5\nState 1, 2, or 0    \n\t\t\t\t\n(Listing 7.3 continued)\n\t\n\t\n\t\n\t\nThe result is shown in figure 7.5. You can see how the clustering effect creates patterns similar\nto the hide of a cow, or the contours of a landscape seen from above. \nWith the Vichniac Vote, the rules you apply are sociological —agents succumbing to the peer-\ngroup pressure from their neighbors—but the results have an aesthetic more familiar from biology\nor geology. Might this imply that common computational principles underpin these disciplines?\nBefore we’ve finished with this chapter and the next, you’ll see plenty more algorithmic systems\nthat may support this hypothesis. Brian’s Brain, for example. \n7.1.4 Brian’s Brain \nThis is a three-state cellular automaton, meaning a cell can be in one more condition, apart from\non or off. The states of a Brian’s Brain CA are firing, resting, and off. It’s designed to mimic the\nbehavior of neurons in the brain, which fire and then rest before they can fire again. The rules\nare as follows:\n•\nIf the state is firing, the next state is resting. \n•\nIf the state is resting, the next state is off.\n•\nIf the state is off, and exactly two neighbors are firing, the state becomes firing.\nYou’ll need to modify the cell class for this, as in the following code. Note that you have to change\nthe type of state to int, so it can have more than two values. The integers 0, 1, and 2 indicate\noff, firing, and resting, respectively.\nListing 7.4 Cell object modified for the three-state Brian’s Brain behavior\nclass Cell {\n  float x, y;\n\t\n  int nextState;  \n  Cell[] neighbors;\n  \n  Cell(float ex, float why) {\n\t\n(continued on next page)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 180
  },
  {
    "chunk_full": "7\nGenerative Art | Pearson\n 139\nAutonomy\n\nThe Vichniac Vote rule after 3 iterations, 11 iterations,  \n41 iterations, and 166 iterations\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 181
  },
  {
    "chunk_full": "140\nIf two neighbors \nare firing, fire too    \nElse, don’t change\nIf just fired, rest    \nIf rested, turn off \nCounts firing \nneighbors   \nFiring = black    \nResting = grey   \n Off = white\n\t\n(Listing 7.4 continued)\n    nextState = int(random(2)); \n    state = nextState;\n    neighbors = new Cell[0];\n  }\n  \n  void addNeighbor(Cell cell) {\n    neighbors = (Cell[])append(neighbors, cell); \n  }\n  \n  void calcNextState() {\n     if (state == 0) {      \n       int firingCount = 0;\n       for (int i=0; i < neighbors.length; i++) {\n\t\n \n           firingCount++;\n         }\n       }\n\t\n         nextState = 1;    \n       } else {\n\t\n       }\n\t\n       nextState = 2;\n\t\n       nextState = 0;\n     }  \n  }\n  \n  void drawMe() {\n    state = nextState;\n    stroke(0);\n    if (state == 1) {\n\t\n \n    } else if (state == 2) {\n\t\n \n    } else {\n\t\n    }\n    ellipse(x, y, _cellSize, _cellSize);\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 182
  },
  {
    "chunk_full": "7\nGenerative Art | Pearson\n 141\nAutonomy\n  }\n  \n}\nThe results look something like figure 7.6. Spaceships (the CA term, not mine) move across the\nplane in horizontal, vertical and sometimes diagonal directions.\nDoes this behavior reflect the way your thoughts form from the electronic bursts of firing\nsynapses? Is what you’re seeing a mathematical model of consciousness itself? Perhaps; but\nfor our purposes, for the time being at least, it’s just another emergent behavior that you can use\nas the basic for a generative visualization. \nJust one more example before we move on. Not one of the famous rule sets, but a custom\nbehavior instead. The patterns it produces should be quite familiar though.\n\nThe Brian’s Brain behavior after 19 iterations\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 183
  },
  {
    "chunk_full": "142\nFigure 7.7  \nThe customized wave rule after 6, 26, 49, and 69 iterations\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 184
  },
  {
    "chunk_full": "7\nGenerative Art | Pearson\n 143\nAutonomy\nCreates initial gradient \n7.1.5 Waves (averaging) \nThis final pattern is an example of a CA with a continuous behavior. There is no reason a cell has\nto be limited to two or three distinct values: its state can vary across a range of values. In this\nexample, you’ll use 255 values, the grayscale from white to black. This is a custom behavior, so\nit doesn’t have a name, but I’ve based it on a standard physics model—averaging—whereby a\nchaotic state settles into a steady one thorough the influence of its neighbors. \nThe rules are as follows:\n•  If the average of the neighboring states is 255, the state becomes 0.\n•  If the average of the neighboring states is 0, the state becomes 255.\n•  Otherwise, new state = current state + neighborhood average – previous state value.\n•  If the new state goes over 255, make it 255. If the new state goes under 0, make it 0. \nIf you were adhering to the physics model, you’d need only the third of these rules. I’ve added\nthe other rules for instability, to stop it from settling. The code is in the next listing. The output\nis shown in figure 7.7.\nListing 7.5 Custom wave-like behavior\nclass Cell {\n  float x, y;\n  float state;          \n  float nextState;  \n  float lastState = 0; \n  Cell[] neighbors;\n  \n  Cell(float ex, float why) {\n    x = ex * _cellSize;\n    y = why * _cellSize;\n\t\n \n    state = nextState;\n    neighbors = new Cell[0];\n  }\n  \n  void addNeighbor(Cell cell) {\n    neighbors = (Cell[])append(neighbors, cell); \n  }\n  \n\t\n(continued on next page)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 185
  },
  {
    "chunk_full": "144\nCalculate neighborhood \naverage\nStores previous state\nUses state value as fill color\n\t \t \t \t \t\t\n(Listing 7.5 continued)\n                \n\t\n\t\n\t\n\t\n\t\n                \n    if (average == 255) {\n      nextState = 0;\n    } else if (average == 0) {\n      nextState = 255;\n    } else {\n      nextState = state + average;\n      if (lastState > 0) { nextState -= lastState; }     \n      if (nextState > 255) { nextState = 255; }\n      else if (nextState < 0) { nextState = 0; }\n    }\n \n\t\n  }\n  \n  void drawMe() {\n    state = nextState;\n    stroke(0);\n\t\n \n    ellipse(x, y, _cellSize, _cellSize);\n  }\n  \n}\nThe most obvious comparison with this behavior is a liquid. Like rain on a shallow pool of water,\nit churns and varies.\nThe reason for this example is to emphasize how you can tweak not only the rules but also the\nframework itself. You don’t need a grid, you don’t need circles, and you don’t need a limited set\nof grayscale values: your system can be as subtle and sophisticated as you care to make it (see\nfigure 7.8). In the next section, we’ll look at a few further simulation and visualization ideas that\nstep far outside the ordered gird but still utilize agents, with their limited local knowledge, for\nemergent effects. We’ll also look at the potential in exploiting one very familiar, oblivious data\nobject: you. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 186
  },
  {
    "chunk_full": "7\nGenerative Art | Pearson\n 145\nAutonomy\n\nSingle-pixel-sized cells produce more subtle (but more processor-intensive) patterns.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 187
  },
  {
    "chunk_full": "146\n7.2 Simulation and visualization\nCAs may be of only limited interest to us visually. The real purpose of your experiments so far\nhas been to drum in the agent-oriented approach, and the ways you can study the patterns that\nobjects unwittingly create. CAs, for all their nerdy amusement value, may be only the simplest\nof possible systems you can visualize this way. \nThe coding part of this chapter is finished now, but there is plenty of scope to develop these\napproaches in more meaningful directions. For the remaining pages of this chapter, we’ll discuss\na few ideas. \n7.2.1 Software agents\nWhen you define a class in code, as you have a number of times now, you give it properties\nand methods: x, y, height, width, alpha; update, draw, calcWidth, and so on. But an object’s\nproperties and methods may just as easily be as follows:\nclass Agent {\n  String political_leaning = \"right\";\n  int num_years_in_education = 12;\n  int salary = 30000;\n  Agent[] neighbors;\n  Agent[] coworkers;\n  Agent[] friends;\n  \n  Agent() {\n    num_years_in_education = 11 + int(random(8));\n    if ((num_years_in_education < 13) {\n       if (random(1) > 0.8)) {\n           political_leaning = \"right\";\n       } else {\n        political_leaning = \"left\"; \n       }\n    } else {\n        if (random(1) > 0.3) {\n           political_leaning = \"right\";\n        } else {\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 188
  },
  {
    "chunk_full": "7\nGenerative Art | Pearson\n 147\nAutonomy\n           political_leaning = \"left\";\n           }\n    }\n }    \n}\nIf you give an agent real-world attributes, suddenly the simulations can take on more meaningful\ninterpretations. The interactions of these simplified souls can say something about their less\nsimple analogues: us. For example, you can query the thoughts or feelings of an agent, perhaps\nsomething like this:\nboolean isHappy() {\nif ((political_leaning == \"right\") { \n  if (salary > 60000)) {\n      return true;\n    } else {\n        return false;\n    }\n} else {\n    if (friends.length > 25) {\n      return true;\n    } else {\n      return false;\n    }\n  } \n}\nGiven an infinite number of coders at an infinite number of MacBooks, you might follow this to its\nlogical extreme and code an entire human being, and pack a bunch of them into a CA grid to see\nhow they got on. Or, more interestingly, you could code up an artificial city environment to house\nthem, and see the patterns they traced. But a human, or near-human, level of intelligence isn’t\nneeded for interesting agents, as you’ve already seen. It isn’t the sophistication of the objects\nthat produces the complexity; it’s their large numbers and the way they interact with each other. \nOne of my favorite examples of an analogous agent-oriented system is Jeremy Thorp’s Colour\nEconomy (2008). He constructed a system whereby a number of colored cubes are given the\nability to trade their own color value in the pursuit of profit (see figure 7.10). The set of rules each\ncube followed was the same, but each cube had different leanings and idiosyncrasies influencing\nits self-interested behavior; these collectively defined the unstable economics of the system. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 189
  },
  {
    "chunk_full": "148\nThorp visualized the cubes and their trades in both two- and three-dimensional views. There\nare some great videos of the system (built in Processing) in action on Jeremy’s blog: http://blog.\nblprnt.com/blog/blprnt/the-colour-economy-the-gap-between-the-rich-and-the-poor.\nThe interplay between Thorp’s cubes, although not smart enough to be considered true artificial\nintelligence, has sufficient complexity to model a system with obvious cultural parallels. His piece\nwas more than a nice aesthetic: it was also a sociopolitical discussion point, commenting on\nconsumerism, free trade, and the gap between rich and poor. \nWhen you begin down a path of humanizing agents, inevitably you’ll hit upon the obvious shortcut. \n7.2.2 Human agents\nThe Apollo 17 Mission, the last (to date) of NASA’s Moon landings, produced one of the most\nimportant photographs of the 20th century. The shot of Earth shown in figure 7.9, taken as the\nmission left Earth’s orbit on its way out, was the first time the hairless apes, in their masses,\nhad seen their planet like this. Before this photograph, we had highly detailed maps of the world\nand knew pretty much what it would look like when we got up there, but this was the first time\nwe gained the perspective to see it for ourselves from so far away. It was a great leap in our\nanthropic subjectivity.\n\nThe “blue marble” photograph of Earth taken by Apollo 17, December 1972\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 190
  },
  {
    "chunk_full": "7\nGenerative Art | Pearson\n 149\nAutonomy\n\nColour Economy by Jeremy Thorp (2008)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 191
  },
  {
    "chunk_full": "150\n\nAaron Koblin’s Flight Patterns (2005): visualization of the flight paths of aircraft crossing North America\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 192
  },
  {
    "chunk_full": "7\nGenerative Art | Pearson\n 151\nAutonomy\nTo the Google maps generation, this meta-view of the human race is becoming commonplace.\nIt took only 40 years before the power of satellite imagery was on every laptop. It’s one of those\nminor miracles we quickly take for granted when information technology accelerates at such\nspeed. Couple this with a related technology, Global Positioning Systems (GPS), and you have\nthe potential for a new form of unwitting artistic expression. \nYour everyday movements leave a trail on the surface of the planet, and this trail draws a pattern.\nIf you’re a commuter, your GPS trail probably scores deep furrows as you repeat the same pattern\nday in day out; but on the weekend, your random psychogeography may create a more complex\nballet. Viewed en masse, your data can produce much grander expression, as seen in Aaron\nKoblin’s visualizations of the flight paths of aircraft crossing North America (see figure 7.11 and\nthe color images in the introduction, figure i.18).\nIf you recall the opening chapters of this book, where I defined what generative art is (and isn’t),\none of the essential criteria was that the systems need to be autonomous: independent of outside\ncontrol, free of any guiding hand. When you involve human beings with a generative system,\ntheir natural instinct is to attempt to influence it, which would remove the autonomy—but only\nif the human’s involvement in the system is conscious. If the human agent is acting unaware, or\nuninterested, of the effect their actions are having on the system, they become as valid a data\nsource as any other autonomous object. \n\nLunar Lander, the classic arcade game re-created in ActionScript \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 193
  },
  {
    "chunk_full": "152\nA fine example of this arose from a project created by my friend and colleague Seb Lee-Delisle\n(http://sebleedelisle.com). As an exercise in coding minimalism, he built an AS3 version of the\nold Lunar Lander arcade game (see figure 7.12), in less than 5 KB. Later, he used this as the basis\nfor experiments with multiuser gaming, building a system to enable many users to play the game\nover the web. Seb threw his toy out there, inviting any of the great unwashed visiting his site to\ngive it a play. But, unbeknownst to his users, he had the system record the paths they took as\nthey maneuvered their landers safely to the lunar surface. \nWhen he traced this data out onto a composite image, the result, through no intent or design,\nwas surprisingly beautiful (see figure 7.13).\nSo, it would appear that there are only two challenges in using human agents in the creation of\ngenerative art: ensuring that they remain autonomous, and collecting the data. Once, the latter\nwould have been a daunting task, but today it’s simple. Data, particularly that relating to the\nhairless apes and their consumption habits, is being stockpiled as if it were the most valuable\ncommodity we have—which some may argue it is. \n\nLunar Lander Trails (2010), by Seb Lee-Delisle: \nthe actions of a many autonomous human agents\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 194
  },
  {
    "chunk_full": "7\nGenerative Art | Pearson\n 153\nAutonomy\nMost web or mobile-device users leave these data trails routinely. There are patterns in Twitter\nstreams, web browsing, and GPS location data that can be accessed via a variety of APIs\navailable to programmers, usually for free. For example, more recent works by Jeremy Thorp have\nbeen based on the New York Times’ API (http://blog.blprnt.com/blog/blprnt/7-days-of-source-\nday-6-nytimes-graphmaker), using Processing to visualize the occurrences of key phrases over\nthe long periods covered by the newspaper’s newly digitized archives. The agents in this system\nare journalists, doing their jobs and writing their articles, obliviously creating meta-patterns in\nthe commonality of their language usage.\nData visualization is an artform in itself, one with huge potential. If you want to explore this area\nfurther, I’d suggest you try one of the following options as a launching point:\n• Ben Fry’s book Visualizing Data (O’Reilly 2007) covers the topic in depth, using Processing\nas the principle tool.\n• For the coffee-break version, drop by Jeremy Thorp’s blog, particularly the post http://\nblog.blprnt.com/blog/blprnt/your-random-numbers-getting-started-with-processing-and-\ndata-visualization, which talks through getting Twitter data into a GoogleDocs spreadsheet,\nreading that spreadsheet into Processing, and visualizing the results.\n• If you want to cut straight to the pretty pictures, you’ll find plenty to feast your eyes on at\nwww.informationisbeautiful.net and www.visualcomplexity.com \n7.3 Summary\nThe object-oriented approach to code is just the start. With this approach, you can begin realizing\nmore sophisticated systems. Your objects can be autonomous agents, interacting with each\nother in an artificial environment, producing emergent complexity for you to visualize, an idea\nyou explored through cellular automaton experiments. You then went on to learn that agents\ndon’t have to fit such rigid constructs: they don’t even need to be software-based. The potential\nin data visualization opens up a new field of art.\nYou may not be feeling like such a precious little flower after this excursion—after seeing yourself\nas the tiniest pixel of raw data, sand in God’s great egg-timer. So, next we’ll refocus, from the\nmacro to the micro, into the intricacies of another natural construct: fractals. In the final chapter,\nwe’ll examine what they are, how to make them, and what you can do with them.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 195
  },
  {
    "chunk_full": "154\n\nAfter experimenting with fractal structures, you’ll start to notice self-similar recursion everywhere. \nThis illustration is from Ernst Haeckel’s 1904 book Kunstformen der Natur (Artforms of Nature)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 196
  },
  {
    "chunk_full": "Chapter Eight\nFractals\n8\n 155\n 155\nTo my mind, there is something very “seventies” about fractal art. Even\nbefore James Gleick’s hugely popular book Chaos: Making a New\nScience (1987), which popularized the mathematics of chaos theory,\nfractal imagery, in particular the Mandelbrot set, was overly familiar\nfrom the kind of posters you might expect to see on the walls of hippie\nmath grads. \nWe’ll never know why the renderers of early fractal art favored such lurid,\npsychedelic colors, but I assume it had a lot to do with the overconsumption\nof LSD. Anyway, I want this preconception of fractal art flushed from your\nmind as we explore self-similarity in this chapter. Fractal art can also be\nsubtle and beautiful (see figures 8.1 and 8.2).\nThe code will be a little more involved in this, the book’s final chapter, pushing\nthe object-oriented organization we introduced in chapter 6 as far as your\nprocessors will allow. But this is about as difficult as generative art ever\nneeds to get. If you can wrap your head around a self-similar recursive\nfractal structure and re-create it in code (a feat you’ll be performing with\ngreat aplomb in a few pages’ time), you’ll find harnessing physics libraries,\nmechanical systems, fluid simulation, particles, AI, audio reactive art, or\nwhatever explorations you want to pursue after you put this book down,\nwon’t present any barriers to you. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 197
  },
  {
    "chunk_full": "\nMandelbulb by Tom Beddard (2009), www.subblue.com: a 3D version of the Mandelbrot fractal.  \nSee Beddard’s site or www.skytopia.com/project/fractal/mandelbulb.html for the math.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 198
  },
  {
    "chunk_full": "8\nGenerative Art | Pearson\n 157\nFractals\nFractals, from the Latin fractus (meaning “broken”), are shapes or patterns that repeat at many\nlevels. The patterns don’t necessarily need to be identical at the different scales; they just\nshare certain types of self-similar structures. As with emergent patterns, fractal structures\nare everywhere in nature: in snowflakes, tree branches, rivers, coastlines, and blood vessels.\nThe leaf of a fern is one particularly good example (see figure 8.3), where the fronds of each leaf\nmirror the shape of the leaf as a whole. Examine the frond in closer detail, and you’ll see that\nits subdivisions are the same shape again. This self-similarity repeats, continuing downward in\nscale, beyond the limits of the human eye. \nIn this chapter, we’ll look at fractal iteration as a way of creating art. You’re already familiar with\nrecursion: for loops, while loops, and draw loops. But this is a different breed of iteration, a\nreflexive iteration—a type that, unchecked, tends toward the infinite. \n\nGhost Ferns (photographed by Flickr user L’eau Bleue:)  \nfractal structures in nature\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 199
  },
  {
    "chunk_full": "158\n8.1 Infinite recursion\nImagine you’re standing before a mirror, with a second mirror behind you. You see a reflection\nof a reflection of a reflection of a reflection, onward toward the limit of perception. Strange\nthings happen when you have an infinite recursion like this. Small changes, micro-movements,\nbecome massively amplified within this closed loop. Try holding a flame in such a mirror loop (go\non, put the book down and try it—it’s really cool). The micro-randomness of the flame’s flicker\ncreates bizarre abstracts as it’s repeated an infinite number of times. In the same way as the\nsmall interactions between many agents gave rise to an emergent complexity in the previous\nchapters, small changes in infinite, self-similar structures create a similar complexity, but on a\nmore ineffable scale.\nA computer can’t deal with the concept of infinity. You can’t ask a computer to loop an infinite\nnumber of times because, as a blind obeyer of instructions, it will never stop—the computer will\nloop for ever until you interrupt it or turn it off. This is Alan Turing’s halting problem: he proved that\nin addition to it being impossible for an infinite loop to ever return a result, it’s also impossible to\ndetermine in every case whether any given set of instructions will result in an infinite loop or reach\na final state. This is one of the central concerns of the field of AI, that ultimate form of complexity\nwe’re gingerly skirting around in these chapters. Telling whether a problem is finitely soluble or not\nis something a human can do instinctively, but this ability can’t be easily simulated by machines. \nFor example, you can tell at a glance that the following code will never reach a state where\nit stops:\nint x = 1;\nwhile (x>0) { \n  x++; \n}\nThis is an example of an infinite loop. It’s perfectly syntactically correct, but it will lock the\nprocessor into a never-ending cycle until something interrupts it. Infinite loops are easy to code\nbut are infinitely tedious to perform.\nThis is one thing to bear in mind as you begin coding reflexive iteration in the following section.\nAlthough fractals in the natural world have the potential to be infinitely recursive, you can only\nsimulate infinite recursion in electronics. You don’t have to worry about the halting problem,\nbecause, although Turing’s famous proof rules out a perfect test for a non-halting state, modern\nsyntax engines can usually warn against the majority of situations that may send the processor\ninto a tailspin. And even if your engine doesn’t warn you, all you have to do is quit Processing. \nSo, without further ado, let’s code something and see what your machine can handle.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 200
  },
  {
    "chunk_full": "8\nGenerative Art | Pearson\n 159\nFractals\n8.2 Coding self-similarity\nThe inevitable things in life are, as we know, death, taxes, and turning into our parents. This is why\nthe concept of a child object that exactly resembles its parent object isn’t going to be too foreign.\nThis is how you’ll create self-similarity: you’ll define an object that acts as both child and parent\nand that creates a number of copies of itself. And of course, if one of the defining characteristics\nof an object is that it multiplies, you know that inevitably the objects will breed like rabbits. \nWe’ll start with the structure and a familiar metaphor.\n8.2.1 Trunks and branches\nThe first lines of code you’ll write serve to set some limits. Without limits, you’ll quickly fall into\nthe trap of infinite recursion. Open a new sketch, and type\nint _numLevels = 3;\nint _numChildren = 3;\nYou’re limiting the number of children each object can have and how many levels of recursive\ndepth the system is allowed to go to. If you keep the numbers low to start with, you can maintain\nan appreciation for what is going on; then, you can kick the numbers up gently when you have\nsomething interesting. Bear in mind, though, that increasing the number of children by one isn’t\na process of addition, or even multiplication: it’s raising to a power. Adding 3 levels, each with 3\nchildren, is the equivalent of 33, which means 27 objects. Add 1 more child, and it becomes 34,\nwhich is 81 objects. Five levels with 5 children gives you 3,125 elements to control. This is why\nyou need to tread carefully. \nCall the class you’re creating Branch, because a tree is a useful model. You can think of the first\nBranch as the trunk of the tree. Let’s code it and see how far we can stretch this metaphor. The\nfollowing listing is your starting point.\nListing 8.1 Coding a fractal structure, step 1\nint _numChildren = 3;  \nint _maxLevels = 3; \n \n(continued on next page)\nBranch _trunk;    \n\t\n(continued on next page)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 201
  },
  {
    "chunk_full": "160\n\t\n(Listing 8.1 continued)\n  background(255);\n  noFill();\n  smooth();\n  newTree();\n}\nvoid newTree() {\n  _trunk = new Branch(1, 0, width/2, 50);\n  _trunk.drawMe();\n}\nclass Branch {\n  float level, index;  \n  float x, y;\n  float endx, endy;\n  \n  Branch(float lev, float ind, float ex, float why) {\n   level = lev; \n   index = ind;\n   updateMe(ex, why);\n  }\n  \n  void updateMe(float ex, float why) {\n   x = ex;\n   y = why;\n   endx = x + 150;\n   endy = y + 15;\n  }  \n  void drawMe() { \n    line(x, y, endx, endy); \n    ellipse(x, y, 5, 5);\n  }  \n}\nAll the code does so far is\n• Define and create an instance of a Branch object (the trunk).\n• Call drawMe on that object.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 202
  },
  {
    "chunk_full": "8\nGenerative Art | Pearson\n 161\nFractals\nThe Branch object takes four parameters: level, index, x, and y. The level for the first branch, the\ntrunk, is 1, and its index is 0 because there is only one of it. The x and y parameters are arbitrary\npoints where you’d like to plant your tree. The object, when created, calls updateMe, which\ncalculates an end point based on the start point you passed it. The drawMe function draws a\nline between those two points and a little circle to show its origin. Simple so far.\nNext, let’s get self-referential. Add a children array to the Branch’s properties, and update the\nBranch’s creation function to spawn new versions of itself. You pass each of the children the\nparent branch’s end point as its start point, and the current level + 1. As long as you include the\nconditional (level <= _maxLevels), you’ll avoid infinite loops:\nBranch [] children = new Branch[0];    \nBranch(float lev, float ind, float ex, float why) {\n level = lev; \n index = ind;\n updateMe(ex, why);\n \n if (level < _maxLevels) {\n   children = new Branch[_numChildren];\n   for (int x=0; x<_numChildren; x++) {\n     children[x] = new Branch(level+1, x, endx, endy);\n   }\n }\n}\nThe result of this change means your single level-1 branch creates three level-2 children, each\nof which creates another three level-3 children. The total number of branches is therefore 1 +\n3 + 9 = 13. \nTo see all the branches, you have to modify the drawMe function:\nvoid drawMe() {\n  line(x, y, endx, endy);                \n  ellipse(x, y, 5, 5);            \n  for (int i=0; i<children.length; i++) {\n     children[i].drawMe();        \n  }                    \n}\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 203
  },
  {
    "chunk_full": "162\nNotice how the app only needs to call drawMe on the trunk of the tree. The command trickles\ndown to the children.\nIn order to be able to distinguish each branch, you’ll need to vary their appearance a little. This is\nwhy it’s useful for Branches to know their own level and index. Change updateMe so it calculates\nthe end point randomly, but weighted according to the level, as follows:\nvoid updateMe(float ex, float why) {\n x = ex;\n y = why; \n endx = x + (level * (random(100) - 50));\n endy = y + 50 + (level * random(50));\n}\nAnd add a variation on the strokeWeight to the drawMe function:\nstrokeWeight(_maxLevels - level + 1);\nIf you run this, you have the beginnings of a fractal tree (see figure 8.4).\nNext, you’ll try animating it.\n\nThe beginnings of a fractal tree\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 204
  },
  {
    "chunk_full": "8\nGenerative Art | Pearson\n 163\nFractals\n8.2.2 Animating your tree\nOkay, you have the structure, and you haven’t broken your machine yet. Let’s now add the draw\nloop, so you can animate this little guy:\nvoid draw() {\n  background(255);\n  _trunk.updateMe(width/2, height/2);\n  _trunk.drawMe();\n}\nNotice that you’ve moved the tether point to the middle of the stage (for neatness, you may want\nto change this in the newTree function too). Next, you need to add a few new properties to the \nBranch class to enable you to control drawing style, line length, and rotation (put them under\nthe line float endx, endy;):\nfloat strokeW, alph;      \nfloat len, lenChange; \nfloat rot, rotChange;  \nYou’ll need to initialize these properties, giving each level its own strokeWeight and alpha and\neach branch its own randomized set of length and rotation properties. Add this code before the\nline updateMe(ex, why); in the Branch constructor function:\n   strokeW = (1/level) * 100;\n   alph = 255 / level;\n   len = (1/level) * random(200);\n   rot = random(360);\n   lenChange = random(10) - 5;\n   rotChange = random(10) - 5;\nWith these new properties, you can make the updateMe function actually do something when\nit’s called every frame. You’ll also give it the code to trickle down the command to its children\nso they can do something too, just as you did with the drawMe function. With this new version,\nthe end point will be calculated according to the angle and length—plotting it as a point on the\ncircumference of a circle of radius len. The angle to that point will change every frame, as will\nthe length of the line. The new updateMe function is as follows.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 205
  },
  {
    "chunk_full": "164\nIncrements length\nIncrements rotation\nListing 8.2 updateMe that calculates the end point according to a rotating angle\nvoid updateMe(float ex, float why) {\n   x = ex;\n   y = why;\n   \n\t\nIncrements rotation\n   if (rot > 360) { rot = 0; }        \n   else if (rot < 0) { rot = 360; }    \n   \n\t\nIncrements length\n   if (len < 0) { lenChange *= -1; }        \n   else if (len > 200) { lenChange *= -1; }    \n   \n   float radian = radians(rot);        \n   endx = x + (len * cos(radian));        \n   endy = y + (len * sin(radian));    \n   \n   for (int i=0; i<children.length; i++) { \n     children[i].updateMe(endx, endy); \n   }   \n  }\nYou can update the object’s drawMe function to use the strokeW and alph properties you’ve defined\nand initialized. Also change the radius of the ellipse to be relative to the new variable length:\nvoid drawMe() {\n  strokeWeight(strokeW);\n  stroke(0, alph);\n  fill(255, alph);\n  line(x, y, endx, endy);\n  ellipse(endx, endy, len/12, len/12);        \n  for (int i=0; i<children.length; i++) {    \n      children[i].drawMe();            \n  }                        \n}\nThe final code is in listing 8.4 at the end of the next section, if you want to skip ahead. The\noutput at this stage should look something like figure 8.5, except that in your version it will be\nspinning crazily like space clockwork. We’re purposely departing a little from the tree metaphor \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 206
  },
  {
    "chunk_full": "8\nGenerative Art | Pearson\n 165\nFractals\nnow. Every fractal programming tutorial I’ve ever read teaches you how to draw a tree and make\nit shake in the wind. But there are some things computers can do better than nature—one of\nwhich is space clockwork. \nNext, it’s time to turn it up to 11.\n8.3 Exponential growth\nNormally, the message at this point in the chapter would be to throw what you can at your\nstructure and see what flies. But this time, let’s tread a little more cautiously. If you just start\nadding zeros to _numChildren and _maxLevels, things will seize up. Instead, try pushing up the\nnumbers more gently. The following pages show images from _numChildren = 4; _maxLevels \n= 7; (figure 8.6) and _numChildren = 3; maxLevels = 10; (figure 8.7). Already this was nearing\nthe point when my machine was starting to grumble. My amorphous blob was still spinning, but\nwith a little less pizzazz.\nWith a finer line (strokeW = (1/level) * 10;), you can get something that looks like figure 8.8. With\nthis example I also added a conditional (if (level > 1)) to stop the drawMe function from drawing\nthe trunk, which is clearly visible in figure 8.7.\nFigure 8.5\nSpace clockwork: the beginnings of an animated fractal, spinning like a dervish\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 207
  },
  {
    "chunk_full": "166\nFigure 8.7  \n3 children, 10 levels\nFigure 8.6  \nTurning it up a little: four children, seven levels. I hope you’re coding along so you can see this structure moving.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 208
  },
  {
    "chunk_full": "8\nGenerative Art | Pearson\n 167\nFractals\nFigure 8.8  \nA finer line, six levels, and seven children\nFigure 8.9  \nSeven children, seven levels: about as far as I could push it and expect it to animate\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 209
  },
  {
    "chunk_full": "168\nFigure 8.8 has six levels and seven children. Pushing that one further, to seven levels, yields something\nlike figure 8.9. I found that was about the limit of what would still animate on my machine.\nThe complete code for this final version is in the following listing.\nListing 8.3 Final listing for the cog fractals\nint _numChildren = 7;     \nint _maxLevels = 7;      \nBranch _trunk;        \nvoid setup() {\n  size(750,500);\n  background(255);\n  noFill();\n  smooth();\n  newTree();\n}\nvoid newTree() {\n  _trunk = new Branch(1, 0, width/2, height/2);\n  _trunk.drawMe();\n}\nvoid draw() {\n  background(255);\n  _trunk.updateMe(width/2, height/2);\n  _trunk.drawMe();\n}\nclass Branch {\n  float level, index;  \n  float x, y;\n  float endx, endy;\n  \n  float strokeW, alph;   \n  float len, lenChange; \n  float rot, rotChange; \n  \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 210
  },
  {
    "chunk_full": "8\nGenerative Art | Pearson\n 169\nFractals\n  Branch[] children = new Branch[0];    \n  \n  Branch(float lev, float ind, float ex, float why) {\n   level = lev; \n   index = ind;\n   \n   strokeW = (1/level) * 10; \n   alph = 255 / level;\n   len = (1/level) * random(500);\n   rot = random(360);\n   lenChange = random(10) - 5;\n   rotChange = random(10) - 5;\n   updateMe(ex, why);\n   \n   if (level < _maxLevels) {\n     children = new Branch[_numChildren];\n     for (int x=0; x<_numChildren; x++) {\n       children[x] = new Branch(level+1, x, endx, endy);\n     }\n   }\n  }\n  \nvoid updateMe(float ex, float why) {\n   x = ex;\n   y = why;\n   \n   rot += rotChange;\n   if (rot > 360) { rot = 0; }\n   else if (rot < 0) { rot = 360; }\n   \n   len -= lenChange;\n   if (len < 0) { lenChange *= -1; }\n   else if (len > 500) { lenChange *= -1; }\n   \n   float radian = radians(rot);\n   endx = x + (len * cos(radian));\n   endy = y + (len * sin(radian));\n\t\n(Continued on next page)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 211
  },
  {
    "chunk_full": "Don’t draw trunk\n170\n\t\n(Listing 8.3 continued)\n       children[i].updateMe(endx, endy);\n     }\n  }\n  \n void drawMe() {\n\t\n     strokeWeight(strokeW);\n     stroke(0, alph);\n     fill(255, alph);\n     line(x, y, endx, endy);\n     ellipse(endx, endy, len/12, len/12);    \n   }        \n   for (int i=0; i<children.length; i++) {    \n       children[i].drawMe();            \n   }                        \n }\n  \n}\nSo far, we’ve looked at a single branching fractal structure, probably the simplest such system\nwe might conceive. I’m not going to catalogue a long list of other possible shapes you could\nexplore; I will leave the tinkering up to you. Instead, I’ll finish the chapter, and the book, with one\nspecific example: a shape that was shown to me by a wise old mathematician on a dark and\nslightly overcast night—a shape that I’ve had a lot of fun with since. \n8.4 Case study: Sutcliffe Pentagons\nIn 2008 I went to a meeting of the Computer Arts Society (CAS) in London, an organization\nthat was (remarkably, for a body devoted to computing) celebrating its fortieth anniversary with\nthat event. There, I heard a short talk by the society’s initiator and first chairman, the artist and\nmathematician Alan Sutcliffe.1 Through this talk, he introduced me to a marvelous shape, which\nI have since mentally dubbed the Sutcliffe Pentagon. \n1. Alan has written about the early days of the CAS in the book White Heat Cold Logic: British Computer Art \n1960–1980, Paul Brown, Charlie Gere, Nicholas Lambert, and Catherine Mason, editors (MIT Press, 2008).\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 212
  },
  {
    "chunk_full": "8\nGenerative Art | Pearson\n 171\nFractals\nTo be clear, I’ve spoken to Alan about this, and he isn’t entirely over the moon with me using this\nname. He has been insistent that, even though he thought it up, he doesn’t believe the shape was\nhis invention. He cites Kenneth Stephenson’s work on circle packing2 as preceding him, in which\nStephenson himself credits earlier work by Floyd, Cannon, and Parry.3 But I have since reviewed\nthis trail of influence, and, although Sutcliffe’s predecessors do describe a dissected pentagon,\nnone of them take the idea half as far as he did. And even if they had, it wouldn’t change the way\nthe Sutcliffe Pentagon was burned into my brain that particular evening.\nSo, respecting Alan’s modesty, and his proviso that we probably shouldn’t, strictly speaking, refer\nto this construct as a Sutcliffe Pentagon, let me begin by showing you what a Sutcliffe Pentagon\nlooks like (see figure 8.10). Then, I’ll talk you though how to construct a Sutcliffe Pentagon, and\nfinally I’ll show you a number of different Sutcliffe Pentagon–derived works, developed using\nthe Sutcliffe Pentagon structure.\nSutcliffe noticed that if you draw a pentagon, then plot the midpoints of each of its five sides\nand extend a line perpendicular to each of these points, you can connect the end of these\nlines to make another pentagon. In doing this, the remaining area of the shape also ends up\nbeing subdivided into further pentagons, meaning that within each pentagon are six sub-\npentagons. And within each of those, another six sub-pentagons, repeated downward toward\nthe infinitesimal. \nIf you don’t find yourself overly thrilled by the mathematics of this yet, bear with me. In the\nfollowing section, I’ll show what you can do with this simple principle. Let’s start by coding it up;\nthen, I’ll demonstrate some of the directions I took it in. \n8.4.1 Construction\nYou begin by drawing a regular pentagon. But the way I approached it, you don’t just draw five\nlines between five points; instead, you create a drawing method that is a little more generic—\nrotating 360 degrees around a center and extrapolating points at certain angles. For example,\nif you plot a point every 72 degrees, you get a pentagon.\n2. Kenneth Stephenson, Introduction to Circle Packing: The Theory of Discrete Analytic Functions \n(Cambridge University Press, 2005).\n3. J. W. Cannon, W. J. Floyd, and W. R. Parry, “Finite subdivision rules,” Conformal Geometry and Dynamics, \nvol. 5 (2001).\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 213
  },
  {
    "chunk_full": "172\n\nSutcliffe Pentagons\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 214
  },
  {
    "chunk_full": "8\nGenerative Art | Pearson\n 173\nFractals\nCreates root pentagon\n\nmethod on it\nObject class to store \nan x, y position\nListing 8.4 Drawing a pentagon using rotation\nFractalRoot pentagon; \nint _maxlevels = 5;\nvoid setup() {\n  size(1000, 1000); \n  smooth();\n  pentagon = new FractalRoot();                             \n  pentagon.drawShape();                                     \n}\nclass PointObj {                                            \n   float x, y;                                              \n   PointObj(float ex, float why) {                          \n     x = ex; y = why;                                       \n   }                                                        \n}                                                           \nclass FractalRoot {                        \n  PointObj[] pointArr = new PointObj[5];            \n  Branch rootBranch;                    \n                                  \n  FractalRoot() {                        \n      float centX = width/2;                \n      float centY = height/2;                \n      int count = 0;                    \n      for (int i = 0; i<360; i+=72) {            \n        float x = centX + (400 * cos(radians(i)));    \n        float y = centY + (400 * sin(radians(i)));    \n        pointArr[count] = new PointObj(x, y);        \n        count++;                        \n      }                            \n      rootBranch = new Branch(0, 0, pointArr);        \n  }                                \n                                  \n  void drawShape() {                    \n    rootBranch.drawMe();                    \n  }                                \n\t\n(continued on next page)\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 215
  },
  {
    "chunk_full": "174\nConstructs Branch object\nBranch draws itself\n\t \t \t \t \t \t\n(Listing 8.4 continued)\nclass Branch {                                            \n  int level, num;                                         \n  PointObj[] outerPoints = {};                            \n                                                          \n  Branch(int lev, int n, PointObj[] points) {             \n    level = lev;                                          \n    num = n;                                              \n    outerPoints = points;                                 \n  }                                                       \n  \n  void drawMe() {\n    strokeWeight(5 - level);      \n    // draw outer shape\n    for (int i = 0; i < outerPoints.length; i++) {         \n     int nexti = i+1;                                      \n     if (nexti == outerPoints.length) { nexti = 0; }       \n     line(outerPoints[i].x, outerPoints[i].y, outerPoints[nexti].x, outerPoints[nexti].y);   \n   }                                                       \n  }  \n}\nThe FractalRoot object contains an array of five points. It fills that array by rotating an angle\naround a center point in 72-degree jumps. It then uses that array of points to construct the first \nBranch object. The Branch object is your self-replicating fractal object. Each branch draws itself\nby connecting the points it has placed in its outerPoints array.\nThis should give you a pentagon, as shown in figure 8.11. \n\nJust in case you don’t know what a regular pentagon looks like\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 216
  },
  {
    "chunk_full": "8\nGenerative Art | Pearson\n 175\nFractals\nNext, you plot the midpoints of each side. Add the two functions in the following listing to\nthe Branch object.\nListing 8.5 Functions to calculate the midpoints of a set of vertices \nPointObj[] calcMidPoints() {                        \n    PointObj[] mpArray = new PointObj[outerPoints.length];        \n    for (int i = 0; i < outerPoints.length; i++) {            \n      int nexti = i+1;                            \n      if (nexti == outerPoints.length) { nexti = 0; }        \n      PointObj thisMP = calcMidPoint(outerPoints[i], outerPoints[nexti]);        \n   mpArray[i] = thisMP;                        \n }                                     \n return mpArray;                            \n}                                    \n  \nPointObj calcMidPoint(PointObj end1, PointObj end2) {        \n    float mx, my;                            \n    if (end1.x > end2.x) {                        \n      mx = end2.x + ((end1.x - end2.x)/2);                    \n    } else {                            \n      mx = end1.x + ((end2.x - end1.x)/2);                \n    }                                    \n    if (end1.y > end2.y) {                        \n      my = end2.y + ((end1.y - end2.y)/2);                \n    } else {                                \n      my = end1.y + ((end2.y - end1.y)/2);                \n    }                                    \n    return new PointObj(mx, my);                    \n}                                    \nThe first function, calcMidPoints, iterates through the array of outer points and passes each pair\nof points to the second function, calcMidPoint; this function works out the difference between\neach individual pair, covering every possible relative position to each other. calcMidPoints \ncollects each of the results in an array to pass back. \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 217
  },
  {
    "chunk_full": "176\nYou call the new function in the Branch constructor and put the result in an array named\nmidpoints:\nPointObj[] midPoints = {};\nBranch(int lev, int n, PointObj[] points) {\n  …\n  midPoints = calcMidPoints();\n}\nThen, you can plot those points in the drawMe function: \nstrokeWeight(0.5);\nfill(255, 150);   \nfor (int j = 0; j < midPoints.length; j++) {\n  ellipse(midPoints[j].x, midPoints[j].y, 15, 15);\n}\nThis gives you figure 8.12.\nThe next set of points you need are the ends of the struts to extend from the midpoints. You\ndon’t need to work this out relative to the angle of the side vertex; you can instead use one of\nthe opposite points of the shape to aim toward. \nFirst, define a global _strutFactor variable to specify the ratio of the total span you want the\nstrut to extrude:\nfloat _strutFactor = 0.2;\nNow, the Branch object needs another set of functions to plot those points. \n\nCalculating the midpoints of the sides\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 218
  },
  {
    "chunk_full": "8\nGenerative Art | Pearson\n 177\nFractals\nProjects along hypotenuse\nTrig calculations\n\nListing 8.6 Functions to extend the midpoints toward the opposite points\nPointObj[] calcStrutPoints() {\n      PointObj[] strutArray = new PointObj[midPoints.length];\n      for (int i = 0; i < midPoints.length; i++) { \n        int nexti = i+3;\n        if (nexti >= midPoints.length) { nexti -= midPoints.length; }\n\t\n        strutArray[i] = thisSP;\n      } \n      return strutArray;\n}\n      \nPointObj calcProjPoint(PointObj mp, PointObj op) {\n      float px, py;\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n      return new PointObj(px, py);  \n}\nopposite outer point\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 219
  },
  {
    "chunk_full": "178\nAgain, add this code to the Branch constructor:\nPointObj[] projPoints = {};\nBranch(int lev, int n, PointObj[] points) {\n  ...\n  projPoints = calcStrutPoints();\n}\nAnd plot those points in the drawMe function so you can see they’re correct:\nstrokeWeight(0.5);\nfill(255, 150);   \nfor (int j = 0; j < midPoints.length; j++) {\n  ellipse(midPoints[j].x, midPoints[j].y, 15, 15); \n  line(midPoints[j].x, midPoints[j].y, projPoints[j].x, projPoints[j].y);\n  ellipse(projPoints[j].x, projPoints[j].y, 15, 15);\n}\nYou should be looking at something like figure 8.13.\n\nProject struts toward the opposite points\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 220
  },
  {
    "chunk_full": "8\nGenerative Art | Pearson\n 179\nFractals\nNow you have all the points you need for the recursive structure. You can test this first by passing\nthe five strut points as the outer points for an inner pentagon. Add the following to the Branch \nobject’s constructor:\nBranch[] myBranches = {};\nBranch(int lev, int n, Point[] points) {\n    ...\n    if ((level+1) < _maxlevels) {\n      Branch childBranch = new Branch(level+1, 0, projPoints);\n      myBranches = (Branch[])append(myBranches, childBranch); \n    } \n}\nThen, add a similar trickle-down method to the drawMe function so the children are rendered\nto the screen:\nvoid drawMe() {\n...\n    for (int k = 0; k < myBranches.length; k++) {\n         myBranches[k].drawMe();\n    } \n}\nYou should see the result shown in figure 8.14.\n\nA recursive pentagon\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 221
  },
  {
    "chunk_full": "180\n\nkeep manageable\nAdding the other five pentagons to create a complete Sutcliffe Pentagon fractal is just a matter\nof passing the points to five more new Branch objects. The code is as follows:\nif ((level+1) < _maxlevels) {\n   ...\n   for (int k = 0; k < outerPoints.length; k++) {\n     int nextk = k-1;\n     if (nextk < 0) { nextk += outerPoints.length; }\n     PointObj[] newPoints = {  projPoints[k], midPoints[k],\n                     outerPoints[k], midPoints[nextk], projPoints[nextk] };\n     childBranch = new Branch(level+1, k+1, newPoints);\n     myBranches = (Branch[])append(myBranches, childBranch);\n   } \n}\nThis gives you the fractal shown at the beginning of this section in figure 8.10. Now you can begin\nexperimenting with it. \n8.4.2 Exploration\nYou have the ratio of the projected strut in a handy variable, so let’s start by varying this. You’ll\nadd a draw loop to redraw the fractal every frame with a new strut length, and vary that length\nby a noise factor. For this modification, you don’t need to do anything to the objects—just update\nthe initialization section of the code as shown in the following listing.\nListing 8.7 Varying the strut length of a Sutcliffe Pentagon\nFractalRoot pentagon;\nfloat _strutFactor = 0.2;\nfloat _strutNoise;\n\t\n \nvoid setup() {\n  size(1000, 1000); \n  smooth();\n  _strutNoise = random(10);\n}\nvoid draw() {\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 222
  },
  {
    "chunk_full": "8\nGenerative Art | Pearson\n 181\nFractals\nRange of 0 to 2, not 0 to 1\nRe-creates fractal \nevery frame\n  background(255);\n  \n  _strutNoise += 0.01;\n\t\n  \n\t\n \n\t\n}\nYou make one other little change here: you pass the frameCount to the FractalRoot object. If\nyou then modify FractalRoot, you can use that number to increment the angle and make the\nshape spin, Space Odyssey style:\nFractalRoot(float startAngle) {\n...\n        float x = centX + (400 * cos(radians(startAngle + i)));\n        float y = centY + (400 * sin(radians(startAngle + i)));\n...\n}\nAlso notice that the strut ratio doesn’t just vary between 0 and 1, we’ve allowed it to go to 2,\nso it can extend beyond the limits of the shape. Does this work? Try it and see. How about if\nthe strut ratio went into negative values? What would happen then? Only one way to find out:\n_strutFactor = (noise(_strutNoise) * 3) - 1;    \nIn this case, the ratio varies between -1 and +2. You end up with an animation that produces\nshapes like those shown in figure 8.15.\nAlready it’s getting interesting. \nAlthough the pentagon has a neat symmetry, there is no reason why your starting shape has to\nhave five sides. One of the reasons I adopted the non-absolute method of drawing the pentagon\nwas that it made it easy to add extra sides to the polygon. For example, create a global variable: \nint _numSides = 8;\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 223
  },
  {
    "chunk_full": "Figure 8.15  \nStrut factors -1 through to +2\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 224
  },
  {
    "chunk_full": "",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 225
  },
  {
    "chunk_full": "\nnumber of sides\nNow, change the FractalRoot class as shown in this listing.\nListing 8.8 Sutcliffe Pentagon, not limited to five sides\nclass FractalRoot {                        \n  PointObj[] pointArr = {};            \n  Branch rootBranch;                    \n                                  \n  FractalRoot(float startAngle) {\n      float centX = width/2;\n      float centY = height/2; \n      float angleStep = 360.0f/_numSides; \nSteps according to number of sides\n      for (float i = 0; i<360; i+=angleStep) {\n        float x = centX + (400 * cos(radians(startAngle + i)));\n        float y = centY + (400 * sin(radians(startAngle + i)));\n        pointArr = (PointObj[])append(pointArr, new PointObj(x, y));\n      }\n      rootBranch = new Branch(0, 0, pointArr);\n  }                                \n                                  \n  void drawShape() {                    \n    rootBranch.drawMe();                    \n  }                                \n}\nNow you have a structure capable of handling any number of sides. How about eight, as shown\nin figure 8.16?\nOr 32? (See figure 8.17.)\nTaking another approach, why should you feel limited to 360 degrees? I discovered that setting\nthe angle step to 133 and stepping 8 times (effectively turning the circle three times) gave me\nsomething like figure 8.18. \nI followed this line of exploration by making the angles and the number of sides vary according\nto a noise factor between frames, in the same way you varied the strut factor. You shouldn’t have\nany difficulty working out the code if you want to try it. Through this process, I discovered what\nan incomplete revolution looks like (see figure 8.19). \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 226
  },
  {
    "chunk_full": "Figure 8.17  \nA 32-sided structure\n\n Angle step of 133, through 1024 degrees\n\nThe system is resilient enough to work with irregular and incomplete shapes.\n\nEight sides: a Sutcliffe Octagon?\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 227
  },
  {
    "chunk_full": "186\n\nA number of abandonedart.org applications of the Sutcliffe Pentagon\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 228
  },
  {
    "chunk_full": "8\nGenerative Art | Pearson\n 187\nFractals\nThe fractal structure I built (to Sutcliffe’s specification) proved to be extremely mathematically\nsturdy, as long as I didn’t turn the number of levels up too high. This meant I could wrench it\nabout as if I were throttling a ferret, with the only consequence being that the results became\nless linear and more interesting.\nI hope you’re beginning to appreciate why this single fractal delighted me so when I started\nplaying with it. Figure 8.20 shows a few of the ideas I’ve tried. You can find the code for all of\nthese, along with the finished code for this section, at http://abandonedart.org.\nThis is where we leave fractals—and where we leave the book, too. If you can get your head\naround the code in this chapter, there really is nothing you can’t conquer in Processing. \n8.5 Summary\nFractals, another organizational structure we’ve stolen from the natural world, share a similar\nprinciple to the emergent structures we experimented with in earlier chapters. Simple code can\nproduce complex results when magnified through reflexive recursion. \nThe main themes of this book have been unpredictability, emergent complexity, and fresh\napproaches to programming. In part 1, I introduced generative art, the Processing language and\nIDE, and the idea of allowing a certain artistic flourish into the strict discipline of programming.\nIn part 2, our focus was on ways to force our computers into surprising us with unexpectedly\nsophisticated aesthetics, using random functions, noise functions, and mathematical\nconstructions that produced results beyond what we can work out in our heads. \nIn this final part, the unpredictability we fostered arose from emergence; the interplay between\nlarge numbers of simple elements giving rise to levels of complexity beyond the competence\nof our humble programming skills. The manipulations of logic and procedure that we perform\nwhen creating generative art, no matter how abstract, clearly share principles with the more\nsophisticated computations of the natural world. Craig Reynold’s Boids (chapter 6) performs\na pretty good imitation of murmating starlings; two-state cellular automata produce patterns\nthat are equally familiar to sociologists, biologists, and geologists (see figure 8.21 and chapter \n7). Recursive fractal constructions are at their root an idea stolen from natural organization, as\nyou’ve seen in this chapter. \nDespite how it may look when viewed through a screen, we don’t live in a digital world. Our reality\nis stubbornly analog: it doesn’t fit into distinctly encodable states. It’s an intricate, gnarly, and\nindefinite place. If we want to use digital tools to create art, which somehow has to reflect our crazy, \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 229
  },
  {
    "chunk_full": "188\nchaotic existence, we need to allow imperfection and unpredictability into the equation. But, as I\nhope I’ve shown, there is room for the organic within the mechanical, and programming isn’t just\nabout efficiency and order. Our computing machines, which may only be capable of producing\npoor imitations of life, are tapping a computational universality that the natural world shares.\nProgramming generative art, if I were to try and sum up it up into a single pocket-sized nugget, is\nabout allowing the chaos in. Not all things in life benefit from a structured approach; there is much\nthat is better for a little chaotic drift. If you have a way of working that allows this freedom, permitting\ninspiration to buffet you from idea to idea, you’ll inevitably end up in some interesting places. \nThanks for reading.\n\nPatterns generated using the Vicniac Vote rule from chapter 7\nNote: If you found value in this book and want to share it with a friend (and I’d appreciate it if you did), the \nCreative Commons chapters are free to distribute. You can download them from http://zenbullets.com.\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 230
  },
  {
    "chunk_full": "189\nindex\nNumbers\n3D printer, and tangible generative art 11\n100 Abandoned Artworks (Matt Pearson) xxx\n01010101, Drawing With Particles xxxix\nSymbols\n- operator 32\n-- operator 32\n-= operator 32\n* operator 32\n*= operator 32\n/ operator 32\n/= operator 32\n% operator 32\n+ operator 32\n++ operator 32\n+= operator 32\nA\nabsolute coordinate, definition of 23\nabstraction as art 73\nadd assign operator 32\naddition operator 32\nAddition/Subtraction, Variant (Robert Hodgin) xx\nAdobe Illustrator, usability 11\nAdobe Photoshop, frequent new releases of 10\nAfter Effects, usability 11\nagent 146\ndrawing with the ellipse function 68\nhuman 148\nand generative art 151\nchallenges of using 152\ncollecting data 152\nhumanizing 148\nquerying 147\nreal-world attributes 147\nturning into a spiral 76\nvs. object 127\nalgorist, definition of 8\nalgorithm, as real tool underlying generative art 9\nAli, Reza, LORMALIZED xxxix\nalpha value, introduction to 25\nAndroid 46\nanimation\nbasics of 27–33\nnoisy 89–91\nant colony\nas example of emergence 108\nlack of central organization 108\nApollo 17 148\nappend function 119\nApple, annual technology updates 10\narray\nin programming 119\nmultidimensional 133\nartificial intelligence, and generative art 136\nautonomy\ndefinition of 127\nrequired for generative methodology 6\nB\nBeddard, Tom viii\nMandelbulb 156\nbeginShape function 75\nBlake, William, Newton xxv\nBlonde Boids (Abandoned Artwork #4) 109\nBoids algorithm, realistic flocking simulation 109\nboolean 24\nbreak 39\nBrian’s Brain 138–141\nBroken Mirrors 1-4 (Matt Pearson) xxxviii\nBrown, Paul, and early generative art 9\nbyte 24\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 231
  },
  {
    "chunk_full": "190\nC\nCage, John, and generative music 7\nCannon, J. W., finite subdivision rules 171\ncase study, Wave Clock 76–82\ncellular automata 128–144\nBrian’s Brain \nSEE Brian’s Brain\ncontinuous behavior 143\ndefinition of 128\nGame of Life \nSEE  Game of Life\nsetting up 130–133\nVichniac Vote \nSEE  Vichniac Vote\nwaves (averaging) \nSEE  waves (averaging)\nchaos and order xxv–xxxii\nchar 24\ncircle\ncalculating points on circumference of 67\ndrawing\nwith OOP 113\nwith the ellipse function 67–68\nwith trigonometry 67\nturning into a spiral 69–76\nclass\nin programming 114\nvs. instance 115\nclass keyword 114\nClojure, Processing implementation 14\ncollaboration, generative artwork as 6\ncollision correction 120\ncollision detection 120–125\nColour Economy, Jeremy Thorp 149\ncomment, notations 20\ncomparison operators 33\ncomplexity, and emergence 123\nComplexity theory, and emergence 108\nComputer Arts Society (CAS) 170\nconditional\ngrouping 33\nintroduction to 33–34\nnesting 34\nContext Free 14\nConway, John, Game of Life \nSEE  Game of Life\ncos function 60\ncosine curve, drawing 61\ncosine, definition of 67\nCSS, usability 11\ncurveVertex(x,y) function 75\nC++, usability 11\ncustom function 30–31\nD\ndata type\nboolean 24\nbyte 24\nchar 24\ncomposite 24\nfloat 24\nint 24\nmost common 24\nString 24\ndata visualization 153\nDawkins, Richard, The Blind Watchmaker 4\ndecrement operator 32\ndigital artwork, fragility of 11\ndigital tools 9–12\nlearning curve 11\nrapid obsolescence of 9, 11\ndist function 120\ndivide assign operator 32\ndivision operator 32\ndraw() function block 27\ndrawing\nbasics of 19–27\nin 3D space 93–95\nrotational \nSEE  rotational drawing\nDrawing With Particles (01010101) xxxix\nDublin Trinity College, School of  \nComputer Science 52\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 232
  },
  {
    "chunk_full": "191\nE\nefficiency, in code, importance of 23\nellipse function 18\ndrawing a circle with 67–68\nemergence 108–111\nand complexity 125\nand Complexity theory 108\nand consciousness 111\nant colony as example of 108\nas a way of generating organic artworks 111\nas organizing principle 111\ndefinition of 108\npatterns in interactions 125\npolitical connotations of 111\nsociological perspective 110–111\nEmergence (John Holland) 108\nEmergence (Steven Johnson) 108\nemergent complexity 125, 128–144\nemergent networks 110\nendShape function 75\nEnlightenment xxv\nEno, Brian\nand generative music 7\nDiscreet Music 7\nF\nfill\nintroduction to 25\nturning off 27\nfill function 75\nFinal Cut Pro, usability 11\nFlash, usability 11\nflicker-fusion 45\nFlight Patterns (Aaron Koblin) xxxiv, 150\nfloat 24\nflocking simulation, rule for 109\nFloyd, W. J., finite subdivision rules 171\nfor loop 39–40, 54\nfractal\nand infinite recursion \nSEE  infinite recursion\ncase study, Sutcliffe Pentagons 170–187\nangle step, varying 184\nanimating 181\nconstructing 171–180\ndescription of 171\nexample 172\nexperimenting with 180–187\nincomplete revolution 184\nnumber of sides, varying 181\nstrut length, varying 180\nexponential growth 165–170\nintroduction to 157\nself-similarity, coding \nSEE  self-similarity, coding\nspace clockwork 165, 168\ntree\nanimating 163\nbeginnings of 162\nframe loop 27–30, 89\nand noise 89\nframeRate function 27\nframe rate, standards 45\nFrosti (Matt Pearson) xxvii, 102\nFry, Benjamin 14\nVisualizing Data 153\nfunction\ncustom \nSEE  custom function\nintroduction to 18\nfunction block\ndefinition of 27\nG\nGalanter, Philip, definition of generative art 3\nGame of Life 128, 134–137\nand generative art 137\ncode 134\nonline examples 136\nrules 134\nGarageBand, usability 11\ngenerative art\naim of xxxii\nalgorithms as tools to produce 9\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 233
  },
  {
    "chunk_full": "192\nand artificial intelligence 136\nand human beings 151\nand the Game of Life 137\nas chaos art xli\nas collaboration 6\nhistory of 6–9\nintroduction to xviii\norder and chaos xxv–xxxii\nsimplicity of xxii–xxiii\ntangible, via 3D printer 11\nwhat it is 12\nwhat it isn’t 4–6\ngenerative methodology\nautonomy of 6\nrules of defining 6\nunpredictability of 6\ngenerative music 7\nGibson, William 57\nglobal variable\ndefinition of 29\nunderline as preface for 29\nGödel, Escher, Bach (Douglas Hofstadter) 136\nGreenberg, Ira, Processing tutorial 17\nGrid Distortion 02D 0018 (Marius Watz) xxxii\nH\nhalting problem, of Alan Turing 158\nHappy Place (Jared Tarbell) xl\nHasCanvas 47\nHaunted Fishtank 99\nHello World 17–19\nhexadecimal, using to denote color values 22\nHodgin, Robert\nAddition/Subtraction, Variant xx\nJelly (Magnetosphere) xxi\nMagnetic Ink xxi\nHofstadter, Douglas, Gödel, Escher, Bach 136\nHolland, John, Emergence 108\nHTML, usability 11\nhuman beings, and generative systems 151\nhypotenuse, definition of 67\nI\nif 33\nif ... else 33\nIlluminations B (Marius Watz) xxxiii\nIllustrator, usability 11\nincrement operator 32\ninfinite loop 35, 158\ninfinite recursion 158\nsimulating in code 158\ninfinity, computer’s inability to process 158\nInformation Is Beautiful 153\ninstance\ncreating 115\nin programming 114\nself-awareness 120\nvs. class 115\nint 24\ninteraction between objects, and complexity 125\ninternet, as an example of emergence 110\nIntroduction to Circle Packing  \n(Kenneth Stephenson) 171\niPad, developing for 46\niPhone, developing for 46\niProcessing 47\niterative variance 54–56\nvs. randomness 56\nJ\nJava\nmust be installed in browser 42\nusability 11\nJAVA2D rendering engine 93\nJava Micro Edition (Java ME) 46\nJelly (Magnetosphere) (Robert Hodgin) xxi\nJerome Saint-Clair \nSEE  01010101\nJohnson, Steven, Emergence 108\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 234
  },
  {
    "chunk_full": "193\nK\nKBGD01E 0012 (Marius Watz) xxxii\nkeyPressed() function 43\nKoblin, Aaron, Flight Patterns xxxiv, 151\nL\nLady Quark (Manfred Mohr) 8\nLee-Delisle, Seb, Lunar Landing Trails 152\nLewes, George Henry, and emergence 108\nLife in 2050 (Matt Pearson) xxvi\nline function, vs. translate function 88\nloading.gif 44\nlocal variable, definition of 29\nlogic operators 33\nloop\nfor \nSEE  for loop\nterminating 39\nwhile \nSEE  while loop\nlooping, introduction to 34–40\nLORMALIZED (Reza Ali) xxxix\nLunar Lander arcade game 152\nLunar Lander Trails (Seb Lee-Delisle) 152\nM\nMagnetic Ink (Robert Hodgin) xxi\nMandelbrot 156\nMandelbulb (Tom Beddard) 156\nmathematical transformations, and line drawing 63\nMaya, usability 11\nmethodology, generative \nSEE generative \nmethodology\nmicro-behavior vs. macro-knowledge 111\nmobile phone, developing for 46\nMobile Processing 46\nMODE, specifying rendering engine with 92\nmodulo operator 32\nMohr, Manfred\nand early generative art 9\nArtificiata I 9\nLady Quark 8\nMolnar, Vera, and early generative art 9\nMondrian Architecture (Matt Pearson) xxxvi\nMoore’s Law 11\nmorphogenesis 110\nMozart, as generative musician 7\nMozilla, Processing for the Web 14\nmultiplication operator 32\nmultiply assign operator 32\nmusic, generative \nSEE generative music\nN\nNake, Frieder, and early generative art 9\nnaturalistic variance 57–63, 73–76\nNees, George, and early generative art 9\nnegation operator 32\nNeuromancer 57\nnew keyword 115\nNewton, Isaac, world view of xxv\nNewton (William Blake) xxv\nNew York Times, API 153\nNodeBox 14\nnoFill function 27\nnoise\nand animation 89–92\ngenerating 60, 73–76\nthree-dimensional 95–98\ntwo-dimensional 84–89\nvisualizations 85–89\nnoise cube 97\nnoise function 57\nas variance in alpha values 85\ncustom 73–76\nnoise grid 84–85\non frame loop 89\nwith noise variance 91\nwritten as function blocks 85\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 235
  },
  {
    "chunk_full": "194\nO\nobject\nin Processing 114\nmodeling in programming 114\nvs. agent 127\nobject-oriented programming 112–125\narray 119\nclass 114\nclasses and instances 113–120\ndrawing circles with 113\ninstance 114\ninteractions between behaviors 125\nintroduction to 112\nobjects 114\nobsolescence, rapid, of digital tools 10\nopenFrameworks 14\nOpenGL library, importing 94\nOPENGL rendering engine 93\noperators\ngrouping 31\nintroduction to 31–32\nlist of 32\nOpiamas Trangelo (Matt Pearson) xix\nOrbitals (Matt Pearson) xxxvii\norder and chaos xxv–xxxii\norder of execution\nand layering 25\nand styles 25\norganic, creating using the mechanical xviii\nO’Rourke, Robert, HasCanvas 47\noutput window 18\nP\nparameter, introduction to 20\nParry, W. R., finite subdivision rules 171\nPDF rendering engine 93\nPearson, Matt\n100 Abandoned Artworks xxx\nBroken Mirrors 1–4 xxxviii\nFrosti xxvii, 102\nLife in 2050 xxvi\nMondrian Architecture xxxvi\nOpiamas Trangelo xix\nOrbitals xxxvii\nPerth Arts Festival Branding xxiv\nSpiral Stairs 72\nTube Clock 5\nTwill xxviii\nWave Clock 77, 81\nPerlin, Ken 57\nPerlin noise 57\n2D, from a 3D perspective 96\ncase study 76–82\nin Processing 57\nvisualized as alpha values 85\nvisualized as clouds 89\nvisualized as squares of varying sizes 87\nvisualized using rotation 86\nPerth Arts Festival Branding (Matt Pearson) xxiv\nPhotoshop, usability 11\npopMatrix function 88\nProcess 14 / Image 4 (Casey Reas) xxix\nProcessing\nas tool to create generative art 6\nintroduction to 14–19\nlearning curve 15\nMobile \nSEE  Mobile Processing\nPerlin noise in \nSEE  Perlin noise\nresources 15\nstate-based 25\ntutorials 17\nwebsite 15\nProcessing 2D (P2D) rendering engine 93\nProcessing 3D (P3D) rendering engine 93\nProcessing for Android 46\nProcessing for the Web 14\nProcessing.js 14\nand iPhone 47\ndownloading 47\nprogramming\nas poetry xxxv–xxxviii\nintroduction to 19–40\nsyntax rules xxxviii\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 236
  },
  {
    "chunk_full": "195\nprogramming language\nas means of producing 2D generative art 6\nas tool to create generative art 6\npseudo-randomness 52\npushMatrix function 88\nR\nradians vs. degrees 67\nrandom function 52–56\ncustom 63\ndrawing a line with 53\nrandomness\nand not-so-randomness 52–54\nand Perlin noise 57\ncomputer-generated 52\ngenerating in a controlled fashion 57\nrandom.org project 52\nvs. random variance 56\nrandom number, generating 52\nrandom.org project 52\nReas, Casey 14\nProcess 14 / Image 4 xxix\nrecursion, infinite \nSEE  infinite recursion\nrelative coordinate, definition of 23\nrendering engine\nJAVA2D 93\nlist of 93\nOPENGL 93\nP2D 93\nP3D 93\nPDF 93\nspecifying with MODE 92\nResig, John 14\nReynolds, Craig, Boids algorithm 109\nRGB, introduction to 20\nRomanticism xxv\nrotational drawing 66–76\nrotation, performing with translate function 88\nRuby, Processing implementation 14\nRucker, Rudy 105\nS\nSaint-Clair, Jerome \nSEE 01010101\nSave As 42\nsaveFrame function 43\nsaving work 41\nScala, Processing implementation 14\nscreen dimension 45\nscript\nexporting 41\ngenerating application from 42\nsaving 41\nself-similarity\ncoding 159–170\nexponential growth 165–170\nintroduction to 157\nrecursive depth, limiting 159\ntree structure 159\nanimating 163\nbranches 161\nlevel and index 162\nsemicolon 19\nsetup() function block 27\nShiffman, Dan, Processing tutorial 17\nBoids implementation 109\nsimulation and visualization 146\nsine curve, drawing 60\nsine, definition of 67\nsin function 60\nsize function, MODE parameter 92\nsketch, definition of 41\nsmoothing, introduction to 20\nspeed, as code limitation 23\nsphere\ndrawing with sphere function 93\ndrawing with trigonometry 100–103\nspiral drawn around 101\nsphereDetail function 94\nsphere function 93\nspiral\nadding noise to 69–76\ndrawing 69–76\nSpiral Stairs (Matt Pearson) 72\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 237
  },
  {
    "chunk_full": "196\nstarlings, murmating 109\nStephenson, Kenneth, Introduction to  \nCircle Packing 171\nstill\ncreating 43\nusing as \\alt\\ image 44\nusing to create video 44\nStockhausen, Karlheinz, and generative music 7\nStrange Symmetry 2 (Frederik Vanhoutte) xxxv\nString 24\nstroke\nintroduction to 22\nturning off 27\nstroke function 25\nstrokeWeight function 25\nStructure Synth 14\nsubtract assign operator 32\nsubtraction operator 32\nSutcliffe, Alan\nSutcliffe Pentagons 170\nWhite Heat Cold Logic 170\nsyntax, importance of 19\nT\nTarbell, Jared, Happy Place xl\nThorp, Jeremy\nColour Economy 149\ndata visualization 153\nuse of New York Times API 153\ntools, digital \nSEE digital tools\nToop, David, Haunted Weather 7\ntranslate function 88\nand drawing in 3D 94\nvs. line function 88\nTRON 57\nTube Clock (Matt Pearson) 5\nTuring, Alan\nmorphogenesis 110\nhalting problem 158\nTwill (Matt Pearson) xxviii\nTwitter, and emergence 110\nU\nunderline, as preface for global variables 29\nunpredictability, required for generative  \nmethodology 6\nV\nVanhoutte, Frederik, Strange Symmetry 2 xxxv\nvariable\nglobal \nSEE  global variable\nintroduction to 23–24\nlocal \nSEE  local variable\nvariable scope, definition of 29\nvariance\niterative \nSEE  iterative variance\nnaturalistic \nSEE  naturalistic variance\nversion control 42–43\nVichniac, Gerard 137\nVichniac Vote 137–138\nvideo\ncreating 44–45\ndedicated machine for rendering 44\nframe rates 45\nscreen dimensions 45\nVimeo, screen dimensions 45\nVisual Complexity 153\nVisualizing Data (Ben Fry) 153\nvvvv 14\nW\nWatts, Alan xviii\nWatz, Marius\nGrid Distortion 02D 0018 xxxii\nIlluminations B xxxiii\nKBGD01E 0012 xxix\nWave Clock, case study 76–82\nwaves 144\nwhile loop 35–36\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 238
  },
  {
    "chunk_full": "197\nWhite Heat Cold Logic (Alan Sutcliffe) 170\nwireframe, definition of 45\nwireless toolkit (WTK) 46\nX\nxnoise 92\nxstartNoise 92\nY\nynoise 92\nYouTube, screen dimensions 45\nystartNoise 92\nZ\nz value 93\nZX Spectrum 10\n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 239
  },
  {
    "chunk_full": "Artists have always explored new media, and computer-based \nartists are no exception. Generative art, a technique where the artist \ncreates print or onscreen images by using computer algorithms, \nfinds the artistic intersection of programming, computer graphics, \nand individual expression.\nGenerative Art presents both the techniques and the beauty of \nalgorithmic art. In it, you’ll find dozens of high-quality examples of \ngenerative art, along with the specific steps the author followed \nto create each unique piece using the Processing programming \nlanguage. The book includes concise tutorials for each of the \ntechnical components required to create the book’s images, and it \noffers countless suggestions for how you can combine and reuse the \nvarious techniques to create your own works.\nWhat’s inside\n· The principles of algorithmic art\n· A Processing language tutorial\n· Using organic, pseudo-random, emergent, and fractal processes\nMatt Pearson is an artist, coder, and award-winning blogger.\nFor access to the book’s forum and a \nfree ebook for owners of this book, go to \nmanning.com/GenerativeArt\nFREE\neBook\nsee insert\nDIGITAL DESIGN / PROGR AMMING\nUS $39.99 / Can $45.99  (including eBook)\n“\nPerfectly placed at the \nintersection of code \nand creative thinking.”\nFrom the Foreword by \nMarius Watz\nFounder of Generator.x\n“\nSucceeds in teaching \nwithout lecturing ... \nturns dull programming \nconcepts into fun \nexplorations.”\nFrederik Vanhoutte\nGenerative Artist, wblut.com \n“\nIf you’re interested \nin generative art, this \nis the place to start.”\nRobert O’Rourke\nFounder of HasCanvas\ngenerative art\npearson \n",
    "book_id": "generative_art",
    "book_title": "Generative Art: A Practical Guide Using Processing",
    "book_author": "Matt Pearson",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 240
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 241
  },
  {
    "chunk_full": "Computers / Digital Media\nMake: Getting Started with Processing\nWith Getting Started with Processing, you’ll:\nLearn computer programming the easy way with Processing, a simple \nlanguage that lets you use code to create drawings, animation, and \ninteractive graphics. Programming courses usually start with theory, but \nthis book jumps right into creative and fun projects. It’s ideal for anyone \nwho wants to learn programming, and serves as a simple introduction to \ngraphics for people who already have some programming skills.\nWritten by the founders of Processing, this book takes you through the \nlearning process one step at a time to help you grasp core programming \nconcepts. Join the thousands of hobbyists, students, and professionals \nwho have discovered this free and educational community platform. \n»\t \u0007Quickly learn programming basics, from variables to objects\n»\t Understand the fundamentals of computer graphics\n»\t Get acquainted with the Processing software environment \n»\t \u0007Create interactive graphics with easy-to-follow projects\n»\t Learn to apply data visualization techniques\n»\t Connect electronics to Processing with Arduino\n»\t Add sound to your graphical creations\nMake: \nmakezine.com\nUS  $24.99   CAN  $28.99\nISBN: 978-1-4571-8708-7\nCasey Reas is a Professor at UCLA’s Department of Design Media Arts. His \nsoftware, prints, and installations have been featured in numerous solo and \ngroup exhibitions at museums and galleries in the United States, Europe, and \nAsia. Casey cofounded Processing with Ben Fry in 2001.\nBen Fry is principal of Fathom, a design and software consultancy located in \nBoston. He received his PhD from the Aesthetics + Computation Group at the \nMIT Media Laboratory, where his research focused on combining fields such \nas computer science, statistics, graphic design, and data visualization as a \nmeans for understanding information. Ben cofounded Processing with Casey \nReas in 2001.\nUpdated for Processing 3.0 and now in full color!\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 242
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 243
  },
  {
    "chunk_full": "Getting\nStarted with\nProcessing\nSECOND EDITION\nCasey Reas and Ben Fry\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 244
  },
  {
    "chunk_full": "Advance Praise for Getting Started\nwith Processing\n“Making a computer program used to be as easy as turning\nit on and typing one or two lines of code to get it to say,\nHello. Now it takes a 500+-page manual and an entire\nvillage. Not anymore. This little book by Ben and Casey gets\nyou computationally drawing lines, triangles, and circles\nwithin minutes of clicking the download button. They’ve\nmade making computer programs humanly and humanely\npossible again—and that’s no small feat.”\n— John Maeda, President of Rhode Island\nSchool of Design\n“Getting Started with Processing is not only a\nstraightforward introduction to basic programming—it’s\nfun! It almost feels like an activity workbook for grownups.\nYou may want to buy it even if you never thought you were\ninterested in programming, because you will be.”\n— Mark Allen, Founder and Director,\nMachine Project\n“This is an excellent primer for those wanting to dip their\nfeet into programming graphics. Its learning by doing\napproach makes it particularly appropriate for artists and\ndesigners who are often put off by more traditional theory-\nfirst approaches. The price of the book and the fact that the\nProcessing environment is open source makes this an\nexcellent choice for students.”\n— Gillian Crampton Smith, Fondazione\nVenezia Professor of Design, IUAV\nUniversity of Venice\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 245
  },
  {
    "chunk_full": "“Processing changed dramatically the way we teach\nprogramming and it’s one of the major factors of the\nsuccess of Arduino.”\n— Massimo Banzi, Cofounder of Arduino\n“Casey Reas and Ben Fry champion the exciting power of\nprogramming for creatives in Getting Started with\nProcessing, a hands-on guide for making code-based\ndrawings and interactive graphics. Reas and Fry are clear\nand direct, but as artists, they’re not afraid to be a bit\neccentric and offbeat. This makes their unique form of\nteaching powerful.”\n— Holly Willis, Director of Academic\nPrograms, Institute for Multimedia Literacy,\nSchool of Cinematic Arts, USC\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 246
  },
  {
    "chunk_full": "978-1-457-18708-7\n[LSI]\nMake: Getting Started with Processing\nby Casey Reas and Ben Fry\nCopyright © 2015 Ben Fry and Casey Reas. All rights reserved.\nPrinted in the United States of America.\nPublished by Maker Media, Inc., 1160 Battery Street East, Suite 125, San Francisco,\nCA 94111.\nMaker Media books may be purchased for educational, business, or sales promo-\ntional use. Online editions are also available for most titles (http://safaribookson-\nline.com). For more information, contact our corporate/institutional sales depart-\nment: 800-998-9938 or corporate@oreilly.com.\nEditor: Anna Kaziunas France\nProduction Editor: Nicole Shelby\nCopyeditor: Jasmine Kwityn\nProofreader: Kim Cofer\nIndexer: Wendy Catalano\nInterior Designer: David Futato\nCover Designer: Casey Reas\nIllustrator: Rebecca Demarest\nSeptember 2015:\n Second Edition\nRevision History for the Second Edition\n2015-09-03: First Release\nSee http://oreilly.com/catalog/errata.csp?isbn=9781457187087 for release details.\nThe Make logo is a registered trademark of Maker Media, Inc. Make: Getting Started\nwith Processing, the cover image, and related trade dress are trademarks of Maker\nMedia, Inc.\nMany of the designations used by manufacturers and sellers to distinguish their\nproducts are claimed as trademarks. Where those designations appear in this book,\nand Maker Media, Inc., was aware of a trademark claim, the designations have been\nprinted in caps or initial caps.\nWhile the publisher and the authors have used good faith efforts to ensure that the\ninformation and instructions contained in this work are accurate, the publisher and\nthe authors disclaim all responsibility for errors or omissions, including without limi-\ntation responsibility for damages resulting from the use of or reliance on this work.\nUse of the information and instructions contained in this work is at your own risk. If\nany code samples or other technology this work contains or describes is subject to\nopen source licenses or the intellectual property rights of others, it is your responsi-\nbility to ensure that your use thereof complies with such licenses and/or rights.\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 247
  },
  {
    "chunk_full": "Contents\nPreface. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  xi\n1/Hello. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  1\nSketching and Prototyping. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  2\nFlexibility. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  2\nGiants. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  3\nFamily Tree. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  4\nJoin In. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  5\n2/Starting to Code. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  7\nYour First Program. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  8\nExample 2-1: Draw an Ellipse. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  9\nExample 2-2: Make Circles. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  9\nShow. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  10\nSave and New. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  11\nShare. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  11\nExamples and Reference. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  11\n3/Draw. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  13\nThe Display Window. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  13\nExample 3-1: Draw a Window. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  14\nExample 3-2: Draw a Point. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  14\nBasic Shapes. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  14\nExample 3-3: Draw a Line. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  16\nExample 3-4: Draw Basic Shapes. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  16\nExample 3-5: Draw a Rectangle. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  16\nExample 3-6: Draw an Ellipse. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  17\nExample 3-7: Draw Part of an Ellipse. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  18\nExample 3-8: Draw with Degrees. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  19\nDrawing Order. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  20\nExample 3-9: Control Your Drawing Order. . . . . . . . . . . . . . . . . . . . . . . . . .  20\nExample 3-10: Put It in Reverse. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  20\nShape Properties. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  21\nv\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 248
  },
  {
    "chunk_full": "Example 3-11: Set Stroke Weight. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  21\nExample 3-12: Set Stroke Caps. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  21\nExample 3-13: Set Stroke Joins. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  22\nDrawing Modes. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  22\nExample 3-14: On the Corner. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  23\nColor. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  23\nExample 3-15: Paint with Grays. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  25\nExample 3-16: Control Fill and Stroke. . . . . . . . . . . . . . . . . . . . . . . . . . . . .  25\nExample 3-17: Draw with Color. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  26\nExample 3-18: Set Transparency. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  27\nCustom Shapes. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  28\nExample 3-19: Draw an Arrow. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  28\nExample 3-20: Close the Gap. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  28\nExample 3-21: Create Some Creatures. . . . . . . . . . . . . . . . . . . . . . . . . . . .  29\nComments. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  30\nRobot 1: Draw. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  32\n4/Variables. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  35\nFirst Variables. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  35\nExample 4-1: Reuse the Same Values. . . . . . . . . . . . . . . . . . . . . . . . . . . . .  35\nExample 4-2: Change Values. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  36\nMaking Variables. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  36\nProcessing Variables. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  38\nExample 4-3: Adjust the Size, See What Follows. . . . . . . . . . . . . . . . . . . .  38\nA Little Math. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  38\nExample 4-4: Basic Arithmetic. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  39\nRepetition. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  40\nExample 4-5: Do the Same Thing Over and Over. . . . . . . . . . . . . . . . . . . .  41\nExample 4-6: Use a for Loop. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  41\nExample 4-7: Flex Your for Loop’s Muscles. . . . . . . . . . . . . . . . . . . . . . . . .  43\nExample 4-8: Fanning Out the Lines. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  43\nExample 4-9: Kinking the Lines. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  44\nExample 4-10: Embed One for Loop in Another. . . . . . . . . . . . . . . . . . . . .  44\nExample 4-11: Rows and Columns. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  45\nExample 4-12: Pins and Lines. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  46\nExample 4-13: Halftone Dots. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  46\nRobot 2: Variables. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  47\n5/Response. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  49\nOnce and Forever. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  49\nExample 5-1: The draw() Function. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  49\nExample 5-2: The setup() Function. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  50\nvi Contents\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 249
  },
  {
    "chunk_full": "Example 5-3: Global Variable. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  51\nFollow. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  51\nExample 5-4: Track the Mouse. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  51\nExample 5-5: The Dot Follows You. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  52\nExample 5-6: Draw Continuously. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  53\nExample 5-7: Set Line Thickness. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  53\nExample 5-8: Easing Does It. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  54\nExample 5-9: Smooth Lines with Easing. . . . . . . . . . . . . . . . . . . . . . . . . . .  55\nClick. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  56\nExample 5-10: Click the Mouse. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  57\nExample 5-11: Detect When Not Clicked. . . . . . . . . . . . . . . . . . . . . . . . . . .  58\nExample 5-12: Multiple Mouse Buttons. . . . . . . . . . . . . . . . . . . . . . . . . . . .  59\nLocation. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  61\nExample 5-13: Find the Cursor. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  62\nExample 5-14: The Bounds of a Circle. . . . . . . . . . . . . . . . . . . . . . . . . . . . .  63\nExample 5-15: The Bounds of a Rectangle. . . . . . . . . . . . . . . . . . . . . . . . .  64\nType. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  66\nExample 5-16: Tap a Key. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  67\nExample 5-17: Draw Some Letters. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  68\nExample 5-18: Check for Specific Keys. . . . . . . . . . . . . . . . . . . . . . . . . . . .  68\nExample 5-19: Move with Arrow Keys. . . . . . . . . . . . . . . . . . . . . . . . . . . . .  70\nMap. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  70\nExample 5-20: Map Values to a Range. . . . . . . . . . . . . . . . . . . . . . . . . . . . .  70\nExample 5-21: Map with the map() Function. . . . . . . . . . . . . . . . . . . . . . . .  71\nRobot 3: Response. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  72\n6/Translate, Rotate, Scale. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  75\nTranslate. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  75\nExample 6-1: Translating Location. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  76\nExample 6-2: Multiple Translations. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  76\nRotate. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  77\nExample 6-3: Corner Rotation. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  78\nExample 6-4: Center Rotation. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  78\nExample 6-5: Translation, then Rotation. . . . . . . . . . . . . . . . . . . . . . . . . . .  79\nExample 6-6: Rotation, Then Translation. . . . . . . . . . . . . . . . . . . . . . . . . . .  80\nExample 6-7: An Articulating Arm. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  80\nScale. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  82\nExample 6-8: Scaling. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  82\nExample 6-9: Keeping Strokes Consistent. . . . . . . . . . . . . . . . . . . . . . . . . .  83\nPush and Pop. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  83\nExample 6-10: Isolating Transformations. . . . . . . . . . . . . . . . . . . . . . . . . . .  84\nRobot 4: Translate, Rotate, Scale. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  85\nContents vii\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 250
  },
  {
    "chunk_full": "7/Media. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  89\nImages. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  90\nExample 7-1: Load an Image. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  90\nExample 7-2: Load More Images. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  91\nExample 7-3: Mousing Around with Images. . . . . . . . . . . . . . . . . . . . . . . . .  92\nExample 7-4: Transparency with a GIF. . . . . . . . . . . . . . . . . . . . . . . . . . . . .  93\nExample 7-5: Transparency with a PNG. . . . . . . . . . . . . . . . . . . . . . . . . . . .  94\nFonts. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  94\nExample 7-6: Drawing with Fonts. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  95\nExample 7-7: Draw Text in a Box. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  96\nExample 7-8: Store Text in a String. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  97\nShapes. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  97\nExample 7-9: Draw with Shapes. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  98\nExample 7-10: Scaling Shapes. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  98\nExample 7-11: Creating a New Shape. . . . . . . . . . . . . . . . . . . . . . . . . . . . .  99\nRobot 5: Media. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  101\n8/Motion. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  103\nFrames. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  103\nExample 8-1: See the Frame Rate. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  103\nExample 8-2: Set the Frame Rate. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  104\nSpeed and Direction. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  104\nExample 8-3: Move a Shape. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  104\nExample 8-4: Wrap Around. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  105\nExample 8-5: Bounce Off the Wall. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  107\nTweening. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  108\nExample 8-6: Calculate Tween Positions. . . . . . . . . . . . . . . . . . . . . . . . . .  108\nRandom. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  109\nExample 8-7: Generate Random Values. . . . . . . . . . . . . . . . . . . . . . . . . . .  109\nExample 8-8: Draw Randomly. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  109\nExample 8-9: Move Shapes Randomly. . . . . . . . . . . . . . . . . . . . . . . . . . . .  110\nTimers. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  111\nExample 8-10: Time Passes. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  112\nExample 8-11: Triggering Timed Events. . . . . . . . . . . . . . . . . . . . . . . . . .  112\nCircular. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  113\nExample 8-12: Sine Wave Values. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  115\nExample 8-13: Sine Wave Movement. . . . . . . . . . . . . . . . . . . . . . . . . . . . .  115\nExample 8-14: Circular Motion. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  116\nExample 8-15: Spirals. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  116\nRobot 6: Motion. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  118\nviii Contents\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 251
  },
  {
    "chunk_full": "9/Functions. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  121\nFunction Basics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  122\nExample 9-1: Roll the Dice. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  122\nExample 9-2: Another Way to Roll. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  123\nMake a Function. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  124\nExample 9-3: Draw the Owl. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  124\nExample 9-4: Two’s Company. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  125\nExample 9-5: An Owl Function. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  126\nExample 9-6: Increasing the Surplus Population. . . . . . . . . . . . . . . . . . . .  128\nExample 9-7: Owls of Different Sizes. . . . . . . . . . . . . . . . . . . . . . . . . . . . .  129\nReturn Values. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  130\nExample 9-8: Return a Value. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  130\nRobot 7: Functions. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  131\n10/Objects. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  135\nFields and Methods. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  136\nDefine a Class. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  137\nCreate Objects. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  142\nExample 10-1: Make an Object. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  142\nExample 10-2: Make Multiple Objects. . . . . . . . . . . . . . . . . . . . . . . . . . . .  143\nTabs. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  145\nRobot 8: Objects. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  147\n11/Arrays. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  149\nFrom Variables to Arrays. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  149\nExample 11-1: Many Variables. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  149\nExample 11-2: Too Many Variables. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  150\nExample 11-3: Arrays, Not Variables. . . . . . . . . . . . . . . . . . . . . . . . . . . . .  151\nMake an Array. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  152\nExample 11-4: Declare and Assign an Array. . . . . . . . . . . . . . . . . . . . . . .  153\nExample 11-5: Compact Array Assignment. . . . . . . . . . . . . . . . . . . . . . . .  154\nExample 11-6: Assigning to an Array in One Go. . . . . . . . . . . . . . . . . . . .  154\nExample 11-7: Revisiting the First Example. . . . . . . . . . . . . . . . . . . . . . . .  154\nRepetition and Arrays. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  155\nExample 11-8: Filling an Array in a for Loop. . . . . . . . . . . . . . . . . . . . . . .  155\nExample 11-9: Track Mouse Movements. . . . . . . . . . . . . . . . . . . . . . . . . .  156\nArrays of Objects. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  158\nExample 11-10: Managing Many Objects. . . . . . . . . . . . . . . . . . . . . . . . . .  159\nExample 11-11: A New Way to Manage Objects. . . . . . . . . . . . . . . . . . . .  159\nExample 11-12: Sequences of Images. . . . . . . . . . . . . . . . . . . . . . . . . . . .  160\nRobot 9: Arrays. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  162\nContents ix\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 252
  },
  {
    "chunk_full": "12/Data. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  165\nData Summary. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  165\nTables. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  166\nExample 12-1: Read the Table. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  168\nExample 12-2: Draw the Table. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  168\nExample 12-3: 29,740 Cities. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  170\nJSON. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  172\nExample 12-4: Read a JSON File. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  173\nExample 12-5: Visualize Data from a JSON File. . . . . . . . . . . . . . . . . . . .  174\nNetwork Data and APIs. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  176\nExample 12-6: Parsing the Weather Data. . . . . . . . . . . . . . . . . . . . . . . . .  178\nExample 12-7: Chaining Methods. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  179\nRobot 10: Data. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  180\n13/Extend. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  183\nSound. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  184\nExample 13-1: Play a Sample. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  185\nExample 13-2: Listen to a Microphone. . . . . . . . . . . . . . . . . . . . . . . . . . . .  186\nExample 13-3: Create a Sine Wave. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  188\nImage and PDF Export. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  189\nExample 13-4: Saving Images. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  190\nExample 13-5: Draw to a PDF. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  191\nHello, Arduino. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  193\nExample 13-6: Read a Sensor. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  194\nExample 13-7: Read Data from the Serial Port. . . . . . . . . . . . . . . . . . . . .  195\nExample 13-8: Visualizing the Data Stream. . . . . . . . . . . . . . . . . . . . . . . .  196\nExample 13-9: Another Way to Look at the Data. . . . . . . . . . . . . . . . . . .  198\nA/Coding Tips. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  201\nB/Data Types. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  207\nC/Order of Operations. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  209\nD/Variable Scope. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  211\nIndex. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  213\nx Contents\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 253
  },
  {
    "chunk_full": "Preface\nWe \ncreated \nProcessing \nto \nmake\nprogramming interactive graphics easier.\nWe were frustrated with how difficult it\nwas to write this type of software with the\nprogramming languages we usually used\n(Java and C++), and were inspired by\nhow simple it was to write interesting pro-\ngrams \nwith \nthe \nlanguages \nof \nour\nchildhood (Logo and BASIC). We were\nmost influenced by Design By Numbers\n(DBN), a language we were maintaining\nand teaching at the time (and which was\ncreated \nby \nour \nresearch \nadvisor,\nJohn Maeda).\nProcessing was born in spring 2001 as a brainstorming session\non a sheet of paper. Our goal was to make a way to sketch (pro-\ntotype) the type of software we were working on, which was\nalmost always full-screen and interactive. We were searching for\na better way to test our ideas easily in code, rather than just\ntalking about them or spending too much time programming\nthem in C++. Our other goal was to make a language for teach-\ning design and art students how to program and to give more\ntechnical students an easier way to work with graphics. The\ncombination is a positive departure from the way programming\nis usually taught. We begin by focusing on graphics and interac-\ntion rather than on data structures and text console output.\nxi\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 254
  },
  {
    "chunk_full": "Processing experienced a long childhood; it was alpha software\nfrom August 2002 to April 2005 and then public beta software\nuntil November 2008. During this time, it was used continuously\nin classrooms and by thousands of people around the world.\nThe language, software environment, and curricula around the\nproject were revised continuously during this time. Many of our\noriginal decisions about the language were reinforced and many\nwere changed. We developed a system of software extensions,\ncalled libraries, that have allowed people to expand Processing\ninto many unforeseen and amazing directions. (There are now\nover 100 libraries.)\nIn fall 2008, we launched the 1.0 version of the software. After\nseven years of work, the 1.0 launch signified stability for the lan-\nguage. We launched the 2.0 release in spring 2013 to make the\nsoftware faster. The 2.0 releases introduced better OpenGL\nintegration, GLSL shaders, and faster video playback with\nGStreamer. The 3.0 releases in 2015 make programming in Pro-\ncessing easier with a new interface and error checking while\nprogramming. \nNow, fourteen years after its origin, Processing has grown\nbeyond its original goals, and we’ve learned how it can be useful\nin other contexts. Accordingly, this book is written for a new\naudience—casual programmers, hobbyists, and anyone who\nwants to explore what Processing can do without getting lost in\nthe details of a huge textbook. We hope you’ll have fun and be\ninspired to continue programming. This book is just the start.\nWhile we (Casey and Ben) have been guiding the Processing\nship through the waters for the last twelve years, we can’t over-\nstate that Processing is a community effort. From writing libra-\nries that extend the software to posting code online and helping\nothers learn, the community of people who use Processing has\npushed it far beyond its initial conception. Without this group\neffort, Processing would not be what it is today.\nxii Preface\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 255
  },
  {
    "chunk_full": "How This Book Is Organized\nThe chapters in this book are organized as follows:\n• Chapter 1: Learn about Processing.\n• Chapter 2: Create your first Processing program.\n• Chapter 3: Define and draw simple shapes.\n• Chapter 4: Store, modify, and reuse data.\n• Chapter 5: Control and influence programs with the mouse\nand the keyboard.\n• Chapter 6: Transform the coordinates.\n• Chapter 7: Load and display media including images, fonts,\nand vector files.\n• Chapter 8: Move and choreograph shapes.\n• Chapter 9: Build new code modules.\n• Chapter 10: Create code modules that combine variables\nand functions.\n• Chapter 11: Simplify working with lists of variables.\n• Chapter 12: Load and visualize data.\n• Chapter 13: Learn about 3D, PDF export, computer vision,\nand reading data from an Arduino board.\nWho This Book Is For\nThis book is written for people who want a casual and concise\nintroduction to computer programming, who want to create\nimages and simple interactive programs. It’s for people who\nwant a jump-start on understanding the thousands of free Pro-\ncessing code examples and reference materials available online.\nGetting Started with Processing is not a programming textbook;\nas the title suggests, it will get you started. It’s for teenagers,\nhobbyists, grandparents, and everyone in between.\nThis book is also appropriate for people with programming\nexperience who want to learn the basics of interactive computer\ngraphics. Getting Started with Processing contains techniques\nPreface xiii\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 256
  },
  {
    "chunk_full": "that can be applied to creating games, animation, and\ninterfaces.\nConventions Used in This Book\nThe following typographical conventions are used in this book:\nItalic\nIndicates new terms, URLs, email addresses, filenames, and\nfile extensions.\nConstant width\nUsed for program listings, as well as within paragraphs to\nrefer to program elements such as variable or function\nnames, databases, data types, environment variables, state-\nments, and keywords.\nConstant width italic\nShows text that should be replaced with user-supplied val-\nues or by values determined by context.\nThis element signifies a tip, suggestion, or general\nnote.\nThis element indicates a warning or caution.\nUsing Code Examples\nThis book is here to help you get your job done. In general, you\nmay use the code in this book in your programs and documen-\ntation. You do not need to contact us for permission unless\nyou’re reproducing a significant portion of the code. For exam-\nple, writing a program that uses several chunks of code from\nthis book does not require permission. Selling or distributing a\nCD-ROM of examples from Make: books does require permis-\nsion. Answering a question by citing this book and quoting\nexample code does not require permission. Incorporating a sig-\nxiv Preface\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 257
  },
  {
    "chunk_full": "nificant amount of example code from this book into your pro-\nduct’s documentation does require permission.\nWe appreciate, but do not require, attribution. An attribution\nusually includes the title, author, publisher, and ISBN. For exam-\nple: “Getting Started with Processing by Casey Reas and Ben\nFry. \nCopyright \n2015 \nCasey \nReas \nand \nBen \nFry,\n978-1-457-18708-7.”\nIf you feel your use of code examples falls outside fair use or the\npermission given here, feel free to contact us at bookpermis-\nsions@makermedia.com.\nSafari® Books Online\nSafari Books Online is an on-demand digital library that delivers\nexpert content in both book and video form from the world’s\nleading authors in technology and business.\nTechnology professionals, software developers, web designers,\nand business and creative professionals use Safari Books Online\nas their primary resource for research, problem solving, learn-\ning, and certification training.\nSafari Books Online offers a range of plans and pricing for enter-\nprise, government, education, and individuals.\nMembers have access to thousands of books, training videos,\nand prepublication manuscripts in one fully searchable data-\nbase from publishers like Maker Media, O’Reilly Media, Prentice\nHall Professional, Addison-Wesley Professional, Microsoft Press,\nSams, Que, Peachpit Press, Focal Press, Cisco Press, John Wiley\n& Sons, Syngress, Morgan Kaufmann, IBM Redbooks, Packt,\nAdobe Press, FT Press, Apress, Manning, New Riders, McGraw-\nHill, Jones & Bartlett, Course Technology, and hundreds more.\nFor more information about Safari Books Online, please visit us\nonline.\nHow to Contact Us\nPlease address comments and questions concerning this book\nto the publisher:\nPreface xv\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 258
  },
  {
    "chunk_full": "Maker Media, Inc.\n1160 Battery Street East, Suite 125\nSan Francisco, California 94111\n800-998-9938 (in the United States or Canada)\nhttp://makermedia.com/contact-us/\nMake: unites, inspires, informs, and entertains a growing com-\nmunity of resourceful people who undertake amazing projects in\ntheir backyards, basements, and garages. Make: celebrates your\nright to tweak, hack, and bend any technology to your will. The\nMake: audience continues to be a growing culture and commu-\nnity that believes in bettering ourselves, our environment, our\neducational system—our entire world. This is much more than\nan audience, it’s a worldwide movement that Make: is leading—\nwe call it the Maker Movement.\nFor more information about Make:, visit us online:\nMake: magazine: http://makezine.com/magazine/\nMaker Faire: http://makerfaire.com\nMakezine.com: http://makezine.com\nMaker Shed: http://makershed.com/\nWe have a web page for this book, where we list errata, exam-\nples, and any additional information. You can access this page\nat: http://shop.oreilly.com/product/0636920031406.do\nTo comment or ask technical questions about this book, send\nemail to bookquestions@oreilly.com.\nAcknowledgments\nFor the first and second editions of this book, we thank Brian\nJepson for his great energy, support, and insight. For the first\nedition, Nancy Kotary, Rachel Monaghan, and Sumita Mukherji\ngracefully carried the book to the finish line. Tom Sgouros made\na thorough edit of the book and David Humphrey provided an\ninsightful technical review.\nWe can’t imagine this book without Massimo Banzi’s Getting\nStarted with Arduino (Maker Media). Massimo’s excellent book\nis the prototype.\nxvi Preface\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 259
  },
  {
    "chunk_full": "A small group of individuals has, for years, contributed essential\ntime and energy to Processing. Dan Shiffman is our partner in\nthe Processing Foundation, the 501(c)(3) organization that sup-\nports the Processing software. Much of the core code for Pro-\ncessing 2.0 and 3.0 has come from the sharp minds of Andres\nColubri and Manindra Moharana. Scott Murray, Jamie Kosoy,\nand Jon Gacnik have built a wonderful web infrastructure for the\nproject. James Grady is rocking the 3.0 user interface. We thank\nFlorian Jenett for his years of diverse work on the project includ-\ning the forums, website, and design. Elie Zananiri and Andreas\nSchlegel have created the infrastructure for building and docu-\nmenting contributed libraries and have spent countless hours\ncurating the lists. Many others have contributed significantly to\nthe project; the precise data is available at https://github.com/\nprocessing.\nThe Processing 1.0 release was supported by Miami University\nand Oblong Industries. The Armstrong Institute for Interactive\nMedia Studies at Miami University funded the Oxford Project, a\nseries of Processing development workshops. These workshops\nwere made possible through the hard work of Ira Greenberg.\nThese four-day meetings in Oxford, Ohio, and Pittsburgh, Penn-\nsylvania, enabled the November 2008 launch of Processing 1.0.\nOblong Industries funded Ben Fry to develop Processing during\nsummer 2008; this was essential to the release.\nThe Processing 2.0 release was facilitated by a development\nworkshop sponsored by New York University’s Interactive Tele-\ncommunication Program. The work on Processing 3.0 was gen-\nerously sponsored by the Emergent Digital Practices program at\nthe University of Denver. We thank Christopher Colemen and\nLaleh Mehran for the essential support.\nThis book grew out of teaching with Processing at UCLA. Chan-\ndler McWilliams has been instrumental in defining these\nclasses. Casey thanks the undergraduate students in the\nDepartment of Design Media Arts at UCLA for their energy and\nenthusiasm. His teaching assistants have been great collabora-\ntors in defining how Processing is taught. Hats off to Tatsuya\nSaito, John Houck, Tyler Adams, Aaron Siegel, Casey Alt,\nAndres Colubri, Michael Kontopoulos, David Elliot, Christo Alle-\ngra, Pete Hawkes, and Lauren McCarthy.\nPreface xvii\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 260
  },
  {
    "chunk_full": "Through founding the Aesthetics and Computation Group\n(1996–2002) at the MIT Media Lab, John Maeda made all of this\npossible.\nxviii Preface\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 261
  },
  {
    "chunk_full": "1/Hello\nProcessing is for writing software to make\nimages, animations, and interactions.\nThe idea is to write a single line of code,\nand have a circle show up on the screen.\nAdd a few more lines of code, and the cir-\ncle follows the mouse. Another line of\ncode, and the circle changes color when\nthe mouse is pressed. We call this \nsketching with code. You write one line,\nthen add another, then another, and so\non. The result is a program created one\npiece at a time.\nProgramming courses typically focus on structure and theory\nfirst. Anything visual—an interface, an animation—is considered\na dessert to be enjoyed only after finishing your vegetables, usu-\nally several weeks of studying algorithms and methods. Over the\nyears, we’ve watched many friends try to take such courses and\ndrop out after the first lecture or after a long, frustrating night\nbefore the first assignment deadline. What initial curiosity they\nhad about making the computer work for them was lost\nbecause they couldn’t see a path from what they had to learn\nfirst to what they wanted to create.\nProcessing offers a way to learn programming through creating\ninteractive graphics. There are many possible ways to teach\ncoding, but students often find encouragement and motivation\nin immediate visual feedback. Processing’s capacity for provid-\ning that feedback has made it a popular way to approach pro-\n1\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 262
  },
  {
    "chunk_full": "gramming, and its emphasis on images, sketching, and commu-\nnity is discussed in the next few pages.\nSketching and Prototyping\nSketching is a way of thinking; it’s playful and quick. The basic\ngoal is to explore many ideas in a short amount of time. In our\nown work, we usually start by sketching on paper and then mov-\ning the results into code. Ideas for animation and interactions\nare usually sketched as storyboards with notations. After mak-\ning some software sketches, the best ideas are selected and\ncombined into prototypes (Figure 1-1). It’s a cyclical process of\nmaking, testing, and improving that moves back and forth\nbetween paper and screen.\nFigure 1-1. As drawings move from sketchbook to screen, new\npossibilities emerge\nFlexibility\nLike a software utility belt, Processing consists of many tools\nthat work together in different combinations. As a result, it can\n2 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 263
  },
  {
    "chunk_full": "be used for quick hacks or for in-depth research. Because a Pro-\ncessing program can be as short as one line or as long as thou-\nsands, there’s room for growth and variation. More than 100\nlibraries extend Processing even further into domains including\nsound, computer vision, and digital fabrication (Figure 1-2).\nFigure 1-2. Many types of information can flow in and out of\nProcessing\nGiants\nPeople have been making pictures with computers since the\n1960s, and there’s much to be learned from this history. For\nexample, before computers could display to CRT or LCD\nscreens, huge plotter machines (Figure 1-3) were used to draw\nimages. In life, we all stand on the shoulders of giants, and the\ntitans for Processing include thinkers from design, computer\ngraphics, art, architecture, statistics, and the spaces between.\nHave a look at Ivan Sutherland’s Sketchpad (1963), Alan Kay’s\nDynabook (1968), and the many artists featured in Ruth Leav-\nitt’s Artist and Computer (Harmony Books, 1976). The ACM SIG-\nHello 3\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 264
  },
  {
    "chunk_full": "GRAPH and Ars Electronica archives provide fascinating glimp-\nses into the history of graphics and software.\nFigure 1-3. Drawing demonstration by Manfred Mohr at Musée\nd’Art Moderne de la Ville de Paris using the Benson plotter and a\ndigital computer on May 11, 1971. (photo by Rainer Mürle, cour-\ntesy bitforms gallery, New York)\nFamily Tree\nLike human languages, programming languages belong to fami-\nlies of related languages. Processing is a dialect of a program-\nming language called Java; the language syntax is almost identi-\ncal, but Processing adds custom features related to graphics\nand interaction (Figure 1-4). The graphic elements of Processing\nare related to PostScript (a foundation of PDF) and OpenGL (a\n3D graphics specification). Because of these shared features,\nlearning Processing is an entry-level step to programming in\nother languages and using different software tools.\n4 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 265
  },
  {
    "chunk_full": "Figure 1-4. Processing has a large family of related languages\nand programming environments\nJoin In\nThousands of people use Processing every day. Like them, you\ncan download Processing without cost. You even have the\noption to modify the Processing code to suit your needs. Pro-\ncessing is a FLOSS project (that is, free/libre/open source soft-\nware), and in the spirit of community, we encourage you to par-\nticipate by sharing your projects and knowledge online at Pro-\ncessing.org and at the many social networking sites that host\nProcessing content. These sites are linked from the Process-\ning.org website.\nHello 5\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 266
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 267
  },
  {
    "chunk_full": "2/Starting to Code\nTo get the most out of this book, you\nneed to do more than just read the\nwords. You need to experiment and prac-\ntice. You can’t learn to code just by read-\ning about it—you need to do it. To get\nstarted, download Processing and make\nyour first sketch.\nStart by visiting http://processing.org/download and selecting\nthe Mac, Windows, or Linux version, depending on what\nmachine you have. Installation on each machine is straightfor-\nward:\n• On Windows, you’ll have a .zip file. Double-click it, and drag\nthe folder inside to a location on your hard disk. It could be\nProgram Files or simply the desktop, but the important\nthing is for the processing folder to be pulled out of that .zip\nfile. Then double-click processing.exe to start.\n• The Mac OS X version is a .zip file. Double-click it, and drag\nthe Processing icon to the Applications folder. If you’re\nusing someone else’s machine and can’t modify the Appli-\ncations folder, just drag the application to the desktop. Then\ndouble-click the Processing icon to start.\n• The Linux version is a .tar.gz file, which should be familiar to\nmost Linux users. Download the file to your home directory,\nthen open a terminal window, and type:\ntar xvfz processing-xxxx.tgz\n(Replace xxxx with the rest of the file’s name, which is the ver-\nsion number.) This will create a folder named processing-3.0 or\nsomething similar. Then change to that directory:\n7\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 268
  },
  {
    "chunk_full": "cd processing-xxxx\nand run it:\n./processing\nWith any luck, the main Processing window will now be visible\n(Figure 2-1). Everyone’s setup is different, so if the program\ndidn’t start, or you’re otherwise stuck, visit the troubleshooting\npage for possible solutions.\nFigure 2-1. The Processing Development Environment\nYour First Program\nYou’re now running the Processing Development Environment\n(or PDE). There’s not much to it; the large area is the Text Editor,\nand there’s two buttons across the top; this is the Toolbar.\nBelow the editor is the Message Area, and below that is the Con-\nsole. The Message Area is used for one-line messages, and the\nConsole is used for more technical details.\n8 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 269
  },
  {
    "chunk_full": "Example 2-1: Draw an Ellipse\nIn the editor, type the following:\nellipse(50, 50, 80, 80);\nThis line of code means “draw an ellipse, with the center 50 pix-\nels over from the left and 50 pixels down from the top, with a\nwidth and height of 80 pixels.” Click the Run button the (triangle\nbutton in the Toolbar).\nIf you’ve typed everything correctly, you’ll see a circle on your\nscreen. If you didn’t type it correctly, the Message Area will turn\nred and complain about an error. If this happens, make sure that\nyou’ve copied the example code exactly: the numbers should be\ncontained within parentheses and have commas between each\nof them, and the line should end with a semicolon.\nOne of the most difficult things about getting started with pro-\ngramming is that you have to be very specific about the syntax.\nThe Processing software isn’t always smart enough to know\nwhat you mean, and can be quite fussy about the placement of\npunctuation. You’ll get used to it with a little practice.\nNext, we’ll skip ahead to a sketch that’s a little more exciting.\nExample 2-2: Make Circles\nDelete the text from the last example, and try this one:\nvoid setup() {\n  size(480, 120);\n}\nvoid draw() {\n  if (mousePressed) {\n    fill(0);\n  } else {\nStarting to Code 9\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 270
  },
  {
    "chunk_full": "    fill(255);\n  }\n  ellipse(mouseX, mouseY, 80, 80);\n}\nThis program creates a window that is 480 pixels wide and 120\npixels high, and then starts drawing white circles at the position\nof the mouse. When a mouse button is pressed, the circle color\nchanges to black. We’ll explain more about this program later.\nFor now, run the code, move the mouse, and click to see what it\ndoes. While the sketch is running, the Run button will change to\na square “stop” icon, which you can click to halt the sketch.\nShow\nIf you don’t want to use the buttons, you can always use the \nSketch menu, which reveals the shortcut Ctrl-R (or Cmd-R on\nthe Mac) for Run. The Present option clears the rest of the\nscreen when the program is run to present the sketch all by\nitself. You can also use Present from the Toolbar by holding\ndown the Shift key as you click the Run button. See Figure 2-2.\nFigure 2-2. A Processing sketch is displayed on screen with Run\nand Present. The Present option clears the entire screen before\nrunning the code for a cleaner presentation.\n10 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 271
  },
  {
    "chunk_full": "Save and New\nThe next command that’s important is Save. You can find it\nunder the File menu. By default, your programs are saved to the\n“sketchbook,” which is a folder that collects your programs for\neasy access. Select the Sketchbook option in the File menu to\nbring up a list of all the sketches in your sketchbook.\nIt’s always a good idea to save your sketches often. As you try\ndifferent things, keep saving with different names, so that you\ncan always go back to an earlier version. This is especially help-\nful if—no, when—something breaks. You can also see where the\nsketch is located on your computer with the Show Sketch Folder\ncommand under the Sketch menu.\nYou can create a new sketch by selecting the New option from\nthe File menu. This will create a new sketch in its own window.\nShare\nProcessing sketches are made to be shared. The Export Appli-\ncation option in the File menu will bundle your code into a single\nfolder. Export Application creates an application for your choice\nof Mac, Windows, and/or Linux. This is an easy way to make\nself-contained, double-clickable versions of your projects that\ncan run full screen or in a window.\nThe application folders are erased and re-created\neach time you use the Export Application command,\nso be sure to move the folder elsewhere if you do not\nwant it to be erased with the next export.\nExamples and Reference\nLearning how to program involves exploring lots of code: run-\nning, altering, breaking, and enhancing it until you have resha-\nped it into something new. With this in mind, the Processing\nsoftware download includes dozens of examples that demon-\nstrate different features of the software.\nStarting to Code 11\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 272
  },
  {
    "chunk_full": "To open an example, select Examples from the File menu and\ndouble-click an example’s name to open it. The examples are\ngrouped into categories based on their function, such as Form,\nMotion, and Image. Find an interesting topic in the list and try an\nexample.\nAll of the examples in this book can be downloaded\nand run from the Processing Development Environ-\nment. Open the examples through the File menu,\nthen click Add Examples to open the list of example\npackages available to download. Select the Getting\nStarted with Processing package and click Install to\ndownload.\nWhen looking at code in the editor, you’ll see that functions like\nellipse() and fill() have a different color from the rest of the\ntext. If you see a function that you’re unfamiliar with, select the\ntext, and then click “Find in Reference” from the Help menu. You\ncan also right-click the text (or Ctrl-click on a Mac) and choose\n“Find in Reference” from the menu that appears. This will open\na web browser and show the reference for that function. In addi-\ntion, you can view the full documentation for the software by\nselecting Reference from the Help menu.\nThe Processing Reference explains every code element with a\ndescription and examples. The Reference programs are much\nshorter (usually four or five lines) and easier to follow than the\nlonger code found in the Examples folder. We recommend keep-\ning the Reference open while you’re reading this book and while\nyou’re programming. It can be navigated by topic or alphabeti-\ncally; sometimes it’s fastest to do a text search within your\nbrowser window.\nThe Reference was written with the beginner in mind; we hope\nthat we’ve made it clear and understandable. We’re grateful to\nthe many people who’ve spotted errors over the years and\nreported them. If you think you can improve a reference entry or\nyou find a mistake, please let us know by clicking the link at the\ntop of each reference page.\n12 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 273
  },
  {
    "chunk_full": "3/Draw\nAt first, drawing on a computer screen is\nlike working on graph paper. It starts as a\ncareful technical procedure, but as new\nconcepts are introduced, drawing simple\nshapes with software expands into\nanimation and interaction. Before we\nmake this jump, we need to start at the\nbeginning.\nA computer screen is a grid of light elements called pixels. Each\npixel has a position within the grid defined by coordinates. In\nProcessing, the x coordinate is the distance from the left edge of\nthe Display Window and the y coordinate is the distance from\nthe top edge. We write coordinates of a pixel like this: (x, y). So,\nif the screen is 200×200 pixels, the upper-left is (0, 0), the cen-\nter is at (100, 100), and the lower-right is (199, 199). These num-\nbers may seem confusing; why do we go from 0 to 199 instead\nof 1 to 200? The answer is that in code, we usually count from 0\nbecause it’s easier for calculations that we’ll get into later.\nThe Display Window\nThe Display Window is created and images are drawn inside\nthrough code elements called functions. Functions are the basic\nbuilding blocks of a Processing program. The behavior of a func-\ntion is defined by its parameters. For example, almost every Pro-\ncessing program has a size() function to set the width and\nheight of the Display Window. (If your program doesn’t have a\nsize() function, the dimension is set to 100×100 pixels.)\n13\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 274
  },
  {
    "chunk_full": "Example 3-1: Draw a Window\nThe size() function has two parameters: the first sets the width\nof the window and the second sets the height. To draw a window\nthat is 800 pixels wide and 600 high, type:\nsize(800, 600);\nRun this line of code to see the result. Put in different values to\nsee what’s possible. Try very small numbers and numbers larger\nthan your screen.\nExample 3-2: Draw a Point\nTo set the color of a single pixel within the Display Window, we\nuse the point() function. It has two parameters that define a\nposition: the x coordinate followed by the y coordinate. To draw\na little window and a point at the center of the screen, coordi-\nnate (240, 60), type:\nsize(480, 120);\npoint(240, 60);\nTry to write a program that puts a point at each corner of the\nDisplay Window and one in the center. Try placing points side by\nside to make horizontal, vertical, and diagonal lines.\nBasic Shapes\nProcessing includes a group of functions to draw basic shapes\n(see Figure 3-1). Simple shapes like lines can be combined to\ncreate more complex forms like a leaf or a face.\nTo draw a single line, we need four parameters: two for the start-\ning location and two for the end.\n14 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 275
  },
  {
    "chunk_full": "Figure 3-1. Shapes and their coordinates\nDraw 15\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 276
  },
  {
    "chunk_full": "Example 3-3: Draw a Line\nTo draw a line between coordinate (20, 50) and (420, 110), try:\nsize(480, 120);\nline(20, 50, 420, 110);\nExample 3-4: Draw Basic Shapes\nFollowing this pattern, a triangle needs six parameters and a\nquadrilateral needs eight (one pair for each point):\nsize(480, 120);\nquad(158, 55, 199, 14, 392, 66, 351, 107);\ntriangle(347, 54, 392, 9, 392, 66);\ntriangle(158, 55, 290, 91, 290, 112);\nExample 3-5: Draw a Rectangle\nRectangles and ellipses are both defined with four parameters:\nthe first and second are for the x and y coordinates of the\nanchor point, the third for the width, and the fourth for the\nheight. To make a rectangle at coordinate (180, 60) with a width\nof 220 pixels and height of 40, use the rect() function like this:\n16 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 277
  },
  {
    "chunk_full": "size(480, 120);\nrect(180, 60, 220, 40);\nExample 3-6: Draw an Ellipse\nThe x and y coordinates for a rectangle are the upper-left corner,\nbut for an ellipse they are the center of the shape. In this exam-\nple, notice that the y coordinate for the first ellipse is outside the\nwindow. Objects can be drawn partially (or entirely) out of the\nwindow without an error:\nsize(480, 120);\nellipse(278, -100, 400, 400);\nellipse(120, 100, 110, 110);\nellipse(412, 60, 18, 18);\nProcessing doesn’t have separate functions to make squares\nand circles. To make these shapes, use the same value for the\nwidth and the height parameters to ellipse() and rect().\nDraw 17\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 278
  },
  {
    "chunk_full": "Example 3-7: Draw Part of an Ellipse\nThe arc() function draws a piece of an ellipse:\nsize(480, 120);\narc(90, 60, 80, 80, 0, HALF_PI);\narc(190, 60, 80, 80, 0, PI+HALF_PI);\narc(290, 60, 80, 80, PI, TWO_PI+HALF_PI);\narc(390, 60, 80, 80, QUARTER_PI, PI+QUARTER_PI);\nThe first and second parameters set the location, the third and\nfourth set the width and height. The fifth parameter sets the\nangle to start the arc, and the sixth sets the angle to stop. The\nangles are set in radians, rather than degrees. Radians are angle\nmeasurements based on the value of pi (3.14159). Figure 3-2\nshows how the two relate. As featured in this example, four\nradian values are used so frequently that special names for\nthem were added as a part of Processing. The values PI, QUAR\nTER_PI, HALF_PI, and TWO_PI can be used to replace the radian\nvalues for 180°, 45°, 90°, and 360°.\n18 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 279
  },
  {
    "chunk_full": "Figure 3-2. Radians and degrees are two ways to measure an\nangle. Degrees move around the circle from 0 to 360, while radi-\nans measure the angles in relation to pi, from 0 to approximately\n6.28.\nExample 3-8: Draw with Degrees\nIf you prefer to use degree measurements, you can convert to\nradians with the radians() function. This function takes an\nangle in degrees and changes it to the corresponding radian\nvalue. The following example is the same as Example 3-7 on\npage 18, but it uses the radians() function to define the start\nand stop values in degrees:\nsize(480, 120);\narc(90, 60, 80, 80, 0, radians(90));\nDraw 19\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 280
  },
  {
    "chunk_full": "arc(190, 60, 80, 80, 0, radians(270));\narc(290, 60, 80, 80, radians(180), radians(450));\narc(390, 60, 80, 80, radians(45), radians(225));\nDrawing Order\nWhen a program runs, the computer starts at the top and reads\neach line of code until it reaches the last line and then stops. If\nyou want a shape to be drawn on top of all other shapes, it\nneeds to follow the others in the code.\nExample 3-9: Control Your Drawing\nOrder\nsize(480, 120);\nellipse(140, 0, 190, 190);\n// The rectangle draws on top of the ellipse\n// because it comes after in the code\nrect(160, 30, 260, 20);\nExample 3-10: Put It in Reverse\nModify by reversing the order of rect() and ellipse() to see the\ncircle on top of the rectangle:\nsize(480, 120);\nrect(160, 30, 260, 20);\n// The ellipse draws on top of the rectangle\n20 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 281
  },
  {
    "chunk_full": "// because it comes after in the code\nellipse(140, 0, 190, 190);\nYou can think of it like painting with a brush or making a collage.\nThe last element that you add is what’s visible on top.\nShape Properties\nThe most basic and useful shape properties are stroke weight,\nthe way the ends (caps) of lines are drawn, and how the corners\nof shapes are displayed.\nExample 3-11: Set Stroke Weight\nThe default stroke weight is a single pixel, but this can be\nchanged with the strokeWeight() function. The single parame-\nter to strokeWeight() sets the width of drawn lines:\nsize(480, 120);\nellipse(75, 60, 90, 90);\nstrokeWeight(8);  // Stroke weight to 8 pixels\nellipse(175, 60, 90, 90);\nellipse(279, 60, 90, 90);\nstrokeWeight(20);  // Stroke weight to 20 pixels\nellipse(389, 60, 90, 90);\nExample 3-12: Set Stroke Caps\nThe strokeCap() function changes how lines are drawn at their\nendpoints. By default, they have rounded ends:\nDraw 21\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 282
  },
  {
    "chunk_full": "size(480, 120);\nstrokeWeight(24);\nline(60, 25, 130, 95);\nstrokeCap(SQUARE);   // Square the line endings\nline(160, 25, 230, 95);\nstrokeCap(PROJECT);  // Project the line endings\nline(260, 25, 330, 95);\nstrokeCap(ROUND);    // Round the line endings\nline(360, 25, 430, 95);\nExample 3-13: Set Stroke Joins\nThe strokeJoin() function changes the way lines are joined\n(how the corners look). By default, they have pointed (mitered)\ncorners:\nsize(480, 120);\nstrokeWeight(12);\nrect(60, 25, 70, 70);\nstrokeJoin(ROUND);   // Round the stroke corners\nrect(160, 25, 70, 70);\nstrokeJoin(BEVEL);   // Bevel the stroke corners\nrect(260, 25, 70, 70);\nstrokeJoin(MITER);   // Miter the stroke corners\nrect(360, 25, 70, 70);\nWhen any of these attributes are set, all shapes drawn afterward\nare affected. For instance, in Example 3-11 on page 21, notice\nhow the second and third circles both have the same stroke\nweight, even though the weight is set only once before both are \ndrawn.\nDrawing Modes\nA group of functions with “mode” in their name change how\nProcessing draws geometry to the screen. In this chapter, we’ll\nlook at ellipseMode() and rectMode(), which help us to draw \n22 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 283
  },
  {
    "chunk_full": "ellipses and rectangles, respectively; later in the book, we’ll\ncover imageMode() and shapeMode().\nExample 3-14: On the Corner\nBy default, the ellipse() function uses its first two parameters\nas the x and y coordinate of the center and the third and fourth\nparameters as the width and height. After ellipseMode(CORNER)\nis run in a sketch, the first two parameters to ellipse() then\ndefine the position of the upper-left corner of the rectangle the\nellipse is inscribed within. This makes the ellipse() function\nbehave more like rect() as seen in this example:\nsize(480, 120);\nrect(120, 60, 80, 80);\nellipse(120, 60, 80, 80);\nellipseMode(CORNER);\nrect(280, 20, 80, 80);\nellipse(280, 20, 80, 80);\nYou’ll find these “mode” functions in examples throughout the\nbook. There are more options for how to use them in the  Pro-\ncessing Reference.\nColor\nAll the shapes so far have been filled white with black outlines,\nand the background of the Display Window has been light gray.\nTo change them, use the background(), fill(), and stroke() \nfunctions. The values of the parameters are in the range of 0 to\n255, where 255 is white, 128 is medium gray, and 0 is black.\nFigure 3-3 shows how the values from 0 to 255 map to different\ngray levels.\nDraw 23\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 284
  },
  {
    "chunk_full": "Figure 3-3. Colors are created by defining RGB (red, green, blue)\nvalues\n24 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 285
  },
  {
    "chunk_full": "Example 3-15: Paint with Grays\nThis example shows three different gray values on a black back-\nground:\nsize(480, 120);\nbackground(0);               // Black\nfill(204);                   // Light gray\nellipse(132, 82, 200, 200);  // Light gray circle\nfill(153);                   // Medium gray\nellipse(228, -16, 200, 200); // Medium gray circle\nfill(102);                   // Dark gray\nellipse(268, 118, 200, 200); // Dark gray circle\nExample 3-16: Control Fill and Stroke\nYou can disable the stroke so that there’s no outline by using\nnoStroke(), and you can disable the fill of a shape with noFill():\nsize(480, 120);\nfill(153);                    // Medium gray\nellipse(132, 82, 200, 200);   // Gray circle\nnoFill();                     // Turn off fill\nellipse(228, -16, 200, 200);  // Outline circle\nnoStroke();                   // Turn off stroke\nellipse(268, 118, 200, 200);  // Doesn't draw!\nBe careful not to disable the fill and stroke at the same time, as\nwe’ve done in the previous example, because nothing will draw\nto the screen.\nDraw 25\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 286
  },
  {
    "chunk_full": "Example 3-17: Draw with Color\nTo move beyond grayscale values, you use three parameters to\nspecify the red, green, and blue components of a color.\nRun the code in Processing to reveal the colors:\nsize(480, 120);\nnoStroke();\nbackground(0, 26, 51);        // Dark blue color\nfill(255, 0, 0);              // Red color\nellipse(132, 82, 200, 200);   // Red circle\nfill(0, 255, 0);              // Green color\nellipse(228, -16, 200, 200);  // Green circle\nfill(0, 0, 255);              // Blue color\nellipse(268, 118, 200, 200);  // Blue circle\nThis is referred to as RGB color, which comes from how comput-\ners define colors on the screen. The three numbers stand for\nthe values of red, green, and blue, and they range from 0 to 255\nthe way that the gray values do. Using RGB color isn’t very intu-\nitive, so to choose colors, use Tools→Color Selector, which\nshows a color palette similar to those found in other software\n(see Figure 3-4). Select a color, and then use the R, G, and B val-\nues as the parameters for your background(), fill(), or\nstroke() function.\n26 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 287
  },
  {
    "chunk_full": "Figure 3-4. Processing Color Selector\nExample 3-18: Set Transparency\nBy adding an optional fourth parameter to fill() or stroke(),\nyou can control the transparency. This fourth parameter is\nknown as the alpha value, and also uses the range 0 to 255 to\nset the amount of transparency. The value 0 defines the color as\nentirely transparent (it won’t display), the value 255 is entirely\nopaque, and the values between these extremes cause the col-\nors to mix on screen:\nsize(480, 120);\nnoStroke();\nbackground(204, 226, 225);    // Light blue color\nfill(255, 0, 0, 160);         // Red color\nellipse(132, 82, 200, 200);   // Red circle\nfill(0, 255, 0, 160);         // Green color\nellipse(228, -16, 200, 200);  // Green circle\nDraw 27\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 288
  },
  {
    "chunk_full": "fill(0, 0, 255, 160);         // Blue color\nellipse(268, 118, 200, 200);  // Blue circle\nCustom Shapes\nYou’re not limited to using these basic geometric shapes—you\ncan also define new shapes by connecting a series of points.\nExample 3-19: Draw an Arrow\nThe beginShape() function signals the start of a new shape. The\nvertex() function is used to define each pair of x and y coordi-\nnates for the shape. Finally, endShape() is called to signal that\nthe shape is finished:\nsize(480, 120);\nbeginShape();\nfill(153, 176, 180);\nvertex(180, 82);\nvertex(207, 36);\nvertex(214, 63);\nvertex(407, 11);\nvertex(412, 30);\nvertex(219, 82);\nvertex(226, 109);\nendShape();\nExample 3-20: Close the Gap\nWhen you run Example 3-19 on page 28, you’ll see the first and\nlast point are not connected. To do this, add the word CLOSE as a\nparameter to endShape(), like this:\n28 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 289
  },
  {
    "chunk_full": "size(480, 120);\nbeginShape();\nfill(153, 176, 180);\nvertex(180, 82);\nvertex(207, 36);\nvertex(214, 63);\nvertex(407, 11);\nvertex(412, 30);\nvertex(219, 82);\nvertex(226, 109);\nendShape(CLOSE);\nExample 3-21: Create Some Creatures\nThe power of defining shapes with vertex() is the ability to\nmake shapes with complex outlines. Processing can draw thou-\nsands and thousands of lines at a time to fill the screen with fan-\ntastic shapes that spring from your imagination. A modest but\nmore complex example follows:\nsize(480, 120);\n// Left creature\nfill(153, 176, 180);\nbeginShape();\nvertex(50, 120);\nvertex(100, 90);\nvertex(110, 60);\nvertex(80, 20);\nvertex(210, 60);\nDraw 29\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 290
  },
  {
    "chunk_full": "vertex(160, 80);\nvertex(200, 90);\nvertex(140, 100);\nvertex(130, 120);\nendShape();\nfill(0);\nellipse(155, 60, 8, 8);\n// Right creature\nfill(176, 186, 163);\nbeginShape();\nvertex(370, 120);\nvertex(360, 90);\nvertex(290, 80);\nvertex(340, 70);\nvertex(280, 50);\nvertex(420, 10);\nvertex(390, 50);\nvertex(410, 90);\nvertex(460, 120);\nendShape();\nfill(0);\nellipse(345, 50, 10, 10);\nComments\nThe examples in this chapter use double slashes (//) at the end\nof a line to add comments to the code. Comments are parts of\nthe program that are ignored when the program is run. They are\nuseful for making notes for yourself that explain what’s happen-\ning in the code. If others are reading your code, comments are\nespecially important to help them understand your thought pro-\ncess.\nComments are also especially useful for a number of different\noptions, such as when trying to choose the right color. So, for\ninstance, I might be trying to find just the right red for an ellipse:\nsize(200, 200);\nfill(165, 57, 57);\nellipse(100, 100, 80, 80);\nNow suppose I want to try a different red, but don’t want to lose\nthe old one. I can copy and paste the line, make a change, and\nthen “comment out” the old one:\n30 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 291
  },
  {
    "chunk_full": "size(200, 200);\n//fill(165, 57, 57);\nfill(144, 39, 39);\nellipse(100, 100, 80, 80);\nPlacing // at the beginning of the line temporarily disables it. Or\nI can remove the // and place it in front of the other line if I want\nto try it again:\nsize(200, 200);\nfill(165, 57, 57);\n//fill(144, 39, 39);\nellipse(100, 100, 80, 80);\nAs you work with Processing sketches, you’ll find yourself creat-\ning dozens of iterations of ideas; using comments to make notes\nor to disable code can help you keep track of multiple options.\nAs a shortcut, you can also use Ctrl-/ (Cmd-/ on the\nMac) to add or remove comments from the current\nline or a selected block of text. You can also com-\nment out many lines at a time with the alternative\ncomment notation introduced in “Comments” on\npage 203.\nDraw 31\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 292
  },
  {
    "chunk_full": "Robot 1: Draw\nThis is P5, the Processing Robot. There are 10 different pro-\ngrams to draw and animate him in the book—each one explores\na different programming idea. P5’s design was inspired by Sput-\nnik I (1957), Shakey from the Stanford Research Institute\n(1966–1972), the fighter drone in David Lynch’s Dune (1984),\nand HAL 9000 from 2001: A Space Odyssey (1968), among\nother robot favorites.\nThe first robot program uses the drawing functions introduced\nin this chapter. The parameters to the fill() and stroke() func-\ntions set the gray values. The line(), ellipse(), and rect()\nfunctions define the shapes that create the robot’s neck, anten-\nnae, body, and head. To get more familiar with the functions, run\nthe program and change the values to redesign the  robot:\nsize(720, 480);\nstrokeWeight(2);\nbackground(0, 153, 204);    // Blue background\nellipseMode(RADIUS);\n// Neck\nstroke(255);                // Set stroke to white\nline(266, 257, 266, 162);   // Left\n32 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 293
  },
  {
    "chunk_full": "line(276, 257, 276, 162);   // Middle\nline(286, 257, 286, 162);   // Right\n// Antennae\nline(276, 155, 246, 112);   // Small\nline(276, 155, 306, 56);    // Tall\nline(276, 155, 342, 170);   // Medium\n// Body\nnoStroke();                 // Disable stroke\nfill(255, 204, 0);          // Set fill to orange\nellipse(264, 377, 33, 33);  // Antigravity orb \nfill(0);                    // Set fill to black\nrect(219, 257, 90, 120);    // Main body\nfill(255, 204, 0);          // Set fill to yellow\nrect(219, 274, 90, 6);      // Yellow stripe\n// Head\nfill(0);                    // Set fill to black\nellipse(276, 155, 45, 45);  // Head\nfill(255);                  // Set fill to white\nellipse(288, 150, 14, 14);  // Large eye\nfill(0);                    // Set fill to black\nellipse(288, 150, 3, 3);    // Pupil\nfill(153, 204, 255);        // Set fill to light blue\nellipse(263, 148, 5, 5);    // Small eye 1\nellipse(296, 130, 4, 4);    // Small eye 2\nellipse(305, 162, 3, 3);    // Small eye 3\n \nDraw 33\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 294
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 295
  },
  {
    "chunk_full": "4/Variables\nA variable stores a value in memory so\nthat it can be used later in a program. The\nvariable can be used many times within a\nsingle program, and the value is easily\nchanged while the program is running.\nFirst Variables\nOne of the reasons we use variables is to avoid repeating our-\nselves in the code. If you are typing the same number more than\nonce, consider using a variable instead so that your code is\nmore general and easier to update.\nExample 4-1: Reuse the Same Values\nFor instance, when you make the y coordinate and diameter for\nthe three circles in this example into variables, the same values\nare used for each ellipse:\nsize(480, 120);\nint y = 60;\nint d = 80;\nellipse(75, y, d, d);    // Left\nellipse(175, y, d, d);   // Middle\nellipse(275, y, d, d);   // Right\n35\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 296
  },
  {
    "chunk_full": "Example 4-2: Change Values\nSimply changing the y and d variables alters all three ellipses:\nsize(480, 120);\nint y = 100;\nint d = 130;\nellipse(75, y, d, d);    // Left\nellipse(175, y, d, d);   // Middle\nellipse(275, y, d, d);   // Right\nWithout the variables, you’d need to change the y coordinate\nused in the code three times and the diameter six times. When\ncomparing Example 4-1 on page 35 and Example 4-2 on page\n36, notice how the bottom three lines are the same, and only the\nmiddle two lines with the variables are different. Variables allow\nyou to separate the lines of the code that change from the lines\nthat don’t, which makes programs easier to modify. For\ninstance, if you place variables that control colors and sizes of\nshapes in one place, then you can quickly explore different vis-\nual options by focusing on only a few lines of code.\nMaking Variables\nWhen you make your own variables, you determine the name,\nthe data type, and the value. The name is what you decide to call\nthe variable. Choose a name that is informative about what the\nvariable stores, but be consistent and not too verbose. For\ninstance, the variable name “radius” will be clearer than “r”\nwhen you look at the code later.\nThe range of values that can be stored within a variable is\ndefined by its data type. For instance, the integer data type can\nstore numbers without decimal places (whole numbers). In\ncode, integer is abbreviated to int. There are data types to store\n36 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 297
  },
  {
    "chunk_full": "each kind of data: integers, floating-point (decimal) numbers,\ncharacters, words, images, fonts, and so on.\nVariables must first be declared, which sets aside space in the\ncomputer’s memory to store the information. When declaring a\nvariable, you also need to specify its data type (such as int),\nwhich indicates what kind of information is being stored. After\nthe data type and name are set, a value can be assigned to the\nvariable:\nint x;  // Declare x as an int variable\nx = 12; // Assign a value to x\nThis code does the same thing, but is shorter:\nint x = 12; // Declare x as an int variable and assign a value\nThe name of the data type is included on the line of code that\ndeclares a variable, but it’s not written again. Each time the data\ntype is written in front of the variable name, the computer thinks\nyou’re trying to declare a new variable. You can’t have two vari-\nables with the same name in the same part of the program\n(Appendix D), so the program has an error:\nint x;       // Declare x as an int variable\nint x = 12;  // ERROR! Can't have two variables called x here\nEach data type stores a different kind of data. For instance, an\nint variable can store a whole number, but it can’t store a num-\nber with decimal points, called a float. The word “float”  refers\nto “floating point,” which describes the technique used to store\na number with decimal points in memory. (The specifics of that\ntechnique aren’t important here.) \nA floating-point number can’t be assigned to an int because\ninformation would be lost. For instance, the value 12.2 is differ-\nent from its nearest int equivalent, the value 12. In code, this\noperation will create an error:\nint x = 12.2;  // ERROR! A floating-point value can't fit in \nan int\nHowever, a float variable can store an integer. For instance, the\ninteger value 12 can be converted to the floating-point equiva-\nlent 12.0 because no information is lost. This code works\nwithout an error:\nVariables 37\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 298
  },
  {
    "chunk_full": "float x = 12;  // Automatically converts 12 to 12.0\nData types are discussed in more detail in Appendix B.\nProcessing Variables\nProcessing has a series of special variables to store information\nabout the program while it runs. For instance, the width and\nheight of the window are stored in variables called width and\nheight. These values are set by the size() function. They can be\nused to draw elements relative to the size of the window, even if\nthe size() line changes.\nExample 4-3: Adjust the Size, See\nWhat Follows\nIn this example, change the parameters to size() to see how it\nworks:\nsize(480, 120);\nline(0, 0, width, height); // Line from (0,0) to (480, 120)\nline(width, 0, 0, height); // Line from (480, 0) to (0, 120)\nellipse(width/2, height/2, 60, 60);\nOther special variables keep track of the status of the mouse\nand keyboard values and much more. These are discussed in\nChapter 5.\nA Little Math\nPeople often assume that math and programming are the same\nthing. Although knowledge of  math can be useful for certain\ntypes of coding, basic arithmetic covers the most important\nparts.\n38 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 299
  },
  {
    "chunk_full": "Example 4-4: Basic Arithmetic\nsize(480, 120);\nint x = 25;\nint h = 20;\nint y = 25;\nrect(x, y, 300, h);        // Top\nx = x + 100;\nrect(x, y + h, 300, h);    // Middle\nx = x - 250;\nrect(x, y + h*2, 300, h);  // Bottom\nIn code, symbols like +, –, and * are called operators. When\nplaced between two values, they create an expression. For\ninstance, 5 + 9 and 1024 – 512 are both expressions. The opera-\ntors for the basic math operations are:\n+\nAddition\n−\nSubtraction\n*\nMultiplication\n/\nDivision\n=\nAssignment\nProcessing has a set of rules to define which operators take\nprecedence over others, meaning which calculations are made\nfirst, second, third, and so on. These rules define the order in\nwhich the code is run. A little knowledge about this goes a long\nway toward understanding how a short line of code like this\nworks:\nint x = 4 + 4 * 5; // Assign 24 to x\nThe expression 4 * 5 is evaluated first because multiplication\nhas the highest priority. Second, 4 is added to the product of\n4 * 5 to yield 24. Last, because the assignment operator (the\nequals sign) has the lowest precedence, the value 24 is assigned\nVariables 39\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 300
  },
  {
    "chunk_full": "to the variable x. This is clarified with parentheses, but the result\nis the same:\nint x = 4 + (4 * 5); // Assign 24 to x\nIf you want to force the addition to happen first, just move the\nparentheses. Because parentheses have a higher precedence\nthan multiplication, the order is changed and the calculation is\naffected:\nint x = (4 + 4) * 5; // Assign 40 to x\nAn acronym for this order is often taught in math class: \nPEMDAS, which stands for Parentheses, Exponents, Multiplica-\ntion, Division, Addition, Subtraction, where parentheses have\nthe highest priority and subtraction the lowest. The complete\norder of operations is found in Appendix C.\nSome calculations are used so frequently in programming that\nshortcuts have been developed; it’s always nice to save a few\nkeystrokes. For instance, you can add to a variable, or subtract\nfrom it, with a single operator:\nx += 10; // This is the same as x = x + 10\ny -= 15; // This is the same as y = y - 15\nIt’s also common to add or subtract 1 from a variable, so short-\ncuts exist for this as well. The ++ and −− operators do this:\nx++; // This is the same as x = x + 1\ny--; // This is the same as y = y - 1\nMore shortcuts can be found in the Processing Reference.\nRepetition\nAs you write more programs, you’ll notice that patterns occur\nwhen lines of code are repeated, but with slight variations. A\ncode structure called a for loop makes it possible to run a line of\ncode more than once to condense this type of repetition into\nfewer lines. This makes your programs more modular and easier\nto change.\n40 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 301
  },
  {
    "chunk_full": "Example 4-5: Do the Same Thing Over\nand Over\nThis example has the type of pattern that can be simplified with\na for loop:\nsize(480, 120);\nstrokeWeight(8);\nline(20, 40, 80, 80);\nline(80, 40, 140, 80);\nline(140, 40, 200, 80);\nline(200, 40, 260, 80);\nline(260, 40, 320, 80);\nline(320, 40, 380, 80);\nline(380, 40, 440, 80);\nExample 4-6: Use a for Loop\nThe same thing can be done with a for loop, and with less code:\nsize(480, 120);\nstrokeWeight(8);\nfor (int i = 20; i < 400; i += 60) {\n  line(i, 40, i + 60, 80);\n}\nThe for loop is different in many ways from the code we’ve writ-\nten so far. Notice the braces, the { and } characters. The code\nbetween the braces is called a block. This is the code that will be\nrepeated on each iteration of the for loop.\nInside the parentheses are three statements, separated by sem-\nicolons, that work together to control how many times the code\ninside the block is run. From left to right, these statements are\nreferred to as the initialization (init), the test, and the update:\nVariables 41\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 302
  },
  {
    "chunk_full": "for (init; test; update) {\n  statements\n}\nThe init sets the starting value, often declaring a new variable\nto use within the for loop. In the earlier example, an integer\nnamed i was declared and set to 20. The variable name i is fre-\nquently used, but there’s really nothing special about it. The test\nevaluates the value of this variable (here, it checks whether i\nstill less than 400), and the update changes the variable’s value\n(adding 60 before repeating the loop). Figure 4-1 shows the\norder in which they run and how they control the code state-\nments inside the block.\nFigure 4-1. Flow diagram of a for loop\nThe test statement requires more explanation. It’s always a rela-\ntional expression that compares two values with a relational\noperator. In this example, the expression is “i < 400” and the\noperator is the < (less than) symbol. The most common rela-\ntional operators are:\n>\nGreater than\n<\nLess than\n>=\nGreater than or equal to\n<=\nLess than or equal to\n==\nEqual to\n!=\nNot equal to\n42 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 303
  },
  {
    "chunk_full": "The relational expression always evaluates to true or false. For\ninstance, the expression 5 > 3 is true. We can ask the question,\n“Is five greater than three?” Because the answer is “yes,” we say\nthe expression is true. For the expression 5 < 3, we ask, “Is five\nless than three?” Because the answer is “no,” we say the expres-\nsion is false. When the evaluation is true, the code inside the\nblock is run, and when it’s false, the code inside the block is not\nrun and the for loop ends.\nExample 4-7: Flex Your for Loop’s\nMuscles\nThe ultimate power of working with a for loop is the ability to\nmake quick changes to the code. Because the code inside the\nblock is typically run multiple times, a change to the block is\nmagnified when the code is run. By modifying Example 4-6 on\npage 41 only slightly, we can create a range of different patterns:\nsize(480, 120);\nstrokeWeight(2);\nfor (int i = 20; i < 400; i += 8) {\n  line(i, 40, i + 60, 80);\n}\nExample 4-8: Fanning Out the Lines\nsize(480, 120);\nstrokeWeight(2);\nVariables 43\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 304
  },
  {
    "chunk_full": "for (int i = 20; i < 400; i += 20) {\n  line(i, 0, i + i/2, 80);\n}\nExample 4-9: Kinking the Lines\nsize(480, 120);\nstrokeWeight(2);\nfor (int i = 20; i < 400; i += 20) {\n  line(i, 0, i + i/2, 80);\n  line(i + i/2, 80, i*1.2, 120);\n}\nExample 4-10: Embed One for Loop in\nAnother\nWhen one for loop is embedded inside another, the number of\nrepetitions is multiplied. First, let’s look at a short example, and\nthen we’ll break it down in Example 4-11 on page 45:\nsize(480, 120);\nbackground(0);\nnoStroke();\nfor (int y = 0; y <= height; y += 40) {\n  for (int x = 0; x <= width; x += 40) {\n    fill(255, 140);\n    ellipse(x, y, 40, 40);\n44 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 305
  },
  {
    "chunk_full": "  }\n}\nExample 4-11: Rows and Columns\nIn this example, the for loops are adjacent, rather than one\nembedded inside the other. The result shows that one for loop\nis drawing a column of 4 circles and the other is drawing a row\nof 13 circles:\nsize(480, 120);\nbackground(0);\nnoStroke();\nfor (int y = 0; y < height+45; y += 40) {\n  fill(255, 140);\n  ellipse(0, y, 40, 40);\n}\nfor (int x = 0; x < width+45; x += 40) {\n  fill(255, 140);\n  ellipse(x, 0, 40, 40);\n}\nWhen one of these for loops is placed inside the other, as in\nExample 4-10 on page 44, the 4 repetitions of the first loop are\ncompounded with the 13 of the second in order to run the code\ninside the embedded block 52 times (4×13 = 52).\nExample 4-10 on page 44 is a good base for exploring many\ntypes of repeating visual patterns. The following examples show\na couple of ways that it can be extended, but this is only a tiny\nsample of what’s possible. In Example 4-12 on page 46, the code\ndraws a line from each point in the grid to the center of the\nscreen. In Example 4-13 on page 46, the ellipses shrink with\neach new row and are moved to the right by adding the y coordi-\nnate to the x coordinate.\nVariables 45\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 306
  },
  {
    "chunk_full": "Example 4-12: Pins and Lines\nsize(480, 120);\nbackground(0);\nfill(255);\nstroke(102);\nfor (int y = 20; y <= height-20; y += 10) {\n  for (int x = 20; x <= width-20; x += 10) {\n    ellipse(x, y, 4, 4);\n    // Draw a line to the center of the display\n    line(x, y, 240, 60);\n  }\n}\n \nExample 4-13: Halftone Dots\nsize(480, 120);\nbackground(0);\nfor (int y = 32; y <= height; y += 8) {\n  for (int x = 12; x <= width; x += 15) {\n    ellipse(x + y, y, 16 - y/10.0, 16 - y/10.0);\n  }\n}\n46 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 307
  },
  {
    "chunk_full": "Robot 2: Variables\nThe variables introduced in this program make the code look\nmore difficult than Robot 1 (see “Robot 1: Draw” on page 32),\nbut now it’s much easier to modify, because numbers that\ndepend on one another are in a single location. For instance, the\nneck can be drawn based on the bodyHeight variable. The group\nof variables at the top of the code control the aspects of the\nrobot that we want to change: location, body height, and neck\nheight. You can see some of the range of possible variations in\nthe figure; from left to right, here are the values that correspond\nto them:\ny = 390 \nbodyHeight = 180 \nneckHeight = 40\ny = 460 \nbodyHeight = 260 \nneckHeight = 95\ny = 310 \nbodyHeight = 80 \nneckHeight = 10\ny = 420 \nbodyHeight = 110 \nneckHeight = 140\nWhen altering your own code to use variables instead of num-\nbers, plan the changes carefully, then make the modifications in\nshort steps. For instance, when this program was written, each\nvariable was created one at a time to minimize the complexity of\nthe transition. After a variable was added and the code was run\nto ensure it was working, the next variable was  added:\nVariables 47\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 308
  },
  {
    "chunk_full": "int x = 60;            // x coordinate\nint y = 390;           // y coordinate\nint bodyHeight = 180;  // Body height\nint neckHeight = 40;   // Neck height\nint radius = 45;\nint ny = y - bodyHeight - neckHeight - radius;  // Neck y\nsize(170, 480);\nstrokeWeight(2);\nbackground(0, 153, 204);\nellipseMode(RADIUS);\n// Neck\nstroke(255);\nline(x+2, y-bodyHeight, x+2, ny); \nline(x+12, y-bodyHeight, x+12, ny); \nline(x+22, y-bodyHeight, x+22, ny); \n// Antennae\nline(x+12, ny, x-18, ny-43);\nline(x+12, ny, x+42, ny-99);\nline(x+12, ny, x+78, ny+15);\n// Body\nnoStroke();\nfill(255, 204, 0);\nellipse(x, y-33, 33, 33);\nfill(0);\nrect(x-45, y-bodyHeight, 90, bodyHeight-33);\nfill(255, 204, 0);\nrect(x-45, y-bodyHeight+17, 90, 6);\n// Head\nfill(0);\nellipse(x+12, ny, radius, radius); \nfill(255);\nellipse(x+24, ny-6, 14, 14);\nfill(0);\nellipse(x+24, ny-6, 3, 3);\nfill(153, 204, 255); \nellipse(x, ny-8, 5, 5);\nellipse(x+30, ny-26, 4, 4);\nellipse(x+41, ny+6, 3, 3);\n \n48 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 309
  },
  {
    "chunk_full": "5/Response\nCode that responds to input from the\nmouse, keyboard, and other devices has\nto run continuously. To make this hap-\npen, place the lines that update inside a\nProcessing function called draw().\nOnce and Forever\nThe code within the draw() block runs from top to bottom, then\nrepeats until you quit the program by clicking the Stop button or\nclosing the window. Each trip through draw() is called a frame.\n(The default frame rate is 60 frames per second, but this can be\nchanged).\nExample 5-1: The draw() Function\nTo see how draw() works, run this example:\nvoid draw() {\n  // Displays the frame count to the Console\n  println(\"I'm drawing\");\n  println(frameCount);\n}\nYou’ll see the following:\nI'm drawing\n1\nI'm drawing\n2\nI'm drawing\n3\n...\nIn the preceding example program, the println() functions\nwrite the text “I’m drawing” followed by the current frame count\n49\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 310
  },
  {
    "chunk_full": "as counted by the special frameCount variable (1, 2, 3, …). The\ntext appears in the Console, the black area at the bottom of the\nProcessing editor window.\nExample 5-2: The setup() Function\nTo complement the looping draw() function, Processing has a\nfunction called setup() that runs just once when the program\nstarts:\nvoid setup() {\n  println(\"I'm starting\");\n}\nvoid draw() {\n  println(\"I'm running\");\n}\nWhen this code is run, the following is written to the Console:\nI'm starting\nI'm running\nI'm running\nI'm running\n...\nThe text “I’m running” continues to write to the Console until\nthe program is stopped.\nIn a typical program, the code inside setup() is used to define\nthe starting values. The first line is always the size() function,\noften followed by code to set the starting fill and stroke colors,\nor perhaps to load images and fonts. (If you don’t include the\nsize() function, the Display Window will be 100×100 pixels.)\nNow you know how to use setup() and draw(), but this isn’t the\nwhole story. There’s one more location to put code—you can\nalso place variables outside of setup() and draw(). If you create\na variable inside of setup(), you can’t use it inside of draw(), so\nyou need to place those variables somewhere else. Such vari-\nables are called global variables, because they can be used any-\nwhere (“globally”) in the program. This is clearer when we list\nthe order in which the code is run:\n50 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 311
  },
  {
    "chunk_full": "1. Variables declared outside of setup() and draw() are cre-\nated.\n2. Code inside setup() is run once.\n3. Code inside draw() is run continuously.\nExample 5-3: Global Variable\nThe following example puts it all together:\nint x = 280;\nint y = -100;\nint diameter = 380;\nvoid setup() {\n  size(480, 120);\n  fill(102);\n}\nvoid draw() {\n  background(204);\n  ellipse(x, y, diameter, diameter);\n}\nFollow\nNow that we have code running continuously, we can track the\nmouse position and use those numbers to move elements on\nscreen.\nExample 5-4: Track the Mouse\nThe mouseX variable stores the x coordinate, and the mouseY vari-\nable stores the y coordinate:\nResponse 51\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 312
  },
  {
    "chunk_full": "void setup() {\n  size(480, 120);\n  fill(0, 102);\n  noStroke();\n}\nvoid draw() {\n  ellipse(mouseX, mouseY, 9, 9);\n}\nIn this example, each time the code in the draw() block is run, a\nnew circle is drawn to the window. This image was made by\nmoving the mouse around to control the circle’s location.\nBecause the fill is set to be partially transparent, denser black\nareas show where the mouse spent more time and where it\nmoved slowly. The circles that are spaced farther apart show\nwhen the mouse was moving faster.\nExample 5-5: The Dot Follows You\nIn this example, a new circle is added to the window each time\nthe code in draw() is run. To refresh the screen and only display\nthe newest circle, place a background() function at the begin-\nning of draw() before the shape is drawn:\nvoid setup() {\n  size(480, 120);\n  fill(0, 102);\n  noStroke();\n}\nvoid draw() {\n  background(204);\n  ellipse(mouseX, mouseY, 9, 9);\n}\n52 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 313
  },
  {
    "chunk_full": "The background() function clears the entire window, so be sure\nto always place it before other functions inside draw(); other-\nwise, the shapes drawn before it will be erased.\nExample 5-6: Draw Continuously\nThe pmouseX and pmouseY variables store the position of the\nmouse at the previous frame. Like mouseX and mouseY, these spe-\ncial variables are updated each time draw() runs. When com-\nbined, they can be used to draw continuous lines by connecting\nthe current and most recent location:\nvoid setup() {\n  size(480, 120);\n  strokeWeight(4);\n  stroke(0, 102);\n}\nvoid draw() {\n  line(mouseX, mouseY, pmouseX, pmouseY);\n}\nExample 5-7: Set Line Thickness\nThe pmouseX and pmouseY variables can also be used to calculate\nthe speed of the mouse. This is done by measuring the distance\nbetween the current and most recent mouse location. If the\nmouse is moving slowly, the distance is small, but if the mouse\nstarts moving faster, the distance grows. A function called\ndist() simplifies this calculation, as shown in the following\nexample. Here, the speed of the mouse is used to set the thick-\nness of the drawn line:\nResponse 53\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 314
  },
  {
    "chunk_full": "void setup() {\n  size(480, 120);\n  stroke(0, 102);\n}\nvoid draw() {\n  float weight = dist(mouseX, mouseY, pmouseX, pmouseY);\n  strokeWeight(weight);\n  line(mouseX, mouseY, pmouseX, pmouseY);\n}\nExample 5-8: Easing Does It\nIn Example 5-7 on page 53, the values from the mouse are con-\nverted directly into positions on the screen. But sometimes you\nwant the values to follow the mouse loosely—to lag behind to\ncreate a more fluid motion. This technique is called easing. With\neasing, there are two values: the current value and the value to\nmove toward (see Figure 5-1). At each step in the program, the\ncurrent value moves a little closer to the target value:\nfloat x;\nfloat easing = 0.01;\nvoid setup() {\n  size(220, 120);\n}\nvoid draw() {\n  float targetX = mouseX;\n  x += (targetX - x) * easing;\n  ellipse(x, 40, 12, 12);\n  println(targetX + \" : \" + x);\n}\nThe value of the x variable is always getting closer to targetX.\nThe speed at which it catches up with targetX is set with the eas\ning variable, a number between 0 and 1. A small value for easing\n54 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 315
  },
  {
    "chunk_full": "causes more of a delay than a larger value. With an easing value\nof 1, there is no delay. When you run Example 5-8 on page 54,\nthe actual values are shown in the Console through the\nprintln() function. When moving the mouse, notice how the\nnumbers are far apart, but when the mouse stops moving, the x\nvalue gets closer to targetX.\n \nFigure 5-1. Easing changes the number of steps it takes to move\nfrom one place to another\nAll of the work in this example happens on the line that begins\nx +=. There, the difference between the target and current value\nis calculated, then multiplied by the easing variable and added\nto x to bring it closer to the target.\nExample 5-9: Smooth Lines with\nEasing\nIn this example, the easing technique is applied to Example 5-7\non page 53. In comparison, the lines are more fluid:\nResponse 55\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 316
  },
  {
    "chunk_full": "float x;\nfloat y;\nfloat px;\nfloat py;\nfloat easing = 0.05;\nvoid setup() {\n  size(480, 120);\n  stroke(0, 102);\n}\nvoid draw() {\n  float targetX = mouseX;\n  x += (targetX - x) * easing;\n  float targetY = mouseY;\n  y += (targetY - y) * easing;\n  float weight = dist(x, y, px, py);\n  strokeWeight(weight);\n  line(x, y, px, py);\n  py = y;\n  px = x;\n}\nClick\nIn addition to the location of the mouse, Processing also keeps\ntrack of whether the mouse button is pressed. The mousePressed\nvariable has a different value when the mouse button is pressed\nand when it is not. The mousePressed variable is a data type \ncalled boolean, which means that it has only two possible values:\ntrue and false. The value of mousePressed is true when a button\nis pressed.\n56 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 317
  },
  {
    "chunk_full": "Example 5-10: Click the Mouse\nThe mousePressed variable is used along with the if statement to\ndetermine when a line of code will run and when it won’t. Try this\nexample before we explain further:\nvoid setup() {\n  size(240, 120);\n  strokeWeight(30);\n}\nvoid draw() {\n  background(204);\n  stroke(102);\n  line(40, 0, 70, height);\n  if (mousePressed == true) {\n    stroke(0);\n  }\n  line(0, 70, width, 50);\n}\nIn this program, the code inside the if block runs only when a\nmouse button is pressed. When a button is not pressed, this\ncode is ignored. Like the for loop discussed in “Repetition” on\npage 40, the if also has a test that is evaluated to true or false:\nif (test) {\n  statements\n}\nWhen the test is true, the code inside the block is run; when the\ntest is false, the code inside the block is not run. The computer\ndetermines whether the test is true or false by evaluating the\nexpression inside the parentheses. (If you’d like to refresh your\nmemory, the discussion of relational expressions is in Example\n4-6 on page 41.)\nResponse 57\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 318
  },
  {
    "chunk_full": "The == symbol compares the values on the left and right to test\nwhether they are equivalent. This == symbol is different from the\nassignment operator, the single = symbol. The == symbol asks,\n“Are these things equal?” and the = symbol sets the value of a\nvariable.\nIt’s a common mistake, even for experienced pro-\ngrammers, to write = in your code when you mean to\nwrite ==. The Processing software won’t always warn\nyou when you do this, so be careful.\nAlternatively, the test in draw() in can be written like this:\nif (mousePressed) {\nBoolean variables, including mousePressed, don’t need the\nexplicit comparison with the == operator, because they can be\nonly true or false.\nExample 5-11: Detect When Not\nClicked\nA single if block gives you the choice of running some code or\nskipping it. You can extend an if block with an else block, allow-\ning your program to choose between two options. The code\ninside the else block runs when the value of the if block test is\nfalse. For instance, the stroke color for a program can be white\nwhen the mouse button is not pressed, and can change to black\nwhen the button is pressed:\n58 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 319
  },
  {
    "chunk_full": "void setup() {\n  size(240, 120);\n  strokeWeight(30);\n}\nvoid draw() {\n  background(204);\n  stroke(102);\n  line(40, 0, 70, height);\n  if (mousePressed) {\n    stroke(0);\n  } else {\n    stroke(255);\n  }\n  line(0, 70, width, 50);\n}\nExample 5-12: Multiple Mouse\nButtons\nProcessing also tracks which button is pressed if you have more\nthan one button on your mouse. The mouseButton variable can\nbe one of three values: LEFT, CENTER, or RIGHT. To test which but-\nton was pressed, the == operator is needed, as shown here:\nvoid setup() {\n  size(120, 120);\n  strokeWeight(30);\n}\nvoid draw() {\n  background(204);\n  stroke(102);\n  line(40, 0, 70, height);\n  if (mousePressed) {\n    if (mouseButton == LEFT) {\n      stroke(255);\nResponse 59\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 320
  },
  {
    "chunk_full": "    } else {\n      stroke(0);\n    }\n    line(0, 70, width, 50);\n  }\n}\nA program can have many more if and else structures (see\nFigure 5-2) than those found in these short examples. They can\nbe chained together into a long series with each testing for\nsomething different, and if blocks can be embedded inside of\nother if blocks to make more complex decisions.\n60 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 321
  },
  {
    "chunk_full": "Figure 5-2. The if and else structure makes decisions about\nwhich blocks of code to run\nLocation\nAn if structure can be used with the mouseX and mouseY values\nto determine the location of the cursor within the window.\nResponse 61\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 322
  },
  {
    "chunk_full": "Example 5-13: Find the Cursor\nFor instance, this example tests to see whether the cursor is on\nthe left or right side of a line and then moves the line toward the\ncursor:\nfloat x;\nint offset = 10;\nvoid setup() {\n  size(240, 120);\n  x = width/2;\n}\nvoid draw() {\n  background(204);\n  if (mouseX > x) {\n    x += 0.5;\n    offset = -10;\n  }\n  if (mouseX < x) {\n    x -= 0.5;\n    offset = 10;\n  }\n  // Draw arrow left or right depending on \"offset\" value\n  line(x, 0, x, height);\n  line(mouseX, mouseY, mouseX + offset, mouseY - 10);\n  line(mouseX, mouseY, mouseX + offset, mouseY + 10);\n  line(mouseX, mouseY, mouseX + offset*3, mouseY);\n}\nTo write programs that have graphical user interfaces (buttons,\ncheckboxes, scrollbars, etc.), we need to write code that knows\nwhen the cursor is within an enclosed area of the screen. The\nfollowing two examples introduce how to check whether the cur-\nsor is inside a circle and a rectangle. The code is written in a\nmodular way with variables, so it can be used to check for any\ncircle and rectangle by changing the values.\n62 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 323
  },
  {
    "chunk_full": "Example 5-14: The Bounds of a Circle\nFor the circle test, we use the dist() function to get the distance\nfrom the center of the circle to the cursor, then we test to see if\nthat distance is less than the radius of the circle (see\nFigure 5-3). If it is, we know we’re inside. In this example, when\nthe cursor is within the area of the circle, its size increases:\nint x = 120;\nint y = 60;\nint radius = 12;\nvoid setup() {\n  size(240, 120);\n  ellipseMode(RADIUS);\n}\nvoid draw() {\n  background(204);\n  float d = dist(mouseX, mouseY, x, y);\n  if (d < radius) {\n    radius++;\n    fill(0);\n  } else {\n    fill(255);\n  }\n  ellipse(x, y, radius, radius);\n}\nResponse 63\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 324
  },
  {
    "chunk_full": "Figure 5-3. Circle rollover test. When the distance between the\nmouse and the circle is less than the radius, the mouse is inside\nthe circle.\nExample 5-15: The Bounds of a\nRectangle\nWe use another approach to test whether the cursor is inside a\nrectangle. We make four separate tests to check if the cursor is\non the correct side of each edge of the rectangle, then we com-\npare each test and if they are all true, we know the cursor is\ninside. This is illustrated in Figure 5-4. Each step is simple, but it\nlooks complicated when it’s all put together:\nint x = 80;\nint y = 30;\n64 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 325
  },
  {
    "chunk_full": "int w = 80;\nint h = 60;\nvoid setup() {\n  size(240, 120);\n}\nvoid draw() {\n  background(204);\n  if ((mouseX > x) && (mouseX < x+w) &&\n      (mouseY > y) && (mouseY < y+h)) {\n    fill(0);\n  } else {\n    fill(255);\n  }\n  rect(x, y, w, h);\n}\nThe test in the if statement is a little more complicated than\nwe’ve seen. Four individual tests (e.g., mouseX > x) are\ncombined with the logical AND operator, the && symbol, to\nensure that every relational expression in the sequence is true.\nIf one of them is false, the entire test is false and the fill color\nwon’t be set to black. This is explained further in the reference\nentry for &&.\nResponse 65\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 326
  },
  {
    "chunk_full": "Figure 5-4. Rectangle rollover test. When all four tests are com-\nbined and true, the cursor is inside the rectangle.\nType\nProcessing keeps track of when any key on a keyboard is\npressed, as well as the last key pressed. Like the mousePressed\nvariable, the keyPressed variable is true when any key is\npressed, and false when no keys are pressed.\n66 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 327
  },
  {
    "chunk_full": "Example 5-16: Tap a Key\nIn this example, the second line is drawn only when a key is\npressed:\nvoid setup() {\n  size(240, 120);\n}\nvoid draw() {\n  background(204);\n  line(20, 20, 220, 100);\n  if (keyPressed) {\n    line(220, 20, 20, 100);\n  }\n}\nThe key variable stores the most recent key that has been\npressed. The data type for key is char, which is short for “char-\nacter” but usually pronounced like the first syllable of “char-\ncoal.” A char variable can store any single character, which\nincludes letters of the alphabet, numbers, and symbols. Unlike a\nstring value (see Example 7-8 on page 97), which is distin-\nguished by double quotes, the char data type is specified by sin-\ngle quotes. This is how a char variable is declared and assigned:\nchar c = 'A';  // Declares and assigns 'A' to the variable c\nAnd these attempts will cause an error:\nchar c = \"A\";  // Error! Can't assign a String to a char\nchar h = A;    // Error! Missing the single quotes from 'A'\nUnlike the boolean variable keyPressed, which reverts to false\neach time a key is released, the key variable keeps its value until\nthe next key is pressed. The following example uses the value of\nkey to draw the character to the screen. Each time a new key is\npressed, the value updates and a new character draws. Some\nResponse 67\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 328
  },
  {
    "chunk_full": "keys, like Shift and Alt, don’t have a visible character, so when\nyou press them, nothing is drawn.\nExample 5-17: Draw Some Letters\nThis example introduces the textSize() function to set the size\nof the letters, the textAlign() function to center the text on its x\ncoordinate, and the text() function to draw the letter. These\nfunctions are discussed in more detail in “Fonts” on page 94:\nvoid setup() {\n  size(120, 120);\n  textSize(64);\n  textAlign(CENTER);\n}\nvoid draw() {\n  background(0);\n  text(key, 60, 80);\n}\nBy using an if structure, we can test to see whether a specific\nkey is pressed and choose to draw something on screen in\nresponse.\nExample 5-18: Check for Specific Keys\nIn this example, we test for an H or N to be typed. We use the\ncomparison operator, the == symbol, to see if the key value is\nequal to the characters we’re looking for:\n68 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 329
  },
  {
    "chunk_full": "void setup() {\n  size(120, 120);\n}\nvoid draw() {\n  background(204);\n  if (keyPressed) {\n    if ((key == 'h') || (key == 'H')) {\n      line(30, 60, 90, 60);\n    }\n    if ((key == 'n') || (key == 'N')) {\n      line(30, 20, 90, 100);\n    }\n  }\n  line(30, 20, 30, 100);\n  line(90, 20, 90, 100);\n}\nWhen we watch for H or N to be pressed, we need to check for\nboth the lowercase and uppercase letters in the event that\nsomeone hits the Shift key or has the Caps Lock set. We com-\nbine the two tests together with a logical OR, the || symbol. If\nwe translate the second if statement in this example into plain\nlanguage, it says, “If the ‘h’ key is pressed OR the ‘H’ key is\npressed.” Unlike with the logical AND (the && symbol), only one\nof these expressions need be true for the entire test to be true.\nSome keys are more difficult to detect, because they aren’t tied\nto a particular letter. Keys like Shift, Alt, and the arrow keys are\ncoded and require an extra step to figure out if they are pressed.\nFirst, we need to check if the key that’s been pressed is a coded\nkey, then we check the code with the keyCode variable to see\nwhich key it is. The most frequently used keyCode values are ALT,\nCONTROL, and SHIFT, as well as the arrow keys, UP, DOWN, LEFT, and\nRIGHT.\nResponse 69\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 330
  },
  {
    "chunk_full": "Example 5-19: Move with Arrow Keys\nThe following example shows how to check for the left or right\narrow keys to move a rectangle:\nint x = 215;\nvoid setup() {\n  size(480, 120);\n}\nvoid draw() {\n  if (keyPressed && (key == CODED)) {  // If it's a coded key\n    if (keyCode == LEFT) {  // If it's the left arrow\n      x--;\n    } else if (keyCode == RIGHT) {  // If it's the right arrow\n      x++;\n    }\n  }\n  rect(x, 45, 50, 50);\n}\nMap\nThe numbers that are created by the mouse and keyboard often\nneed to be modified to be useful within a program. For instance,\nif a sketch is 1920 pixels wide and the mouseX values are used to\nset the color of the background, the range of 0 to 1920 for\nmouseX might need to move into a range of 0 to 255 to better\ncontrol the color. This transformation can be done with an equa-\ntion or with a function called map().\nExample 5-20: Map Values to a Range\nIn this example, the location of two lines are controlled with the\nmouseX variable. The gray line is synchronized to the cursor posi-\ntion, but the black line stays closer to the center of the screen to\nmove further away from the white line at the left and right\nedges:\n70 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 331
  },
  {
    "chunk_full": "void setup() {\n  size(240, 120);\n  strokeWeight(12);\n}\nvoid draw() {\n  background(204);\n  stroke(102);\n  line(mouseX, 0, mouseX, height);  // Gray line\n  stroke(0);\n  float mx = mouseX/2 + 60;\n  line(mx, 0, mx, height);  // Black line\n}\nThe map() function is a more general way to make this type of\nchange. It converts a variable from one range of numbers to\nanother. The first parameter is the variable to be converted, the\nsecond and third parameters are the low and high values of that\nvariable, and the fourth and fifth parameters are the desired low\nand high values. The map() function hides the math behind the\nconversion.\nExample 5-21: Map with the map()\nFunction\nThis example rewrites Example 5-20 on page 70 using map():\nvoid setup() {\n  size(240, 120);\n  strokeWeight(12);\n}\nvoid draw() {\n  background(204);\n  stroke(102);\n  line(mouseX, 0, mouseX, height);  // Gray line\n  stroke(0);\nResponse 71\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 332
  },
  {
    "chunk_full": "  float mx = map(mouseX, 0, width, 60, 180);\n  line(mx, 0, mx, height);  // Black line\n}\nThe map() function makes the code easy to read, because the\nminimum and maximum values are clearly written as the\nparameters. In this example, mouseX values between 0 and width\nare converted to a number from 60 (when mouseX is 0) up to 180\n(when mouseX is width). You’ll find the useful map() function in\nmany examples throughout this book.\nRobot 3: Response\nThis program uses the variables introduced in Robot 2 (see\n“Robot 2: Variables” on page 47) and makes it possible to\nchange them while the program runs so that the shapes\nrespond to the mouse. The code inside the draw() block runs\nmany times each second. At each frame, the variables defined\nin the program change in response to the mouseX and mouse\nPressed variables.\nThe mouseX value controls the position of the robot with an eas-\ning technique so that movements are less instantaneous and\nfeel more natural. When a mouse button is pressed, the values\nof neckHeight and bodyHeight change to make the robot short:\n72 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 333
  },
  {
    "chunk_full": "float x = 60;          // x coordinate\nfloat y = 440;         // y coordinate\nint radius = 45;       // Head radius\nint bodyHeight = 160;  // Body height\nint neckHeight = 70;   // Neck height\nfloat easing = 0.04;\nvoid setup() {\n  size(360, 480);\n  ellipseMode(RADIUS);\n}\nvoid draw() {\n  strokeWeight(2);\n    \n  int targetX = mouseX;\n  x += (targetX - x) * easing;\n    \n  if (mousePressed) {\n    neckHeight = 16;\n    bodyHeight = 90; \n  } else {\n    neckHeight = 70;\n    bodyHeight = 160; \n  }\n  \n  float neckY = y - bodyHeight - neckHeight - radius;\n  \n  background(0, 153, 204);\n  \n  // Neck\n  stroke(255);\n  line(x+12, y-bodyHeight, x+12, neckY); \n  // Antennae\n  line(x+12, neckY, x-18, neckY-43);\n  line(x+12, neckY, x+42, neckY-99);\n  line(x+12, neckY, x+78, neckY+15);\n  // Body\n  noStroke();\n  fill(255, 204, 0);\n  ellipse(x, y-33, 33, 33);\n  fill(0);\n  rect(x-45, y-bodyHeight, 90, bodyHeight-33);\nResponse 73\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 334
  },
  {
    "chunk_full": "  // Head\n  fill(0);\n  ellipse(x+12, neckY, radius, radius); \n  fill(255);\n  ellipse(x+24, neckY-6, 14, 14);\n  fill(0);\n  ellipse(x+24, neckY-6, 3, 3);\n}\n \n74 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 335
  },
  {
    "chunk_full": "6/Translate, Rotate,\nScale\nAnother technique for positioning and\nmoving things on screen is to change the\nscreen coordinate system. For example,\nyou can move a shape 50 pixels to the\nright, or you can move the location of\ncoordinate \n(0,0) \n50 \npixels \nto \nthe\nright—the visual result is the same.\nFigure 6-1. Translating the coordinates\nBy modifying the default coordinate system, we can create dif-\nferent transformations including translation, rotation, and\nscaling.\nTranslate\nWorking with transformations can be tricky, but the translate()\nfunction is the most straightforward, so we’ll start with that. As\n75\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 336
  },
  {
    "chunk_full": "Figure 6-1 shows, this function can shift the coordinate system\nleft, right, up, and down.\nExample 6-1: Translating Location\nIn this example, notice that the rectangle is drawn at coordinate\n(0,0), but it is moved around on the screen, because it is affec-\nted by translate():\nvoid setup() {\n  size(120, 120);\n}\nvoid draw() {\n  translate(mouseX, mouseY);\n  rect(0, 0, 30, 30);\n}\nThe translate() function sets the (0,0) coordinate of the screen\nto the mouse location (mouseX and mouseY). Each time\nthe draw() block repeats, the rect() is drawn at the new ori-\ngin, derived from the current mouse location. \nExample 6-2: Multiple Translations\nAfter a transformation is made, it is applied to all drawing func-\ntions that follow. Notice what happens when a second translate\nfunction is added to control a second rectangle:\n76 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 337
  },
  {
    "chunk_full": "void setup() {\n  size(120, 120);\n}\nvoid draw() {\n  translate(mouseX, mouseY);\n  rect(0, 0, 30, 30);\n  translate(35, 10);\n  rect(0, 0, 15, 15);\n}\nThe values for the translate() functions are added together.\nThe smaller rectangle was translated the amount of mouseX + 35\nand mouseY + 10. The x and y coordinates for both rectangles are\n(0,0), but the translate() functions move them to other posi-\ntions on screen.\nHowever, even though the transformations accumulate within\nthe draw() block, they are reset each time draw() starts again at\nthe  top.\nRotate\nThe rotate() function rotates the coordinate system. It has one\nparameter, which is the angle (in radians) to rotate. It always\nrotates relative to (0,0), known as rotating around the origin.\nFigure 3-2 in Example 3-7 on page 18 shows the radians angle\nvalues. Figure 6-2 shows the difference between rotating with\npositive and negative numbers.\nFigure 6-2. Rotating the coordinates\nTranslate, Rotate, Scale 77\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 338
  },
  {
    "chunk_full": "Example 6-3: Corner Rotation\nTo rotate a shape, first define the rotation angle with rotate(),\nthen draw the shape. In this sketch, the amount to rotate\n(mouseX / 100.0) will be between 0 and 1.2 to define the rotation\nangle because mouseX will be between 0 and 120, the width of\nthe Display Window specified with the size() function. Note\nthat you should divide by 100.0 not 100, because of how num-\nbers work in Processing (see “Making Variables” on page 36).\nvoid setup() {\n  size(120, 120);\n}\nvoid draw() {\n  rotate(mouseX / 100.0);\n  rect(40, 30, 160, 20);\n}\nExample 6-4: Center Rotation\nTo rotate a shape around its own center, it must be drawn with\ncoordinate (0,0) in the middle. In this example, because the\nshape is 160 wide and 20 high as defined in rect(), it is drawn at\nthe coordinate (–80, –10) to place (0,0) at the center of the\nshape:\nvoid setup() {\n  size(120, 120);\n78 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 339
  },
  {
    "chunk_full": "}\nvoid draw() {\n  rotate(mouseX / 100.0);\n  rect(-80, -10, 160, 20);\n}\nThe previous pair of examples showed how to rotate around\ncoordinate (0,0), but what about other possibilities? You can\nuse the translate() and rotate() functions for more control.\nWhen they are combined, the order in which they appear affects\nthe result. If the coordinate system is first moved and then rota-\nted, that is different than first rotating the coordinate system,\nthen moving it.\nExample 6-5: Translation, then\nRotation\nTo spin a shape around its center point at a place on screen\naway from the origin, first use translate() to move to the loca-\ntion where you’d like the shape, then call rotate(), and then\ndraw the shape with its center at coordinate (0,0):\nfloat angle = 0;\nvoid setup() {\n  size(120, 120);\n}\nvoid draw() {\n  translate(mouseX, mouseY);\n  rotate(angle);\n  rect(-15, -15, 30, 30);\n  angle += 0.1;\n}\nTranslate, Rotate, Scale 79\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 340
  },
  {
    "chunk_full": "Example 6-6: Rotation, Then\nTranslation\nThe following example is identical to Example 6-5 on page 79,\nexcept that translate() and rotate() are reversed. The shape\nnow rotates around the upper-left corner of the Display Window,\nwith the distance from the corner set by translate():\nfloat angle = 0.0;\nvoid setup() {\n  size(120, 120);\n}\nvoid draw() {\n  rotate(angle);\n  translate(mouseX, mouseY);\n  rect(-15, -15, 30, 30);\n  angle += 0.1;\n}\nAnother option is to use the rectMode(), ellipse\nMode(), imageMode(), and shapeMode() functions,\nwhich make it easier to draw shapes from their cen-\nter. You can read about these functions in the Pro-\ncessing Reference.\nExample 6-7: An Articulating Arm\nIn this example, we’ve put together a series of translate() and\nrotate() functions to create a linked arm that bends back and\nforth. Each translate() further moves the position of the lines,\nand each rotate() adds to the previous rotation to bend more:\n80 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 341
  },
  {
    "chunk_full": "float angle = 0.0;\nfloat angleDirection = 1;\nfloat speed = 0.005;\nvoid setup() {\n  size(120, 120);\n}\nvoid draw() {\n  background(204);\n  translate(20, 25);  // Move to start position\n  rotate(angle);\n  strokeWeight(12);\n  line(0, 0, 40, 0);\n  translate(40, 0);   // Move to next joint\n  rotate(angle * 2.0);\n  strokeWeight(6);\n  line(0, 0, 30, 0);\n  translate(30, 0);   // Move to next joint\n  rotate(angle * 2.5);\n  strokeWeight(3);\n  line(0, 0, 20, 0);\n  angle += speed * angleDirection;\n  if ((angle > QUARTER_PI) || (angle < 0)) {\n    angleDirection = -angleDirection;\n  }\n}\nThe angle variable grows from 0 to QUARTER_PI (one quarter of\nthe value of pi), then decreases until it is less than zero, then the\ncycle repeats. The value of the angleDirection variable is always\n1 or –1 to make the value of angle correspondingly increase or \ndecrease.\nTranslate, Rotate, Scale 81\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 342
  },
  {
    "chunk_full": "Scale\nThe scale() function stretches the coordinates on the screen.\nBecause the coordinates expand or contract as the scale\nchanges, everything drawn to the Display Window increases or\ndecreases in dimension. Use scale(1.5) to make everything\n150% of their original size, or scale(3) to make them three\ntimes larger. Using scale(1) would have no effect, because\neverything would remain 100% of the original. To make things\nhalf their size, use scale(0.5).\nFigure 6-3. Scaling the coordinates\nExample 6-8: Scaling\nLike rotate(), the scale() function transforms from the origin.\nTherefore, as with rotate(), to scale a shape from its center,\ntranslate to its location, scale, and then draw with the center at\ncoordinate (0,0):\nvoid setup() {\n  size(120, 120);\n}\n82 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 343
  },
  {
    "chunk_full": "void draw() {\n  translate(mouseX, mouseY);\n  scale(mouseX / 60.0);\n  rect(-15, -15, 30, 30);\n}\nExample 6-9: Keeping Strokes\nConsistent\nFrom the thick lines in Example 6-8 on page 82, you can see how\nthe scale() function affects the stroke weight. To maintain a\nconsistent stroke weight as a shape scales, divide the desired\nstroke weight by the scalar value:\nvoid setup() {\n  size(120, 120);\n}\nvoid draw() {\n  translate(mouseX, mouseY);\n  float scalar = mouseX / 60.0;\n  scale(scalar);\n  strokeWeight(1.0 / scalar);\n  rect(-15, -15, 30, 30);\n}\nPush and Pop\nTo isolate the effects of a transformation so they don’t affect\nlater commands, use the pushMatrix() and popMatrix() func-\ntions. When pushMatrix() is run, it saves a copy of the current\ncoordinate system and then restores that system after\npopMatrix(). This is useful when transformations are needed for\none shape, but not wanted for another.\nTranslate, Rotate, Scale 83\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 344
  },
  {
    "chunk_full": "Example 6-10: Isolating\nTransformations\nIn this example, the smaller rectangle always draws in the same\nposition because the translate(mouseX, mouseY) is cancelled by\nthe popMatrix():\nvoid setup() {\n  size(120, 120);\n}\nvoid draw() {\n  pushMatrix();\n  translate(mouseX, mouseY);\n  rect(0, 0, 30, 30);\n  popMatrix();\n  translate(35, 10);\n  rect(0, 0, 15, 15);\n}\nThe pushMatrix() and popMatrix() functions are\nalways used in pairs. For every pushMatrix(), you\nneed to have a matching popMatrix().\n84 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 345
  },
  {
    "chunk_full": "Robot 4: Translate, Rotate, Scale\nThe translate(), rotate(), and scale() functions are all utilized\nin this modified robot sketch. In relation to “Robot 3: Response”\non page 72, translate() is used to make the code easier to read.\nHere, notice how the x value no longer needs to be added to\neach drawing function because translate() moves everything.\nSimilarly, the scale() function is used to set the dimensions for\nthe entire robot. When the mouse is not pressed, the size is set\nto 60%, and when it is pressed, it goes to 100% in relation to the\noriginal coordinates.\nThe rotate() function is used within a loop to draw a line, rotate\nit a little, then draw a second line, then rotate a little more, and\nso on until the loop has drawn 30 lines half-way around a circle\nto style a lovely head of robot hair:\nfloat x = 60;          // x coordinate\nfloat y = 440;         // y coordinate\nint radius = 45;       // Head radius\nint bodyHeight = 180;  // Body height\nint neckHeight = 40;   // Neck height\nfloat easing = 0.04;\nTranslate, Rotate, Scale 85\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 346
  },
  {
    "chunk_full": "void setup() {\n  size(360, 480);\n  ellipseMode(RADIUS);\n}\nvoid draw() {\n  strokeWeight(2);\n  float neckY = -1 * (bodyHeight + neckHeight + radius);\n  background(0, 153, 204);\n  translate(mouseX, y);  // Move all to (mouseX, y)\n  if (mousePressed) {\n    scale(1.0);\n  } else {\n    scale(0.6);  // 60% size when mouse is pressed\n  }\n  // Body\n  noStroke();\n  fill(255, 204, 0);\n  ellipse(0, -33, 33, 33);\n  fill(0);\n  rect(-45, -bodyHeight, 90, bodyHeight-33);\n  // Neck\n  stroke(255);\n  line(12, -bodyHeight, 12, neckY); \n  // Hair\n  pushMatrix();\n  translate(12, neckY);\n  float angle = -PI/30.0;\n  for (int i = 0; i <= 30; i++) {\n    line(80, 0, 0, 0);\n    rotate(angle);\n  }\n  popMatrix();\n  // Head\n  noStroke();\n  fill(0);\n  ellipse(12, neckY, radius, radius); \n  fill(255);\n86 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 347
  },
  {
    "chunk_full": "  ellipse(24, neckY-6, 14, 14);\n  fill(0);\n  ellipse(24, neckY-6, 3, 3);\n}\n \n \nTranslate, Rotate, Scale 87\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 348
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 349
  },
  {
    "chunk_full": "7/Media\nProcessing is capable of drawing more\nthan simple lines and shapes. It’s time to\nlearn how to load raster images, vector\nfiles, and fonts into our programs to\nextend the visual possibilities to photog-\nraphy, detailed diagrams, and diverse\ntypefaces.\nProcessing uses a folder named data to store such files, so that\nyou never have to think about their location when moving\nsketches around and exporting them. We’ve posted media files\nonline \nfor \nyou \nto \nuse \nin \nthis \nchapter’s \nexamples:\nhttp://www.processing.org/learning/books/media.zip.\nDownload this file, unzip it to the desktop (or somewhere else\nconvenient), and make a mental note of its location.\nTo unzip on Mac OS X, just double-click the file, and\nit will create a folder named media. On Windows,\ndouble-click the media.zip file, which will open a new\nwindow. In that window, drag the media folder to the\ndesktop. \nCreate a new sketch, and select Add File from the Sketch menu.\nFind the lunar.jpg file from the media folder that you just unzip-\nped and select it. If everything went well, the Message Area will\nread “One file added to the sketch.”\nTo check for the file, select Show Sketch Folder in the Sketch\nmenu. You should see a folder named data, with a copy of\nlunar.jpg inside. When you add a file to the sketch, the data\n89\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 350
  },
  {
    "chunk_full": "folder will automatically be created. Instead of using the Add\nFile menu command, you can do the same thing by dragging\nfiles into the editor area of the Processing window. The files will\nbe copied to the data folder the same way (and the data folder\nwill be created if none exists).\nYou can also create the data folder outside of Processing and\ncopy files there yourself. You won’t get the message saying that\nfiles have been added, but this is a helpful method when you’re\nworking with large numbers of files.\nOn Windows and Mac OS X, extensions are hidden\nby default. It’s a good idea to change that option so\nthat you always see the full name of your files. On\nMac OS X, select Preferences from the Finder menu,\nand then make sure “Show all filename extensions”\nis checked in the Advanced tab. On Windows, look\nfor Folder Options, and set the option there.\nImages\nThere are three steps to follow before you can draw an image to\nthe screen:\n1. Add the image to the sketch’s data folder (instructions given\npreviously).\n2. Create a PImage variable to store the image.\n3. Load the image into the variable with loadImage().\nExample 7-1: Load an Image\nAfter all three steps are done, you can draw the image to the\nscreen with the image() function. The first parameter to image()\nspecifies the image to draw; the second and third set the x and y\ncoordinates:\n90 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 351
  },
  {
    "chunk_full": "PImage img;\nvoid setup() {\n  size(480, 120);\n  img = loadImage(\"lunar.jpg\");\n}\nvoid draw() {\n  image(img, 0, 0);\n}\nOptional fourth and fifth parameters set the width and height to\ndraw the image. If the fourth and fifth parameters are not used,\nthe image is drawn at the size at which it was created.\nThese next examples show how to work with more than one\nimage in the same program and how to resize an image.\nExample 7-2: Load More Images\nFor this example, you’ll need to add the capsule.jpg file (found in\nthe media folder you downloaded) to your sketch using one of\nthe methods described earlier:\nPImage img1;\nPImage img2;\nvoid setup() {\n  size(480, 120);\n  img1 = loadImage(\"lunar.jpg\");\nMedia 91\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 352
  },
  {
    "chunk_full": "  img2 = loadImage(\"capsule.jpg\");\n}\nvoid draw() {\n  image(img1, -120, 0);\n  image(img1, 130, 0, 240, 120);\n  image(img2, 300, 0, 240, 120);\n}\nExample 7-3: Mousing Around with\nImages\nWhen the mouseX and mouseY values are used as part of the\nfourth and fifth parameters of image(), the image size changes\nas the mouse moves:\nPImage img;\nvoid setup() {\n  size(480, 120);\n  img = loadImage(\"lunar.jpg\");\n}\nvoid draw() {\n  background(0);\n  image(img, 0, 0, mouseX * 2, mouseY * 2);\n}\nWhen an image is displayed larger or smaller than its\nactual size, it may become distorted. Be careful to\nprepare your images at the sizes they will be used.\nWhen the display size of an image is changed with\nthe image() function, the actual image on the hard\ndrive doesn’t change.\n92 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 353
  },
  {
    "chunk_full": "Processing can load and display raster images in the JPEG, \nPNG, and GIF formats. (Vector shapes in the SVG format can be\ndisplayed in a different way, as described in “Shapes” on page\n97 later in this chapter.) You can convert images to the JPEG,\nPNG, and GIF formats using programs like GIMP and Photo-\nshop. Most digital cameras save JPEG images that are much\nlarger than the drawing area of most Processing sketches, so\nresizing such images before they are added to the data folder\nwill make your sketches run more efficiently.\nGIF and PNG images support transparency, which means that\npixels can be invisible or partially visible (recall the discussion of\ncolor() and alpha values in Example 3-17 on page 26). GIF\nimages have 1-bit transparency, which means that pixels are\neither fully opaque or fully transparent. PNG images have 8-bit\ntransparency, which means that each pixel can have a variable\nlevel of opacity. The following examples show the difference,\nusing the clouds.gif and clouds.png files found in the media\nfolder that you downloaded. Be sure to add them to the sketch\nbefore trying each example.\nExample 7-4: Transparency with\na GIF\nPImage img;\nvoid setup() {\n  size(480, 120);\n  img = loadImage(\"clouds.gif\");\n}\nvoid draw() {\n  background(255);\n  image(img, 0, 0);\n  image(img, 0, mouseY * -1);\n}\nMedia 93\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 354
  },
  {
    "chunk_full": "Example 7-5: Transparency with\na PNG\nPImage img;\nvoid setup() {\n  size(480, 120);\n  img = loadImage(\"clouds.png\");\n}\nvoid draw() {\n  background(204);\n  image(img, 0, 0);\n  image(img, 0, mouseY * -1);\n}\nRemember to include the file extensions .gif, .jpg,\nor .png when you load the image. Also, be sure that\nthe image name is typed exactly as it appears in the\nfile, including the case of the letters. And if you\nmissed it, read the note earlier in this chapter about\nmaking sure that the file extensions are visible on\nMac OS X and Windows.\nFonts\nThe Processing software can display text using TrueType (.ttf)\nand OpenType (.otf) fonts, as well as a custom bitmap format\ncalled VLW. For this introduction, we will load a TrueType font\nfrom the data folder, the SourceCodePro-Regular.ttf font\nincluded in the media folder that you downloaded earlier.\n94 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 355
  },
  {
    "chunk_full": "The following websites are good places to find fonts\nwith open licenses to use with Processing:\n• Google Fonts\n• The Open Font Library\n• The League of Moveable Type\nNow it’s possible to load the font and add words to a sketch.\nThis part is similar to working with images, but there’s one extra\nstep:\n1. Add the font to the sketch’s data folder (instructions given\npreviously).\n2. Create a PFont variable to store the font.\n3. Create the font and assign it to a variable with createFont().\nThis reads the font file, and creates a version of it at a spe-\ncific size that can be used by Processing.\n4. Use the textFont() function to set the current font.\nExample 7-6: Drawing with Fonts\nNow you can draw these letters to the screen with the text()\n function, and you can change the size  with textSize():\nPFont font;\nvoid setup() {\n  size(480, 120);\n  font = createFont(\"SourceCodePro-Regular.ttf\", 32);\n  textFont(font);\n}\nMedia 95\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 356
  },
  {
    "chunk_full": "void draw() {\n  background(102);\n  textSize(32);\n  text(\"That’s one small step for man...\", 25, 60);\n  textSize(16);\n  text(\"That’s one small step for man...\", 27, 90);\n}\nThe first parameter to text() is the character(s) to draw to the\nscreen. (Notice that the characters are enclosed within quotes.)\nThe second and third parameters set the horizontal and vertical\nlocation. The location is relative to the baseline of the text (see\nFigure 7-1).\nFigure 7-1. Typography coordinates\nExample 7-7: Draw Text in a Box\nYou can also set text to draw inside a box by adding fourth and\nfifth parameters that specify the width and height of the box:\nPFont font;\nvoid setup() {\n  size(480, 120);\n  font = createFont(\"SourceCodePro-Regular.ttf\", 24);\n  textFont(font);\n}\n96 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 357
  },
  {
    "chunk_full": "void draw() {\n  background(102);\n  text(\"That’s one small step for man...\", 26, 24, 240, 100);\n}\nExample 7-8: Store Text in a String\nIn the previous example, the words inside the text() function\nstart to make the code difficult to read. We can store these\nwords in a variable to make the code more modular. The String\ndata type is used to store text data. Here’s a new version of the\nprevious example that uses a String:\nPFont font;\nString quote = \"That's one small step for man...\";\nvoid setup() {\n  size(480, 120);\n  font = createFont(\"SourceCodePro-Regular.ttf\", 24);\n  textFont(font);\n}\nvoid draw() {\n  background(102);\n  text(quote, 26, 24, 240, 100);\n}\nThere’s a set of additional functions that affect how letters are\ndisplayed on screen. They are explained, with examples, in the\nTypography category of the Processing Reference.\nShapes\nIf you make vector shapes in a program like Inkscape or Illustra-\ntor, you can load them into Processing directly. This is helpful for\nshapes you’d rather not build with Processing’s drawing func-\ntions. As with images, you need to add them to your sketch\nbefore they can be loaded.\nThere are three steps to load and draw an SVG file:\n1. Add an SVG file to the sketch’s data folder.\n2. Create a PShape variable to store the vector file.\nMedia 97\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 358
  },
  {
    "chunk_full": "3. Load the vector file into the variable with loadShape().\nExample 7-9: Draw with Shapes\nAfter following these steps, you can draw the image to the\nscreen with the shape() function:\nPShape network;\nvoid setup() {\n  size(480, 120);\n  network = loadShape(\"network.svg\");\n}\nvoid draw() {\n  background(0);\n  shape(network, 30, 10);\n  shape(network, 180, 10, 280, 280);\n}\nThe parameters for shape() are similar to image(). The first\nparameter tells shape() which SVG to draw and the next pair\nsets the position. Optional fourth and fifth parameters set the\nwidth and height.\nExample 7-10: Scaling Shapes\nUnlike raster images, vector shapes can be scaled to any size\nwithout losing resolution. In this example, the shape is scaled\nbased on the mouseX variable, and the shapeMode() function is\nused to draw the shape from its center, rather than the default\nposition, the upper-left corner:\n98 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 359
  },
  {
    "chunk_full": "PShape network;\nvoid setup() {\n  size(240, 120);\n  shapeMode(CENTER);\n  network = loadShape(\"network.svg\");\n}\nvoid draw() {\n  background(0);\n  float diameter = map(mouseX, 0, width, 10, 800);\n  shape(network, 120, 60, diameter, diameter);\n}\nProcessing doesn’t support all SVG features. See the\nentry for PShape in the Processing Reference for\nmore details.\nExample 7-11: Creating a New Shape\nIn addition to loading shapes through the data folder, new\nshapes can be created with code through the createShape() \nfunction. In the next example, one of the creatures from Exam-\nple 3-21 on page 29 is built in the setup() function. Once this\nhappens, the shape can be used anywhere in the program with\nthe shape() function:\nMedia 99\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 360
  },
  {
    "chunk_full": "PShape dino;\nvoid setup() {\n  size(480, 120);\n  dino = createShape();\n  dino.beginShape();\n  dino.fill(153, 176, 180);\n  dino.vertex(50, 120);\n  dino.vertex(100, 90);\n  dino.vertex(110, 60);\n  dino.vertex(80, 20);\n  dino.vertex(210, 60);\n  dino.vertex(160, 80);\n  dino.vertex(200, 90);\n  dino.vertex(140, 100);\n  dino.vertex(130, 120);\n  dino.endShape();\n}\nvoid draw() {\n  background(204);\n  translate(mouseX - 120, 0);\n  shape(dino, 0, 0);\n}\nMaking a custom PShape with createShape() can make sketches\nmore efficient when the same shape is drawn many times.\n100 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 361
  },
  {
    "chunk_full": "Robot 5: Media\nUnlike  the robots created from lines and rectangles drawn in\nProcessing in the previous chapters, these robots were created\nwith a vector drawing program. For some shapes, it’s often eas-\nier to point and click in a software tool like Inkscape or Illustrator\nthan to define the shapes with coordinates in code.\nThere’s a trade-off to selecting one image creation technique\nover another. When shapes are defined in Processing, there’s\nmore flexibility to modify them while the program is running. If\nthe shapes are defined elsewhere and then loaded into Process-\ning, changes are limited to the position, angle, and size. When\nloading each robot from an SVG file, as this example shows, the\nvariations featured in Robot 2 (see “Robot 2: Variables” on page\n47) are impossible.\nImages can be loaded into a program to bring in visuals created\nin other programs or captured with a camera. With this image in\nthe background, our robots are now exploring for life-forms in\nNorway at the dawn of the 20th century.\nThe SVG and PNG files used in this example can be downloaded\nfrom http://www.processing.org/learning/books/media.zip:\nMedia 101\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 362
  },
  {
    "chunk_full": "PShape bot1;\nPShape bot2;\nPShape bot3;\nPImage landscape;\nfloat easing = 0.05;\nfloat offset = 0;\nvoid setup() {\n  size(720, 480);\n  bot1 = loadShape(\"robot1.svg\");\n  bot2 = loadShape(\"robot2.svg\");\n  bot3 = loadShape(\"robot3.svg\");\n  landscape = loadImage(\"alpine.png\");\n}\nvoid draw() {\n  // Set the background to the \"landscape\" image, this image\n  // must be the same width and height as the program\n  background(landscape);\n  \n  // Set the left/right offset and apply easing to make\n  // the transition smooth\n  float targetOffset = map(mouseY, 0, height, -40, 40);\n  offset += (targetOffset - offset) * easing;\n  \n  // Draw the left robot\n  shape(bot1, 85 + offset, 65);\n  \n  // Draw the right robot smaller and give it a smaller offset\n  float smallerOffset = offset * 0.7;\n  shape(bot2, 510 + smallerOffset, 140, 78, 248);\n  \n  // Draw the smallest robot, give it a smaller offset\n  smallerOffset *= -0.5;\n  shape(bot3, 410 + smallerOffset, 225, 39, 124);\n}\n \n102 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 363
  },
  {
    "chunk_full": "8/Motion\nLike a flip book, animation on screen is\ncreated by drawing an image, then draw-\ning a slightly different image, then\nanother, and so on. The illusion of fluid\nmotion is created by persistence of\nvision. When a set of similar images is\npresented at a fast enough rate, our\nbrains \ntranslate \nthese \nimages \ninto\nmotion.\nFrames\nTo create smooth motion, Processing tries to run the code\ninside draw() at 60 frames each second. A frame is one trip\nthrough the draw() and the frame rate is how many frames are\ndrawn each second. Therefore, a program that draws 60 frames\neach second means the program runs the entire code inside\ndraw() 60 times each second.\nExample 8-1: See the Frame Rate\nTo confirm the frame rate, run this program and watch the val-\nues print to the Console (the frameRate variable keeps track of\nthe program’s speed):\nvoid draw() {\n  println(frameRate);\n}\n103\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 364
  },
  {
    "chunk_full": "Example 8-2: Set the Frame Rate\nThe frameRate() function changes the speed at which the pro-\ngram runs. To see the result, uncomment different versions of\nframeRate() in this example:\nvoid setup() {\n  frameRate(30);    // Thirty frames each second\n  //frameRate(12);  // Twelve frames each second\n  //frameRate(2);   // Two frames each second\n  //frameRate(0.5); // One frame every two seconds\n}\nvoid draw() {\n  println(frameRate);\n}\nProcessing tries to run the code at 60 frames each\nsecond, but if it takes longer than 1/60th of a sec-\nond to run the draw() method, then the frame rate\nwill decrease. The frameRate() function specifies\nonly the maximum frame rate, and the actual frame\nrate for any program depends on the computer that\nis running the code.\nSpeed and Direction\nTo create fluid motion examples, we use a data type called\nfloat. This type of variable stores numbers with decimal places,\nwhich provide more resolution for working with motion. For\ninstance, when using int, the slowest you can move each frame\nis one pixel at a time (1, 2, 3, 4, . . .), but with float, you can\nmove as slowly as you want (1.01, 1.01, 1.02, 1.03, . . .).\nExample 8-3: Move a Shape\nThe following example moves a shape from left to right by\nupdating the x variable:\n104 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 365
  },
  {
    "chunk_full": "int radius = 40;\nfloat x = -radius;\nfloat speed = 0.5;\nvoid setup() {\n  size(240, 120);\n  ellipseMode(RADIUS);\n}\nvoid draw() {\n  background(0);\n  x += speed; // Increase the value of x\n  arc(x, 60, radius, radius, 0.52, 5.76);\n}\nWhen you run this code, you’ll notice the shape moves off the\nright of the screen when the value of the x variable is greater\nthan the width of the window. The value of x continues to\nincrease, but the shape is no longer visible.\nExample 8-4: Wrap Around\nThere are many alternatives to this behavior, which you can\nchoose from according to your preference. First, we’ll extend the\ncode to show how to move the shape back to the left edge of the\nscreen after it disappears off the right. In this case, picture the\nscreen as a flattened cylinder, with the shape moving around\nthe outside to return to its starting point:\nMotion 105\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 366
  },
  {
    "chunk_full": "int radius = 40;\nfloat x = -radius;\nfloat speed = 0.5;\nvoid setup() {\n  size(240, 120);\n  ellipseMode(RADIUS);\n}\nvoid draw() {\n  background(0);\n  x += speed;  // Increase the value of x\n  if (x > width+radius) {  // If the shape is off screen,\n    x = -radius;  // move to the left edge\n  }\n  arc(x, 60, radius, radius, 0.52, 5.76);\n}\nOn each trip through draw(), the code tests to see if the value of\nx has increased beyond the width of the screen (plus the radius\nof the shape). If it has, we set the value of x to a negative value,\nso that as it continues to increase, it will enter the screen from\nthe left. See Figure 8-1 for a diagram of how it works.\n \nFigure 8-1. Testing for the edges of the window\n106 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 367
  },
  {
    "chunk_full": "Example 8-5: Bounce Off the Wall\nIn this example, we’ll extend Example 8-3 on page 104 to have\nthe shape change directions when it hits an edge, instead of\nwrapping around to the left. To make this happen, we add a new\nvariable to store the direction of the shape. A direction value of 1\nmoves the shape to the right, and a value of –1 moves the shape\nto the left:\nint radius = 40;\nfloat x = 110;\nfloat speed = 0.5;\nint direction = 1;\nvoid setup() {\n  size(240, 120);\n  ellipseMode(RADIUS);\n}\nvoid draw() {\n  background(0);\n  x += speed * direction;\n  if ((x > width-radius) || (x < radius)) {\n    direction = -direction; // Flip direction\n  }\n  if (direction == 1) {\n    arc(x, 60, radius, radius, 0.52, 5.76); // Face right\n  } else {\n    arc(x, 60, radius, radius, 3.67, 8.9);  // Face left\n  }\n}\nWhen the shape reaches an edge, this code flips the shape’s\ndirection by changing the sign of the direction variable. For\nexample, if the direction variable is positive when the shape\nreaches an edge, the code flips it to negative.\nMotion 107\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 368
  },
  {
    "chunk_full": "Tweening\nSometimes you want to animate a shape to go from one point\non screen to another. With a few lines of code, you can set up\nthe start position and the stop position, then calculate the in-\nbetween (tween) positions at each frame.\nExample 8-6: Calculate Tween\nPositions\nTo make this example code modular, we’ve created a group of\nvariables at the top. Run the code a few times and change the\nvalues to see how this code can move a shape from any location\nto any other at a range of speeds. Change the step variable to\nalter the speed:\nint startX = 20;     // Initial x coordinate\nint stopX = 160;     // Final x coordinate\nint startY = 30;     // Initial y coordinate\nint stopY = 80;      // Final y coordinate\nfloat x = startX;    // Current x coordinate\nfloat y = startY;    // Current y coordinate\nfloat step = 0.005;  // Size of each step (0.0 to 1.0)\nfloat pct = 0.0;     // Percentage traveled (0.0 to 1.0)\nvoid setup() {\n  size(240, 120);\n}\nvoid draw() {\n  background(0);\n  if (pct < 1.0) {\n    x = startX + ((stopX-startX) * pct);\n    y = startY + ((stopY-startY) * pct);\n    pct += step;\n  }\n108 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 369
  },
  {
    "chunk_full": "  ellipse(x, y, 20, 20);\n}\nRandom\nUnlike the smooth, linear motion common to computer graph-\nics, motion in the physical world is usually idiosyncratic. For\ninstance, think of a leaf floating to the ground, or an ant crawling\nover rough terrain. We can simulate the unpredictable qualities\nof the world by generating random numbers. The random() func-\ntion calculates these values; we can set a range to tune the\namount of disarray in a program.\nExample 8-7: Generate Random\nValues\nThe following short example prints random values to the Con-\nsole, with the range limited by the position of the mouse. The\nrandom() function always returns a floating-point value, so be\nsure the variable on the left side of the assignment operator (=)\nis a float as it is here:\nvoid draw() {\n  float r = random(0, mouseX);\n  println(r);\n}\nExample 8-8: Draw Randomly\nThe following example builds on Example 8-7 on page 109; it\nuses the values from random() to change the position of lines on\nscreen. When the mouse is at the left of the screen, the change\nis small; as it moves to the right, the values from random()\nincrease and the movement becomes more exaggerated.\nBecause the random() function is inside the for loop, a new ran-\ndom value is calculated for each point of every line:\nMotion 109\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 370
  },
  {
    "chunk_full": "void setup() {\n  size(240, 120);\n}\nvoid draw() {\n  background(204);\n  for (int x = 20; x < width; x += 20) {\n    float mx = mouseX / 10;\n    float offsetA = random(-mx, mx);\n    float offsetB = random(-mx, mx);\n    line(x + offsetA, 20, x - offsetB, 100);\n  }\n}\nExample 8-9: Move Shapes Randomly\nWhen  used to move shapes around on screen, random values\ncan generate images that are more natural in appearance. In the\nfollowing example, the position of the circle is modified by ran-\ndom values on each trip through draw(). Because the back\nground() function is not used, past locations are traced:\nfloat speed = 2.5;\nint diameter = 20;\nfloat x;\nfloat y;\nvoid setup() {\n  size(240, 120);\n  x = width/2;\n110 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 371
  },
  {
    "chunk_full": "  y = height/2;\n}\nvoid draw() {\n  x += random(-speed, speed);\n  y += random(-speed, speed);\n  ellipse(x, y, diameter, diameter);\n}\nIf you watch this example long enough, you may see the circle\nleave the window and come back. This is left to chance, but we\ncould add a few if structures or use the constrain() function to\nkeep the circle from leaving the screen. The constrain() func-\ntion limits a value to a specific range, which can be used to keep\nx and y within the boundaries of the Display Window. By replac-\ning the draw() in the preceding code with the following, you’ll\nensure that the ellipse will remain on the screen:\nvoid draw() {\n  x += random(-speed, speed);\n  y += random(-speed, speed);\n  x = constrain(x, 0, width);\n  y = constrain(y, 0, height);\n  ellipse(x, y, diameter, diameter);\n}\nThe randomSeed() function can be used to force\nrandom() to produce the same sequence of numbers\neach time a program is run. This is described further\nin the Processing Reference.\nTimers\nEvery Processing program counts the amount of time that has\npassed since it was started. It counts in milliseconds (thou-\nsandths of a second), so after 1 second, the counter is at 1,000;\nafter 5 seconds, it’s at 5,000; and after 1 minute, it’s at 60,000.\nWe can use this counter to trigger animations at specific times.\nThe millis() function returns this counter value.\nMotion 111\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 372
  },
  {
    "chunk_full": "Example 8-10: Time Passes\nYou can watch the time pass when you run this program:\nvoid draw() {\n  int timer = millis();\n  println(timer);\n}\nExample 8-11: Triggering Timed\nEvents\nWhen paired with an if block, the values from millis() can be\nused to sequence animation and events within a program. For\ninstance, after two seconds have elapsed, the code inside the if\nblock can trigger a change. In this example, variables called\ntime1 and time2 determine when to change the value of the x\nvariable:\nint time1 = 2000;\nint time2 = 4000;\nfloat x = 0;\nvoid setup() {\n  size(480, 120);\n}\nvoid draw() {\n  int currentTime = millis();\n  background(204);\n  if (currentTime > time2) {\n    x -= 0.5;\n  } else if (currentTime > time1) {\n    x += 2;\n  }\n  ellipse(x, 60, 90, 90);\n}\n112 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 373
  },
  {
    "chunk_full": "Circular\nIf you’re a trigonometry ace, you already know how amazing the\nsine and cosine functions are. If you’re not, we hope the next\nexamples will trigger your interest. We won’t discuss the math in\ndetail here, but we’ll show a few applications to generate fluid\nmotion.\nFigure 8-2 shows a visualization of sine wave values and how\nthey relate to angles. At the top and bottom of the wave, notice\nhow the rate of change (the change on the vertical axis) slows\ndown, stops, then switches direction. It’s this quality of the\ncurve that generates interesting motion.\nThe sin() and cos() functions in Processing return values\nbetween –1 and 1 for the sine or cosine of the specified angle.\nLike arc(), the angles must be given in radian values (see Exam-\nple 3-7 on page 18 and Example 3-8 on page 19 for a reminder of\nhow radians work). To be useful for drawing, the float values\nreturned by sin() and cos() are usually multiplied by a larger\nvalue.\nMotion 113\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 374
  },
  {
    "chunk_full": "Figure 8-2. A sine wave is created by tracing the sine values of\nan angle that moves around a circle\n114 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 375
  },
  {
    "chunk_full": "Example 8-12: Sine Wave Values\nThis example shows how values for sin() cycle from −1 to 1 as\nthe angle increases. With the map() function, the sinval variable\nis converted from this range to values from 0 and 255. This new\nvalue is used to set the background color of the window:\nfloat angle = 0.0;\nvoid draw() {\n  float sinval = sin(angle);\n  println(sinval);\n  float gray = map(sinval, -1, 1, 0, 255);\n  background(gray);\n  angle += 0.1;\n}\nExample 8-13: Sine Wave Movement\nThis example shows how these values can be converted into\nmovement:\nfloat angle = 0.0;\nfloat offset = 60;\nfloat scalar = 40;\nfloat speed = 0.05;\nvoid setup() {\n  size(240, 120);\n}\nvoid draw() {\n  background(0);\n  float y1 = offset + sin(angle) * scalar;\n  float y2 = offset + sin(angle + 0.4) * scalar;\n  float y3 = offset + sin(angle + 0.8) * scalar;\n  ellipse( 80, y1, 40, 40);\n  ellipse(120, y2, 40, 40);\nMotion 115\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 376
  },
  {
    "chunk_full": "  ellipse(160, y3, 40, 40);\n  angle += speed;\n}\nExample 8-14: Circular Motion\nWhen sin() and cos() are used together, they can produce cir-\ncular motion. The cos() values provide the x coordinates, and\nthe sin() values provide the y coordinates. Both are multiplied\nby a variable named scalar to change the radius of the move-\nment and summed with an offset value to set the center of the\ncircular motion:\nfloat angle = 0.0;\nfloat offset = 60;\nfloat scalar = 30;\nfloat speed = 0.05;\nvoid setup() {\n  size(120, 120);\n}\nvoid draw() {\n  float x = offset + cos(angle) * scalar;\n  float y = offset + sin(angle) * scalar;\n  ellipse( x, y, 40, 40);\n  angle += speed;\n}\nExample 8-15: Spirals\nA slight change made to increase the scalar value at each frame\nproduces a spiral, rather than a circle:\n116 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 377
  },
  {
    "chunk_full": "float angle = 0.0;\nfloat offset = 60;\nfloat scalar = 2;\nfloat speed = 0.05;\nvoid setup() {\n  size(120, 120);\n  fill(0);\n}\nvoid draw() {\n  float x = offset + cos(angle) * scalar;\n  float y = offset + sin(angle) * scalar;\n  ellipse( x, y, 2, 2);\n  angle += speed;\n  scalar += speed;\n}\nMotion 117\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 378
  },
  {
    "chunk_full": "Robot 6: Motion\nIn this example, the techniques for random and circular motion\nare applied to the robot. The background() was removed to\nmake it easier to see how the robot’s position and body change.\nAt each frame, a random number between –4 and 4 is added to\nthe x coordinate, and a random number between –1 and 1 is\nadded to the y coordinate. This causes the robot to move more\nfrom left to right than top to bottom. Numbers calculated from\nthe sin() function change the height of the neck so it oscillates\nbetween 50 and 110 pixels  high:\nfloat x = 180;           // x coordinate\nfloat y = 400;           // y coordinate\nfloat bodyHeight = 153;  // Body height\nfloat neckHeight = 56;   // Neck height\nfloat radius = 45;       // Head radius\nfloat angle = 0.0;       // Angle for motion\nvoid setup() {\n  size(360, 480);\n  ellipseMode(RADIUS);\n  background(0, 153, 204);  // Blue background\n}\n118 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 379
  },
  {
    "chunk_full": "void draw() {\n  // Change position by a small random amount\n  x += random(-4, 4);\n  y += random(-1, 1);\n  \n  // Change height of neck\n  neckHeight = 80 + sin(angle) * 30;\n  angle += 0.05;\n  \n  // Adjust the height of the head\n  float ny = y - bodyHeight - neckHeight - radius;\n  // Neck\n  stroke(255);\n  line(x+2, y-bodyHeight, x+2, ny); \n  line(x+12, y-bodyHeight, x+12, ny); \n  line(x+22, y-bodyHeight, x+22, ny); \n  // Antennae\n  line(x+12, ny, x-18, ny-43);\n  line(x+12, ny, x+42, ny-99);\n  line(x+12, ny, x+78, ny+15);\n  // Body\n  noStroke();\n  fill(255, 204, 0);\n  ellipse(x, y-33, 33, 33);\n  fill(0);\n  rect(x-45, y-bodyHeight, 90, bodyHeight-33);\n  fill(255, 204, 0);\n  rect(x-45, y-bodyHeight+17, 90, 6);\n  // Head\n  fill(0);\n  ellipse(x+12, ny, radius, radius); \n  fill(255);\n  ellipse(x+24, ny-6, 14, 14);\n  fill(0);\n  ellipse(x+24, ny-6, 3, 3);\n}\n \nMotion 119\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 380
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 381
  },
  {
    "chunk_full": "9/Functions\nFunctions are the basic building blocks\nfor Processing programs. They have\nappeared in every example we’ve presen-\nted. For instance, we’ve frequently used\nthe size() function, the line() function,\nand the fill() function. This chapter\nshows how to write new functions to\nextend the capabilities of Processing\nbeyond its built-in features.\nThe power of functions is modularity. Functions are independ-\nent software units that are used to build more complex pro-\ngrams—like LEGO bricks, where each type of brick serves a spe-\ncific purpose, and making a complex model requires using the\ndifferent parts together. As with functions, the true power of\nthese bricks is the ability to build many different forms from the\nsame set of elements. The same group of LEGOs that makes a\nspaceship can be reused to construct a truck, a skyscraper, and\nmany other objects.\nFunctions are helpful if you want to draw a more complex shape\nlike a tree over and over. The function to draw the tree shape\nwould be made up of Processing’s built-in fuctions, like line(),\nthat create the form. After the code to draw the tree is written,\nyou don’t need to think about the details of tree drawing again—\nyou can simply write tree() (or whatever you named the func-\ntion) to draw the shape. Functions allow a complex sequence of\nstatements to be abstracted, so you can focus on the higher-\nlevel goal (such as drawing a tree), and not the details of the\nimplementation (the line() functions that define the tree\n121\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 382
  },
  {
    "chunk_full": "shape). Once a function is defined, the code inside the function\nneed not be repeated again.\nFunction Basics\nA computer runs a program one line at a time. When a function\nis run, the computer jumps to where the function is defined and\nruns the code there, then jumps back to where it left off.\nExample 9-1: Roll the Dice\nThis behavior is illustrated with the rollDice() function written\nfor this example. When a program starts, it runs the code in\nsetup() and then stops. The program takes a detour and runs\nthe code inside rollDice() each time it appears:\nvoid setup() {\n  println(\"Ready to roll!\");\n  rollDice(20);\n  rollDice(20);\n  rollDice(6);\n  println(\"Finished.\");\n}\nvoid rollDice(int numSides) {\n  int d = 1 + int(random(numSides));\n  println(\"Rolling... \" + d);\n}\nThe two lines of code in rollDice() select a random number\nbetween 1 and the number of sides on the dice, and prints that\nnumber to the Console. Because the numbers are random,\nyou’ll see different numbers each time the program is run:\nReady to roll!\nRolling... 20\nRolling... 11\nRolling... 1\nFinished.\nEach time the rollDice() function is run inside setup(), the\ncode within the function runs from top to bottom, then the pro-\ngram continues on the next line within setup().\nThe random() function returns a number from 0 up to (but not\nincluding) the number specified. So random(6) returns a number\n122 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 383
  },
  {
    "chunk_full": "between 0 and 5.99999. . . Because random() returns a float\nvalue, we also use int() to convert it to an integer. So int(ran\ndom(6)) will return 0, 1, 2, 3, 4, or 5. Then we add 1 so that the\nnumber returned is between 1 and 6 (like a die). Like many other\ncases in this book, counting from 0 makes it easier to use the\nresults of random() with other calculations.\nExample 9-2: Another Way to Roll\nIf an equivalent program were written without the rollDice()\nfunction, it might look like this:\nvoid setup() {\n  println(\"Ready to roll!\");\n  int d1 = 1 + int(random(20));\n  println(\"Rolling... \" + d1);\n  int d2 = 1 + int(random(20));\n  println(\"Rolling... \" + d2);\n  int d3 = 1 + int(random(6));\n  println(\"Rolling... \" + d3);\n  println(\"Finished.\");\n}\nThe rollDice() function in Example 9-1 on page 122 makes the\ncode easier to read and maintain. The program is clearer,\nbecause the name of the function clearly states its purpose. In\nthis example, we see the random() function in setup(), but its\nuse is not as obvious. The number of sides on the die is also\nclearer with a function: when the code says rollDice(6), it’s\nobvious that it’s simulating the roll of a six-sided die. Also, it’s\neasier to maintain Example 9-1 on page 122, because informa-\ntion is not repeated. The phase Rolling... is repeated three\ntimes here. If you want to change that text to something else,\nyou would need to update the program in three places, rather\nthan making a single edit inside the rollDice() function. In addi-\ntion, as you’ll see in Example 9-5 on page 126, a function can\nalso make a program much shorter (and therefore easier to\nmaintain and read), which helps reduce the potential number of \nbugs.\nFunctions 123\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 384
  },
  {
    "chunk_full": "Make a Function\nIn this section, we’ll draw an owl to explain the steps involved in\nmaking a function.\nExample 9-3: Draw the Owl\nFirst, we’ll draw the owl without using a function:\nvoid setup() {\n  size(480, 120);\n}\nvoid draw() {\n  background(176, 204, 226);\n  translate(110, 110);\n  stroke(138, 138, 125);\n  strokeWeight(70);\n  line(0, -35, 0, -65); // Body\n  noStroke();\n  fill(255);\n  ellipse(-17.5, -65, 35, 35);  // Left eye dome\n  ellipse(17.5, -65, 35, 35);   // Right eye dome\n  arc(0, -65, 70, 70, 0, PI);   // Chin\n  fill(51, 51, 30);\n  ellipse(-14, -65, 8, 8);  // Left eye\n  ellipse(14, -65, 8, 8);   // Right eye\n  quad(0, -58, 4, -51, 0, -44, -4, -51);  // Beak\n}\nNotice that translate() is used to move the origin (0,0) to 110\npixels over and 110 pixels down. Then the owl is drawn relative to\n(0,0), with its coordinates sometimes positive and negative as\nit’s centered around the new 0,0 point. See Figure 9-1.\n124 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 385
  },
  {
    "chunk_full": "Figure 9-1. The owl’s coordinates\nExample 9-4: Two’s Company\nThe code presented in Example 9-3 on page 124 is reasonable if\nthere is only one owl, but when we draw a second, the length of\nthe code is nearly doubled:\nvoid setup() {\n  size(480, 120);\n}\nvoid draw() {\n  background(176, 204, 226);\n  // Left owl\n  translate(110, 110);\n  stroke(138, 138, 125);\n  strokeWeight(70);\n  line(0, -35, 0, -65); // Body\n  noStroke();\nFunctions 125\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 386
  },
  {
    "chunk_full": "  fill(255);\n  ellipse(-17.5, -65, 35, 35);  // Left eye dome\n  ellipse(17.5, -65, 35, 35);   // Right eye dome\n  arc(0, -65, 70, 70, 0, PI);   // Chin\n  fill(51, 51, 30);\n  ellipse(-14, -65, 8, 8);  // Left eye\n  ellipse(14, -65, 8, 8);   // Right eye\n  quad(0, -58, 4, -51, 0, -44, -4, -51); // Beak\n  // Right owl\n  translate(70, 0);\n  stroke(138, 138, 125);\n  strokeWeight(70);\n  line(0, -35, 0, -65); // Body\n  noStroke();\n  fill(255);\n  ellipse(-17.5, -65, 35, 35);  // Left eye dome\n  ellipse(17.5, -65, 35, 35);   // Right eye dome\n  arc(0, -65, 70, 70, 0, PI);   // Chin\n  fill(51, 51, 30);\n  ellipse(-14, -65, 8, 8);  // Left eye\n  ellipse(14, -65, 8, 8);   // Right eye\n  quad(0, -58, 4, -51, 0, -44, -4, -51); // Beak\n}\nThe program grew from 21 lines to 34: the code to draw the first\nowl was cut and pasted into the program and a translate() was\ninserted to move it 70 pixels to the right. This is a tedious and\ninefficient way to draw a second owl, not to mention the head-\nache of adding a third owl with this method. But duplicating the\ncode is unnecessary, because this is the type of situation where\na function can come to the rescue.\nExample 9-5: An Owl Function\nIn this example, a function is introduced to draw two owls with\nthe same code. If we make the code that draws the owl to the\nscreen into a new function, the code need only appear once in\nthe program:\n126 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 387
  },
  {
    "chunk_full": "void setup() {\n  size(480, 120);\n}\nvoid draw() {\n  background(176, 204, 226);\n  owl(110, 110);\n  owl(180, 110);\n}\nvoid owl(int x, int y) {\n  pushMatrix();\n  translate(x, y);\n  stroke(138, 138, 125);\n  strokeWeight(70);\n  line(0, -35, 0, -65); // Body\n  noStroke();\n  fill(255);\n  ellipse(-17.5, -65, 35, 35); // Left eye dome\n  ellipse(17.5, -65, 35, 35);  // Right eye dome\n  arc(0, -65, 70, 70, 0, PI);  // Chin\n  fill(51, 51, 30);\n  ellipse(-14, -65, 8, 8); // Left eye\n  ellipse(14, -65, 8, 8);  // Right eye\n  quad(0, -58, 4, -51, 0, -44, -4, -51); // Beak\n  popMatrix();\n}\nYou can see from the illustrations that this example and Exam-\nple 9-4 on page 125 have the same result, but this example is\nshorter, because the code to draw the owl appears only once,\ninside the aptly named owl() function. This code runs twice,\nbecause it’s called twice inside draw(). The owl is drawn in two\ndifferent locations because of the parameters passed into the\nfunction that set the x and y coordinates.\nParameters are an important part of functions, because they\nprovide flexibility. We saw another example in the rollDice()\nFunctions 127\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 388
  },
  {
    "chunk_full": "function; the single parameter named numSides made it possible\nto simulate a 6-sided die, a 20-sided die, or a die with any num-\nber of sides. This is just like many other Processing functions.\nFor instance, the parameters to the line() function make it pos-\nsible to draw a line from any pixel on screen to any other pixel.\nWithout the parameters, the function would be able to draw a\nline only from one fixed point to another.\nEach parameter has a data type (such as int or float), because\neach parameter is a variable that’s created each time the func-\ntion runs. When this example is run, the first time the owl func-\ntion is called, the value of the x parameter is 110, and y is also\n110. In the second use of the function, the value of x is 180 and y\nis again 110. Each value is passed into the function and then\nwherever the variable name appears within the function, it’s\nreplaced with the incoming value.\nMake sure the values passed into a function match the data\ntypes of the parameters. For instance, if the following appeared\ninside the setup() for this example:\nowl(110.5, 120.2);\nThis would create an error, because the data type for the x and y\nparameters is int, and the values 110.5 and 120.2 are float val-\nues.\nExample 9-6: Increasing the Surplus\nPopulation\nNow that we have a basic function to draw the owl at any loca-\ntion, we can draw many owls efficiently by placing the function\nwithin a for loop and changing the first parameter each time\nthrough the loop:\n128 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 389
  },
  {
    "chunk_full": "void setup() {\n  size(480, 120);\n}\nvoid draw() {\n  background(176, 204, 226);\n  for (int x = 35; x < width + 70; x += 70) {\n    owl(x, 110);\n  }\n}\n// Insert owl() function from Example 9-5\nIt’s possible to keep adding more and more parameters to the\nfunction to change different aspects of how the owl is drawn.\nValues could be passed in to change the owl’s color, rotation,\nscale, or the diameter of its eyes.\nExample 9-7: Owls of Different Sizes\nIn this example, we’ve added two parameters to change the gray\nvalue and size of each owl:\nvoid setup() {\n  size(480, 120);\n}\nvoid draw() {\n  background(176, 204, 226);\n  randomSeed(0);\n  for (int i = 35; i < width + 40; i += 40) {\n    int gray = int(random(0, 102));\n    float scalar = random(0.25, 1.0);\n    owl(i, 110, gray, scalar);\n  }\n}\nvoid owl(int x, int y, int g, float s) {\nFunctions 129\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 390
  },
  {
    "chunk_full": "  pushMatrix();\n  translate(x, y);\n  scale(s);  // Set the size\n  stroke(138-g, 138-g, 125-g); // Set the color value\n  strokeWeight(70);\n  line(0, -35, 0, -65); // Body\n  noStroke();\n  fill(255);\n  ellipse(-17.5, -65, 35, 35); // Left eye dome\n  ellipse(17.5, -65, 35, 35);  // Right eye dome\n  arc(0, -65, 70, 70, 0, PI);  // Chin\n  fill(51, 51, 30);\n  ellipse(-14, -65, 8, 8);  // Left eye\n  ellipse(14, -65, 8, 8);   // Right eye\n  quad(0, -58, 4, -51, 0, -44, -4, -51); // Beak\n  popMatrix();\n}\nReturn Values\nFunctions can make a calculation and then return a value to the\nmain program. We’ve already used functions of this type, includ-\ning random() and sin(). Notice that when this type of function\nappears, the return value is usually assigned to a variable:\nfloat r = random(1, 10);\nIn this case, random() returns a value between 1 and 10, which is\nthen assigned to the r variable.\nA function that returns a value is also frequently used as a\nparameter to another function. For instance:\npoint(random(width), random(height));\nIn this case, the values from random() aren’t assigned to a vari-\nable—they are passed as parameters to point() and used to\nposition the point within the window.\nExample 9-8: Return a Value\nTo make a function that returns a value, replace the keyword\nvoid with the data type that you want the function to return. In\nyour function, specify the data to be passed back with the key-\nword return. For instance, this example includes a function\n130 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 391
  },
  {
    "chunk_full": "called calculateMars() that calculates the weight of a person or\nobject on our neighboring planet:\nvoid setup() {\n  float yourWeight = 132;\n  float marsWeight = calculateMars(yourWeight);\n  println(marsWeight);\n}\nfloat calculateMars(float w) {\n  float newWeight = w * 0.38;\n  return newWeight;\n}\nNotice the data type float before the function name to show\nthat it returns a floating-point value, and the last line of the\nblock, which returns the variable newWeight. In the second line of\nsetup(), that value is assigned to the variable marsWeight. (To\nsee your own weight on Mars, change the value of the your\nWeight variable to your weight.)\nRobot 7: Functions\nIn contrast to Robot 2 (see “Robot 2: Variables” on page 47),\nthis example uses a function to draw four robot variations within\nthe same program. Because the drawRobot() function appears\nFunctions 131\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 392
  },
  {
    "chunk_full": "four times within draw(), the code within the drawRobot() block\nis run four times, each time with a different set of parameters to\nchange the position and height of the robot’s body.\nNotice how what were global variables in Robot 2 have now been\nisolated within the drawRobot() function. Because these vari-\nables apply only to drawing the robot, they belong inside the\ncurly braces that define the drawRobot() function block.\nBecause the value of the radius variable doesn’t change, it need\nnot be a parameter. Instead, it is defined at the beginning  of\ndrawRobot():\nvoid setup() {\n  size(720, 480);\n  strokeWeight(2);\n  ellipseMode(RADIUS);\n}\nvoid draw() {\n  background(0, 153, 204);\n  drawRobot(120, 420, 110, 140);\n  drawRobot(270, 460, 260, 95);\n  drawRobot(420, 310, 80, 10);\n  drawRobot(570, 390, 180, 40);\n} \nvoid drawRobot(int x, int y, int bodyHeight, int neckHeight) {\n  int radius = 45;\n  int ny = y - bodyHeight - neckHeight - radius;  // Neck y\n  // Neck\n  stroke(255);\n  line(x+2, y-bodyHeight, x+2, ny); \n  line(x+12, y-bodyHeight, x+12, ny); \n  line(x+22, y-bodyHeight, x+22, ny); \n  // Antennae\n  line(x+12, ny, x-18, ny-43);\n  line(x+12, ny, x+42, ny-99);\n  line(x+12, ny, x+78, ny+15);\n  // Body\n  noStroke();\n  fill(255, 204, 0);\n132 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 393
  },
  {
    "chunk_full": "  ellipse(x, y-33, 33, 33);\n  fill(0);\n  rect(x-45, y-bodyHeight, 90, bodyHeight-33);\n  fill(255, 204, 0);\n  rect(x-45, y-bodyHeight+17, 90, 6);\n  // Head\n  fill(0);\n  ellipse(x+12, ny, radius, radius); \n  fill(255);\n  ellipse(x+24, ny-6, 14, 14);\n  fill(0);\n  ellipse(x+24, ny-6, 3, 3);\n  fill(153, 204, 255);\n  ellipse(x, ny-8, 5, 5);\n  ellipse(x+30, ny-26, 4, 4);\n  ellipse(x+41, ny+6, 3, 3);\n}\n \nFunctions 133\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 394
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 395
  },
  {
    "chunk_full": "10/Objects\nObject-oriented programming (OOP) is a\ndifferent way to think about your pro-\ngrams. \nAlthough \nthe \nterm \n“object-\noriented \nprogramming” \nmay \nsound\nintimidating, there’s good news: you’ve\nbeen working with objects since Chap-\nter 7, when you started using PImage,\nPFont, String, and PShape. Unlike the\nprimitive data types boolean, int, and \nfloat, which can store only one value, an\nobject can store many. But that’s only a\npart of the story. Objects are also a way\nto group variables with related functions.\nBecause you already know how to work\nwith variables and functions, objects sim-\nply combine what you’ve already learned\ninto a more understandable package.\nObjects are important, because they break up ideas into smaller\nbuilding blocks. This mirrors the natural world where, for\ninstance, organs are made of tissue, tissue is made of cells, and\nso on. Similarly, as your code becomes more complicated, you\nmust think in terms of smaller structures that form more com-\nplicated ones. It’s easier to write and maintain smaller, under-\nstandable pieces of code that work together than it is to write\none large piece of code that does everything at once.\n135\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 396
  },
  {
    "chunk_full": "Fields and Methods\nA software object is a collection of related variables and func-\ntions. In the context of objects, a variable is called a field (or\ninstance variable) and a function is called a method. Fields and\nmethods work just like the variables and functions covered in\nearlier chapters, but we’ll use the new terms to emphasize that\nthey are a part of an object. To say it another way, an object\ncombines related data (fields) with related actions and behav-\niors (methods). The idea is to group together related data with\nrelated methods that act on that data.\nFor instance, to model a radio, think about what parameters can\nbe adjusted and the actions that can affect those parameters:\nFields\nvolume, frequency, band(FM, AM), power(on, off)\nMethods\nsetVolume, setFrequency, setBand\nModeling a simple mechanical device is easy compared to mod-\neling an organism like an ant or a person. It’s not possible to\nreduce such complex organisms to a few fields and methods,\nbut it is possible to model enough to create an interesting simu-\nlation. The Sims video game is a clear example. This game is\nplayed by managing the daily activities of simulated people. The\ncharacters have enough personality to make a playable, addic-\ntive game, but no more. In fact, they have only five personality\nattributes: neat, outgoing, active, playful, and nice. With the\nknowledge that it’s possible to make a highly simplified model of\ncomplex organisms, we could start programming an ant with\nonly a few fields and methods:\nFields\ntype(worker, soldier), weight, length\nMethods\nwalk, pinch, releasePheromones, eat\nIf you made a list of an ant’s fields and methods, you might\nchoose to focus on different aspects of the ant to model.\nThere’s no right way to make a model, as long as you make it\nappropriate for the purpose of your program’s  goals.\n136 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 397
  },
  {
    "chunk_full": "Define a Class\nBefore you can create an object, you must define a class. A\nclass is the specification for an object. Using an architectural\nanalogy, a class is like a blueprint for a house, and the object is\nlike the house itself. Each house made from the blueprint can\nhave variations, and the blueprint is only the specification, not a\nbuilt structure. For example, one house can be blue and the\nother red; one house might come with a fireplace and the other\nwithout. Likewise with objects, the class defines the data types\nand behaviors, but each object (house) made from a single\nclass (blueprint) has variables (color, fireplace) that are set to\ndifferent values. To use a more technical term, each object is an\ninstance of a class and each instance has its own set of fields\nand methods.\nBefore you write a class, we recommend a little planning. Think\nabout what fields and methods your class should have. Do a lit-\ntle brainstorming to imagine all the possible options and then\nprioritize and make your best guess about what will work. You’ll\nmake changes during the programming process, but it’s impor-\ntant to have a good start.\nFor your fields, select clear names and decide the data type for\neach. The fields inside a class can be any type of data. A class\ncan simultaneously hold many images, boolean, float,\nand String values, and so on. Keep in mind that one reason to\nmake a class is to group together related data elements. For\nyour methods, select clear names and decide the return values\n(if any). The methods are used to change the values of the fields\nand to perform actions based on the fields’ values.\nFor our first class, we’ll convert Example 8-9 on page 110 from\nearlier in the book. We start by making a list of the fields from\nthe example:\nfloat x\nfloat y\nint diameter\nfloat speed\nThe next step is to figure out what methods might be useful for\nthe class. In looking at the draw() function from the example\nObjects 137\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 398
  },
  {
    "chunk_full": "we’re adapting, we see two primary components. The position\nof the shape is updated and drawn to the screen. Let’s create\ntwo methods for our class, one for each task:\nvoid move()\nvoid display()\nNeither of these methods return a value, so they both have the\nreturn type void. When we next write the class based on the\nlists of fields and methods, we’ll follow four steps:\n1. Create the block.\n2. Add the fields.\n3. Write a constructor (explained shortly) to assign values to\nthe fields.\n4. Add the methods.\nFirst, we create a block:\nclass JitterBug {\n}\nNotice that the keyword class is lowercase and the name Jitter\nBug is uppercase. Naming the class with an uppercase letter\nisn’t required, but it is a convention (that we strongly encour-\nage) used to denote that it’s a class. (The keyword class, how-\never, must be lowercase because it’s a rule of the programming\nlanguage.)\nSecond, we add the fields. When we do this, we have to decide\nwhich fields will have their values assigned through a construc-\ntor, a special method used for that purpose. As a rule of thumb,\nfield values that you want to be different for each object are\npassed in through the constructor, and the other field values\ncan be defined when they are declared. For the JitterBug class,\nwe’ve decided that the values for x, y, and diameter will be\npassed in. So the fields are declared as follows:\nclass JitterBug {\n  float x;\n  float y;\n  int diameter;\n138 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 399
  },
  {
    "chunk_full": "  float speed = 0.5;\n}\nThird, we add the constructor. The constructor always has the\nsame name as the class. The purpose of the constructor is to\nassign the initial values to the fields when an object (an instance\nof the class) is created (Figure 10-1). The code inside the con-\nstructor block is run once when the object is first created. As\ndiscussed earlier, we’re passing in three parameters to the con-\nstructor when the object is initialized. Each of the values passed\nin is assigned to a temporary variable that exists only while the\ncode inside the constructor is run. To clarify this, we’ve added\nthe name temp to each of these variables, but they can be\nnamed with any terms that you prefer. They are used only to\nassign the values to the fields that are a part of the class. Also\nnote that the constructor never returns a value and therefore\ndoesn’t have void or another data type before it. After adding\nthe constructor, the class looks like this:\nclass JitterBug {\n  float x;\n  float y;\n  int diameter;\n  float speed = 0.5;\n  JitterBug(float tempX, float tempY, int tempDiameter) {\n    x = tempX;\n    y = tempY;\n    diameter = tempDiameter;\n  }\n}\nThe last step is to add the methods. This part is straightforward;\nit’s just like writing functions, but here they are contained within\nthe class. Also, note the code spacing. Every line within the\nclass is indented a few spaces to show that it’s inside the block.\nWithin the constructor and the methods, the code is spaced\nagain to clearly show the hierarchy:\nclass JitterBug {\n  float x;\n  float y;\nObjects 139\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 400
  },
  {
    "chunk_full": "  int diameter;\n  float speed = 2.5;\n  JitterBug(float tempX, float tempY, int tempDiameter) {\n    x = tempX;\n    y = tempY;\n    diameter = tempDiameter;\n  }\n  void move() {\n    x += random(-speed, speed);\n    y += random(-speed, speed);\n  }\n  void display() {\n    ellipse(x, y, diameter, diameter);\n  }\n}\n140 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 401
  },
  {
    "chunk_full": "Figure 10-1. Passing values into the constructor to set the val-\nues for an object’s fields\nObjects 141\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 402
  },
  {
    "chunk_full": "Create Objects\nNow that you have defined a class, to use it in a program you\nmust define an object from that class. There are two steps to \ncreate an object:\n1. Declare the object variable.\n2. Create (initialize) the object with the keyword new.\nExample 10-1: Make an Object\nTo make your first object, we’ll start by showing how this works\nwithin a Processing sketch and then continue by explaining each\npart in depth:\nJitterBug bug;  // Declare object\nvoid setup() {\n  size(480, 120);\n  // Create object and pass in parameters\n  bug = new JitterBug(width/2, height/2, 20);\n}\nvoid draw() {\n  bug.move();\n  bug.display();\n}\nclass JitterBug {\n  float x;\n  float y;\n  int diameter;\n  float speed = 2.5;\n  JitterBug(float tempX, float tempY, int tempDiameter) {\n142 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 403
  },
  {
    "chunk_full": "    x = tempX;\n    y = tempY;\n    diameter = tempDiameter;\n  }\n  void move() {\n    x += random(-speed, speed);\n    y += random(-speed, speed);\n  }\n  void display() {\n    ellipse(x, y, diameter, diameter);\n  }\n}\nEach class is a data type and each object is a variable. We\ndeclare object variables in a similar way to variables from primi-\ntive data types like boolean, int, and float. The object is\ndeclared by stating the data type followed by a name for the\nvariable:\nJitterBug bug;\nThe second step is to initialize the object with the keyword new.\nIt makes space for the object in memory and creates the fields.\nThe name of the constructor is written to the right of the new\nkeyword, followed by the parameters into the constructor, if any:\nJitterBug bug = new JitterBug(200.0, 250.0, 30);\nThe three numbers within the parentheses are the parameters\nthat are passed into the JitterBug class constructor. The num-\nber of these parameters and their data types must match those\nof the constructor.\nExample 10-2: Make Multiple Objects\nIn Example 10-1 on page 142, we see something else new: the\nperiod (dot) that’s used to access the object’s methods inside of\ndraw(). The dot operator is used to join the name of the object\nwith its fields and methods. This becomes clearer in this exam-\nple, where two objects are made from the same class. The\njit.move() function refers to the move() method that belongs to\nObjects 143\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 404
  },
  {
    "chunk_full": "the object named jit, and bug.move() refers to the move()\nmethod that belongs to the object named bug:\nJitterBug jit;\nJitterBug bug;\nvoid setup() {\n  size(480, 120);\n  jit = new JitterBug(width * 0.33, height/2, 50);\n  bug = new JitterBug(width * 0.66, height/2, 10);\n}\nvoid draw() {\n  jit.move();\n  jit.display();\n  bug.move();\n  bug.display();\n}\nclass JitterBug {\n  float x;\n  float y;\n  int diameter;\n  float speed = 2.5;\n  JitterBug(float tempX, float tempY, int tempDiameter) {\n    x = tempX;\n    y = tempY;\n    diameter = tempDiameter;\n  }\n  void move() {\n    x += random(-speed, speed);\n    y += random(-speed, speed);\n  }\n  void display() {\n144 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 405
  },
  {
    "chunk_full": "    ellipse(x, y, diameter, diameter);\n  }\n}\nTabs\nNow that the class exists as its own module of code, any\nchanges will modify the objects made from it. For instance, you\ncould add a field to the JitterBug class that controls the color,\nor another that determines its size. These values can be passed\nin using the constructor or assigned using additional methods,\nsuch as setColor() or setSize(). And because it’s a self-\ncontained unit, you can also use the JitterBug class in another\nsketch.\nNow is a good time to learn about the tab feature of the Pro-\ncessing Development Environment (Figure 10-2). Tabs allow you\nto spread your code across more than one file. This makes\nlonger code easier to edit and more manageable in general. A\nnew tab is usually created for each class, which reinforces the\nmodularity of working with classes and makes the code easy to\nfind.\nTo create a new tab, click the arrow at the righthand side of the\ntab bar. When you select New Tab from the menu, you will be\nprompted to name the tab within the message window. Using\nthis technique, modify this example’s code to try to make a new\ntab for the JitterBug class.\nEach tab shows up as a separate .pde file within the\nsketch’s folder.\nObjects 145\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 406
  },
  {
    "chunk_full": "Figure 10-2. Code can be split into different tabs to make it eas-\nier to manage\n146 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 407
  },
  {
    "chunk_full": "Robot 8: Objects\nA software object combines methods (functions) and fields\n(variables) into one unit. The Robot class in this example defines\nall of the robot objects that will be created from it. Each Robot\nobject has its own set of fields to store a position and the illus-\ntration that will draw to the screen. Each has methods to update\nthe position and display the illustration.\nThe parameters for bot1 and bot2 in setup() define the x and y\ncoordinates and the .svg file that will be used to depict the\nrobot. The tempX and tempY parameters are passed into the con-\nstructor and assigned to the xpos and ypos fields. The svgName\nparameter is used to load the related illustration. The objects\n(bot1 and bot2) draw at their own location and with a different\nillustration because they each have unique values passed into\nthe objects through  their constructors:\nRobot bot1;\nRobot bot2;\nvoid setup() {\n  size(720, 480);\n  bot1 = new Robot(\"robot1.svg\", 90, 80);\n  bot2 = new Robot(\"robot2.svg\", 440, 30);\nObjects 147\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 408
  },
  {
    "chunk_full": "}\nvoid draw() {\n  background(0, 153, 204);\n  // Update and display first robot\n  bot1.update();\n  bot1.display();\n  // Update and display second robot\n  bot2.update();\n  bot2.display();\n}\nclass Robot {\n  float xpos;\n  float ypos;\n  float angle;\n  PShape botShape;\n  float yoffset = 0.0;\n  // Set initial values in constructor\n  Robot(String svgName, float tempX, float tempY) {\n    botShape = loadShape(svgName);\n    xpos = tempX;\n    ypos = tempY;\n    angle = random(0, TWO_PI);\n  }\n  // Update the fields\n  void update() {\n    angle += 0.05;\n    yoffset = sin(angle) * 20;\n  }\n  // Draw the robot to the screen\n  void display() {\n    shape(botShape, xpos, ypos + yoffset);\n  }\n}\n \n148 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 409
  },
  {
    "chunk_full": "11/Arrays\nAn array is a list of variables that share a\ncommon \nname. \nArrays \nare \nuseful\nbecause they make it possible to work\nwith more variables without creating a\nnew name for each. This makes the code\nshorter, easier to read, and more conve-\nnient to update.\nFrom Variables to Arrays\nWhen a program needs to keep track of one or two things, it’s\nnot necessary to use an array. In fact, adding an array might\nmake the program more complicated than necessary. How-\never, when a program has many elements (for example, a field\nof stars in a space game or multiple data points in a visualiza-\ntion), arrays make the code easier to write. \nExample 11-1: Many Variables\nTo see what we mean, refer to Example 8-3 on page 104. This\ncode works fine if we’re moving around only one shape, but\nwhat if we want to have two? We need to make a new x variable\nand update it within draw():\n149\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 410
  },
  {
    "chunk_full": "float x1 = -20;\nfloat x2 = 20;\nvoid setup() {\n  size(240, 120);\n  noStroke();\n}\nvoid draw() {\n  background(0);\n  x1 += 0.5;\n  x2 += 0.5;\n  arc(x1, 30, 40, 40, 0.52, 5.76);\n  arc(x2, 90, 40, 40, 0.52, 5.76);\n}\nExample 11-2: Too Many Variables\nThe code for the previous example is still manageable, but what\nif we want to have five circles? We need to add three more vari-\nables to the two we already have:\nfloat x1 = -10;\nfloat x2 = 10;\nfloat x3 = 35;\nfloat x4 = 18;\nfloat x5 = 30;\nvoid setup() {\n  size(240, 120);\n  noStroke();\n}\nvoid draw() {\n  background(0);\n  x1 += 0.5;\n  x2 += 0.5;\n  x3 += 0.5;\n150 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 411
  },
  {
    "chunk_full": "  x4 += 0.5;\n  x5 += 0.5;\n  arc(x1, 20, 20, 20, 0.52, 5.76);\n  arc(x2, 40, 20, 20, 0.52, 5.76);\n  arc(x3, 60, 20, 20, 0.52, 5.76);\n  arc(x4, 80, 20, 20, 0.52, 5.76);\n  arc(x5, 100, 20, 20, 0.52, 5.76);\n}\nThis code is starting to get out of control.\nExample 11-3: Arrays, Not Variables\nImagine what would happen if you wanted to have 3,000 circles.\nThis would mean creating 3,000 individual variables, then\nupdating each one separately. Could you keep track of that\nmany variables? Would you want to? Instead, we use an array:\nfloat[] x = new float[3000];\nvoid setup() {\n  size(240, 120);\n  noStroke();\n  fill(255, 200);\n  for (int i = 0; i < x.length; i++) {\n    x[i] = random(-1000, 200);\n  }\n}\nvoid draw() {\n  background(0);\n  for (int i = 0; i < x.length; i++) {\n    x[i] += 0.5;\n    float y = i * 0.4;\n    arc(x[i], y, 12, 12, 0.52, 5.76);\n  }\n}\nArrays 151\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 412
  },
  {
    "chunk_full": "We’ll spend the rest of this chapter talking about the details that\nmake this example possible.\nMake an Array\nEach item in an array is called an element, and each has an \nindex value to mark its position within the array. Just like coordi-\nnates on the screen, index values for an array start counting\nfrom 0. For instance, the first element in the array has the index\nvalue 0, the second element in the array has the index value 1,\nand so on. If there are 20 values in the array, the index value of\nthe last element is 19. Figure 11-1 shows the conceptual struc-\nture of an array.\nFigure 11-1. An array is a list of one or more variables that share\nthe same name\nUsing arrays is similar to working with single variables; it follows\nthe same patterns. As you know, you can make a single integer\nvariable called x with this code:\nint x;\nTo make an array, just place brackets after the data type:\nint[] x;\nThe beauty of creating an array is the ability to make 2, 10, or\n100,000 variable values with only one line of code. For instance,\nthe following line creates an array of 2,000 integer variables:\nint[] x = new int[2000];\nYou can make arrays from all Processing data types: boolean,\nfloat, String, PShape, and so on, as well as any user-defined\nclass. For example, the following code creates an array of 32\nPImage variables:\n152 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 413
  },
  {
    "chunk_full": "PImage[] images = new PImage[32];\nTo make an array, start with the name of the data type, followed\nby the brackets. The name you select for the array is next, fol-\nlowed by the assignment operator (the equal symbol), followed\nby the new keyword, followed by the name of the data type again,\nwith the number of elements to create within the brackets. This\npattern works for arrays of all data types.\nEach array can store only one type of data (boolean,\nint, float, PImage, etc.). You can’t mix and match dif-\nferent types of data within a single array. If you need\nto do this, work with objects instead.\nBefore we get ahead of ourselves, let’s slow down and talk about\nworking with arrays in more detail. Like making an object, there\nare three steps to working with an array:\n1. Declare the array and define the data type.\n2. Create the array with the keyword new and define the length.\n3. Assign values to each element.\nEach step can happen on its own line, or all the steps can be\ncompressed together. Each of the three following examples\nshows a different technique to create an array called x that\nstores two integers, 12 and 2. Pay close attention to what hap-\npens before setup() and what happens within setup().\nExample 11-4: Declare and Assign an\nArray\nFirst, we’ll declare the array outside of setup() and then create\nand assign the values within. The syntax x[0] refers to the first\nelement in the array and x[1] is the second:\nint[] x;            // Declare the array\nvoid setup() {\n  size(200, 200);\n  x = new int[2];   // Create the array\nArrays 153\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 414
  },
  {
    "chunk_full": "  x[0] = 12;        // Assign the first value\n  x[1] = 2;         // Assign the second value\n}\nExample 11-5: Compact Array\nAssignment\nHere’s a slightly more compact example, in which the array is\nboth declared and created on the same line, then the values are\nassigned within setup():\nint[] x = new int[2];  // Declare and create the array\nvoid setup() {\n  size(200, 200);\n  x[0] = 12;           // Assign the first value\n  x[1] = 2;            // Assign the second value\n}\nExample 11-6: Assigning to an Array\nin One Go\nYou can also assign values to the array when it’s created, if it’s\nall part of a single statement:\nint[] x = { 12, 2 };  // Declare, create, and assign\nvoid setup() {\n  size(200, 200);\n}\nAvoid creating arrays within draw(), because creat-\ning a new array on every frame will slow down your\nframe rate.\nExample 11-7: Revisiting the First\nExample\nAs a complete example of how to use arrays, we’ve recoded\nExample 11-1 on page 149 here. Although we don’t yet see the\nfull benefits revealed in Example 11-3 on page 151, we do see\nsome important details of how arrays work:\n154 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 415
  },
  {
    "chunk_full": "float[] x = {-20, 20};\nvoid setup() {\n  size(240, 120);\n  noStroke();\n}\nvoid draw() {\n  background(0);\n  x[0] += 0.5;  // Increase the first element\n  x[1] += 0.5;  // Increase the second element\n  arc(x[0], 30, 40, 40, 0.52, 5.76);\n  arc(x[1], 90, 40, 40, 0.52, 5.76);\n}\nRepetition and Arrays\nThe for loop, introduced in “Repetition” on page 40, makes it\neasier to work with large arrays while keeping the code concise.\nThe idea is to write a loop to move through each element of the\narray one by one. To do this, you need to know the length of the\narray. The length field associated with each array stores the\nnumber of elements. We use the name of the array with the dot\noperator (a period) to access this value. For instance:\nint[] x = new int[2];     // Declare and create the array\nprintln(x.length);        // Prints 2 to the Console\nint[] y = new int[1972];  // Declare and create the array\nprintln(y.length);        // Prints 1972 to the Console\nExample 11-8: Filling an Array in a\nfor Loop\nA for loop can be used to fill an array with values, or to read the\nvalues back out. In this example, the array is first filled with ran-\ndom numbers inside setup(), and then these numbers are used\nto set the stroke value inside draw(). Each time the program is\nrun, a new set of random numbers is put into the array:\nArrays 155\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 416
  },
  {
    "chunk_full": "float[] gray;\nvoid setup() {\n  size(240, 120);\n  gray = new float[width];\n  for (int i = 0; i < gray.length; i++) {\n    gray[i] = random(0, 255);\n }\n}\nvoid draw() {\n  for (int i = 0; i < gray.length; i++) {\n    stroke(gray[i]);\n    line(i, 0, i, height);\n  }\n}\nExample 11-9: Track Mouse\nMovements\nIn this example, there are two arrays to store the position of the\nmouse—one for the x coordinate and one for the y coordinate.\nThese arrays store the location of the mouse for the previous 60\nframes. With each new frame, the oldest x and y coordinate val-\nues are removed and replaced with the current mouseX and\nmouseY values. The new values are added to the first position of\nthe array, but before this happens, each value in the array is\nmoved one position to the right (from back to front) to make\nroom for the new numbers. This example visualizes this action.\nAlso, at each frame, all 60 coordinates are used to draw a series\nof ellipses to the screen:\n156 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 417
  },
  {
    "chunk_full": "int num = 60;\nint[] x = new int[num];\nint[] y = new int[num];\nvoid setup() {\n  size(240, 120);\n  noStroke();\n}\nvoid draw() {\n  background(0);\n  // Copy array values from back to front\n  for (int i = x.length-1; i > 0; i--) {\n    x[i] = x[i-1];\n    y[i] = y[i-1];\n  }\n  x[0] = mouseX;  // Set the first element\n  y[0] = mouseY;  // Set the first element\n  for (int i = 0; i < x.length; i++) {\n    fill(i * 4);\n    ellipse(x[i], y[i], 40, 40);\n  }\n}\nThe technique for storing a shifting buffer of num-\nbers in an array shown in this example and\nFigure 11-2 is less efficient than an alternative techni-\nque that uses the % (modulo) operator. This is\nexplained in the Examples → Basics → Input →\nStoringInput example included with Processing.\nArrays 157\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 418
  },
  {
    "chunk_full": "Figure 11-2. Shifting the values in an array one place to the right\nArrays of Objects\nThe two short examples in this section bring together every\nmajor programming concept in this book: variables, iteration,\nconditionals, functions, objects, and arrays. Making an array of\nobjects is nearly the same as making the arrays we introduced\non the previous pages, but there’s one additional consideration:\nbecause each array element is an object, it must first be created\nwith the keyword new (like any other object) before it is assigned\nto the array. With a custom-defined class such as JitterBug\n(see Chapter 10), this means using new to set up each element\nbefore it’s assigned to the array. Or, for a built-in Processing\n158 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 419
  },
  {
    "chunk_full": "class such as PImage, it means using the loadImage() function\nto create the object before it’s assigned.\nExample 11-10: Managing Many\nObjects\nThis example creates an array of 33 JitterBug objects and then\nupdates and displays each one inside draw(). For this example\nto work, you need to add the JitterBug class to the code:\nJitterBug[] bugs = new JitterBug[33];\nvoid setup() {\n  size(240, 120);\n  for (int i = 0; i < bugs.length; i++) {\n    float x = random(width);\n    float y = random(height);\n    int r = i + 2;\n    bugs[i] = new JitterBug(x, y, r);\n  }\n}\nvoid draw() {\n  for (int i = 0; i < bugs.length; i++) {\n    bugs[i].move();\n    bugs[i].display();\n  }\n}\n// Insert JitterBug class from Example 10-1\nExample 11-11: A New Way to\nManage Objects\nWhen working with arrays of objects, there’s a different kind of\nloop to use called an “enhanced” for loop. Instead of creating a\nArrays 159\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 420
  },
  {
    "chunk_full": "new counter variable, such as the i variable in Example 11-10 on\npage 159, it’s possible to iterate over the elements of an array or\nlist directly. In the following example, each object in the bugs\narray of JitterBug objects is assigned to b in order to run the\nmove() and display() methods for all objects in the array.\nThe enhanced for loop is often tidier than looping with a num-\nber, although in this example, we didn’t use it inside setup()\nbecause i was needed in two places inside the loop, demon-\nstrating how sometimes it’s helpful to have the number around:\nJitterBug[] bugs = new JitterBug[33];\nvoid setup() {\n  size(240, 120);\n  for (int i = 0; i < bugs.length; i++) {\n    float x = random(width);\n    float y = random(height);\n    int r = i + 2;\n    bugs[i] = new JitterBug(x, y, r);\n  }\n}\nvoid draw() {\n  for (JitterBug b : bugs) {\n    b.move();\n    b.display();\n  }\n}\n// Insert JitterBug class from Example 10-1\nThe final array example loads a sequence of images and stores\neach as an element within an array of PImage objects.\nExample 11-12: Sequences of Images\nTo run this example, get the images from the media.zip file as\ndescribed in Chapter 7. The images are named sequentially\n(frame-0000.png, frame-0001.png, and so forth), which makes\nit possible to create the name of each file within a for loop, as\nseen in the eighth line of the program:\n160 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 421
  },
  {
    "chunk_full": "int numFrames = 12;  // The number of frames\nPImage[] images = new PImage[numFrames];  // Make the array\nint currentFrame = 0;\nvoid setup() {\n  size(240, 120);\n  for (int i = 0; i < images.length; i++) {\n    String imageName = \"frame-\" + nf(i, 4) + \".png\";\n    images[i] = loadImage(imageName);  // Load each image\n  }\n  frameRate(24);\n}\nvoid draw() {\n  image(images[currentFrame], 0, 0);\n  currentFrame++;      // Next frame\n  if (currentFrame >= images.length) {\n    currentFrame = 0;  // Return to first frame\n  }\n}\nThe nf() function formats numbers so that nf(1, 4) returns the\nstring “0001” and nf(11, 4) returns “0011”. These values are\nconcatenated with the beginning of the filename (frame-) and\nthe end (.png) to create the complete filename as a String vari-\nable. The files are loaded into the array on the following line. The\nimages are displayed to the screen one at a time in draw().\nWhen the last image in the array is displayed, the program\nreturns to the beginning of the array and shows the images\nagain in sequence.\nArrays 161\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 422
  },
  {
    "chunk_full": "Robot 9: Arrays\nArrays make it easier for a program to work with many ele-\nments. In this example, an array of Robot objects is declared at\nthe top. The array is then allocated inside setup(), and each\nRobot object is created inside the for loop. In draw(), another\nfor loop is used to update and display each element of the bots\narray.\nThe for loop and an array make a powerful combination. Notice\nthe subtle differences between the code for this example and\nRobot 8 (see “Robot 8: Objects” on page 147) in contrast to the\nextreme changes in the visual result. Once an array is created\nand a for loop is put in place, it’s as easy to work with 3 ele-\nments as it is 3,000.\nThe decision to load the SVG file within setup() rather than in\nthe Robot class is the major change from Robot 8. This choice\nwas made so the file is loaded only once, rather than as many\ntimes as there are elements in the array (in this case, 20 times).\nThis change makes the code start faster because loading a file\ntakes time, and it uses less memory because the file is stored\nonce. Each element of the bot array references the same file:\n162 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 423
  },
  {
    "chunk_full": "Robot[] bots;  // Declare array of Robot objects\nvoid setup() {\n  size(720, 480);\n  PShape robotShape = loadShape(\"robot2.svg\");\n  // Create the array of Robot objects\n  bots = new Robot[20];  \n  // Create each object\n  for (int i = 0; i < bots.length; i++) {\n    // Create a random x coordinate\n    float x = random(-40, width-40);\n    // Assign the y coordinate based on the order\n    float y = map(i, 0, bots.length, -100, height-200);\n    bots[i] = new Robot(robotShape, x, y);\n  }\n}\nvoid draw() {\n  background(0, 153, 204);\n  // Update and display each bot in the array\n  for (int i = 0; i < bots.length; i++) {\n    bots[i].update();\n    bots[i].display();\n  }\n}\nclass Robot {\n  float xpos;\n  float ypos;\n  float angle;\n  PShape botShape;\n  float yoffset = 0.0;\n  // Set initial values in constructor\n  Robot(PShape shape, float tempX, float tempY) {\n    botShape = shape;\n    xpos = tempX;\n    ypos = tempY;\n    angle = random(0, TWO_PI);\n  }\n  // Update the fields\n  void update() {\n    angle += 0.05;\n    yoffset = sin(angle) * 20;\n  }\nArrays 163\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 424
  },
  {
    "chunk_full": "  // Draw the robot to the screen\n  void display() {\n    shape(botShape, xpos, ypos + yoffset);\n  }\n}\n \n164 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 425
  },
  {
    "chunk_full": "12/Data\nData visualization is one of the most\nactive areas at the intersection of code\nand graphics and is also among the most\npopular uses of Processing. This chapter\nbuilds on what’s already been discussed\nabout storing and loading data earlier in\nthe book and introduces more features\nrelevant to data sets that can be used for\nvisualization.\nThere’s a wide range of software that can output standard visu-\nalizations like bar charts and scatter plots. However, writing\ncode to create these visualizations from scratch provides more\ncontrol over the output and encourages users to imagine,\nexplore, and create more unique representations of data. For us,\nthis is the point of learning to code using software like Process-\ning, and we find it far more interesting than being limited by the\nprepackaged methods or tools that are available.\nData Summary\nIt’s a good time to rewind and discuss how data was introduced\nthroughout this book. A variable in a Processing sketch is used\nto store a piece of data. We started with primitives. In this case,\nthe word primitive means a single piece of data. For instance, an\nint stores one whole number and cannot store more than one.\nThe idea of data types is essential. Each kind of data is unique\nand is stored in a different way. Floating-point numbers (num-\nbers with decimals), integers (no decimals), and alphanumeric\nsymbols (letters and numbers) all have different types of data to\nstore that kind of information like float, int, and char.\n165\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 426
  },
  {
    "chunk_full": "An array is created to store a list of elements within a single vari-\nable name. For instance, Example 11-8 on page 155 stores hun-\ndreds of floating-point numbers that are used to set the stroke\nvalue of lines. Arrays can be created from any primitive data\ntype, but they are restricted to storing a single type of data. The\nway to store more than one data type within a single data struc-\nture is to create a class.\nThe String, PImage, PFont, and PShape classes store more than\none data element and each is unique. For instance, a String can\nstore more than one character, a word, sentence, paragraph, or\nmore. In addition, it has methods to get the length of the data or\nreturn upper- or lowercase versions of it. As another example, a\nPImage has an array called pixels and variables that store the\nwidth and the height of the image.\nObjects created from the String, PImage, and PShape classes can\nbe defined within the code, but they can also be loaded from a\nfile within a sketch’s data folder. The examples in this chapter\nwill also load data into sketches, but they utilize new classes\nthat store data in different ways.\nThe Table class is introduced for storing data in a table of rows\nand columns. The JSONObject and JSONArray classes are intro-\nduced to store data loaded in through files that use the JSON\nformat. The file formats for Table, JSONObject, and JSONArray are\ndiscussed in more detail in the following section.\nThe XML data format is another native data format for Process-\ning and it’s documented in the Processing Reference, but it’s not\ncovered in this text.\nTables\nMany data sets are stored as rows and columns, so Processing\nincludes a Table class to make it easier to work with tables. If\nyou have worked with spreadsheets, you have a head start in\nworking with tables in code. Processing can read a table from a\nfile, or create a new one directly in code. It’s also possible to\nread and write to any row or column and modify individual cells\nwithin the table. In this chapter, we will focus on working with\ntable data.\n166 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 427
  },
  {
    "chunk_full": "Figure 12-1. Tables are grids of cells. Rows are the horizontal\nelements and columns are vertical. Data can be read from indi-\nvidual cells, rows, and columns.\nTable data is often stored in plain-text files with columns using\ncommas or the tab character. A comma-separated values file is\nabbreviated as CSV and uses the file extension .csv. When tabs\nare used, the extension .tsv is sometimes used.\nTo load a CSV or TSV file, first place it into a sketch’s data folder\nas described at the beginning of Chapter 7, and then use the\nloadTable() function to get the data and place it into an object\nmade from the Table class.\nOnly the first few lines of each data set are shown in\nthe following examples. If you’re manually typing the\ncode, you’ll need the entire .csv, .json, or .tsv file to\nreplicate the visualizations shown in the figures. You\ncan get them from an example sketch’s data folder\n(see “Examples and Reference” on page 11).\nThe data for the next example is a simplified version of Boston\nRed Sox player David Ortiz’s batting statistics from 1997 to\n2014. From left to right, it lists the year, number of home runs,\nruns batted in (RBIs), and batting average. When opened in a\ntext editor, the first five lines of the file looks like this:\n1997,1,6,0.327\n1998,9,46,0.277\n1999,0,0,0\nData 167\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 428
  },
  {
    "chunk_full": "2000,10,63,0.282\n2001,18,48,0.234\nExample 12-1: Read the Table\nIn order to load this data into Processing, an object from\nthe Table class is created. The object in this example is called\nstats. The loadTable() function loads the ortiz.csv file from the\ndata folder in the sketchbook. From there, the for loop reads\nthrough each table row in sequence. It gets the data from the\ntable and saves it into int and float variables. The getRow\nCount() method is used to count the number of rows in the data\nfile. Because this data is Ortiz’s statistics from 1997 to 2014,\nthere are 18 rows of data to read:\nTable stats;\nvoid setup() {\n  stats = loadTable(\"ortiz.csv\");\n  for (int i = 0; i < stats.getRowCount(); i++) {\n    // Gets an integer from row i, column 0 in the file\n    int year = stats.getInt(i, 0);\n    // Gets the integer from row i, column 1\n    int homeRuns = stats.getInt(i, 1);   \n    int rbi = stats.getInt(i, 2); \n    // Read a number that includes decimal points\n    float average = stats.getFloat(i, 3); \n    println(year, homeRuns, rbi, average);\n  }\n}\nInside the for loop, the getInt() and getFloat() methods are\nused to grab the data from the table. It’s important to use the\ngetInt() method to read integer data and likewise to use get\nFloat() for floating-point variables. Both of these methods have\ntwo parameters, the first is the row to read from and the second\nis the column.\nExample 12-2: Draw the Table\nThe next example builds on the last. It creates an array called\nhomeRuns to store data after it is loaded inside setup() and the\ndata from that array is used within draw(). The length of\n168 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 429
  },
  {
    "chunk_full": "homeRuns is used three times with the code homeRuns.length,  to\ncount the number of  for loop iterations. \nhomeRuns is used first in setup() to define how many times to get\nan integer from the table data. Second, it is used to place a ver-\ntical mark on the graph for each data item in the array. Third, it\nis used to read each element of the array one by one and to stop\nreading from the array at the end. After the data is loaded inside\nsetup() and read into the array, the rest of this program applies\nwhat was learned in Chapter 11.\nThis example is the visualization of a simplified version of Bos-\nton Red Sox player David Ortiz’s batting statistics from 1997 to\n2014 drawn from a table:\nint[] homeRuns;\nvoid setup() {\n  size(480, 120);\n  Table stats = loadTable(\"ortiz.csv\");\n  int rowCount = stats.getRowCount();\n  homeRuns = new int[rowCount];\n  for (int i = 0; i < homeRuns.length; i++) {\n    homeRuns[i] = stats.getInt(i, 1);   \n  }\n}\nvoid draw() {\n  background(204);\n  // Draw background grid for data\n  stroke(255);\n  line(20, 100, 20, 20);\n  line(20, 100, 460, 100);\n  for (int i = 0; i < homeRuns.length; i++) {\n    float x = map(i, 0, homeRuns.length-1, 20, 460);\n    line(x, 20, x, 100);\n  }\n  // Draw lines based on home run data\nData 169\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 430
  },
  {
    "chunk_full": "  noFill();\n  stroke(204, 51, 0);\n  beginShape();\n  for (int i = 0; i < homeRuns.length; i++) {\n    float x = map(i, 0, homeRuns.length-1, 20, 460);\n    float y = map(homeRuns[i], 0, 60, 100, 20);\n    vertex(x, y);\n  }\n  endShape();\n}\nThis example is so minimal that it’s not necessary to store this\ndata in arrays, but the idea can be applied to more complex\nexamples you might want to make in the future. In addition, you\ncan see how this example could be enhanced with more infor-\nmation—for instance, information on the vertical axis to state\nthe number of home runs and on the horizontal to define the\nyear.\nExample 12-3: 29,740 Cities\nTo get a better idea about the potential of working with data\ntables, the next example uses a larger data set and introduces a\nconvenient feature. This table data is different because the first\nrow, the first line in the file, is a header. The header defines a\nlabel for each column to clarify the context. This is the first five\nlines of our new data file called cities.csv:\nzip,state,city,lat,lng\n35004,AL,Acmar,33.584132,-86.51557\n35005,AL,Adamsville,33.588437,-86.959727\n35006,AL,Adger,33.434277,-87.167455\n35007,AL,Keystone,33.236868,-86.812861\nThe header makes it easier to read the code—for example, the\nsecond line of the file states the zip code of Acmar, Alabama, is\n35004 and defines the latitude of the city as 33.584132 and the\nlongitude as -86.51557. In total, the file is 29,741 lines long and it\ndefines the location and zip codes of 29,740 cities in the United\nStates.\nThe next example loads this data within setup() and then draws\nit to the screen in a for loop within draw(). The setXY() function\nconverts the latitude and longitude data from the file into a\npoint on the screen:\n170 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 431
  },
  {
    "chunk_full": "Table cities;\nvoid setup() {\n  size(240, 120);\n  cities = loadTable(\"cities.csv\", \"header\");\n  stroke(255);\n}\nvoid draw() {\n  background(0, 26, 51);\n  float xoffset = map(mouseX, 0, width, -width*3, -width);\n  translate(xoffset, -300);\n  scale(10);\n  strokeWeight(0.1);\n  for (int i = 0; i < cities.getRowCount(); i++) {\n    float latitude = cities.getFloat(i, \"lat\");\n    float longitude = cities.getFloat(i, \"lng\");\n    setXY(latitude, longitude);\n  }\n}\nvoid setXY(float lat, float lng) {\n  float x = map(lng, -180, 180, 0, width);\n  float y = map(lat, 90, -90, 0, height); \n  point(x, y);\n}\nWithin setup(), notice a second parameter \"header\"\nis added to loadTable(). If this is not done, the code\nwill treat the first line of the CSV file as data and not\nas the title of each column.\nThe Table class has dozens of methods for features like adding\nand removing columns and rows, getting a list of unique entries\nin a column, or sorting the table. A more complete list of\nData 171\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 432
  },
  {
    "chunk_full": "methods along with short examples is included in the Process-\ning Reference.\nJSON\nThe JSON (JavaScript Object Notation) format is another com-\nmon system for storing data. Like HTML and XML formats, the\nelements have labels associated with them. For instance, the\ndata for a film could include labels for the title, director, release\nyear, rating, and more.\nThese labels will be paired with the data like this:\n\"title\": \"Alphaville\"\n\"director\": \"Jean-Luc Godard\"\n\"year\": 1964\n\"rating\": 7.2\nTo work as a JSON file, the film labels need a little more punctu-\nation to separate the elements. Commas are used between\neach data pair and braces enclose it. The data defined within\nthe curly braces is a JSON object.\nWith these changes, our valid JSON data file looks like this:\n{\n  \"title\": \"Alphaville\",\n  \"director\": \"Jean-Luc Godard\",\n  \"year\": 1964,\n  \"rating\": 7.2\n}\nThere’s another interesting detail in this short JSON sample\nrelated to data types: you’ll notice that the title and director\ndata is contained within quotes to mark them as String data\nand the year and rating are without quotes to define them as\nnumbers. Specifically, the year is an integer and the rating is a\nfloating-point number. This distinction becomes important after\nthe data is loaded into a sketch.\nTo add another film to the list, a set of brackets placed at the top\nand bottom are used to signify that the data is an array of JSON\nobjects. Each object is separated by a comma.\nPutting it together looks like this:\n172 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 433
  },
  {
    "chunk_full": "[\n  {\n    \"title\": \"Alphaville\",\n    \"director\": \"Jean-Luc Godard\",\n    \"year\": 1964,\n    \"rating\": 7.2\n  },\n  {\n    \"title\": \"Pierrot le Fou\",\n    \"director\": \"Jean-Luc Godard\",\n    \"year\": 1965,\n    \"rating\": 7.7\n  }\n]\nThis pattern can be repeated to include more films. At this\npoint, it’s interesting to compare this JSON notation to the cor-\nresponding table representation of the same data.\nAs a CSV file, the data looks like this:\ntitle, director, year, rating\nAlphaville, Jean-Luc Godard, 1964, 9.1\nPierrot le Fou, Jean-Luc Godard, 1965, 7.7\nNotice that the CSV notation has fewer characters, which can\nbe important when working with massive data sets. On the\nother hand, the JSON version is often easier to read because\neach piece of data is labeled.\nNow that the basics of JSON and its relation to a Table has been\nintroduced, let’s look at the code needed to read a JSON file into\na Processing sketch.\nExample 12-4: Read a JSON File\nThis sketch loads the JSON file seen at the beginning of this\nsection, the file that includes only the data for the single film\nAlphaville:\nJSONObject film;\nvoid setup() {\n  film = loadJSONObject(\"film.json\");\n  String title = film.getString(\"title\");\n  String dir = film.getString(\"director\");\n  int year = film.getInt(\"year\");\nData 173\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 434
  },
  {
    "chunk_full": "  float rating = film.getFloat(\"rating\");\n  println(title + \" by \" + dir + \", \" + year);\n  println(\"Rating: \" + rating);\n}\nThe JSONObject class is used to create a code object to store the\ndata. Once that data is loaded, each individual piece of data can\nbe read in sequence or by requesting the data related to each\nlabel. Notice that different data types are requested by the\nname of the data type. The getString() method is used for the\nname of the film and the getInt() method is used for the\nrelease year.\nExample 12-5: Visualize Data from a\nJSON File\nTo work with the JSON file that includes more than one film, we\nneed to introduce a new class, the JSONArray. Here, the data file\nstarted in the previous example has been updated to include all\nof the director’s films from 1960–1966. The name of each film is\nplaced in order on screen according to the release year and\nassigned a gray value based on the rating value.\nThere are several differences between this example and Exam-\nple 12-4 on page 173. The most important is the way the JSON\nfile is loaded into Film objects. The JSON file is loaded within\nsetup() and each JSONObject that represents a single film is\npassed into the constructor of the Film class. The constructor\nassigns the JSONObject data to String, float, and int fields\ninside each Film object. The Film class also has a method to\ndisplay the name of the film:\nFilm[] films;\nvoid setup() {\n  size(480, 120);\n174 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 435
  },
  {
    "chunk_full": "  JSONArray filmArray = loadJSONArray(\"films.json\");\n  films = new Film[filmArray.size()];\n  for (int i = 0; i < films.length; i++) {\n    JSONObject o = filmArray.getJSONObject(i); \n    films[i] = new Film(o);\n  }\n}\nvoid draw() {\n  background(0);\n  for (int i = 0; i < films.length; i++) {\n    int x = i*32 + 32;\n    films[i].display(x, 105); \n  }\n}\nclass Film {\n  String title;\n  String director;\n  int year;\n  float rating;\n  \n  Film(JSONObject f) {\n    title = f.getString(\"title\");\n    director = f.getString(\"director\");\n    year = f.getInt(\"year\");\n    rating = f.getFloat(\"rating\");\n  }\n  \n  void display(int x, int y) {\n    float ratingGray = map(rating, 6.5, 8.1, 102, 255);\n    pushMatrix();\n    translate(x, y);\n    rotate(-QUARTER_PI);\n    fill(ratingGray);\n    text(title, 0, 0);\n    popMatrix();\n  }\n}\nThis example is bare bones in its visualization of the film data. It\nshows how to load the data and how to draw based on those\ndata values, but it’s your challenge to format it to accentuate\nwhat you find interesting about the data. For example, is it more\ninteresting to show the number of films Godard made each\nyear? Is it more interesting to compare and contrast this data\nData 175\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 436
  },
  {
    "chunk_full": "with the films of another director? Will all of this be easier to\nread with a different font, sketch size, or aspect ratio? The skills\nintroduced in the earlier chapters in this book can be applied to\nbring this sketch to the next step of refinement.\nNetwork Data and APIs\nPublic access to massive quantities of data collected by govern-\nments, corporations, organizations, and individuals is changing\nour culture, from the way we socialize to how we think about\nintangible ideas like privacy. This data is most often accessed\nthrough software structures called APIs.\nThe acronym API is mysterious and its meaning—application\nprogramming interface—isn’t much clearer. However, APIs are\nessential for working with data and they aren’t necessarily diffi-\ncult to understand. Essentially, they are requests for data made\nto a service. When data sets are huge, it’s not practical or\ndesired to copy the entirety of the data; an API allows a pro-\ngrammer to request only the trickle of data that is relevant from\na massive sea.\nThis concept can be more clearly illustrated with a hypothetical\nexample. Let’s assume there’s an organization that maintains a\ndatabase of temperature ranges for every city within a country.\nThe API for this data set allows a programmer to request the\nhigh and low temperatures for any city during the month of\nOctober in 1972. In order to access this data, the request must\nbe made through a specific line or lines of code, in the format\nmandated by the data service. \nSome APIs are entirely public, but many require authentication,\nwhich is typically a unique user ID or key so the data service can\nkeep track of its users. Most APIs have rules about how many, or\nhow frequently requests can be made. For instance, it might be\npossible to make only 1,000 requests per month, or no more\nthan one request per second.\nProcessing can request data over the Internet when the com-\nputer running the program is online. CSV, TSV, JSON, and XML\nfiles can be loaded using the corresponding load function with a\n176 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 437
  },
  {
    "chunk_full": "URL as the parameter. For instance, the current weather in Cin-\ncinnati is available in JSON format.\nRead the URL closely to decode it:\n1. It requests data from the api subdomain of the openweather-\nmap.org site.\n2. It specifies a city to search for (q is an abbreviation for\nquery, and is frequently used in URLs that specify searches).\n3. It also indicates that the data will be returned in imperial for-\nmat, meaning the temperature will be in Fahrenheit. Replac-\ning imperial with metric will provide temperature data in\ndegrees Celsius.\nLooking at this data from OpenWeatherMap is a more realistic\nexample of working with data found in the wild rather than the\nsimplified data sets introduced earlier. At the time of this writ-\ning, the file returned from that URL looks like this: \n{\"message\":\"accurate\",\"cod\":\"200\",\"count\":1,\"list\":[{\"id\":\n4508722,\"name\":\"Cincinnati\",\"coord\":{\"lon\":-84.456886,\"lat\":\n39.161999},\"main\":{\"temp\":34.16,\"temp_min\":34.16,\"temp_max\":\n34.16,\"pressure\":999.98,\"sea_level\":1028.34,\"grnd_level\":\n999.98,\"humidity\":77},\"dt\":1423501526,\"wind\":{\"speed\":\n9.48,\"deg\":354.002},\"sys\":{\"country\":\"US\"},\"clouds\":{\"all\":\n80},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken \nclouds\",\"icon\":\"04d\"}]}]}\nThis file is much easier to read when it’s formatted with line\nbreaks, and the JSON object and array structures defined with\nbraces and brackets:\n{\n  \"message\": \"accurate\",\n  \"count\": 1,\n  \"cod\": \"200\",\n  \"list\": [{\n    \"clouds\": {\"all\": 80},\n    \"dt\": 1423501526,\n    \"coord\": {\n      \"lon\": -84.456886,\n      \"lat\": 39.161999\n    },\n    \"id\": 4508722,\n    \"wind\": {\n      \"speed\": 9.48,\nData 177\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 438
  },
  {
    "chunk_full": "      \"deg\": 354.002\n    },\n    \"sys\": {\"country\": \"US\"},\n    \"name\": \"Cincinnati\",\n    \"weather\": [{\n      \"id\": 803,\n      \"icon\": \"04d\",\n      \"description\": \"broken clouds\",\n      \"main\": \"Clouds\"\n    }],\n    \"main\": {\n      \"humidity\": 77,\n      \"pressure\": 999.98,\n      \"temp_max\": 34.16,\n      \"sea_level\": 1028.34,\n      \"temp_min\": 34.16,\n      \"temp\": 34.16,\n      \"grnd_level\": 999.98\n    }\n  }]\n}\nNote that brackets are seen in the “list” and “weather” sec-\ntions, indicating an array of JSON objects. Although the array in\nthis example only contains a single item, in other cases, the API\nmight return multiple days or variations of the data from multi-\nple weather stations.\nExample 12-6: Parsing the Weather\nData\nThe first step in working with this data is to study it and then to\nwrite minimal code to extract the desired data. In this case,\nwe’re curious about the current temperature. We can see that\nour temperature data is 34.16. It’s labeled as temp and it’s inside\nthe main object, which is inside the list array. A function called\ngetTemp() was written for this example to work with the format\nof this specific JSON file organization:\nvoid setup() {\n  float temp = getTemp(\"cincinnati.json\");\n  println(temp);\n}\nfloat getTemp(String fileName) {\n178 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 439
  },
  {
    "chunk_full": "  JSONObject weather = loadJSONObject(fileName);\n  JSONArray list = weather.getJSONArray(\"list\");\n  JSONObject item = list.getJSONObject(0);\n  JSONObject main = item.getJSONObject(\"main\");\n  float temperature = main.getFloat(\"temp\");\n  return temperature;\n}\nThe name of the JSON file, cincinnati.json, is passed into the get\nTemp() function inside setup() and loaded there. Next, because\nof the format of the JSON file, a series of JSONArray and JSONOb\nject files are needed to get deeper and deeper into the data\nstructure to finally arrive at our desired number. This number is\nstored in the temperature variable and then returned by the\nfunction to be assigned to the temp variable in setup() where it is\nprinted to the Console.\nExample 12-7: Chaining Methods\nThe sequence of JSON variables created in succession in the\nlast example can be approached differently by chaining the get\nmethods together. This example works like Example 12-6 on\npage 178, but the methods are connected with the dot operator,\nrather than calculated one at a time and assigned to objects in\nbetween:\nvoid setup() {\n  float temp = getTemp(\"cincinnati.json\");\n  println(temp);\n}\nfloat getTemp(String fileName) {\n  JSONObject weather = loadJSONObject(fileName);\n  return weather.getJSONArray(\"list\").getJSONObject(0).\n  getJSONObject(\"main\").getFloat(\"temp\");\n}\nAlso note how the final temperature value is returned by the\ngetTemp() function. In Example 12-6 on page 178, a float vari-\nable is created to store the decimal value, then that value is\nreturned. Here, the data created by the get methods is returned\ndirectly, without intermediate variables.\nThis example can be modified to access more of the data from\nthe feed and to build a sketch that displays the data to the\nData 179\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 440
  },
  {
    "chunk_full": "screen rather than just writing it to the Console. You can also\nmodify it to read data from another online API—you’ll find that\nthe data returned by many APIs shares a similar format.\nRobot 10: Data\nThe final robot example in this book is different from the rest\nbecause it has two parts. The first part generates a data file\nusing random values and for loops and the second part reads\nthat data file to draw an army of robots onto the screen.\nThe first sketch uses two new code elements, the PrintWriter\nclass  and the createWriter() function. Used together, they cre-\nate and open a file in the sketchbook folder to store the data\ngenerated by the sketch. In this example, the object created\nfrom PrintWriter is called output and the file is called bot-\nArmy.tsv. In the loops, data is written into the file by running the\nprintln() method on the output object. Here, random values\nare used to define which of three robot images will be drawn for\neach coordinate. For the file to be correctly created, the flush()\nand close() methods must be run before the program is\nstopped.\n180 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 441
  },
  {
    "chunk_full": "The code that draws an ellipse is a visual preview to reveal the\nlocation of the coordinate on screen, but notice that the ellipse\nisn’t recorded into the file:\nPrintWriter output;\nvoid setup() {\n  size(720, 480);\n  // Create the new file\n  output = createWriter(\"botArmy.tsv\");\n  // Write a header line with the column titles\n  output.println(\"type\\tx\\ty\");\n  for (int y = 0; y <= height; y += 120) {\n    for (int x = 0; x <= width; x += 60) {\n      int robotType = int(random(1, 4));\n      output.println(robotType + \"\\t\" + x + \"\\t\" + y);\n      ellipse(x, y, 12, 12);\n    }\n  }\n  output.flush(); // Write the remaining data to the file\n  output.close(); // Finish the file\n}\nAfter that program is run, open the botArmy.tsv file in the\nsketchbook folder to see how the data is written. The first five\nlines of that file will be similar to this:\ntype    x       y\n3 \n0 \n0\n1 \n20 \n0\n2 \n40 \n0\n1 \n60 \n0\n3 \n80 \n0\nThe first column is used to define which robot image to use, the\nsecond column is the x coordinate, and the third column is the y\ncoordinate.\nThe next sketch loads the botArmy.tsv file and uses the data for\nthese purposes:\nTable robots;\nPShape bot1;\nPShape bot2;\nPShape bot3;\nvoid setup() {\n  size(720, 480);\nData 181\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 442
  },
  {
    "chunk_full": "  background(0, 153, 204);\n  bot1 = loadShape(\"robot1.svg\");\n  bot2 = loadShape(\"robot2.svg\");\n  bot3 = loadShape(\"robot3.svg\");\n  shapeMode(CENTER);\n  robots = loadTable(\"botArmy.tsv\", \"header\");\n  for (int i = 0; i < robots.getRowCount(); i++) {\n    int bot = robots.getInt(i, \"type\");\n    int x = robots.getInt(i, \"x\");\n    int y = robots.getInt(i, \"y\");\n    float sc = 0.3;\n    if (bot == 1) {\n      shape(bot1, x, y, bot1.width*sc, bot1.height*sc);\n    } else if (bot == 2) {\n      shape(bot2, x, y, bot2.width*sc, bot2.height*sc);\n    } else {\n      shape(bot3, x, y, bot3.width*sc, bot3.height*sc);\n    }\n  }\n}\nA more concise (and flexible) variation of this sketch uses\narrays and the rows() method of the Table class as a more\nadvanced approach:\nint numRobotTypes = 3;\nPShape[] shapes = new PShape[numRobotTypes];\nfloat scalar = 0.3;\nvoid setup() {\n  size(720, 480);\n  background(0, 153, 204);\n  for (int i = 0; i < numRobotTypes; i++) {\n    shapes[i] = loadShape(\"robot\" + (i+1) + \".svg\");\n  }\n  shapeMode(CENTER);\n  Table botArmy = loadTable(\"botArmy.tsv\", \"header\");\n  for (TableRow row : botArmy.rows()) {\n    int robotType = row.getInt(\"type\"); \n    int x = row.getInt(\"x\"); \n    int y = row.getInt(\"y\"); \n    PShape bot = shapes[robotType - 1]; \n    shape(bot, x, y, bot.width*scalar, bot.height*scalar);\n  }\n}\n182 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 443
  },
  {
    "chunk_full": "13/Extend\nThis book focuses on using Processing\nfor interactive graphics, because that’s\nthe core of what Processing does. How-\never, the software can do much more and\nis often part of projects that move\nbeyond a single computer screen. For\nexample, Processing has been used to\ncontrol machines, create images used in\nfeature films, and export models for 3D\nprinting.\nOver the last decade, Processing has been used to make music\nvideos for Radiohead and R.E.M., to create illustrations for pub-\nlications such as Nature and the New York Times, to output\nsculptures for gallery exhibitions, to control huge video walls, to\nknit sweaters, and much more. Processing has this flexibility\nbecause of its system of libraries.\nA Processing library is a collection of code that extends the soft-\nware beyond its core functions and classes. Libraries have been\nimportant to the growth of the project, because they let devel-\nopers add new features quickly. As smaller, self-contained\nprojects, libraries are easier to manage than if these features\nwere integrated into the main software.\nTo use a library, select Import Library from the Sketch menu and\nselect the library you want to use from the list. Choosing a\nlibrary adds a line of code that indicates that the library will be\nused with the current sketch.\n183\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 444
  },
  {
    "chunk_full": "For instance, when the PDF Export Library (pdf) is added, this\nline of code is added to the top of the sketch:\nimport processing.pdf.*;\nIn addition to the libraries included with Processing (these are\ncalled the core libraries), there are over 100 contributed libraries\nthat are linked from the Processing website. All libraries are lis-\nted online at http://processing.org/reference/libraries/.\nBefore a contributed library can be imported through the\nSketch menu, it must be added through the Library Manager.\nSelect the Import Library option from the Sketchbook menu\nand then select Add Library to open the Library Manager inter-\nface. Click a library description and then click the Install button\nto download it to your computer.\nThe downloaded files are saved to the libraries folder that is\nlocated in your sketchbook. You can find the location of your\nsketchbook by opening the Preferences. The Library Manager\ncan also be used to update and remove libraries.\nAs mentioned before, there are more than 100 Processing\nlibraries, so they clearly can’t all be discussed here. We’ve\nselected a few that we think are fun and useful to introduce in\nthis chapter.\nSound\nThe Sound audio library introduced with Processing 3.0 has the\nability to play, analyze, and generate (synthesize) sound. This\nlibrary needs to be downloaded with the Library Manager as\ndescribed earlier. (It’s not included with the main Processing\ndownload because of its size.)\nLike the images, shape files, and fonts introduced in Chapter 7,\na sound file is another type of media to augment a Processing\nsketch. Processing’s Sound library can load a range of file for-\nmats including WAV, AIFF, and MP3. Once a sound file is loaded,\nit can be played, stopped, and looped, or even distorted using\ndifferent “effects” classes.\n184 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 445
  },
  {
    "chunk_full": "Example 13-1: Play a Sample\nThe most common use of the Sound library is to play a sound as\nbackground music or when an event happens on screen. The\nfollowing example builds on Example 8-5 on page 107 to play a\nsound when the shape hits the edges of the screen. The blip.wav\nfile is included in the media folder that you downloaded in Chap-\nter \n7 \nfrom \nhttp://www.processing.org/learning/books/\nmedia.zip.\nAs with other media, the SoundFile object is defined at the top\nof the sketch, it’s loaded within setup(), and after that, it can be\nused anywhere in the program:\nimport processing.sound.*;\nSoundFile blip;\nint radius = 120;\nfloat x = 0;\nfloat speed = 1.0;\nint direction = 1;\nvoid setup() {\n  size(440, 440);\n  ellipseMode(RADIUS);\n  blip = new SoundFile(this, \"blip.wav\");\n  x = width/2; // Start in the center\n}\nvoid draw() {\n  background(0);\n  x += speed * direction;\n  if ((x > width-radius) || (x < radius)) {\n    direction = -direction; // Flip direction\n    blip.play();\n  }\n  if (direction == 1) {\n    arc(x, 220, radius, radius, 0.52, 5.76); // Face right\n  } else {\n    arc(x, 220, radius, radius, 3.67, 8.9); // Face left\n  }\n}\nThe sound is triggered each time its play() method is run. This\nexample works well because the sound is only played when the\nExtend 185\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 446
  },
  {
    "chunk_full": "value of the x variable is at the edges of the screen. If the sound\nwere played each time through draw(), the sound would restart\n60 times each second and wouldn’t have time to finish playing.\nThe result is a rapid clipping sound. To play a longer sample\nwhile a program runs, call the play() or loop() method for that\nsound inside setup() so the sound is triggered only a single\ntime.\nThe SoundFile class has many methods to control\nhow a sound is played. The most essential are\nplay() to play the sample a single time, loop() to\nplay it from beginning to end over and over, stop() to\nhalt the playback, and jump() to move to a specific\nmoment within the file.\nExample 13-2: Listen to a Microphone\nIn addition to playing a sound, Processing can listen. If your\ncomputer has a microphone, the Sound library can read live\naudio through it. Sounds from the mic can be analyzed, modi-\nfied, and played:\nimport processing.sound.*;\nAudioIn mic;\nAmplitude amp;\nvoid setup() {\n186 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 447
  },
  {
    "chunk_full": "  size(440, 440);\n  background(0);\n  // Create an audio input and start it\n  mic = new AudioIn(this, 0);\n  mic.start();\n  // Create a new amplitude analyzer and patch into input\n  amp = new Amplitude(this);\n  amp.input(mic);\n}\nvoid draw() {\n  // Draw a background that fades to black\n  noStroke();\n  fill(26, 76, 102, 10);\n  rect(0, 0, width, height);\n  // The analyze() method returns values between 0 and 1, \n  // so map() is used to convert the values to larger numbers\n  float diameter = map(amp.analyze(), 0, 1, 10, width);\n  // Draw the circle based on the volume\n  fill(255);\n  ellipse(width/2, height/2, diameter, diameter);\n}\nThere are two parts to getting the amplitude (volume) from an\nattached microphone. The AudioIn class is used to get the sig-\nnal data from the mic and the Amplitude class is used to meas-\nure the signal. Objects from both classes are defined at the top\nof the code and created inside setup().\nAfter the Amplitude object (named amp here) is made, the\nAudioIn object (named mic) is patched into the amp object with\nthe input() method. After that, the analyze() method of the amp\nobject can be run at any time to read the amplitude of the\nmicrophone data within the program. In this example, that is\ndone each time through draw() and that value is then used to\nset the size of the circle.\nIn addition to playing a sound and analyzing sound as demon-\nstrated in the last two examples, Processing can synthesize\nsound directly. The fundamentals of sound synthesis are wave-\nforms that include the sine wave, triangle wave, and square\nwave.\nExtend 187\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 448
  },
  {
    "chunk_full": "A sine wave sounds smooth, a square wave is harsh, and a trian-\ngle wave is somewhere between. Each wave has a number of\nproperties. The frequency, measured in hertz, determines the\npitch, the highness or lowness of the tone. The amplitude of the\nwave determines the volume, the degree of loudness.\nExample 13-3: Create a Sine Wave\nIn the following example, the value of mouseX determines the fre-\nquency of a sine wave. As the mouse moves left and right, the\naudible frequency and corresponding wave visualization\nincrease and decrease:\nimport processing.sound.*;\nSinOsc sine;\nfloat freq = 400;\nvoid setup() {\n  size(440, 440);\n  // Create and start the sine oscillator\n  sine = new SinOsc(this);\n  sine.play();\n}\nvoid draw() {\n  background(176, 204, 176);\n  // Map the mouseX value from 20Hz to 440Hz for frequency  \n  float hertz = map(mouseX, 0, width, 20.0, 440.0);\n  sine.freq(hertz);\n188 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 449
  },
  {
    "chunk_full": "  // Draw a wave to visualize the frequency of the sound\n  stroke(26, 76, 102);\n  for (int x = 0; x < width; x++) {\n    float angle = map(x, 0, width, 0, TWO_PI * hertz);\n    float sinValue = sin(angle) * 120;\n    line(x, 0, x, height/2 + sinValue);\n  }\n}\nThe sine object, created from the SinOsc class, is defined at the\ntop of the code and then created inside setup(). Like working\nwith a sample, the wave needs to be played with the play()\nmethod to start generating the sound. Within draw(), the freq()\nmethod continuously sets the frequency of the waveform based\non the left-right position of the mouse.\nImage and PDF Export\nThe animated images created by a Processing program can be\nturned into a file sequence with the saveFrame() function. When\nsaveFrame() appears at the end of draw(), it saves a numbered\nsequence of TIFF-format images of the program’s output\nnamed screen-0001.tif, screen-0002.tif, and so on, to the\nsketch’s folder.\nThese files can be imported into a video or animation program\nand saved as a movie file. You can also specify your own file-\nname and image file format with a line of code like this:\nsaveFrame(\"output-####.png\");\nUse the # (hash mark) symbol to show where the numbers will\nappear in the filename. They are replaced with the actual frame\nnumbers when the files are saved. You can also specify a sub-\nfolder to save the images into, which is helpful when working\nwith many image frames:\nsaveFrame(\"frames/output-####.png\");\nWhen using saveFrame() inside draw(), a new file is\nsaved each frame—so watch out, as this can quickly\nfill your sketch folder with thousands of files.\nExtend 189\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 450
  },
  {
    "chunk_full": "Example 13-4: Saving Images\nThis  example shows how to save images by storing enough\nframes for a two-second animation. It loads and moves the\nrobot file from “Robot 5: Media” on page 101. See Chapter 7 for\ninstructions for downloading the file robot1.svg and adding it to\nthe sketch.\nThe example runs the program at 30 frames per second and\nthen exits after 60 frames:\nPShape bot;\nfloat x = 0;\nvoid setup() {\n  size(720, 480);\n  bot = loadShape(\"robot1.svg\");\n  frameRate(30);\n}\nvoid draw() {\n  background(0, 153, 204);\n  translate(x, 0);\n  shape(bot, 0, 80);\n  saveFrame(\"frames/SaveExample-####.tif\");\n  x += 12;\n  \n  if (frameCount > 60) {\n    exit();\n  } \n}\nProcessing will write an image based on the file extension that\nyou use (.png, .jpg, or .tif are all built in, and some platforms\nmay support others). To retrieve the saved files, go to Sketch →\nShow Sketch Folder. \n190 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 451
  },
  {
    "chunk_full": "A .tif image is saved uncompressed, which is fast but takes up a\nlot of disk space. Both .png and .jpg will create smaller files, but\nbecause of the compression they will usually require more time\nto save, making the sketch run slowly.\nIf your desired output is vector graphics, you can write the out-\nput to PDF files for higher resolution. The PDF Export library\nmakes it possible to write PDF files directly from a sketch. These\nvector graphics files can be scaled to any size without losing\nresolution, which makes them ideal for print output—from post-\ners and banners to entire  books.\nExample 13-5: Draw to a PDF\nThis  example builds on Example 13-4 on page 190 to draw more\nrobots, but it removes the motion. The PDF library is imported\nat the top of the sketch to extend Processing to be able to write\nPDF files.\nThis sketch creates a PDF file called Ex-13-5.pdf because of the\nthird and fourth parameters to size():\nimport processing.pdf.*;\nPShape bot;\nvoid setup() {\n  size(600, 800, PDF, \"Ex-13-5.pdf\");\n  bot = loadShape(\"robot1.svg\");\n}\nvoid draw() {\n  background(0, 153, 204);\n  for (int i = 0; i < 100; i++) {\n    float rx = random(-bot.width, width);\n    float ry = random(-bot.height, height);\n    shape(bot, rx, ry);\n  }\n  exit();\n}\nThe geometry is not drawn on the screen; it is written directly\ninto the PDF file, which is saved into the sketch’s folder. The\ncode in this example runs once and then exits at the end of\ndraw(). The resulting output is shown in Figure 13-1.\nExtend 191\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 452
  },
  {
    "chunk_full": "There are more PDF Export examples included with the Pro-\ncessing software. Look in the PDF Export (pdf) section of the\nProcessing examples to see more techniques.  \nFigure 13-1. PDF export from Example 3-5\n192 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 453
  },
  {
    "chunk_full": "Hello, Arduino\nArduino is an electronics prototyping platform with a series of\nmicrocontroller boards and the software to program them. Pro-\ncessing and Arduino share a long history together; they are sis-\nter projects with many similar ideas and goals, though they\naddress separate domains. Because they share the same editor\nand programming environment and a similar syntax, it’s easy to\nmove between them and to transfer knowledge about one into\nthe other.\nIn this section, we focus on reading data into Processing from\nan Arduino board and then visualize that data on screen. This\nmakes it possible to use new inputs into Processing programs\nand to allow Arduino programmers to see their sensor input as\ngraphics. These new inputs can be anything that attaches to an\nArduino board. These devices range from a distance sensor to a\ncompass or a mesh network of temperature sensors.\nThis section assumes that you have an Arduino board and that\nyou already have a basic working knowledge of how to use it. If\nnot, you can learn more online at http://www.arduino.cc and in\nthe excellent book Getting Started with Arduino by Massimo\nBanzi (Maker Media). Once you’ve covered the basics, you can\nlearn more about sending data between Processing and Arduino\nin another outstanding book, Making Things Talk by Tom Igoe\n(Maker Media).\nData can be transferred between a Processing sketch and an\nArduino board with some help from the Processing Serial\nLibrary. Serial is a data format that sends one byte at a time. In\nthe world of Arduino, a byte is a data type that can store values\nbetween 0 and 255; it works like an int, but with a much smaller\nrange. Larger numbers are sent by breaking them into a list of\nbytes and then reassembling them later.\nIn the following examples, we focus on the Processing side of\nthe relationship and keep the Arduino code simple. We visualize\nthe data coming in from the Arduino board one byte at a time.\nWith the techniques covered in this book and the hundreds of\nArduino examples online, we hope this will be enough to get you\nstarted.\nExtend 193\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 454
  },
  {
    "chunk_full": "Example 13-6: Read a Sensor\nThe following Arduino code is used with the next three Process-\ning examples:\n// Note: This is code for an Arduino board, not Processing\nint sensorPin = 0;  // Select input pin\nint val = 0;\nvoid setup() {\n  Serial.begin(9600);  // Open serial port\n}\nvoid loop() {\n  val = analogRead(sensorPin) / 4;  // Read value from sensor\n  Serial.write((byte)val);  // Print variable to serial port\n  delay(100);  // Wait 100 milliseconds\n}\nThere are two important details to note about this Arduino\nexample. First, it requires attaching a sensor into the analog\ninput on pin 0 on the Arduino board. You might use a light sen-\nsor (also called a photo resistor, photocell, or light-dependent\nresistor) or another analog resistor such as a thermistor\n(temperature-sensitive resistor), flex sensor, or pressure sensor\n(force-sensitive resistor). The circuit diagram and drawing of the\nbreadboard with components are shown in Figure 13-2. Next,\nnotice that the value returned by the analogRead() function is\ndivided by 4 before it’s assigned to val. The values from analog\nRead() are between 0 and 1023, so we divide by 4 to convert\nthem to the range of 0 to 255 so that the data can be sent in a\nsingle byte.\n194 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 455
  },
  {
    "chunk_full": "Figure 13-2. Attaching a light sensor (photo resistor) to analog\nin pin 0\nExample 13-7: Read Data from the\nSerial Port\nThe first visualization example shows how to read the serial data\nin from the Arduino board and how to convert that data into the\nvalues that fit to the screen dimensions:\nimport processing.serial.*;\nSerial port;  // Create object from Serial class\nfloat val;  // Data received from the serial port\nvoid setup() {\n  size(440, 220);\n  // IMPORTANT NOTE:\n  // The first serial port retrieved by Serial.list()\n  // should be your Arduino. If not, uncomment the next\n  // line by deleting the // before it. Run the sketch\n  // again to see a list of serial ports. Then, change\n  // the 0 in between [ and ] to the number of the port\n  // that your Arduino is connected to.\n  //printArray(Serial.list());\n  String arduinoPort = Serial.list()[0];\n  port = new Serial(this, arduinoPort, 9600);\n}\nExtend 195\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 456
  },
  {
    "chunk_full": "void draw() {\n  if (port.available() > 0) {       // If data is available,\n    val = port.read();         // read it and store it in val\n    val = map(val, 0, 255, 0, height); // Convert the value\n  }\n  rect(40, val-10, 360, 20);\n}\nThe Serial library is imported on the first line and the serial port\nis opened in setup(). It may or may not be easy to get your Pro-\ncessing sketch to talk with the Arduino board; it depends on\nyour hardware setup. There is often more than one device that\nthe Processing sketch might try to communicate with. If the\ncode doesn’t work the first time, read the comment in setup()\ncarefully and follow the instructions.\nWithin draw(), the value is brought into the program with the\nread() method of the Serial object. The program reads the data\nfrom the serial port only when a new byte is available. The\navailable() method checks to see if a new byte is ready and\nreturns the number of bytes available. This program is written\nso that a single new byte will be read each time through draw().\nThe map() function converts the incoming value from its initial\nrange from 0 to 255 to a range from 0 to the height of the\nscreen; in this program, it’s from 0 to 220.\nExample 13-8: Visualizing the Data\nStream\nNow that the data is coming through, we’ll visualize it in a more\ninteresting format. The values coming in directly from a sensor\nare often erratic, and it’s useful to smooth them out by averag-\ning them. Here, we present the raw signal from the light sensor\nillustrated in the top half of the example and the smoothed sig-\nnal in the bottom half:\n196 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 457
  },
  {
    "chunk_full": "import processing.serial.*;\nSerial port;  // Create object from Serial class\nfloat val;    // Data received from the serial port\nint x;\nfloat easing = 0.05;\nfloat easedVal;\nvoid setup() {\n  size(440, 440);\n  frameRate(30);\n  String arduinoPort = Serial.list()[0];\n  port = new Serial(this, arduinoPort, 9600);\n  background(0);\n}\nvoid draw() {\n  if ( port.available() > 0) { // If data is available,\n    val = port.read();         // read it and store it in val\n    val = map(val, 0, 255, 0, height/2); // Convert the values\n  }\n  float targetVal = val;\n  easedVal += (targetVal - easedVal) * easing;\n  stroke(0);\n  line(x, 0, x, height);            // Black line\n  stroke(255);\n  line(x+1, 0, x+1, height);        // White line\n  line(x, 220, x, val);             // Raw value\n  line(x, 440, x, easedVal + 220);  // Averaged value\n  x++;\nExtend 197\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 458
  },
  {
    "chunk_full": "  if (x > width) {\n    x = 0;\n  }\n}\nSimilar to Example 5-8 on page 54 and Example 5-9 on page 55,\nthis sketch uses the easing technique. Each new byte from the\nArduino board is set as the target value, the difference between\nthe current value and the target value is calculated, and the cur-\nrent value is moved closer to the target. Adjust the easing vari-\nable to affect the amount of smoothing applied to the incoming \nvalues.\nExample 13-9: Another Way to Look\nat the Data\nThis example is inspired by radar display screens. The values\nare read in the same way from the Arduino board, but they are\nvisualized in a circular pattern using the sin() and cos() func-\ntions introduced earlier in Example 8-12 on page 115, Example\n8-13 on page 115, and Example 8-15 on page 116:\nimport processing.serial.*;\nSerial port;  // Create object from Serial class\nfloat val;    // Data received from the serial port\nfloat angle;\nfloat radius;\nvoid setup() {\n198 Getting Started with Processing\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 459
  },
  {
    "chunk_full": "  size(440, 440);\n  frameRate(30);\n  strokeWeight(2);\n  String arduinoPort = Serial.list()[0];\n  port = new Serial(this, arduinoPort, 9600);\n  background(0);\n}\nvoid draw() {\n  if ( port.available() > 0) {  // If data is available,\n    val = port.read();          // read it and store it in val\n    // Convert the values to set the radius\n    radius = map(val, 0, 255, 0, height * 0.45);\n  }\n  int middleX = width/2;\n  int middleY = height/2;\n  float x = middleX + cos(angle) * height/2;\n  float y = middleY + sin(angle) * height/2;\n  stroke(0);\n  line(middleX, middleY, x, y);\n  x = middleX + cos(angle) * radius;\n  y = middleY + sin(angle) * radius;\n  stroke(255);\n  line(middleX, middleY, x, y);\n  angle += 0.01;\n}\nThe angle variable is updated continuously to move the line\ndrawing the current value around the circle, and the val variable\nscales the length of the moving line to set its distance from the\ncenter of the screen. After one time around the circle, the values\nbegin to write on top of the previous data.\nWe’re excited about the potential of using Processing and Ardu-\nino together to bridge the world of software and electronics.\nUnlike the examples printed here, the communication can be\nbidirectional. Elements on screen can also affect what’s happen-\ning on the Arduino board. This means you can use a Processing\nprogram as an interface between your computer and motors,\nspeakers, lights, cameras, sensors, and almost anything else\nthat can be controlled with an electrical signal. Again, check out\nhttp://www.arduino.cc for more information about Arduino.\nExtend 199\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 460
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 461
  },
  {
    "chunk_full": "A/Coding Tips\nCoding is a type of writing. Like all types of writing, code has\nspecific rules. For comparison, we’ll quickly mention some of\nthe rules for English that you probably haven’t thought about in\na while because they are second nature. Some of the more invis-\nible rules are writing from left to right and putting a space\nbetween each word. More overt rules are spelling conventions,\ncapitalizing the names of people and places, and using punctua-\ntion at the end of sentences to provide emphasis! If we break\none or more of these rules when writing an email to a friend, the\nmessage still gets through. For example, “hello ben. how r u\ntoday” communicates nearly as well as, “Hello, Ben. How are\nyou today?” However, flexibility with the rules of writing don’t\ntransfer to programming. Because you’re writing to communi-\ncate with a computer, rather than another person, you need to\nbe more precise and careful. One misplaced character is often\nthe difference between a program that runs and one that\ndoesn’t.\nProcessing tries to tell you where you’ve made mistakes and to\nguess what the mistake is. When you click the Run button, if\nthere are grammar (syntax) problems with your code (we call\nthem bugs), then the Message Area turns red and Processing\ntries to highlight the line of code that it suspects as the problem.\nThe line of code with the bug is often one line above or below the\nhighlighted line, though in some cases, it’s nowhere close. The\ntext in the Message Area tries to be helpful and suggests the\npotential problem, but sometimes the message is too cryptic to\nunderstand. For a beginner, these error messages can be frus-\ntrating. Understand that Processing is a simple piece of soft-\nware that’s trying to be helpful, but it has a limited knowledge of\nwhat you’re trying to do.\nLong error messages are printed to the Console in more detail,\nand sometimes scrolling through that text can offer a hint. Addi-\ntionally, Processing can find only one bug at a time. If your\n201\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 462
  },
  {
    "chunk_full": "program has many bugs, you’ll need to keep running the pro-\ngram and fix them one at a time.\nPlease read and reread the following suggestions carefully to\nhelp you write clean code.\nFunctions and Parameters\nPrograms are composed of many small parts, which are grou-\nped together to make larger structures. We have a similar sys-\ntem in English: words are grouped into phrases, which are com-\nbined to make sentences, which are combined to create para-\ngraphs. The idea is the same in code, but the small parts have\ndifferent names and behave differently. Functions and parame-\nters are two important parts. Functions are the basic building\nblocks of a Processing program. Parameters are values that\ndefine how the function behaves.\nConsider a function like background(). Like the name suggests,\nit’s used to set the background color of the Display Window. The\nfunction has three parameters that define the color. These num-\nbers define the red, green, and blue components of the color to\ndefine the composite color. For example, the following code\ndraws a blue background:\nbackground(51, 102, 153);\nLook carefully at this single line of code. The key details are the\nparentheses after the function name that enclose the numbers,\nthe commas between each number, and the semicolon at the\nend of the line. The semicolon is used like a period. It signifies\nthat one statement is over so the computer can look for the\nstart of the next. All of these parts need to be there for the code\nto run. Compare the preceding example line to these three bro-\nken versions of the same line:\nbackground 51, 102, 153; // Error! Missing the parentheses\nbackground(51 102, 153); // Error! Missing a comma\nbackground(51, 102, 153) // Error! Missing the semicolon\nThe computer is very unforgiving about even the smallest omis-\nsion or deviation from what it’s expecting. If you remember\nthese parts, you’ll have fewer bugs. But if you forget to type\nthem, which we all do, it’s not a problem. Processing will alert\n202 Appendix A\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 463
  },
  {
    "chunk_full": "you about the problem, and when it’s fixed, the program will run \nwell.\nColor Coding\nThe Processing environment color-codes different parts of each\nprogram. Words that are a part of Processing are drawn as blue\nand orange to distinguish them from the parts of the program\nthat you invent. The words that are unique to your program,\nsuch as your variable and function names, are drawn in black.\nBasic symbols such as (), \\[\\], and > are also black.\nComments\nComments are notes that you write to yourself (or other people)\ninside the code. You should use them to clarify what the code is\ndoing in plain language and provide additional information such\nas the title and author of the program. A comment starts with\ntwo forward slashes (//) and continues until the end of the line:\n// This is a one-line comment\nYou can make a multiple-line comment by starting with /* and\nending with */. For instance:\n/* This comment\n   continues for more\n   than one line\n*/\nWhen a comment is correctly typed, the color of the text will\nturn gray. The entire commented area turns gray so you can\nclearly see where it begins and ends.\nUppercase and Lowercase\nProcessing distinguishes uppercase letters from lowercase let-\nters and therefore reads “Hello” as a distinct word from “hello”.\nIf you’re trying to draw a rectangle with the rect() function and\nyou write rect(), the code won’t run. You can see if Processing\nrecognizes your intended code by checking the color of the text.\nAppendix A 203\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 464
  },
  {
    "chunk_full": "Style\nProcessing is flexible about how much space is used to format\nyour code. Processing doesn’t care if you write:\nrect(50, 20, 30, 40);\nor:\nrect (50,20,30,40);\nor:\nrect     (       50,20,\n 30,   40)            ;\nHowever, it’s in your best interest to make the code easy to read.\nThis becomes especially important as the code grows in length.\nClean formatting makes the structure of the code immediately\nlegible, and sloppy formatting often obscures problems. Get\ninto the habit of writing clean code. There are many different\nways to format the code well, and the way you choose to space\nthings is a personal preference.\nConsole\nThe Console is the bottom area of the Processing Development\nEnvironment. You can write messages to the Console with the\nprintln() function. For example, the following code prints a\nmessage followed by the current time:\nprintln(\"Hello, Processing.\");\nprintln(\"The time is \" + hour() + \":\" + minute());\nThe Console is essential to seeing what is happening inside of\nyour programs while they run. It’s used to print the value of vari-\nables so you can track them, to confirm if events are happening,\nand to determine where a program is having a problem.\nOne Step at a Time\nWe recommend writing a few lines of code at a time and running\nthe code frequently to make sure that bugs don’t accumulate\nwithout your knowledge. Every ambitious program is written\none line at a time. Break your project into simpler subprojects\nand complete them one at a time so that you can have many\n204 Appendix A\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 465
  },
  {
    "chunk_full": "small successes, rather than a swarm of bugs. If you have a bug,\ntry to isolate the area of the code where you think the problem\nlies. Try to think of fixing bugs as solving a mystery or puzzle. If\nyou get stuck or frustrated, take a break to clear your head or\nask a friend for help. Sometimes, the answer is right under your\nnose but requires a second opinion to make it clear.\nAppendix A 205\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 466
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 467
  },
  {
    "chunk_full": "B/Data Types\nThere are different categories of data. For instance, think about\nthe data on an ID card. The card has numbers to store weight,\nheight, date of birth, street address, and postal code. It has\nwords to store a person’s name and city. There’s also image\ndata (a photo) and often an organ donor choice, which is a\nyes/no decision. In Processing, we have different data types to\nstore each kind of data. Each of the following types is explained\nin more detail elsewhere in the book, but this is a summary:\nName\nDescription\nRange of values\nint\nIntegers (whole numbers)\n−2,147,483,648 to\n2,147,483,647\nfloat\nFloating-point values\n−3.40282347E+38 to\n3.40282347E+38\nboolean\nLogical value\ntrue or false\nchar\nSingle character\nA–z, 0–9, and symbols\nString\nSequence of characters\nAny letter, word, sentence,\nand so on\nPImage\nPNG, JPG, or GIF image\nN/A\nPFont\nUse the createFont()\nfunction or the Create Font\ntool to make fonts to use\nwith Processing\nN/A\nPShape\nSVG file\nN/A\nAs a  guideline, a float number has about four digits of accu-\nracy after the decimal point. If you’re counting or taking small\nsteps, you should use an int value to take the steps, and then\nperhaps scale it by a float if necessary when putting it to use.\n207\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 468
  },
  {
    "chunk_full": "There are more data types than those mentioned here, but\nthese are the most useful for the work typically made with Pro-\ncessing. In fact, as mentioned in Chapter 10, there are infinite\ntypes of data, because every new class is a different data type.\n208 Appendix B\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 469
  },
  {
    "chunk_full": "C/Order of\nOperations\nWhen mathematical calculations are performed in a program,\neach operation takes place according to a pre-specified order.\nThis order of operations ensures that the code is run the same\nway every time. This is no different from arithmetic or algebra,\nbut programming has other operators that are less familiar.\nIn the following table, the operators on the top are run before\nthose on the bottom—therefore, an operation inside parenthe-\nses will run first and an assignment will run last:\nName\nSymbol\nExamples\nParentheses\n()\na \\* (b + c)\nPostfix, Unary\n++ −− !\na++ −−b !c\nMultiplicative\n* / %\na \\* b\nAdditive\n+ −\na + b\nRelational\n> < <= >=\nif (a > b)\nEquality\n== !=\nif (a == b)\nLogical AND\n&&\nif (mousePressed && (a > b))\nLogical OR\n||\nif (mousePressed || (a > b))\nAssignment\n= += −= *= /= %=\na = 44\n209\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 470
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 471
  },
  {
    "chunk_full": "D/Variable Scope\nThe rule of variable scope is defined simply: a variable created\ninside a block (code enclosed within braces: { and }) exists only\ninside that block. This means that a variable created inside\nsetup() can be used only within the setup() block, and likewise,\na variable declared inside draw() can be used only inside the\ndraw() block. The exception to this rule is a variable declared\noutside of setup() and draw(). These variables can be used in\nboth setup() and draw() (or inside any other function that you\ncreate). Think of the area outside of setup() and draw() as an\nimplied code block. We call these variables global variables,\nbecause they can be used anywhere within the program. We call\na variable that is used only within a single block a local variable.\nFollowing are a couple of code examples that further explain the\nconcept. First:\nint i = 12;   // Declare global variable i and assign 12\nvoid setup() {\n  size(480, 320);\n  int i = 24; // Declare local variable i and assign 24\n  println(i); // Prints 24 to the Console\n}\nvoid draw() {\n  println(i); // Prints 12 to the Console\n}\nAnd second:\nvoid setup() {\n  size(480, 320);\n  int i = 24; // Declare local variable i and assign 24\n}\nvoid draw() {\n  println(i); // ERROR! The variable i is local to setup()\n}\n211\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 472
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 473
  },
  {
    "chunk_full": "Index\nSymbols\n!= (not equal to) operator, 42\n# (hashmark) symbol, 189\n% (modulo) operator, 157\n&& (logical AND) operator, 69\n// (double slashes) for code com-\nments, 30-31\n< (less than or equal to) operator,\n42\n< (less than) operator, 42\n= (equal to) operator, 42\n== (equal to) operator, 58, 68\n> (greater than) operator, 42\n>= (greater than or equal to) oper-\nator, 42\n|| (logical OR) operator, 69\nA\nalpha values, 27\nanalyze ( ) method, 187\nanimation, 103-119\nbouncing shapes off wall,\n107-107\ncircular motion, 113-116\ndrawing/moving shapes ran-\ndomly, 109-111\nframe rates, 103-104\nimage/PDF export, 189-192\nmoving shapes, 104-105\nsine wave values/movement,\n115-116\nspeed and direction, 104-107\nspirals, 116\ntimers, 111-113\ntween positions, 108-109\nwrapping shapes around screen,\n105-107\nAPIs (application programming\ninterfaces), 176-180\narc ( ) function, 18\nArduino, 193-199\noverview, 193\nreading data from serial port,\n195-196\nreading sensors, 194-195\nvisualizing data, 196-199\narithmetic operations, 38-40\narrays, 149-162\ncreating, 152-155\ndefined, 149\nfilling in a for loop, 155-156\nof objects, 158-161\nrepetition and, 155-158\ntracking mouse movements\nwith, 156-158\nvariables versus, 149-152\narrow keys, detecting, 70\narrows, drawing, 28\nassignment operator, 39\nB\nbackground ( ) function, 23, 52-53,\n202\nbeginShape ( ) function, 28\nblocks, for loop, 41\nboolean data, 56, 135, 207\nbugs, detecting and fixing, 201-205\nC\nchaining methods, 179-180\nchar data, 207\nchar variables, 67\ncircles\ncursor position relative to,\n63-64\n213\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 474
  },
  {
    "chunk_full": "drawing, 9\ncircular motion, 113-116\nclasses\nof data, 166\nof objects, 137-142, 166\nclicks, mouse, 56-61\nclose parameter, 28\ncode\ncoding tips, 201-205\ncolor coding, 203\ncomments, 203\nfunctions and parameters,\n202-203\nmodifying with variables, 47\norder of operations, 209\nrepeating with for loops, 40-45\nstyle, 204\ncolor\ncolor coding, 203\ndrawing with, 23-28\nRGB, 26\ncolumns and rows, creating with for\nloops, 45\ncomments\nadding to code with //, 30-31\ntips for writing, 203\nConsole, 8\nconstrain ( ) function, 111\nconstructors, 138-139\ncontributed libraries, 184\ncore libraries, 184\ncos ( ) and sin ( ) functions, 113-116\ncreateShape ( ) function, 99\ncreateWriter ( ) function, 180\nCSV files, 167, 173\ncursors, finding location of, 61-66\nD\ndata, 165-182\nand APIs, 176-180\nboolean, 56, 135, 207\nchaining methods, 179-180\nchar, 207\nclasses of, 166\ndata visualization, 165\nfloat, 104, 131, 135, 207\nint, 36, 135, 207\nJSON, 172-176\nJSONArray, 166\nJSONObject, 166, 174\nnetwork (see see APIs (applica-\ntion programming inter-\nfaces))\noverview, 165-166\nPFont, 135, 166, 207\nPImage, 135, 166, 207\nPShape, 135, 166, 207\nreading from serial port,\n195-196\nString, 135, 166, 207\nTable, 166-172\nvisualizing, 196-199\ndata types, 36-38, 143, 165,\n207-208\ndegree measurements, 19\nDisplay Window, 13\ndist ( ) function, 53\ndownloading Processing, 7-8\ndraw ( ) function, 49, 51, 103\ndrawing, 13-33\navoiding arrays with, 154\nbasic shapes, 14-19\ncircles, 9\nwith color, 23-28\ncomplex shapes, 29-30\ncontinuous lines, 53\ncustom shapes, 28-30\ndrawing modes, 22\nellipses, 9, 17-19, 22\nwith fonts, 95-97\nlines, 14-16\norder of, 20-21\npoints, 14\nrectangles, 16, 22\nsaving to PDF, 191-192\nshape properties, 21-22\nwith shapes, 98\nshapes, randomly, 109\nwindows, 14\nE\neasing, 54-56\n214 Index\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 475
  },
  {
    "chunk_full": "elements, in arrays, 152\nellipseMode ( ) function, 22\nellipses, drawing, 9, 17-19\nelse blocks, 58-60\nembedded for loops, 44\nendshape ( ) function, 28\nExamples and Reference, 11-12\nexporting sketches, 11\nexpressions, 39\nF\nfields, 136, 138\nfill ( ) function, 23, 25\nfloat data, 104, 131, 135, 207\nfloat variable, 37\nfonts, 94-97\ndrawing text in a box, 96\ndrawing with, 95-97\nfor loops, 40-45\ncreating rows and columns with,\n45\nembedded, 44\nfilling arrays with values in,\n155-156\nfor fanning out lines, 44\nfor halftone dots, 46\nfor kinking lines, 44\nfor pins and lines, 46\nfor quick code changes, 43\nframe rates, 49, 103-104\nframes, 103\nfunctions, 121-133\nbasics of, 122-123\ncoding tips, 202\ncreating, 124-130\ndefined, 13\nreturn values, 130\nG\ngetFloat ( ) method, 168\ngetInt ( ) method, 168, 174\ngetString ( ) method, 174\ngetting help, xv\nGIF image format, 93\ngray values, 25\nH\nhalftone dots, creating, 45\nheaders, in Table data, 170\nI\nif blocks, 57-60\nimage ( ) function, 90\nimages\ndrawing to screen, 90-92\nformats, 93-94\nimage/PDF export, 189-192\nresizing, 92-93\nsequences of, 160-161\ntransparency , 93-94\nworking with multiple, 91\nindex values, 152\ninitialization statement, 41\nint data, 135, 207\nJ\nJPEG image format, 93\nJSON data, and APIs, 177-180\nJSON files, 172-176\nK\nkey variables, 67\nkeyCode variable, 69\nkeypressed variable, 66-70\nkeys, tapping, 67-68\nL\nlibraries\nLibrary Manager, 184\nSerial Library, 193\nSound audio library, 184\nlines\ndrawing, 14-16\ndrawing continuous, 53\nsetting thickness of, 53-54\nsmoothing with easing, 55\nLinux installation, 7\nloadImage ( ) function, 90\nloadTable ( ) function, 167\nlocal variable, 211\nIndex 215\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 476
  },
  {
    "chunk_full": "lowercase/uppercase letters in\ncode, 203\nM\nMac OS X installation, 7\nmap ( ) function, 70-72, 196\nmath (see arithmetic operations)\nmedia, 89-102\ndownloading online example\nfiles, 89-90\nfonts, 94-97\n(see also fonts)\nimages, 90-94\n(see also images)\nshapes, 97-100\n(see also shapes)\nsound, 184-189\n(see also sound)\nMessage Area, 8\nmethods, 136, 139\nmethods, chaining, 179-180\nmicrophones, 186\nmodularity, 121\nmotion (see animation)\nmouse\nclicks of, 56-61\neasing movements of, 54-56\ntracking movements with\narrays, 156-158\nmouse tracking, 51-52\nmousepressed variable, 56-58\nmouseX/mouseY variables, 70, 92,\n188\nmove ( ) method, 143\nN\nnaming variables, 36\nnetwork data (see see APIs (appli-\ncation programming inter-\nfaces))\nnf ( ) function, 161\nnoFill ( ) function, 25\nnoStroke function, 25\nO\nobject-oriented programming\n(OOP), 135\nobjects, 135-148\narrays of, 158-161\nbasic concepts, 135-136\nclasses of, 137-142, 166\ncreating, 142-145\nfields and methods, 136\noperators, 39\norder of operations , 209\nPEMDAS, 40\nP\nparameters, 13, 202\nPDFs (see images)\nPEMDAS acronym, 40\npersistence of vision, 103\nPFont data, 135, 166, 207\nPImage data, 135, 166, 207\npins and lines, creating, 45\npixels, 13\nPNG image format, 93-94\npoint ( ) function, 14\npopMatrix ( ) function, 83\nprimitives, 165\nprintln ( ) function, 49\nPrintWriter class, 180\nProcessing\ndata folder, 89-90\ndownloading/launching, 7-8\nevolution of, xi-xii\nExamples and Reference, 11-12\nflexibility of, 2\nhistory of, 3\nlibraries, 183-191\nrelated languages and program\ndevelopment, 4-5\nspecial variables in, 38\ntabs feature, 145\nwebsite for sharing/networking,\n5\nProcessing Development Environ-\nment (PDE), 8\nPShape data, 135, 166, 207\n216 Index\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 477
  },
  {
    "chunk_full": "pushMatrix ( ) function, 83\nR\nradians, 18-20\nrandom ( ) function, 109-111\nrandom movements, 109-111\nrectangles\ncursor position relative to,\n64-66\ndrawing, 16\nrectMode ( ) function, 22\nReference and Examples, 11-12\nrelational expression, 42-43\nrelational operators, 42\nRGB color, 26\nrobot programs (examples)\narrays of objects, 162-164\ndrawing P5 robot, 32-33\ndrawRobot function, 131-133\ngenerating and reading data\nfiles, 180-182\nloading images from SVG/PNG\nfiles, 101-102\nmodifying code with variables,\n47-48\nmouse-responding shapes,\n72-74\nobjects, 147-148\nrandom and circular move-\nments, 118-119\ntranslate, rotate, and scale in,\n85-87\nrotate ( ) function, 77\nrotating coordinate system, 77-81\nrows and columns, creating with for\nloops, 45\nrule of variable scope, 211\nS\nSave command, 11\nsaveFrame ( ) function, 189\nscale ( ) function, 82\nscaling shapes, 82-83\nscope, variable, 211\nsensors, reading, 194-195\nSerial Library, 193\nsetup ( ) function, 50-51\nshape ( ) function, 98\nshapeMode ( ) function, 98\nshapes, 97-100\ncreating new, 99-100\ndrawing basic, 14-19\ndrawing with, 98\nmoving (see animation)\nproperties, 21-22\nscaling, 98-99\nwrapping around screen,\n105-107\nsin ( ) and cos ( ) functions, 113-116\nsine wave values/movement,\n115-116\nsize ( ) function, 14, 38\nsketching, 1-2\ncreating/saving sketches, 10-11\nexporting sketches, 11\nSketch menu, 10\nsmoothing lines with easing, 55\nsound, 184-189\nfundamentals of, 187\nmicrophones, 186-188\nplaying, 185-186\nsine wave, 187-189\nSoundFile class methods, 186\nspirals, creating, 116\nString data, 135, 166, 207\nstring values, 67\nstrings, storing text in, 97\nstroke ( ) function, 23, 25\nstroke weight consistency, 83\nstrokeCap ( ) function, 21\nstrokeJoin ( ) function, 22\nstrokeWeight ( ) function, 21\nSVG format, vector shapes in, 93\nT\nTable data, 166-172\ntabs, 145\ntest statement, 41-42\ntext\ndrawing in boxes, 96\nstoring in strings, 97\ntext ( ) function, 68, 95\nIndex 217\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 478
  },
  {
    "chunk_full": "Text Editor, 8\ntextSize ( ) function, 68, 95\ntimed events, triggering, 112-113\ntracking, mouse, 51-52\ntransformation effects, isolating,\n83\ntranslate ( ) function, 75-77, 126\ntranslating locations, 75-81\ntransparency control, 27\ntroublshooting (see bugs, detect-\ning and fixing)\nTSV files, 167\ntweening, in animation, 108-109\nU\nupdate statement, 41\nuppercase/lowercase letters in\ncode, 203\nV\nvalues\nof variables, 36\nvariable scope rule, 211\nvariables, 35-48, 143\narrays versus, 149-152\nchanging, 36\ncreating, 36-38\ndata types, 36\ndeclaring, 37\ndefined, 35\nfloat variable, 37\nlocal, 211\nand repetition, 40-45\nreusing identical values, 35\nrule of variable scope, 211\nvector shapes, 93, 97\nvertex ( ) function, 28, 29\nW\nWindows installation, 7\n218 Index\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 479
  },
  {
    "chunk_full": "About the Authors\nCasey Reas is a Professor at UCLA’s Department of Design\nMedia Arts. His software, prints, and installations have been fea-\ntured in numerous solo and group exhibitions at museums and\ngalleries in the United States, Europe, and Asia. Casey cofoun-\nded Processing with Ben Fry in 2001.\nBen Fry is principal of Fathom, a design and software consul-\ntancy located in Boston. He received his PhD from the Aesthet-\nics + Computation Group at the MIT Media Laboratory, where\nhis research focused on combining fields such as computer sci-\nence, statistics, graphic design, and data visualization as a\nmeans for understanding information. Ben cofounded Process-\ning with Casey Reas in 2001.\nColophon\nThe body typeface is Benton Sans designed by Tobias Frere-\nJones and Cyrus Highsmith. The code font is TheSansMono\nCondensed Regular by Luc(as) de Groot. The display typeface is\nSerifa designed by Adrian Frutiger.\n",
    "book_id": "getting_started_with_processing",
    "book_title": "Getting Started with Processing, 2E",
    "book_author": "Casey Reas and Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 480
  },
  {
    "chunk_full": "Getting \nStarted with \np5.js\nMaking Interactive Graphics in\nJavaScript and Processing\nLauren McCarthy, \nCasey Reas & Ben Fry\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 481
  },
  {
    "chunk_full": "Computers / Digital Media\nMake: Getting Started with p5.js\nWith Getting Started with p5.js, you’ll:\nLearn programming the fun way—by sketching with interactive computer \ngraphics! Getting Started with p5.js contains techniques that can be \napplied to creating games, animations, and interfaces.\np5.js is a new interpretation of Processing written in JavaScript that \nmakes it easy to interact with HTML5 objects, including text, input, video, \nwebcam, and sound. Like its older sibling Processing, p5.js makes coding \naccessible for artists, designers, educators, and beginners.\nWritten by the lead p5.js developer and the founders of Processing, this \nbook provides an introduction to the creative possibilities of today’s Web, \nusing JavaScript and HTML.\n»\t \u0007Quickly learn programming basics, from variables to objects\n»\t Understand the fundamentals of computer graphics\n»\t \u0007Create interactive graphics with easy-to-follow projects\n»\t Learn to apply data visualization techniques\n»\t Capture and manipulate webcam audio and video feeds in the browser\nMake: \nmakezine.com\nUS  $19.99   CAN  $22.99\nISBN: 978-1-4571-8677-6\nLauren McCarthy is an artist and a full-time faculty member at NYU \nInteractive Telecommunications Program. She was a resident at Eyebeam and \nthe Frank-Ratchye STUDIO for Creative Inquiry at Carnegie Mellon University. \nShe leads the development of p5.js.\nCasey Reas is a professor at UCLA’s Department of Design Media Arts. His \nsoftware, prints, and installations have been featured in numerous exhibitions \nat museums and galleries around the world. He cofounded Processing with \nBen Fry in 2001.\nBen Fry is the principal of Fathom, a Boston-based design and software \nconsultancy. In 2001, he cofounded Processing with Casey Reas while earning \nhis PhD from MIT’s Aesthetics + Computation Group, where he focused  on \nunderstanding information through data visualization by combining computer \nscience, statistics, and graphic design.\nWith p5.js, you can think of your entire Web browser \nas your canvas for sketching with code!\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 482
  },
  {
    "chunk_full": "Getting\nStarted\nwith p5.js\nLauren McCarthy, Casey Reas,\nand Ben Fry\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 483
  },
  {
    "chunk_full": "978-1-457-18677-6\n[LSI]\nMake: Getting Started with p5.js\nby Lauren McCarthy, Casey Reas, and Ben Fry\nCopyright © 2016 Maker Media. All rights reserved.\nPrinted in the United States of America.\nPublished by Maker Media, Inc., 1160 Battery Street East, Suite 125, San Francisco,\nCA 94111.\nMaker Media books may be purchased for educational, business, or sales promo-\ntional use. Online editions are also available for most titles (http://safaribookson-\nline.com). For more information, contact our corporate/institutional sales depart-\nment: 800-998-9938 or corporate@oreilly.com.\nEditor: Anna Kaziunas France\nProduction Editor: Kristen Brown\nCopyeditor: Jasmine Kwityn\nProofreader: Kim Cofer\nIndexer: Wendy Catalano\nInterior Designer: David Futato\nCover Designer: Karen Montgomery\nIllustrators: Taeyoon Choi and Rebecca\nDemarest\nOctober 2015:\n First Edition\nRevision History for the First Edition\n2015-09-25: First Release\nSee http://oreilly.com/catalog/errata.csp?isbn=9781457186776 for release details.\nThe Make logo and Maker Media logo are registered trademarks of Maker Media, Inc.\nMake: Getting Started with p5.js, the cover image, and related trade dress are trade-\nmarks of Maker Media, Inc.\nWhile the publisher and the authors have used good faith efforts to ensure that the\ninformation and instructions contained in this work are accurate, the publisher and\nthe authors disclaim all responsibility for errors or omissions, including without limi-\ntation responsibility for damages resulting from the use of or reliance on this work.\nUse of the information and instructions contained in this work is at your own risk. If\nany code samples or other technology this work contains or describes is subject to\nopen source licenses or the intellectual property rights of others, it is your responsi-\nbility to ensure that your use thereof complies with such licenses and/or rights.\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 484
  },
  {
    "chunk_full": "Contents\nPreface. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  xi\n1/Hello. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  1\nSketching and Prototyping. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  2\nFlexibility. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  3\nGiants. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  3\nFamily Tree. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  5\nJoin In. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  5\n2/Starting to Code. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  9\nEnvironment. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  9\nDownload and File Setup. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  9\nYour First Program. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  10\nExample 2-1: Draw an Ellipse. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  11\nExample 2-2: Make Circles. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  12\nThe Console. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  13\nMaking a New Project. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  14\nExamples and Reference. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  15\n3/Draw. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  17\nThe Canvas. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  18\nExample 3-1: Create a Canvas. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  18\nExample 3-2: Draw a Point. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  19\nBasic Shapes. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  19\nExample 3-3: Draw a Line. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  21\nExample 3-4: Draw Basic Shapes. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  21\nExample 3-5: Draw a Rectangle. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  22\nExample 3-6: Draw an Ellipse. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  22\nExample 3-7: Draw Part of an Ellipse. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  23\nExample 3-8: Draw with Degrees. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  24\nExample 3-9: Use angleMode. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  25\nDrawing Order. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  25\nExample 3-10: Control Your Drawing Order. . . . . . . . . . . . . . . . . . . . . . . .  26\niii\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 485
  },
  {
    "chunk_full": "Example 3-11: Put It in Reverse. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  27\nShape Properties. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  27\nExample 3-12: Set Stroke Weight. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  28\nExample 3-13: Set Stroke Attributes. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  28\nColor. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  29\nExample 3-14: Paint with Grays. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  31\nExample 3-15: Control Fill and Stroke. . . . . . . . . . . . . . . . . . . . . . . . . . . . .  31\nExample 3-16: Draw with Color. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  32\nExample 3-17: Set Transparency. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  33\nCustom Shapes. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  33\nExample 3-18: Draw an Arrow. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  34\nExample 3-19: Close the Gap. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  34\nExample 3-20: Create Some Creatures. . . . . . . . . . . . . . . . . . . . . . . . . . . .  35\nComments. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  36\nRobot 1: Draw. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  38\n4/Variables. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  41\nFirst Variables. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  41\nExample 4-1: Reuse the Same Values. . . . . . . . . . . . . . . . . . . . . . . . . . . . .  41\nExample 4-2: Change Values. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  42\nMaking Variables. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  43\np5.js Variables. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  43\nExample 4-3: Adjust the Canvas, See What Follows. . . . . . . . . . . . . . . . . .  44\nA Little Math. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  44\nExample 4-4: Basic Arithmetic. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  45\nRepetition. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  46\nExample 4-5: Do the Same Thing Over and Over. . . . . . . . . . . . . . . . . . . .  47\nExample 4-6: Use a for Loop. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  47\nExample 4-7: Flex Your for Loop’s Muscles. . . . . . . . . . . . . . . . . . . . . . . . .  49\nExample 4-8: Fanning Out the Lines. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  50\nExample 4-9: Kinking the Lines. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  50\nExample 4-10: Embed One for Loop in Another. . . . . . . . . . . . . . . . . . . . .  51\nExample 4-11: Rows and Columns. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  51\nExample 4-12: Pins and Lines. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  52\nExample 4-13: Halftone Dots. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  53\nRobot 2: Variables. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  54\n5/Response. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  59\nOnce and Forever. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  59\nExample 5-1: The draw() Function. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  59\nExample 5-2: The setup() Function. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  60\nExample 5-3: setup(), Meet draw(). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  61\niv Contents\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 486
  },
  {
    "chunk_full": "Follow. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  61\nExample 5-4: Track the Mouse. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  62\nExample 5-5: The Dot Follows You. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  62\nExample 5-6: Draw Continuously. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  63\nExample 5-7: Set Thickness on the Fly. . . . . . . . . . . . . . . . . . . . . . . . . . . .  64\nExample 5-8: Easing Does It. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  65\nExample 5-9: Smooth Lines with Easing. . . . . . . . . . . . . . . . . . . . . . . . . . .  67\nClick. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  68\nExample 5-10: Click the Mouse. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  68\nExample 5-11: Detect When Not Clicked. . . . . . . . . . . . . . . . . . . . . . . . . . .  70\nExample 5-12: Multiple Mouse Buttons. . . . . . . . . . . . . . . . . . . . . . . . . . . .  71\nLocation. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  72\nExample 5-13: Find the Cursor. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  73\nExample 5-14: The Bounds of a Circle. . . . . . . . . . . . . . . . . . . . . . . . . . . . .  74\nExample 5-15: The Bounds of a Rectangle. . . . . . . . . . . . . . . . . . . . . . . . .  75\nType. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  78\nExample 5-16: Tap a Key. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  78\nExample 5-17: Draw Some Letters. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  79\nExample 5-18: Check for Specific Keys. . . . . . . . . . . . . . . . . . . . . . . . . . . .  79\nExample 5-19: Move with Arrow Keys. . . . . . . . . . . . . . . . . . . . . . . . . . . . .  80\nTouch. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  81\nExample 5-20: Touch the Screen. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  81\nExample 5-21: Track the Finger. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  82\nMap. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  82\nExample 5-22: Map Values to a Range. . . . . . . . . . . . . . . . . . . . . . . . . . . . .  82\nExample 5-23: Map with the map() Function. . . . . . . . . . . . . . . . . . . . . . . .  83\nRobot 3: Response. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  84\n6/Translate, Rotate, Scale. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  89\nTranslate. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  89\nExample 6-1: Translating Location. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  90\nExample 6-2: Multiple Translations. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  91\nRotate. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  91\nExample 6-3: Corner Rotation. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  92\nExample 6-4: Center Rotation. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  93\nExample 6-5: Translation, Then Rotation. . . . . . . . . . . . . . . . . . . . . . . . . . .  93\nExample 6-6: Rotation, Then Translation. . . . . . . . . . . . . . . . . . . . . . . . . . .  94\nExample 6-7: An Articulating Arm. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  95\nScale. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  96\nExample 6-8: Scaling. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  97\nExample 6-9: Keeping Strokes Consistent. . . . . . . . . . . . . . . . . . . . . . . . . .  97\nPush and Pop. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  98\nContents v\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 487
  },
  {
    "chunk_full": "Example 6-10: Isolating Transformations. . . . . . . . . . . . . . . . . . . . . . . . . . .  98\nRobot 4: Translate, Rotate, Scale. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  99\n7/Media. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  103\nImages. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  104\nExample 7-1: Load an Image. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  104\nExample 7-2: Load More Images. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  105\nExample 7-3: Mousing Around with Images. . . . . . . . . . . . . . . . . . . . . . . .  106\nExample 7-4: Transparency with a GIF. . . . . . . . . . . . . . . . . . . . . . . . . . . .  108\nExample 7-5: Transparency with a PNG. . . . . . . . . . . . . . . . . . . . . . . . . . .  108\nExample 7-6: Displaying an SVG Image. . . . . . . . . . . . . . . . . . . . . . . . . . .  109\nAsynchronicity. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  110\nExample 7-7: Demonstrating Asynchronicity. . . . . . . . . . . . . . . . . . . . . . .  110\nExample 7-8: Loading with a Callback. . . . . . . . . . . . . . . . . . . . . . . . . . . .  111\nFonts. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  112\nExample 7-9: Drawing with Fonts. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  112\nExample 7-10: Use a Webfont. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  113\nExample 7-11: Load a Custom Font. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  114\nExample 7-12: Set the Text Stroke and Fill. . . . . . . . . . . . . . . . . . . . . . . .  115\nExample 7-13: Draw Text in a Box. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  116\nExample 7-13: Store Text in a Variable. . . . . . . . . . . . . . . . . . . . . . . . . . .  116\nRobot 5: Media. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  117\n8/Motion. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  121\nFrames. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  121\nExample 8-1: See the Frame Rate. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  121\nExample 8-2: Set the Frame Rate. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  122\nSpeed and Direction. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  122\nExample 8-3: Move a Shape. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  123\nExample 8-4: Wrap Around. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  124\nExample 8-5: Bounce Off the Wall. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  125\nTweening. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  126\nExample 8-6: Calculate Tween Positions. . . . . . . . . . . . . . . . . . . . . . . . . .  126\nRandom. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  127\nExample 8-7: Generate Random Values. . . . . . . . . . . . . . . . . . . . . . . . . . .  128\nExample 8-8: Draw Randomly. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  128\nExample 8-9: Move Shapes Randomly. . . . . . . . . . . . . . . . . . . . . . . . . . . .  129\nTimers. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  130\nExample 8-10: Time Passes. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  130\nExample 8-11: Triggering Timed Events. . . . . . . . . . . . . . . . . . . . . . . . . .  130\nCircular. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  131\nExample 8-12: Sine Wave Values. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  133\nvi Contents\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 488
  },
  {
    "chunk_full": "Example 8-13: Sine Wave Movement. . . . . . . . . . . . . . . . . . . . . . . . . . . . .  133\nExample 8-14: Circular Motion. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  134\nExample 8-15: Spirals. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  135\nRobot 6: Motion. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  136\n9/Functions. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  139\nFunction Basics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  140\nExample 9-1: Roll the Dice. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  140\nExample 9-2: Another Way to Roll. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  141\nMake a Function. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  142\nExample 9-3: Draw the Owl. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  142\nExample 9-4: Two’s Company. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  143\nExample 9-5: An Owl Function. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  144\nExample 9-6: Increasing the Surplus Population. . . . . . . . . . . . . . . . . . . .  146\nExample 9-7: Owls of Different Sizes. . . . . . . . . . . . . . . . . . . . . . . . . . . . .  147\nReturn Values. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  148\nExample 9-8: Return a Value. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  148\nRobot 7: Functions. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  149\n10/Objects. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  153\nProperties and Methods. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  153\nDefine a Constructor. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  154\nCreate Objects. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  159\nExample 10-1: Make an Object. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  159\nExample 10-2: Make Multiple Objects. . . . . . . . . . . . . . . . . . . . . . . . . . . .  160\nRobot 8: Objects. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  162\n11/Arrays. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  165\nFrom Variables to Arrays. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  165\nExample 11-1: Many Variables. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  165\nExample 11-2: Too Many Variables. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  166\nExample 11-3: Arrays, Not Variables. . . . . . . . . . . . . . . . . . . . . . . . . . . . .  167\nMake an Array. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  168\nExample 11-4: Declare and Assign an Array. . . . . . . . . . . . . . . . . . . . . . .  169\nExample 11-5: Assigning to an Array in One Go. . . . . . . . . . . . . . . . . . . .  170\nExample 11-6: Revisiting the First Example. . . . . . . . . . . . . . . . . . . . . . . .  170\nRepetition and Arrays. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  171\nExample 11-7: Filling an Array in a for Loop. . . . . . . . . . . . . . . . . . . . . . .  171\nExample 11-8: Track Mouse Movements. . . . . . . . . . . . . . . . . . . . . . . . . .  172\nArrays of Objects. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  174\nExample 11-9: Managing Many Objects. . . . . . . . . . . . . . . . . . . . . . . . . . .  175\nExample 11-10: Sequences of Images. . . . . . . . . . . . . . . . . . . . . . . . . . . .  176\nContents vii\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 489
  },
  {
    "chunk_full": "Robot 9: Arrays. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  177\n12/Data. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  181\nData Summary. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  181\nTables. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  182\nExample 12-1: Read the Table. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  183\nExample 12-2: Draw the Table. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  184\nExample 12-3: 29,740 Cities. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  185\nJSON. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  187\nExample 12-4: Read a JSON File. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  189\nExample 12-5: Visualize Data from a JSON File. . . . . . . . . . . . . . . . . . . .  189\nNetwork Data and APIs. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  191\nExample 12-6: Parsing the Weather Data. . . . . . . . . . . . . . . . . . . . . . . . .  194\nExample 12-7: Chaining Methods. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  195\nRobot 10: Data. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  196\n13/Extend. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  201\np5.sound. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  202\nExample 13-1: Play a Sample. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  202\nExample 13-2: Listen to a Mic. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  203\nExample 13-3: Create a Sine Wave. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  205\np5.dom. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  206\nExample 13-4: Access the Webcam. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  207\nExample 13-5: Create a Slider. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  208\nExample 13-6: Create an Input Box. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  208\nA/Coding Tips. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  211\nB/Order of Operations. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  215\nC/Variable Scope. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  217\nIndex. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  221\nviii Contents\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 490
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 491
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 492
  },
  {
    "chunk_full": "Preface\np5.js draws inspiration and guidance\nfrom another project, which began nearly\n15 years ago. In 2001, Casey Reas and\nBen Fry began work on a new platform to\nmake programming interactive graphics\neasier; they called it Processing. They\nwere frustrated with how difficult it was to\nwrite this type of software with the pro-\ngramming languages they usually used\n(C++ and Java), and were inspired by\nhow simple it was to write interesting pro-\ngrams with the languages of their child-\nhood (Logo and BASIC). They were most\ninfluenced by Design By Numbers (DBN),\na language they were maintaining and\nteaching at the time (and which was cre-\nated by their research advisor, John\nMaeda).\nWith Processing, Ben and Casey were searching for a better way\nto test their ideas easily in code, rather than just talking about\nthem or spending too much time programming them in C++.\nTheir other goal was to make a language for teaching design and\nart students how to program and to give more technical stu-\ndents an easier way to work with graphics. The combination is a\npositive departure from the way programming is usually taught.\nxi\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 493
  },
  {
    "chunk_full": "New users begin by focusing on graphics and interaction rather\nthan on data structures and text console output.\nOver the years, Processing has grown into a huge community. It\nis used in classrooms worldwide, in arts, humanities, and com-\nputer science curricula, as well as by professionals.\nTwo years ago, Ben and Casey approached me with a question:\nwhat would Processing look like if it were on the Web? p5.js\nstarts with the original goal of Processing, to make coding\naccessible for artists, designers, educators, and beginners, then\nreinterprets it for today’s Web using JavaScript and HTML.\nDeveloping p5.js has felt like bringing different worlds together.\nTo ease the transition to the Web for the existing community of\nProcessing users, we adhered to the syntax and conventions of\nProcessing as much as possible. However, p5.js is built with\nJavaScript, while Processing is built with a language called Java.\nThese two languages have different patterns and affordances,\nso at times we had to deviate from familiar Processing syntax. It\nwas also important that p5.js integrated seamlessly into all the\nexisting web features, tools, and frameworks in order to draw in\nusers that might be familiar with the Web but new to creative\ncoding. Synthesizing all of these factors was a challenge, but the\ngoal of uniting these frameworks provided a clear path for the\ndevelopment of p5.js.\nA first beta version was launched in August 2014. Since then, it\nhas been used and integrated into curricula around the world.\nThere is an official p5.js Editor currently in development, and\nprogress is underway on many new features and libraries.\np5.js is a community effort—hundreds of people have contrib-\nuted core features, bug fixes, examples, documentation, design,\nthoughts, and discussion. We aim to carry on the vision and the\nspirit of the Processing community as we open it up even more\non the Web.\nxii Preface\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 494
  },
  {
    "chunk_full": "How This Book Is Organized\nThe chapters in this book are organized as follows:\n• 1/Hello: Learn about p5.js.\n• 2/Starting to Code: Create your first p5.js program.\n• 3/Draw: Define and draw simple shapes.\n• 4/Variables: Store, modify, and reuse data.\n• 5/Response: Control and influence programs with the\nmouse, keyboard, and touch.\n• 6/Translate, Rotate, Scale: Transform the coordinates.\n• 7/Media: Load and display media, including images and\nfonts.\n• 8/Motion: Move and choreograph shapes.\n• 9/Functions: Build new code modules.\n• 10/Objects: Create code modules that combine variables\nand functions.\n• 11/Arrays: Simplify working with lists of variables.\n• 12/Data: Load and visualize data.\n• 13/Extend: Learn about sound and the DOM.\nWho This Book Is For\nThis book is written for people who want to create images and\nsimple interactive programs through a casual and concise intro-\nduction to computer programming. It’s for people who want a\njump-start on understanding the thousands of free p5.js code\nexamples and reference materials available online. Getting\nStarted with p5.js is not a programming textbook; as the title\nsuggests, it will get you started. It’s for teenagers, hobbyists,\ngrandparents, and everyone in between.\nThis book is also appropriate for people with programming\nexperience who want to learn the basics of interactive computer\ngraphics. Getting Started with p5.js contains techniques that\ncan be applied to creating games, animations, and interfaces.\nPreface xiii\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 495
  },
  {
    "chunk_full": "Conventions Used in This Book\nThe following typographical conventions are used in this book:\nItalic\nIndicates new terms, URLs, email addresses, filenames, and\nfile extensions.\nConstant width\nUsed for program listings, as well as within paragraphs to\nrefer to program elements such as variable or function\nnames, databases, data types, environment variables, state-\nments, and keywords.\nConstant width italic\nShows text that should be replaced with user-supplied val-\nues or by values determined by context.\nThis type of paragraph signifies a general note.\nUsing Code Examples\nSupplemental material (code examples, exercises, etc.) is avail-\nable for download at https://github.com/lmccart/gswp5.js-code.\nThis book is here to help you get your job done. In general, you\nmay use the code in this book in your programs and documen-\ntation. You do not need to contact us for permission unless\nyou’re reproducing a significant portion of the code. For exam-\nple, writing a program that uses several chunks of code from\nthis book does not require permission. Selling or distributing a\nCD-ROM of examples from Make: books does require permis-\nsion. Answering a question by citing this book and quoting\nexample code does not require permission. Incorporating a sig-\nnificant amount of example code from this book into your pro-\nduct’s documentation does require permission.\nWe appreciate, but do not require, attribution. An attribution\nusually includes the title, author, publisher, and ISBN. For exam-\nple: “Make: Getting Started with p5.js by Lauren McCarthy,\nxiv Preface\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 496
  },
  {
    "chunk_full": "Casey Reas, and Ben Fry. Copyright 2015 Maker Media, Inc.,\n978-1-457-18677-6.”\nIf you feel your use of code examples falls outside fair use or the\npermission given here, feel free to contact us at permis-\nsions@oreilly.com.\nSafari® Books Online\nSafari Books Online is an on-demand digital library that delivers\nexpert content in both book and video form from the world’s\nleading authors in technology and business.\nTechnology professionals, software developers, web designers,\nand business and creative professionals use Safari Books Online\nas their primary resource for research, problem solving, learn-\ning, and certification training.\nSafari Books Online offers a range of plans and pricing for enter-\nprise, government, education, and individuals.\nMembers have access to thousands of books, training videos,\nand prepublication manuscripts in one fully searchable data-\nbase from publishers like Maker Media, O’Reilly Media, Prentice\nHall Professional, Addison-Wesley Professional, Microsoft Press,\nSams, Que, Peachpit Press, Focal Press, Cisco Press, John Wiley\n& Sons, Syngress, Morgan Kaufmann, IBM Redbooks, Packt,\nAdobe Press, FT Press, Apress, Manning, New Riders, McGraw-\nHill, Jones & Bartlett, Course Technology, and hundreds more.\nFor more information about Safari Books Online, please visit us\nonline.\nHow to Contact Us\nPlease address comments and questions concerning this book\nto the publisher:\nMaker Media, Inc.\n1160 Battery Street East, Suite 125\nSan Francisco, California 94111\n800-998-9938 (in the United States or Canada)\nhttp://makermedia.com/contact-us/\nPreface xv\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 497
  },
  {
    "chunk_full": "Make: unites, inspires, informs, and entertains a growing com-\nmunity of resourceful people who undertake amazing projects in\ntheir backyards, basements, and garages. Make: celebrates your\nright to tweak, hack, and bend any technology to your will. The\nMake: audience continues to be a growing culture and commu-\nnity that believes in bettering ourselves, our environment, our\neducational system—our entire world. This is much more than\nan audience, it’s a worldwide movement that Make: is leading—\nwe call it the Maker Movement.\nFor more information about Make:, visit us online:\nMake: magazine: http://makezine.com/magazine/\nMaker Faire: http://makerfaire.com\nMakezine.com: http://makezine.com\nMaker Shed: http://makershed.com/\nAcknowledgments\nWe thank Brian Jepson and Anna Kaziunas France for their great\nenergy, support, and insight.\nWe can’t imagine this book without Massimo Banzi’s Getting\nStarted with Arduino (Maker Media). Massimo’s excellent book\nis the prototype.\nA small group of individuals has, for years, contributed essential\ntime and energy to Processing. Dan Shiffman is our partner in\nthe Processing Foundation, the 501(c)(3) organization that sup-\nports the Processing software. Much of the core code for Pro-\ncessing 2.0 and 3.0 has come from the sharp minds of Andres\nColubri and Manindra Moharana. Scott Murray, Jamie Kosoy,\nand Jon Gacnik have built a wonderful web infrastructure for the\nproject. James Grady is rocking the 3.0 user interface. We thank\nFlorian Jenett for his years of diverse work on the project includ-\ning the forums, website, and design. Elie Zananiri and Andreas\nSchlegel have created the infrastructure for building and docu-\nmenting contributed libraries, and have spent countless hours\ncurating the lists. Many others have contributed significantly to\nthe project; the precise data is available at https://github.com/\nprocessing.\nxvi Preface\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 498
  },
  {
    "chunk_full": "This book grew out of teaching with Processing at UCLA. Chan-\ndler McWilliams has been instrumental in defining these\nclasses. Casey thanks the undergraduate students in the\nDepartment of Design Media Arts at UCLA for their energy and\nenthusiasm. His teaching assistants have been great collabora-\ntors in defining how Processing is taught. Hats off to Tatsuya\nSaito, John Houck, Tyler Adams, Aaron Siegel, Casey Alt,\nAndres Colubri, Michael Kontopoulos, David Elliot, Christo Alle-\ngra, Pete Hawkes, and Lauren McCarthy.\np5.js is developed by a large community of contributors around\nthe world. Dan Shiffman, Jason Sigal, Sam Lavigne, K.Adam\nWhite, Chandler McWilliams, Evelyn Eastmond, the members of\nthe p5 working group at ITP, the attendees of the first p5.js Con-\ntributor’s Conference at the Frank-Ratchye STUDIO for Creative\nInquiry at Carnegie Mellon University, and the students and\nmentors of Processing Google Summer of Code have been\ninstrumental in bringing p5.js from its early days to where it is\ntoday. Significant support for the project has been provided by\nthe Processing Foundation, NYU ITP, RISD, and Bocoup. You can\nview the full list of contributors at http://p5js.org/contribute/\n#contributors. Lauren also thanks Kyle McDonald for his perpet-\nual support and inspiration.\nThis book is transformed by Taeyoon Choi’s artful illustrations.\nThey were developed in part through a residency at the Frank-\nRatchye STUDIO for Creative Inquiry at Carnegie Mellon Univer-\nsity, with support from the Art Works program of the National\nEndowment for the Arts. Charlotte Stiles helped tremendously\nwith editing the examples and images for this book.\nThrough founding the Aesthetics and Computation Group\n(1996–2002) at the MIT Media Lab, John Maeda made all of this\npossible.\nPreface xvii\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 499
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 500
  },
  {
    "chunk_full": "1/Hello\np5.js is for  writing software to make\nimages, animations, and interactions.\nThe idea is to write a single line of code,\nand have a circle show up on the screen.\nAdd a few more lines of code, and the cir-\ncle follows the mouse. Another line of\ncode, and the circle changes color when\nthe mouse is pressed. We call  this\nsketching with code. You write one line,\nthen add another, then another, and so\non. The result is a program created one\npiece at a time.\nProgramming courses typically focus on structure and theory\nfirst. Anything visual—an interface, an animation—is considered\na dessert to be enjoyed only after finishing your vegetables, usu-\nally several weeks of studying algorithms and methods. Over the\nyears, we’ve watched many friends try to take such courses only\nto drop out after the first lecture or after a long, frustrating night\nbefore the first assignment deadline. What initial curiosity they\nhad about making the computer work for them was lost\nbecause they couldn’t see a path from what they had to learn\nfirst to what they wanted to create.\np5.js offers a way to learn programming through creating inter-\nactive graphics. There are many possible ways to teach coding,\nbut students often find encouragement and motivation in imme-\ndiate visual feedback. p5.js provides this feedback, and its\nemphasis on images, sketching, and community is discussed in\nthe next few pages.\n1\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 501
  },
  {
    "chunk_full": "Sketching and Prototyping\nSketching  is a way of thinking; it’s playful and quick. The basic\ngoal is to explore many ideas in a short amount of time. In our\nown work, we usually start by sketching on paper and then mov-\ning the results into code. Ideas for animation and interactions\nare usually sketched as storyboards with notations. After mak-\ning some software sketches, the best ideas are selected and\ncombined into prototypes (Figure 1-1). It’s a cyclical process of\nmaking, testing, and improving that moves back and forth\nbetween paper and screen.\nFigure 1-1. As drawings move from sketchbook to screen, new\npossibilities emerge\n2 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 502
  },
  {
    "chunk_full": "1 http://www.atariarchives.org/artist/\nFlexibility\nLike a software utility belt, p5.js consists of many tools that\nwork together in different combinations. As a result, it can be\nused for quick hacks or for in-depth research. Because a p5.js\nprogram can be as short as a few lines or as long as thousands,\nthere’s room for growth and variation. Libraries extend p5.js\neven further into domains including playing with sound and\nadding buttons, sliders, input boxes, and webcam capture with\nHTML.\nGiants\nPeople have been making pictures with computers since the\n1960s, and there’s much to be learned from this history. For\nexample, before computers could display to CRT or LCD\nscreens, huge plotter machines (Figure 1-2) were used to draw\nimages. In life, we all stand on the shoulders of giants, and the\ntitans for p5.js include thinkers from design, computer graphics,\nart, architecture, statistics, and the spaces between. Have a\nlook at Ivan Sutherland’s Sketchpad (1963), Alan Kay’s Dyna-\nbook (1968), and the many artists featured in Ruth Leavitt’s\nArtist and Computer1 (Harmony Books, 1976). The ACM SIG-\nGRAPH and Ars Electronica archives provide fascinating glimp-\nses into the history of graphics and software.\nHello 3\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 503
  },
  {
    "chunk_full": "Figure 1-2. Drawing demonstration by Manfred Mohr at Musée\nd’Art Moderne de la Ville de Paris using the Benson plotter and a\ndigital computer on May 11, 1971 (photo by Rainer Mürle, cour-\ntesy bitforms gallery, New York)\n4 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 504
  },
  {
    "chunk_full": "Family Tree\nLike human languages, programming languages belong to fami-\nlies of related languages. p5.js is a dialect of a programming lan-\nguage called JavaScript. The language syntax is almost identi-\ncal, but p5.js adds custom features related to graphics and\ninteraction (Figure 1-3) and provides easier access to native\nHTML5 features already supported by the browser. Because of\nthese shared features, learning p5.js is an entry-level step to\nprogramming in other languages and using different software\ntools.\nFigure 1-3. p5.js has a large family of related languages and pro-\ngramming environments\nJoin In\nThousands of people use p5.js every day. Like them, you can\ndownload p5.js for free. You even have the option to modify the\np5.js code to suit your needs. p5.js is a FLOSS project (that is,\nfree/libre/open source software), and in the spirit of community,\nwe encourage you to participate by sharing your projects and\nknowledge online  at http://p5js.org (Figure 1-4).\nHello 5\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 505
  },
  {
    "chunk_full": "Figure 1-4. p5.js is fueled by a community of people contribu-\nting through the Internet\n6 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 506
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 507
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 508
  },
  {
    "chunk_full": "2/Starting to Code\nTo get the most out of this book, you\nneed to do more than just read the\nwords. You need to experiment and prac-\ntice. You can’t learn to code just by read-\ning about it—you need to do it. To get\nstarted, download p5.js and make your\nfirst sketch.\nEnvironment\nFirst, you’ll need to get a  code editor. A code editor is similar to\na text editor (like Notepad or Notes), except it has special func-\ntionality for editing code instead of plain text. You can use any\ncode editor you like; we recommend Atom and Brackets, both of\nwhich can be downloaded online.\nThere is also an official p5.js editor in development. If you would\nlike to use it, you can download it by visiting http://p5js.org/\ndownload and selecting the button under “Editor.” If you are\nusing the p5.js editor, you can skip ahead to “Your First Pro-\ngram” on page 10.\nDownload and File Setup\nStart by visiting http://p5js.org/download and selecting “p5.js\ncomplete.” Double-click the .zip file that downloads, and drag\nthe folder inside to a location on your hard disk. It could be Pro-\ngram Files or Documents or simply the desktop, but the impor-\ntant thing is for the p5 folder to be pulled out of that .zip file.\nThe p5 folder contains an example project that you can begin\nworking from. Open your code editor. Next, you’ll want to open\n9\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 509
  },
  {
    "chunk_full": "the folder named empty-example in your code editor. In most\ncode editors, you can do this by going to the File menu in your\neditor and choosing Open..., then selecting the folder empty-\nexample. You’re now all set up and ready to begin your first pro-\ngram!\nYour First Program\nWhen you open the empty-example folder, you will likely see a\nsidebar with the folder name at the top, and a list of the files\ncontained in the folder directly below. If you click each of these\nfiles, you will see the contents of the file appear in the main area.\nA p5.js sketch is made from a few different languages used\ntogether. HTML (HyperText Markup Language) provides the\nbackbone, linking all the other elements together in a page.\nJavaScript (and the p5.js library) enable you to create interac-\ntive graphics that display on your HTML page. Sometimes CSS\n(Cascading Style Sheets) are used to further style elements on\nthe HTML page, but we won’t cover that in this book.\nIf you look at the index.html file, you’ll notice that there is some\nHTML code there. This file provides the structure for your\nproject, linking together the p5.js library, and another file called\nsketch.js, which is where you will write your own program. The\ncode that creates these links look like this:\n<script language=\"javascript\" type=\"text/javascript\" src=\"../\np5.js\"></script>\n<script language=\"javascript\" type=\"text/javascript\" \nsrc=\"sketch.js\"></script>\nYou don’t need to do anything with the HTML file at this point—\nit’s all set up for you. Next, click sketch.js and take a look at the\ncode:\nfunction setup() {\n  // put setup code here\n}\nfunction draw() {\n  // put drawing code here\n}\n10 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 510
  },
  {
    "chunk_full": "The template code contains two blocks, or functions, setup()\nand draw(). You can put code in either place, and there is a spe-\ncific purpose for each.\nAny code involved in setting up the initial state of your program\ngoes in the setup() block. For now, we’ll leave it empty, but later\nin the book, you’ll add code here to set the size of your graphics\ncanvas, the weight of your stroke, or the speed of your program.\nAny code involved in actually drawing to the screen (setting the\nbackground color, or drawing shapes, text, or images) will be\nplaced in the draw() block. This is where you’ll begin writing\nyour first lines of code.\nExample 2-1: Draw an Ellipse\nWithin the curly braces of the draw() block, delete the\ntext // put drawing code here and replace it with the following:\nbackground(204);\nellipse(50, 50, 80, 80);\nYour full program should look like this:\nfunction setup() {\n  // put setup code here\n}\nfunction draw() {\n  background(204);\n  ellipse(50, 50, 80, 80);\n}\nThis new line of code means “draw an ellipse, with the center 50\npixels over from the left and 50 pixels down from the top, with a\nwidth and height of 80 pixels.” Save the code by pressing\nCommand-S, or choosing File→Save from the menu.\nTo view the running code, you can open the index.html file in any\nweb browser (like Chrome, Firefox, or Safari). Navigate to the\nempty-example folder in your filesystem, and double-click\nindex.html to open it. Alternatively, in your browser, choose\nFile→Open and select the index.html file.\nIf you’ve typed everything correctly, you’ll see a circle in the\nbrowser. If you don’t see it, make sure that you’ve copied the\nStarting to Code 11\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 511
  },
  {
    "chunk_full": "example code exactly. The numbers should be contained within\nparentheses and have commas between each of them. The line\nshould end with a semicolon.\nOne of the most difficult things about getting started with pro-\ngramming is that you have to be very specific about the syntax.\nThe p5.js software isn’t always smart enough to know what you\nmean, and can be quite fussy about the placement of punctua-\ntion. You’ll get used to it with a little practice.\nNext, we’ll skip ahead to a sketch that’s a little more exciting.\nExample 2-2: Make Circles\nDelete the text from the last example, and try this one. Save\nyour code, and reopen or refresh (Command-R) index.html in\nyour browser to see it update.\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  if (mouseIsPressed) {\n    fill(0);\n  } else {\n    fill(255);\n  }\n  ellipse(mouseX, mouseY, 80, 80);\n}\n12 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 512
  },
  {
    "chunk_full": "This program creates a graphics canvas that is 480 pixels wide\nand 120 pixels high, and then starts drawing white circles at the\nposition of the mouse. When a mouse button is pressed, the cir-\ncle color changes to black. We’ll explain more about the ele-\nments of this program in detail later. For now, run the code,\nmove the mouse, and click to experience   it.\nThe Console\nThe browser comes with a built-in console that can be very use-\nful for debugging programs. Each browser has a different way to\nopen the console. Here’s how to do it in some of the most com-\nmon browsers:\n• To open the console with Chrome, from the top menu select\nView→Developer→JavaScript Console.\n• With Firefox, from the top menu select Tools→Web Devel-\noper→Web Console.\n• Using Safari, you’ll need to enable the functionality before\nyou can use it. From the top menu, select Preferences, then\nclick the Advanced tab and check the box next to the text\n“Show Develop menu in menu bar.” Once you’ve done this,\nyou’ll be able to select Develop→Show Error Console.\n• In Internet Explorer, open the F12 Developer Tools, then\nselect the Console tool.\nYou should now see a box appear at the bottom or side of your\nscreen (Figure 2-1). If there is a typo or other error in your pro-\ngram, you may see some red text explaining what the error is.\nThis text can sometimes be a bit cryptic, but if you look to the\nrighthand side of the line, you will notice a filename and line\nnumber where the error is detected. This is a good place to look\nfirst for errors in your program.\nStarting to Code 13\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 513
  },
  {
    "chunk_full": "Figure 2-1. Example view of an error in the console (the appear-\nance and layout will vary based on the browser used)\nMaking a New Project\nYou’ve created one sketch from the empty example, but how do\nyou make a new project?  The easiest way to do this is to locate\nthe empty-example folder in your filesystem, then copy and\npaste it to create a second empty-example. You can rename the\nfolder to anything you like—for example, Project-2.\nYou can now open this folder in your code editor and begin mak-\ning a new sketch. When you want to view it in the browser, open\nthe index.html within your new Project-2 folder.\nIt’s always a good idea to save your sketches often. As you try\ndifferent things, keep saving with different names (File→Save\nAs), so that you can always go back to an earlier version. This is\nespecially helpful if—no, when—something  breaks.\n14 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 514
  },
  {
    "chunk_full": "A common mistake is to be editing one project but\nviewing a different one in the browser, preventing\nany of your changes from showing up. If you notice\nthat your program looks the same despite changes\nto your code, double-check that you are viewing the\nright index.html file.\nExamples and Reference\nLearning  how to program with p5.js involves exploring lots of\ncode: running, altering, breaking, and enhancing it until you\nhave reshaped it into something new. With this in mind, the p5.js\nwebsite has dozens of examples that demonstrate different fea-\ntures of the library. Visit the Examples page to see them. You\ncan play with them by editing the code of each example on the\npage and clicking “run.” The examples are grouped into cate-\ngories based on their function, such as Form, Color, and Image.\nFind an interesting topic in the list and try an example.\nIf you see a part of the program you’re unfamiliar with or want to\nlearn more about its functionality, visit the p5.js Reference.\nThe p5.js Reference explains every code element with a descrip-\ntion and examples. The Reference programs are much shorter\n(usually four or five lines) and easier to follow than the examples\non the Learn page. Note that these examples often omit setup()\nand draw() for simplicity, but the lines you see there are\nintended to be put inside one of these blocks in order to run. We\nrecommend keeping the Reference open while you’re reading\nthis book and while you’re programming. It can be navigated by\ntopic or by using the search bar at the top of the page.\nThe Reference was written with the beginner in mind; we hope\nthat we’ve made it clear and understandable. We’re grateful to\nthe many people who’ve spotted errors and reported them. If\nyou think you can improve a reference entry or that you’ve\nfound a mistake, please let us know by clicking the link at the\nbottom of each reference page.\nStarting to Code 15\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 515
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 516
  },
  {
    "chunk_full": "3/Draw\nAt first, drawing on a computer screen is\nlike working on graph paper. It starts as a\ncareful technical procedure, but as new\nconcepts are introduced, drawing simple\nshapes with software expands into ani-\nmation and interaction. Before we make\nthis jump, we need to start at the begin-\nning.\nA computer screen is a grid of light elements called pixels. Each\npixel has a position within the grid defined by coordinates. When\nyou create a p5.js sketch, you view it with a web browser. Within\nthe window of the browser, p5.js creates a drawing canvas, an\narea in which graphics are drawn. The canvas may be the same\nsize as the window, or it may have different dimensions. The\ncanvas is usually positioned at the top left of your window, but\nyou can position it in other locations.\nWhen drawing on the canvas, the x coordinate is the distance\nfrom the left edge of the canvas and the y coordinate is the dis-\ntance from the top edge. We write coordinates of a pixel like this: \n(x, y). So, if the canvas is 200×200 pixels, the upper left is (0,\n0), the center is at (100, 100), and the lower right is (199, 199).\nThese numbers may seem confusing; why do we go from 0 to\n199 instead of 1 to 200? The answer is that in code, we usually\ncount from 0 because it’s easier for calculations that we’ll get\ninto later.\n17\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 517
  },
  {
    "chunk_full": "The Canvas\nThe canvas is created and images are drawn inside through\ncode elements called functions. Functions are the basic building\nblocks of a p5.js program. The behavior of a function is defined\nby its parameters. For example, almost every p5.js program has\na createCanvas() function that creates a drawing canvas with a\nspecific width and height. If your program doesn’t have a create\nCanvas() function, a canvas with dimensions 100×100 pixels is\ncreated.\nExample 3-1: Create a Canvas\nThe createCanvas() function has two parameters; the first sets\nthe width of the drawing canvas, and the second sets the height.\nTo draw a canvas that is 800 pixels wide and 600 pixels high,\ntype:\nfunction setup() {\n  createCanvas(800, 600);\n}\nRun this line of code to see the result. Put in different values to\nsee what’s possible. Try very small numbers and numbers larger\nthan your screen.\n18 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 518
  },
  {
    "chunk_full": "Example 3-2: Draw a Point\nTo set the color of a single pixel within the canvas, we use the\npoint() function. It has two parameters that define a position:\nthe x coordinate followed by the y coordinate. To create a small\ncanvas and a point at the center of it, coordinate (240, 60),\ntype:\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(204);\n  point(240, 60);\n}\nTry to write a program that puts a point at each corner of the\ndrawing canvas and one in the center. Then take a stab at plac-\ning points side by side to make horizontal, vertical, and diagonal \nlines.\nBasic Shapes\np5.js includes a group of functions to draw basic shapes (see\nFigure 3-1). Simple shapes like lines can be combined to create\nmore complex forms like a leaf or a face.\nTo draw a  single line, we need four parameters: two for the\nstarting location and two for the end.\nDraw 19\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 519
  },
  {
    "chunk_full": "Figure 3-1. Shapes and their coordinates\n20 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 520
  },
  {
    "chunk_full": "Example 3-3: Draw a Line\nTo draw a line between coordinate (20, 50) and (420, 110), try:\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(204);\n  line(20, 50, 420, 110);\n}\n \nExample 3-4: Draw Basic Shapes\nFollowing this pattern, a triangle needs six parameters and a\nquadrilateral needs eight (one pair for each point):\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(204);\n  quad(158, 55, 199, 14, 392, 66, 351, 107);\n  triangle(347, 54, 392, 9, 392, 66);\n  triangle(158, 55, 290, 91, 290, 112);\n}\nDraw 21\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 521
  },
  {
    "chunk_full": "Example 3-5: Draw a Rectangle\nRectangles and ellipses are both defined with four parameters:\nthe first and second are the x and y coordinates of the anchor\npoint, the third for the width, and the fourth for the height. To\nmake a rectangle at coordinate (180, 60) with a width of 220\npixels and height of 40, use the rect() function like this:\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(204);\n  rect(180, 60, 220, 40);\n}\n \nExample 3-6: Draw an Ellipse\nThe x and y coordinates for a rectangle are the upper-left corner,\nbut for an ellipse they are the center of the shape. In this exam-\nple, notice that the y coordinate for the first ellipse is outside the\ncanvas. Objects can be drawn partially (or entirely) out of the\ncanvas without an error:\nfunction setup() {\n  createCanvas(480, 120);\n}\n22 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 522
  },
  {
    "chunk_full": "function draw() {\n  background(204);\n  ellipse(278, -100, 400, 400);\n  ellipse(120, 100, 110, 110);\n  ellipse(412, 60, 18, 18);\n}\np5.js doesn’t have separate functions to make squares and cir-\ncles. To make these shapes, use the same value for the width\nand the height parameters for ellipse() and rect().\nExample 3-7: Draw Part of an Ellipse\nThe arc() function draws a piece of an ellipse:\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(204);\n  arc(90, 60, 80, 80, 0, HALF_PI);\n  arc(190, 60, 80, 80, 0, PI+HALF_PI);\n  arc(290, 60, 80, 80, PI, TWO_PI+HALF_PI);\n  arc(390, 60, 80, 80, QUARTER_PI, PI+QUARTER_PI);\n}\nThe first and second parameters set the location, while the third\nand fourth set the width and height. The fifth parameter sets the\nangle to start the arc and the sixth sets the angle to stop. The\nangles are set in radians, rather than degrees. Radians are angle\nmeasurements based on the value of pi (3.14159). Figure 3-2\nshows how the two relate. As featured in this example, four\nradian values are used so frequently that special names for\nthem were added as a part of p5.js. The values PI, QUARTER_PI,\nHALF_PI, and TWO_PI can be used to replace the radian values for\n180°, 45°, 90°, and 360°.\nDraw 23\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 523
  },
  {
    "chunk_full": "Figure 3-2. Radians and degrees are two ways to measure an\nangle. Degrees move around the circle from 0 to 360, while radi-\nans measure the angles in relation to pi, from 0 to approximately\n6.28.\nExample 3-8: Draw with Degrees\nIf you prefer to use degree measurements, you can convert to\nradians with the radians() function. This function takes an\nangle in degrees and changes it to the corresponding radian\nvalue. The following example is the same as Example 3-7 on\npage 23, but it uses the radians() function to define the start\nand stop values in degrees:\n24 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 524
  },
  {
    "chunk_full": "function setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(204);\n  arc(90, 60, 80, 80, 0, radians(90));\n  arc(190, 60, 80, 80, 0, radians(270));\n  arc(290, 60, 80, 80, radians(180), radians(450));\n  arc(390, 60, 80, 80, radians(45), radians(225));\n}\n   \nExample 3-9: Use angleMode\nAlternatively, you can convert your entire sketch to use degrees\ninstead of radians using the angleMode() function. This changes\nall functions that accept or return angles to use degrees or radi-\nans based on which parameter is passed in, instead of you\nneeding to convert them. The following example is the same as\nExample 3-8 on page 24, but it uses the angleMode(DEGREES)\nfunction to define the start and stop values in degrees:\nfunction setup() {\n  createCanvas(480, 120);\n  angleMode(DEGREES);\n}\nfunction draw() {\n  background(204);\n  arc(90, 60, 80, 80, 0, 90);\n  arc(190, 60, 80, 80, 0, 270);\n  arc(290, 60, 80, 80, 180, 450);\n  arc(390, 60, 80, 80, 45, 225);\n}\n \nDrawing Order\nWhen a program runs, the computer starts at the top and reads\neach line of code until it reaches the last line and then stops.\nDraw 25\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 525
  },
  {
    "chunk_full": "There are a few exceptions to this when it comes to\nloading external files, which we will get into later. For\nnow, you can assume each line runs in order when\ndrawing.\nIf you want a shape to be drawn on top of all other shapes, it\nneeds to follow the others in the code.\nExample 3-10: Control Your Drawing\nOrder\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(204);\n  ellipse(140, 0, 190, 190);\n  // The rectangle draws on top of the ellipse\n  // because it comes after in the code\n  rect(160, 30, 260, 20);\n}\n26 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 526
  },
  {
    "chunk_full": "Example 3-11: Put It in Reverse\nModify by reversing the order of rect() and ellipse() to see the\ncircle on top of the rectangle:\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(204);\n  rect(160, 30, 260, 20);\n  // The ellipse draws on top of the rectangle\n  // because it comes after in the code\n  ellipse(140, 0, 190, 190);\n}\nYou can think of it like painting with a brush or making a collage.\nThe last element that you add is what’s visible on top.\nShape Properties\nYou may want to have further control over the shapes you draw,\nbeyond just position and size. To do this, there is a set of func-\ntions to set shape properties.\nDraw 27\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 527
  },
  {
    "chunk_full": "Example 3-12: Set Stroke Weight\nThe default stroke weight is a single pixel, but this can be\nchanged with the strokeWeight() function. The single parame-\nter to strokeWeight() sets the width of drawn lines:\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(204);\n  ellipse(75, 60, 90, 90);\n  strokeWeight(8);  // Stroke weight to 8 pixels\n  ellipse(175, 60, 90, 90);\n  ellipse(279, 60, 90, 90);\n  strokeWeight(20);  // Stroke weight to 20 pixels\n  ellipse(389, 60, 90, 90);\n}\nExample 3-13: Set Stroke Attributes\nThe strokeJoin() function changes the way lines are joined\n(how the corners look), and the strokeCap() function changes\nhow lines are drawn at their beginning and end:\nfunction setup() {\n  createCanvas(480, 120);\n  strokeWeight(12);\n28 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 528
  },
  {
    "chunk_full": "}\nfunction draw() {\n  background(204);\n  strokeJoin(ROUND);      // Round the stroke corners\n  rect(40, 25, 70, 70);\n  strokeJoin(BEVEL);      // Bevel the stroke corners\n  rect(140, 25, 70, 70);\n  strokeCap(SQUARE);      // Square the line endings\n  line(270, 25, 340, 95);\n  strokeCap(ROUND);       // Round the line endings\n  line(350, 25, 420, 95);\n}\nThe placement of shapes like rect() and ellipse() are con-\ntrolled with the rectMode() and ellipseMode() functions. Check\nthe p5.js Reference to see examples of how to place rectangles\nfrom their center (rather than their upper-left corner), or to\ndraw ellipses from their upper-left corner like rectangles.\nWhen any of these attributes are set, all shapes drawn afterward\nare affected. For instance, in Example 3-12 on page 28, notice\nhow the second and third circles both have the same stroke\nweight, even though the weight is set only once before both are\ndrawn.\nNotice that the strokeWeight(12) line appears in setup() instead\nof in draw(). This is because it doesn’t change at all in our pro-\ngram, so we can just set it once and for all in setup(). This is\nmore for organization; placing the line in draw() would have the\nsame visual effect.\nColor\nAll the shapes so far have been filled white with black outlines.\nTo change this, use the fill() and stroke() functions. The val-\nues of the parameters range from 0 to 255, where 255 is white,\n128 is medium gray, and 0 is black. Figure 3-3 shows how the\nvalues from 0 to 255 map to different gray levels. The back\nground() function we’ve seen in previous examples works in the\nsame way, except rather than setting the fill or stroke color for\ndrawing, it sets the background color of the canvas.\nDraw 29\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 529
  },
  {
    "chunk_full": "Figure 3-3. Gray values from 0 to 255\n30 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 530
  },
  {
    "chunk_full": "Example 3-14: Paint with Grays\nThis  example shows three different gray values on a black back-\nground:\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(0);                // Black\n  fill(204);                    // Light gray\n  ellipse(132, 82, 200, 200);   // Light gray circle\n  fill(153);                    // Medium gray\n  ellipse(228, -16, 200, 200);  // Medium gray circle\n  fill(102);                    // Dark gray\n  ellipse(268, 118, 200, 200);  // Dark gray circle\n}\nExample 3-15: Control Fill and Stroke\nYou can use noStroke() to disable the stroke so that there’s no\noutline, and you can disable the fill of a shape with noFill():\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(204);\n  fill(153);                    // Medium gray\nDraw 31\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 531
  },
  {
    "chunk_full": "  ellipse(132, 82, 200, 200);   // Gray circle\n  noFill();                     // Turn off fill\n  ellipse(228, -16, 200, 200);  // Outline circle\n  noStroke();                   // Turn off stroke\n  ellipse(268, 118, 200, 200);  // Doesn’t draw!\n}\nBe careful not to disable the fill and stroke at the same time, as\nwe’ve done in the previous example, because nothing will draw\nto the screen.\nExample 3-16: Draw with Color\nTo move beyond grayscale values, you use three parameters to\nspecify the red, green, and blue components of a color. Because\nthis book is printed in black and white, you’ll see only gray val-\nues here. Run the code to reveal the colors:\nfunction setup() {\n  createCanvas(480, 120);\n  noStroke();\n}\nfunction draw() {\n  background(0, 26, 51);        // Dark blue color\n  fill(255, 0, 0);              // Red color\n  ellipse(132, 82, 200, 200);   // Red circle\n  fill(0, 255, 0);              // Green color\n  ellipse(228, -16, 200, 200);  // Green circle\n  fill(0, 0, 255);              // Blue color\n  ellipse(268, 118, 200, 200);  // Blue circle\n}\nThe colors in the example are referred to as RGB color, which is\nhow computers define colors on the screen. The three numbers\nstand for the values of red, green, and blue, and they range from\n0 to 255 the way that the gray values do. These three numbers\n32 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 532
  },
  {
    "chunk_full": "are the parameters for your background(), fill(), and stroke()\nfunctions.\nExample 3-17: Set Transparency\nBy adding an optional fourth parameter to fill() or stroke(),\nyou can control the transparency. This fourth parameter is\nknown as the alpha value, and also uses the range 0 to 255 to\nset the amount of transparency. The value 0 defines the color as\nentirely transparent (it won’t display), the value 255 is entirely\nopaque, and the values between these extremes cause the col-\nors to mix on screen:\nfunction setup() {\n  createCanvas(480, 120);\n  noStroke();\n}\nfunction draw() {\n  background(204, 226, 225);    // Light blue color\n  fill(255, 0, 0, 160);         // Red color\n  ellipse(132, 82, 200, 200);   // Red circle\n  fill(0, 255, 0, 160);         // Green color\n  ellipse(228, -16, 200, 200);  // Green circle\n  fill(0, 0, 255, 160);         // Blue color\n  ellipse(268, 118, 200, 200);  // Blue circle\n}\nCustom Shapes\nYou’re not limited to using these basic geometric shapes—you\ncan also define new shapes by connecting a series of points.\nDraw 33\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 533
  },
  {
    "chunk_full": "Example 3-18: Draw an Arrow\nThe beginShape() function signals the start of a new shape. The\nvertex() function is used to define each pair of x and y coordi-\nnates for the shape. Finally, endShape() is called to signal that\nthe shape is finished:\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(204);\n  beginShape();\n  vertex(180, 82);\n  vertex(207, 36);\n  vertex(214, 63);\n  vertex(407, 11);\n  vertex(412, 30);\n  vertex(219, 82);\n  vertex(226, 109);\n  endShape();\n}\n  \nExample 3-19: Close the Gap\nWhen you run Example 3-18 on page 34, you’ll see the first and\nlast point are not connected. To do this, add the word CLOSE as a\nparameter to endShape(),  like this:\n34 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 534
  },
  {
    "chunk_full": "function setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(204);\n  beginShape();\n  vertex(180, 82);\n  vertex(207, 36);\n  vertex(214, 63);\n  vertex(407, 11);\n  vertex(412, 30);\n  vertex(219, 82);\n  vertex(226, 109);\n  endShape(CLOSE);\n}\nExample 3-20: Create Some Creatures\nThe power of defining shapes with vertex() is the ability to\nmake shapes with complex outlines. p5.js can draw thousands\nand thousands of lines at a time to fill the screen with fantastic\nshapes that spring from your imagination. A modest but more\ncomplex example follows:\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\nDraw 35\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 535
  },
  {
    "chunk_full": "  background(204);\n  // Left creature\n  beginShape();\n  vertex(50, 120);\n  vertex(100, 90);\n  vertex(110, 60);\n  vertex(80, 20);\n  vertex(210, 60);\n  vertex(160, 80);\n  vertex(200, 90);\n  vertex(140, 100);\n  vertex(130, 120);\n  endShape();\n  fill(0);\n  ellipse(155, 60, 8, 8);\n  // Right creature\n  fill(255);\n  beginShape();\n  vertex(370, 120);\n  vertex(360, 90);\n  vertex(290, 80);\n  vertex(340, 70);\n  vertex(280, 50);\n  vertex(420, 10);\n  vertex(390, 50);\n  vertex(410, 90);\n  vertex(460, 120);\n  endShape();\n  fill(0);\n  ellipse(345, 50, 10, 10);\n}\nComments\nThe examples in this chapter use double slashes (//) at the end\nof a line to add comments to the code. Comments are parts of\nthe program that are ignored when the program is run. They are\nuseful for making notes for yourself that explain what’s happen-\ning in the code. If others are reading your code, comments are\nespecially important to help them understand your thought pro-\ncess.\n36 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 536
  },
  {
    "chunk_full": "Comments are also especially useful for a number of different\noptions, such as trying to choose the right color. So, for\ninstance, I might be trying to find just the right red for an ellipse:\nfunction setup() {\n  createCanvas(200, 200);\n}\nfunction draw() {\n  background(204);\n  fill(165, 57, 57);\n  ellipse(100, 100, 80, 80);\n}\nNow suppose I want to try a different red, but don’t want to lose\nthe old one. I can copy and paste the line, make a change, and\nthen “comment out” the old one:\nfunction setup() {\n  createCanvas(200, 200);\n}\nfunction draw() {\n  background(204);\n  //fill(165, 57, 57);\n  fill(144, 39, 39);\n  ellipse(100, 100, 80, 80);\n}\nPlacing // at the beginning of the line temporarily disables it. Or\nI can remove the // and place it in front of the other line if I want\nto try it again:\nfunction setup() {\n  createCanvas(200, 200);\n}\nfunction draw() {\n  background(204);\n  fill(165, 57, 57);\n  //fill(144, 39, 39);\n  ellipse(100, 100, 80, 80);\n}\nAs you work with p5.js sketches, you’ll find yourself creating\ndozens of iterations of ideas; using comments to make notes or\nto disable code can help you keep track of multiple options.\nDraw 37\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 537
  },
  {
    "chunk_full": "Robot 1: Draw\nThis is P5, the p5.js Robot. There are 10 different programs to\ndraw and animate her in this book—each one explores a differ-\nent programming idea. P5’s design was inspired by Sputnik I\n(1957), Shakey from the Stanford Research Institute (1966–\n1972), the fighter drone in David Lynch’s Dune (1984), and HAL\n9000 from 2001: A Space Odyssey (1968), among other robot\nfavorites.\nThe first robot program uses the drawing functions introduced\nearlier in this chapter. The parameters to the fill() and\nstroke() functions set the gray values. The line(), ellipse(),\nand rect() functions define the shapes that create the robot’s\nneck, antennae, body, and head. To get more familiar with the\nfunctions, run the program and change the values to redesign\nthe robot:\nfunction setup() {\n  createCanvas(720, 480);\n  strokeWeight(2);\n  ellipseMode(RADIUS);\n}\nfunction draw() {\n38 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 538
  },
  {
    "chunk_full": "  background(204);\n  // Neck\n  stroke(102);                // Set stroke to gray\n  line(266, 257, 266, 162);   // Left\n  line(276, 257, 276, 162);   // Middle\n  line(286, 257, 286, 162);   // Right\n  // Antennae\n  line(276, 155, 246, 112);   // Small\n  line(276, 155, 306, 56);    // Tall\n  line(276, 155, 342, 170);   // Medium\n  // Body\n  noStroke();                 // Disable stroke\n  fill(102);                  // Set fill to gray\n  ellipse(264, 377, 33, 33);  // Antigravity orb\n  fill(0);                    // Set fill to black\n  rect(219, 257, 90, 120);    // Main body\n  fill(102);                  // Set fill to gray\n  rect(219, 274, 90, 6);      // Gray stripe\n  // Head\n  fill(0);                    // Set fill to black\n  ellipse(276, 155, 45, 45);  // Head\n  fill(255);                  // Set fill to white\n  ellipse(288, 150, 14, 14);  // Large eye\n  fill(0);                    // Set fill to black\n  ellipse(288, 150, 3, 3);    // Pupil\n  fill(153);                  // Set fill to light gray\n  ellipse(263, 148, 5, 5);    // Small eye 1\n  ellipse(296, 130, 4, 4);    // Small eye 2\n  ellipse(305, 162, 3, 3);    // Small eye 3\n}\n \nDraw 39\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 539
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 540
  },
  {
    "chunk_full": "4/Variables\nA variable stores a value in memory so\nthat it can be used later in a program. A\nvariable can be used many times within a\nsingle program, and the value is easily\nchanged while the program is running.\nFirst Variables\nThe  primary reason we use variables is to avoid repeating our-\nselves in the code. If you are typing the same number more than\nonce, consider using a variable instead so that your code is\nmore general and easier to update.\nExample 4-1: Reuse the Same Values\nFor instance, when you make the y coordinate and diameter for\nthe three circles in this example into variables, the same values\nare used for each ellipse:\nvar y = 60;\nvar d = 80;\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n41\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 541
  },
  {
    "chunk_full": "  background(204);\n  ellipse(75, y, d, d);   // Left\n  ellipse(175, y, d, d);  // Middle\n  ellipse(275, y, d, d);  // Right\n}\nExample 4-2: Change Values\nSimply changing the y and d variables therefore alters all three\nellipses:\nvar y = 100;\nvar d = 130;\n  \nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(204);\n  ellipse(75, y, d, d);   // Left\n  ellipse(175, y, d, d);  // Middle\n  ellipse(275, y, d, d);  // Right\n}\nWithout the variables, you’d need to change the y coordinate\nused in the code three times and the diameter six times. When\ncomparing Examples 4-1 and 4-2, notice how all the lines are the\nsame, except the first two lines with the variables are different.\nVariables allow you to separate the lines of the code that change\nfrom the lines that don’t, which makes programs easier to mod-\nify. For instance, if you place variables that control colors and\nsizes of shapes in one place, then you can quickly explore differ-\nent visual options by focusing on only a few lines of  code.\n42 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 542
  },
  {
    "chunk_full": "Making Variables\nWhen you make your own variables, you determine the\nname and the value. The name is what you decide to call the\nvariable. Choose a name that is informative about what the vari-\nable stores, but be consistent and not too verbose. For instance,\nthe variable name “radius” will be clearer than “r” when you look\nat the code later.\nVariables must first be declared, which sets aside space in the\ncomputer’s memory to store the information. When declaring a\nvariable, you use var, to indicate you are creating a new variable,\nfollowed by the name. After the name is set, a value can be\nassigned to the variable:\nvar x;  // Declare x as a variable\nx = 12; // Assign a value to x\nThis code does the same thing, but is shorter:\nvar x = 12; // Declare x as a variable and assign a value\nThe characters var are included on the line of code that declares\na variable, but they’re not written again. Each time var is written\nin front of the variable name, the computer thinks you’re trying\nto declare a new variable. You can’t have two variables with the\nsame name in the same part of the program (Appendix C), or\nthe program could behave strangely:\nvar x;       // Declare x as a variable\nvar x = 12;  // ERROR! Can't have two variables called x here\nYou can place your variables outside of setup() and draw(). If\nyou create a variable inside of setup(), you can’t use it inside of\ndraw(), so you need to place those variables somewhere else.\nSuch variables are called global variables, because they can be\nused anywhere (“globally”) in the program.\np5.js Variables\np5.js has a series of special variables to store information about\nthe program while it runs. For instance, the width and height of\nthe canvas are stored in variables called width and height.\nThese values are set by the createCanvas() function. They can\nVariables 43\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 543
  },
  {
    "chunk_full": "be used to draw elements relative to the size of the canvas, even\nif the createCanvas() line changes.\nExample 4-3: Adjust the Canvas, See\nWhat Follows\nIn this example, change the parameters to createCanvas() to\nsee how it works:\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(204);\n  line(0, 0, width, height);  // Line from (0,0) to (480, 120)\n  line(width, 0, 0, height);  // Line from (480, 0) to (0, 120)\n  ellipse(width/2, height/2, 60, 60);\n}\nOther special variables keep track of the status of the mouse\nand keyboard values and much more. These are discussed in\nChapter 5.\nA Little Math\nPeople often assume that math and programming are the same\nthing. Although knowledge of math can be useful for certain\ntypes of coding, basic arithmetic covers the most important\nparts.\n44 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 544
  },
  {
    "chunk_full": "Example 4-4: Basic Arithmetic\nvar x = 25;\nvar h = 20;\nvar y = 25;\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(204);\n  x = 20;\n  rect(x, y, 300, h);        // Top\n  x = x + 100;\n  rect(x, y + h, 300, h);    // Middle\n  x = x - 250;\n  rect(x, y + h*2, 300, h);  // Bottom\n}\nIn code, symbols like +, −, and * are called operators. When\nplaced between two values, they create an expression. For\ninstance, 5 + 9 and 1024 − 512 are both expressions. The opera-\ntors for the basic math operations are:\n+\nAddition\n−\nSubtraction\n*\nMultiplication\n/\nDivision\n=\nAssignment\nJavaScript has a set of rules to define which operators take\nprecedence over others, meaning which calculations are made\nfirst, second, third, and so on. These rules define the order in\nwhich the code is run. A little knowledge about this goes a long\nVariables 45\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 545
  },
  {
    "chunk_full": "way toward understanding how a short line of code like this\nworks:\nvar x = 4 + 4 * 5; // Assign 24 to x\nThe expression 4 * 5 is evaluated first because multiplication\nhas the highest priority. Second, 4 is added to the product of\n4 * 5 to yield 24. Last, because the assignment operator (the\nequals sign) has the lowest precedence, the value 24 is assigned\nto the variable x. This is clarified with parentheses, but the result\nis the same:\nvar x = 4 + (4 * 5); // Assign 24 to x\nIf you want to force the addition to happen first, just move the\nparentheses. Because parentheses have a higher precedence\nthan multiplication, the order is changed and the calculation is\naffected:\nvar x = (4 + 4) * 5; // Assign 40 to x\nAn acronym for this order is often taught in math class: PEM-\nDAS, which stands for Parentheses, Exponents, Multiplication,\nDivision, Addition, Subtraction, where parentheses have the\nhighest priority and subtraction the lowest. The complete order\nof operations is found in Appendix B.\nSome calculations are used so frequently in programming that\nshortcuts have been developed; it’s always nice to save a few\nkeystrokes. For instance, you can add to a variable, or subtract\nfrom it, with a single operator:\nx += 10; // This is the same as x = x + 10\ny −= 15; // This is the same as y = y - 15\nIt’s also common to add or subtract 1 from a variable, so short-\ncuts exist for this as well. The ++ and −− operators do this:\nx++; // This is the same as x = x + 1\ny−−; // This is the same as y = y − 1\nRepetition\nAs you write more programs, you’ll notice that patterns occur\nwhen lines of code are repeated, but with slight variations. A\ncode structure called a for loop makes it possible to run a line of\n46 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 546
  },
  {
    "chunk_full": "code more than once to condense this type of repetition into\nfewer lines. This makes your programs more modular and easier\nto change.\nExample 4-5: Do the Same Thing Over\nand Over\nThis example has the type of pattern that can be simplified with\na for loop:\nfunction setup() {\n  createCanvas(480, 120);\n  strokeWeight(8);\n}\nfunction draw() {\n  background(204);\n  line(20, 40, 80, 80);\n  line(80, 40, 140, 80);\n  line(140, 40, 200, 80);\n  line(200, 40, 260, 80);\n  line(260, 40, 320, 80);\n  line(320, 40, 380, 80);\n  line(380, 40, 440, 80);\n}\nExample 4-6: Use a for Loop\nThe same thing can be done with a for loop, and with less code:\nfunction setup() {\n  createCanvas(480, 120);\n  strokeWeight(8);\n}\nfunction draw() {\n  background(204);\n  for (var i = 20; i < 400; i += 60) {\nVariables 47\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 547
  },
  {
    "chunk_full": "    line(i, 40, i + 60, 80);\n  }\n}\nThe for loop is different in many ways from the code we’ve writ-\nten so far. Notice the braces, the { and } characters. The code\nbetween the braces is called a block. This is the code that will be\nrepeated on each iteration of the for loop.\nInside the parentheses are three statements, separated by sem-\nicolons, that work together to control how many times the code\ninside the block is run. From left to right, these statements are\nreferred to as  the initialization (init), the test, and the update:\nfor (init; test; update) {\n  statements\n}\nThe init typically declares a new variable to use within the for\nloop and assigns a value. The variable name i is frequently\nused, but there’s really nothing special about it. The test evalu-\nates the value of this variable, and the update changes the varia-\nble’s value. Figure 4-1 shows the order in which they run and\nhow they control the code statements inside the block.\nFigure 4-1. Flow diagram of a for loop\nThe test statement requires more explanation. It’s always a rela-\ntional expression that compares two values with a relational\noperator. In this example, the expression is “i < 400” and the\n48 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 548
  },
  {
    "chunk_full": "operator is the < (less than) symbol. The most common rela-\ntional operators are:\n>\nGreater than\n<\nLess than\n>=\nGreater than or equal to\n<=\nLess than or equal to\n==\nEqual to\n!=\nNot equal to\nThe relational expression always evaluates to true or false. For\ninstance, the expression 5 > 3 is true. We can ask the question,\n“Is five greater than three?” Because the answer is “yes,” we say\nthe expression is true. For the expression 5 < 3, we ask, “Is five\nless than three?” Because the answer is “no,” we say the expres-\nsion is false. When the evaluation is true, the code inside the\nblock is run, and when it’s false, the code inside the block is not\nrun and the for loop ends.\nExample 4-7: Flex Your for Loop’s\nMuscles\nThe ultimate power of working with a for loop is the ability to\nmake quick changes to the code. Because the code inside the\nblock is typically run multiple times, a change to the block is\nmagnified when the code is run. By modifying Example 4-6 on\npage 47 only slightly, we can create a range of different patterns:\nfunction setup() {\n  createCanvas(480, 120);\n  strokeWeight(2);\n}\nVariables 49\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 549
  },
  {
    "chunk_full": "function draw() {\n  background(204);\n  for (var i = 20; i < 400; i += 8) {\n    line(i, 40, i + 60, 80);\n  }\n}\nExample 4-8: Fanning Out the Lines\nfunction setup() {\n  createCanvas(480, 120);\n  strokeWeight(2);\n}\nfunction draw() {\n  background(204);\n  for (var i = 20; i < 400; i += 20) {\n    line(i, 0, i + i/2, 80);\n  }\n}\nExample 4-9: Kinking the Lines\nfunction setup() {\n  createCanvas(480, 120);\n  strokeWeight(2);\n}\n50 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 550
  },
  {
    "chunk_full": "function draw() {\n  background(204);\n  for (var i = 20; i < 400; i += 20) {\n    line(i, 0, i + i/2, 80);\n    line(i + i/2, 80, i*1.2, 120);\n  }\n}\nExample 4-10: Embed One for Loop in\nAnother\nWhen one for loop is embedded inside another, the number of\nrepetitions is multiplied. First, let’s look at a short example, and\nthen we’ll break it down in Example 4-11 on page 51:\nfunction setup() {\n  createCanvas(480, 120);\n  noStroke();\n}\nfunction draw() {\n  background(0);\n  for (var y = 0; y <= height; y += 40) {\n    for (var x = 0; x <= width; x += 40) {\n      fill(255, 140);\n      ellipse(x, y, 40, 40);\n    }\n  }\n}\nExample 4-11: Rows and Columns\nIn this example, the for loops are adjacent, rather than one\nembedded inside the other. The result shows that one for loop\nis drawing a column of 4 circles and the other is drawing a row\nof 13 circles:\nVariables 51\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 551
  },
  {
    "chunk_full": "function setup() {\n  createCanvas(480, 120);\n  noStroke();\n}\nfunction draw() {\n  background(0);\n  for (var y = 0; y < height+45; y += 40) {\n    fill(255, 140);\n    ellipse(0, y, 40, 40);\n  }\n  for (var x = 0; x < width+45; x += 40) {\n    fill(255, 140);\n    ellipse(x, 0, 40, 40);\n  }\n}\nWhen one of these for loops is placed inside the other, as in\nExample 4-10 on page 51, the 4 repetitions of the first loop are\ncompounded with the 13 of the second in order to run the code\ninside the embedded block 52 times (4×13 = 52).\nExample 4-10 on page 51 is a good base for exploring many\ntypes of repeating visual patterns. The following examples show\na couple of ways that it can be extended, but this is only a tiny\nsample of what’s possible.\nExample 4-12: Pins and Lines\nIn this example, the code draws a line from each point in the grid\nto the center of the screen:\n52 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 552
  },
  {
    "chunk_full": "function setup() {\n  createCanvas(480, 120);\n  fill(255);\n  stroke(102);\n}\nfunction draw() {\n  background(0);\n  for (var y = 20; y <= height-20; y += 10) {\n    for (var x = 20; x <= width-20; x += 10) {\n      ellipse(x, y, 4, 4);\n      // Draw a line to the center of the display\n      line(x, y, 240, 60);\n    }\n  }\n}\nExample 4-13: Halftone Dots\nIn this example, the ellipses shrink with each new row and are\nmoved to the right by adding the y coordinate to the x coordi-\nnate:\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(0);\n  for (var y = 32; y <= height; y += 8) {\nVariables 53\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 553
  },
  {
    "chunk_full": "    for (var x = 12; x <= width; x += 15) {\n      ellipse(x + y, y, 16 - y/10.0, 16 - y/10.0);\n    }\n  }\n}\nRobot 2: Variables\nThe variables introduced in this program make the code look\nmore difficult than Robot 1 (see “Robot 1: Draw” on page 38),\nbut now it’s much easier to modify, because numbers that\ndepend on one another are in a single location. For instance, the\nneck is drawn based on the neckHeight variable. The group of\nvariables at the top of the code control the aspects of the robot\nthat we want to change: location, body height, and neck height.\nYou can see some of the range of possible variations in the fig-\nure; from left to right, here are the values that correspond to\nthem:\ny = 390 \nbodyHeight = 180 \nneckHeight = 40\ny = 460 \nbodyHeight = 260 \nneckHeight = 95\ny = 310 \nbodyHeight = 80 \nneckHeight = 10\ny = 420 \nbodyHeight = 110 \nneckHeight = 140\n54 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 554
  },
  {
    "chunk_full": "When altering your own code to use variables instead of num-\nbers, plan the changes carefully, then make the modifications in\nshort steps. For instance, when this program was written, each\nvariable was created one at a time to minimize the complexity of\nthe transition. After a variable was added and the code was run\nto ensure it was working, the next variable was added:\nvar x = 60;            // x coordinate\nvar y = 420;           // y coordinate\nvar bodyHeight = 110;  // Body height\nvar neckHeight = 140;  // Neck height\nvar radius = 45;\nvar ny = y - bodyHeight - neckHeight - radius;  // Neck Y\nfunction setup() {\n  createCanvas(170, 480);\n  strokeWeight(2);\n  ellipseMode(RADIUS);\n}\nfunction draw() {\n  background(204);\n  // Neck\n  stroke(102);\n  line(x+2, y-bodyHeight, x+2, ny); \n  line(x+12, y-bodyHeight, x+12, ny); \n  line(x+22, y-bodyHeight, x+22, ny); \n  // Antennae\n  line(x+12, ny, x-18, ny-43);\n  line(x+12, ny, x+42, ny-99);\n  line(x+12, ny, x+78, ny+15);\n  // Body\n  noStroke();\n  fill(102);\n  ellipse(x, y-33, 33, 33);\n  fill(0);\n  rect(x-45, y-bodyHeight, 90, bodyHeight-33);\n  fill(102);\n  rect(x-45, y-bodyHeight+17, 90, 6);\n  // Head\n  fill(0);\n  ellipse(x+12, ny, radius, radius); \nVariables 55\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 555
  },
  {
    "chunk_full": "  fill(255);\n  ellipse(x+24, ny-6, 14, 14);\n  fill(0);\n  ellipse(x+24, ny-6, 3, 3);\n  fill(153);\n  ellipse(x, ny-8, 5, 5);\n  ellipse(x+30, ny-26, 4, 4);\n  ellipse(x+41, ny+6, 3, 3);\n}\n56 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 556
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 557
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 558
  },
  {
    "chunk_full": "5/Response\nCode that responds to input from the\nmouse, keyboard, and other devices\ndepends on the program to run continu-\nously. We first encountered the setup()\nand draw() functions in Chapter 1. Now\nwe will learn more about what they do\nand how to use them to react to input to\nthe program.\nOnce and Forever\nThe code within the draw() block runs from top to bottom, then\nrepeats until you quit the program by closing the window. Each\ntrip through draw() is called a frame. (The default frame rate is\n60 frames per second, but this can be changed.)\nExample 5-1: The draw() Function\nTo see how draw() works, run this example:\nfunction draw() {\n  // Displays the frame count to the console\n  print(\"I’m drawing\");\n  print(frameCount);\n}\n59\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 559
  },
  {
    "chunk_full": "You’ll see the following:\nI'm drawing\n1\nI'm drawing\n2\nI'm drawing\n3\n...\nIn the previous example program, the print() functions write\nthe text “I’m drawing” followed by the current frame count as\ncounted by the special frameCount variable (1, 2, 3, …). The text\nappears in the console in your browser.\nExample 5-2: The setup() Function\nTo complement the looping draw() function, p5.js has\nthe setup() function that runs just once when the program\nstarts:\nfunction setup() {\n  print(\"I’m starting\");\n}\nfunction draw() {\n  print(\"I’m running\");\n}\nWhen this code is run, the following is written to the console:\nI'm starting\nI'm running\nI'm running\nI'm running\n...\nThe text “I’m running” continues to write to the console until the\nprogram is stopped.\nIn some browsers, rather than printing “I’m running” over and\nover, it will print once, then for each subsequent time, it will\nincrement a number next to the printed line, representing the\ntotal number of times that line has been printed in a row.\nIn a typical program, the code inside setup() is used to define\nthe starting values. The first line is usually the createCanvas()\n60 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 560
  },
  {
    "chunk_full": "function, often followed by code to set the starting fill and stroke\ncolors. (If you don’t include the createCanvas() function, the\ndrawing canvas will be 100×100 pixels.)\nNow you know how to use setup() and draw() in more detail, but\nthis isn’t the whole story.\nThere’s one more location you’ve been putting code—you can\nalso place global variables outside of setup() and draw(). This is\nclearer when we list the order in which the code is run:\n1. Variables declared outside of setup() and draw() are cre-\nated.\n2. Code inside setup() is run once.\n3. Code inside draw() is run continuously.\nExample 5-3: setup(), Meet draw()\nThe following example puts it all together:\nvar x = 280;\nvar y = -100;\nvar diameter = 380;\nfunction setup() {\n  createCanvas(480, 120);\n  fill(102);\n}\nfunction draw() {\n  background(204);\n  ellipse(x, y, diameter, diameter);\n}\nFollow\nBecause the code is running continuously, we can track the\nmouse position and use those numbers to move elements on\nscreen.\nResponse 61\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 561
  },
  {
    "chunk_full": "Example 5-4: Track the Mouse\nThe mouseX  variable stores the x coordinate, and the mouseY vari-\nable stores the y coordinate:\nfunction setup() {\n  createCanvas(480, 120);\n  fill(0, 102);\n  noStroke();\n}\nfunction draw() {\n  ellipse(mouseX, mouseY, 9, 9);\n}\nIn this example, each time the code in the draw() block is run, a\nnew circle is drawn to the canvas. This image was made by mov-\ning the mouse around to control the circle’s location. Because\nthe fill is set to be partially transparent, denser black areas show\nwhere the mouse spent more time and where it moved slowly.\nThe circles that are spaced farther apart show when the mouse\nwas moving faster.\nExample 5-5: The Dot Follows You\nIn this  example, a new circle is added to the canvas each time\nthe code in draw() is run. To refresh the screen and only display\nthe newest circle, place a background() function at the begin-\nning of draw() before the shape is drawn:\n62 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 562
  },
  {
    "chunk_full": "function setup() {\n  createCanvas(480, 120);\n  fill(0, 102);\n  noStroke();\n}\nfunction draw() {\n  background(204);\n  ellipse(mouseX, mouseY, 9, 9);\n}\nThe background() function clears the entire canvas, so be sure\nto always place it before other functions inside draw(); other-\nwise, the shapes drawn before it will be erased.\nExample 5-6: Draw Continuously\nThe pmouseX and pmouseY variables  store the position of the\nmouse at the previous frame. Like mouseX and mouseY, these spe-\ncial variables are updated each time draw() runs. When com-\nbined, they can be used to draw continuous lines by connecting\nthe current and most recent location:\nfunction setup() {\n  createCanvas(480, 120);\n  strokeWeight(4);\n  stroke(0, 102);\n}\nfunction draw() {\n  line(mouseX, mouseY, pmouseX, pmouseY);\n}\nResponse 63\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 563
  },
  {
    "chunk_full": "Example 5-7: Set Thickness on the\nFly\nThe pmouseX and pmouseY  variables can also be used to calculate\nthe speed of the mouse. This is done by measuring the distance\nbetween the current and most recent mouse location. If the\nmouse is moving slowly, the distance is small, but if the mouse\nstarts moving faster, the distance grows. A function called\ndist() simplifies this calculation, as shown in the following\nexample. Here, the speed of the mouse is used to set the thick-\nness of the drawn line:\nfunction setup() {\n  createCanvas(480, 120);\n  stroke(0, 102);\n}\nfunction draw() {\n  var weight = dist(mouseX, mouseY, pmouseX, pmouseY);\n  strokeWeight(weight);\n  line(mouseX, mouseY, pmouseX, pmouseY);\n}\n64 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 564
  },
  {
    "chunk_full": "Example 5-8: Easing Does It\nIn Example 5-7 on page 64, the values from the mouse are con-\nverted directly into positions on the screen. But sometimes you\nwant the values to follow the mouse loosely—to lag behind to\ncreate a more fluid motion. This technique is called easing. With\neasing, there are two values: the current value and the value to\nmove toward (see Figure 5-1). At each step in the program, the\ncurrent value moves a little closer to the target value:\nvar x = 0;\nvar easing = 0.01;\nfunction setup() {\n  createCanvas(220, 120);\n}\nfunction draw() {\n  var targetX = mouseX;\n  x += (targetX - x) * easing;\n  ellipse(x, 40, 12, 12);\n  print(targetX + \" : \" + x);\n}\nThe value of the x variable is always getting closer to targetX.\nThe speed at which it catches up with targetX is set with the\neasing variable, a number between 0 and 1. A small value for\neasing causes more of a delay than a larger value. With an eas-\ning value of 1, there is no delay. When you run Example 5-8 on\npage 65, the actual values are shown in the console through the\nprint() function. When moving the mouse, notice how the num-\nbers are far apart, but when the mouse stops moving, the x\nvalue gets closer to targetX.\nResponse 65\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 565
  },
  {
    "chunk_full": "Figure 5-1. Easing changes the number of steps it takes to move\nfrom one place to another\nAll of the work in this example happens on the line that begins x\n+=. There, the difference between the target and current value is\ncalculated, then multiplied by the easing variable and added to x\nto bring it closer to the target.\n66 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 566
  },
  {
    "chunk_full": "Example 5-9: Smooth Lines with\nEasing\nIn this example, the easing technique is applied to Example 5-7\non page 64. In comparison, the lines are more fluid:\nvar x = 0;\nvar y = 0;\nvar px = 0;\nvar py = 0;\nvar easing = 0.05;\nfunction setup() {\n  createCanvas(480, 120);\n  stroke(0, 102);\n}\nfunction draw() {\n  var targetX = mouseX;\n  x += (targetX - x) * easing;\n  var targetY = mouseY;\n  y += (targetY - y) * easing;\n  var weight = dist(x, y, px, py);\n  strokeWeight(weight);\n  line(x, y, px, py);\n  py = y;\n  px = x;\n}\nResponse 67\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 567
  },
  {
    "chunk_full": "Click\nIn addition to the location of the mouse, p5.js also keeps track of\nwhether the mouse button is pressed. The mouseIsPressed vari-\nable has a different value when the mouse button is pressed and\nwhen it is not. The mouseIsPressed variable is called a boolean\nvariable, which means that it has only two possible values: true\nand false. The value of mouseIsPressed is true when a button is\npressed.\nExample 5-10: Click the Mouse\nThe mouseIsPressed variable is used along with the if statement\nto determine when a line of code will run and when it won’t. Try\nthis example before we explain further:\nfunction setup() {\n  createCanvas(240, 120);\n  strokeWeight(30);\n}\nfunction draw() {\n  background(204);\n  stroke(102);\n  line(40, 0, 70, height);\n  if (mouseIsPressed == true) {\n    stroke(0);\n  }\n  line(0, 70, width, 50);\n}\n68 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 568
  },
  {
    "chunk_full": "In this program, the code inside the if block runs only when a\nmouse button is pressed. When a button is not pressed, this\ncode is ignored. Like the for loop discussed in “Repetition” on\npage 46, the if also has a test that is evaluated to true or false:\nif (test) {\n  statements\n}\nWhen the test is true, the code inside the block is run; when the\ntest is false, the code inside the block is not run. The computer\ndetermines whether the test is true or false by evaluating the\nexpression inside the parentheses. (If you’d like to refresh your\nmemory, Example 4-6 on page 47 more fully discusses rela-\ntional expressions.)\nThe == symbol compares the values on the left and right to test\nwhether they are equivalent. This == symbol is different from the\nassignment operator, the single = symbol. The == symbol asks,\n“Are these things equal?” and the = symbol sets the value of a\nvariable.\nIt’s a common mistake, even for experienced pro-\ngrammers, to write = in your code when you mean to\nwrite ==. p5.js won’t always warn you when you do\nthis, so be careful.\nAlternatively, the test in draw() can be written like this:\nif (mouseIsPressed) {\nBoolean variables, including mouseIsPressed, don’t need the\nexplicit comparison with the == operator, because they will be\nonly true or false.\nResponse 69\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 569
  },
  {
    "chunk_full": "Example 5-11: Detect When Not\nClicked\nA single if block gives you the choice of running some code or\nskipping it. You can extend an if block with an else block, allow-\ning your program to choose between two options. The code\ninside the else block runs when the value of the if block test is\nfalse. For instance, the stroke color for a program can be white\nwhen the mouse button is not pressed, and can change to black\nwhen the button is pressed:\nfunction setup() {\n  createCanvas(240, 120);\n  strokeWeight(30);\n}\nfunction draw() {\n  background(204);\n  stroke(102);\n  line(40, 0, 70, height);\n  if (mouseIsPressed) {\n    stroke(0);\n  } else {\n    stroke(255);\n  }\n  line(0, 70, width, 50);\n}\n70 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 570
  },
  {
    "chunk_full": "Example 5-12: Multiple Mouse\nButtons\np5.js also tracks which button is pressed if you have more than\none button on your mouse. The mouseButton variable can be one\nof three values: LEFT, CENTER, or RIGHT. To test which button was\npressed, the == operator is needed, as shown here:\nfunction setup() {\n  createCanvas(120, 120);\n  strokeWeight(30);\n}\nfunction draw() {\n  background(204);\n  stroke(102);\n  line(40, 0, 70, height);\n  if (mouseIsPressed) {\n    if (mouseButton == LEFT) {\n      stroke(255);\n    } else {\n      stroke(0);\n    }\n    line(0, 70, width, 50);\n  }\n}\nA program can have many more if and else structures (see\nFigure 5-2) than those found in these short examples. They can\nbe chained together into a long series with each testing for\nsomething different, and if blocks can be embedded inside of\nother if blocks to make more complex decisions.\nResponse 71\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 571
  },
  {
    "chunk_full": "Figure 5-2. The if and else structure makes decisions about\nwhich blocks of code to run\nLocation\nAn if structure can be used with the mouseX and mouseY values\nto determine the location of the cursor within the window.\n72 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 572
  },
  {
    "chunk_full": "Example 5-13: Find the Cursor\nFor instance, this example tests to see whether the cursor is on\nthe left or right side of a line and then moves the line toward the\ncursor:\nvar x;\nvar offset = 10;\nfunction setup() {\n  createCanvas(240, 120);\n  x = width/2;\n}\nfunction draw() {\n  background(204);\n  if (mouseX > x) {\n    x += 0.5;\n    offset = -10;\n  }\n  if (mouseX < x) {\n    x -= 0.5;\n    offset = 10;\n  }\n  // Draw arrow left or right depending on \"offset\" value\n  line(x, 0, x, height);\n  line(mouseX, mouseY, mouseX + offset, mouseY - 10);\n  line(mouseX, mouseY, mouseX + offset, mouseY + 10);\n  line(mouseX, mouseY, mouseX + offset*3, mouseY);\n}\nTo write programs that have graphical user interfaces (buttons,\ncheckboxes, scrollbars, etc.), we need to write code that knows\nwhen the cursor is within an enclosed area of the screen. The\nfollowing two examples introduce how to check whether the cur-\nsor is inside a circle and a rectangle. The code is written in a\nmodular way with variables, so it can be used to check for any\ncircle and rectangle by changing the values.\nResponse 73\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 573
  },
  {
    "chunk_full": "Example 5-14: The Bounds of a Circle\nFor the circle test, we use the dist()  function to get the dis-\ntance from the center of the circle to the cursor, then we test to\nsee if that distance is less than the radius of the circle (see\nFigure 5-3). If it is, we know we’re inside. In this example, when\nthe cursor is within the area of the circle, its size increases:\nvar x = 120;\nvar y = 60;\nvar radius = 12;\nfunction setup() {\n  createCanvas(240, 120);\n  ellipseMode(RADIUS);\n}\nfunction draw() {\n  background(204);\n  var d = dist(mouseX, mouseY, x, y);\n  if (d < radius) {\n    radius++;\n    fill(0);\n  } else {\n    fill(255);\n  }\n  ellipse(x, y, radius, radius);\n}\n74 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 574
  },
  {
    "chunk_full": "Figure 5-3.\nCircle rollover test. When the distance between the mouse and\nthe circle is less than the radius, the mouse is inside the circle.\nExample 5-15: The Bounds of a\nRectangle\nWe  use another approach to test whether the cursor is inside a\nrectangle. We make four separate tests to check if the cursor is\non the correct side of each edge of the rectangle, then we com-\npare each test and if they are all true, we know the cursor is\ninside. This is illustrated in Figure 5-4. Each step is simple, but it\nlooks complicated when it’s all put together:\nResponse 75\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 575
  },
  {
    "chunk_full": "var x = 80;\nvar y = 30;\nvar w = 80;\nvar h = 60;\nfunction setup() {\n  createCanvas(240, 120);\n}\nfunction draw() {\n  background(204);\n  if ((mouseX > x) && (mouseX < x+w) &&\n      (mouseY > y) && (mouseY < y+h)) {\n    fill(0);\n  } \n  else {\n    fill(255);\n  }\n  rect(x, y, w, h);\n}\nThe test in the if statement is a little more complicated than\nwe’ve seen. Four individual tests (e.g., mouseX > x) are com-\nbined with the logical AND operator, the && symbol, to ensure that\nevery relational expression in the sequence is true. If one of\nthem is false, the entire test is false and the fill color won’t be\nset to black.\n76 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 576
  },
  {
    "chunk_full": "Figure 5-4. Rectangle rollover test. When all four tests are com-\nbined and true, the cursor is inside the rectangle.\nResponse 77\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 577
  },
  {
    "chunk_full": "Type\np5.js keeps  track of when any key on a keyboard is pressed, as\nwell as the last key pressed. Like the mouseIsPressed variable,\nthe keyIsPressed variable is true when any key is pressed, and\nfalse when no keys are pressed.\nExample 5-16: Tap a Key\nIn this example, the second line is drawn only when a key is\npressed:\nfunction setup() {\n  createCanvas(240, 120);\n}\nfunction draw() {\n  background(204);\n  line(20, 20, 220, 100);\n  if (keyIsPressed) {\n    line(220, 20, 20, 100);\n  }\n}\nThe key variable stores the most recent key that has been\npressed. Unlike the boolean variable keyIsPressed, which\nreverts to false each time a key is released, the key variable \nkeeps its value until the next key is pressed. The following exam-\nple uses the value of key to draw the character to the screen.\nEach time a new key is pressed, the value updates and a new\ncharacter draws. Some keys, like Shift and Alt, don’t have a visi-\nble character, so when you press them, nothing is drawn.\n78 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 578
  },
  {
    "chunk_full": "Example 5-17: Draw Some Letters\nThis example introduces the textSize() function to set the size\nof the letters, the textAlign() function to center the text on its x\ncoordinate, and the text() function to draw the letter. These\nfunctions are discussed in more detail in “Fonts” on page 112.\nfunction setup() {\n  createCanvas(120, 120);\n  textSize(64);\n  textAlign(CENTER);\n  fill(255);\n}\nfunction draw() {\n  background(0);\n  text(key, 60, 80);\n}\nBy using an if structure, we can test to see whether a specific\nkey is pressed and choose to draw something on screen in\nresponse.\nExample 5-18: Check for Specific Keys\nIn this example, we test for an H or N to be typed. We use the\ncomparison operator, the == symbol, to see if the key value is\nequal to the characters we’re looking for:\nResponse 79\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 579
  },
  {
    "chunk_full": "function setup() {\n  createCanvas(120, 120);\n}\nfunction draw() {\n  background(204);\n  if (keyIsPressed) {\n    if ((key == 'h') || (key == 'H')) {\n      line(30, 60, 90, 60);\n    }\n    if ((key == 'n') || (key == 'N')) {\n      line(30, 20, 90, 100);\n    }\n  }\n  line(30, 20, 30, 100);\n  line(90, 20, 90, 100);\n}\nWhen we watch for H or N to be pressed, we need to check for\nboth the lowercase and uppercase letters in the event that\nsomeone hits the Shift key or has the Caps Lock set. We com-\nbine the two tests together with a logical OR, the || symbol. If\nwe translate the second if statement in this example into plain\nlanguage, it says, “If the ‘h’ key is pressed OR the ‘H’ key is\npressed.” Unlike with the logical AND (the && symbol), only one\nof these expressions need be true for the entire test to be true.\nSome keys are more difficult to detect, because they aren’t tied\nto a particular letter. Keys like Shift, Alt, and the arrow keys are\ncoded. We check the code with the keyCode variable to see\nwhich key it is. The most frequently used keyCode values are ALT,\nCONTROL, and SHIFT, as well as the arrow keys, UP_ARROW,\nDOWN_ARROW, LEFT_ARROW, and RIGHT_ARROW.\nExample 5-19: Move with Arrow Keys\nThe following example shows how to check for the left or right\narrow keys to move a rectangle:\nvar x = 215;\nfunction setup() {\n  createCanvas(480, 120);\n}\n80 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 580
  },
  {
    "chunk_full": "function draw() {\n  if (keyIsPressed) {\n    if (keyCode == LEFT_ARROW) { \n      x--;\n    } \n    else if (keyCode == RIGHT_ARROW) { \n      x++;\n    }\n  }\n  rect(x, 45, 50, 50);\n}\nTouch\nFor devices that support it, p5.js keeps track of whether the\nscreen is touched, and the location. Like the mouseIsPressed\nvariable, the touchIsDown variable is true when the screen is\ntouched, and false when it is not.\nExample 5-20: Touch the Screen\nIn this example, the second line is drawn only when the screen is\ntouched:\nfunction setup() {\n  createCanvas(240, 120);\n}\nfunction draw() {\n  background(204);\n  line(20, 20, 220, 100);\n  if (touchIsDown) {\n    line(220, 20, 20, 100);\n  }\n}\nLike the mouseX and mouseY variables, the touchX and touchY vari-\nables store the x and y coordinates of the point where the\nscreen is being touched.\nResponse 81\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 581
  },
  {
    "chunk_full": "Example 5-21: Track the Finger\nIn  this example, a new circle is added to the canvas each time\nthe code in draw() is run. To refresh the screen and only display\nthe newest circle, place a background() function at the begin-\nning of draw() before the shape is drawn:\nfunction setup() {\n  createCanvas(480, 120);\n  fill(0, 102);\n  noStroke();\n}\nfunction draw() {\n  ellipse(touchX, touchY, 15, 15);\n}\nMap\nThe numbers that are created by the mouse and keyboard often\nneed to be modified to be useful within a program. For instance,\nif a sketch is 1920 pixels wide and the mouseX values are used to\nset the color of the background, the range of 0 to 1920 for\nmouseX might need to move into a range of 0 to 255 to better\ncontrol the color. This transformation can be done with an equa-\ntion or with a function called map().\nExample 5-22: Map Values to a Range\nIn this example, the location of two lines are controlled with the\nmouseX variable. The gray line is synchronized to the cursor posi-\ntion, but the black line stays closer to the center of the screen to\nmove further away from the white line at the left and right\nedges:\n82 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 582
  },
  {
    "chunk_full": "function setup() {\n  createCanvas(240, 120);\n  strokeWeight(12);\n}\nfunction draw() {\n  background(204);\n  stroke(102);\n  line(mouseX, 0, mouseX, height);  // Gray line\n  stroke(0);\n  var mx = mouseX/2 + 60;\n  line(mx, 0, mx, height);  // Black line\n}\nThe map() function is a more general way to make this type of\nchange. It converts a variable from one range of numbers to\nanother. The first parameter is the variable to be converted, the\nsecond and third parameters are the low and high values of that\nvariable, and the fourth and fifth parameters are the desired low\nand high values. The map() function hides the math behind the\nconversion.\nExample 5-23: Map with the map()\nFunction\nThis example rewrites Example 5-22 on page 82 using map():\nfunction setup() {\n  createCanvas(240, 120);\n  strokeWeight(12);\n}\nfunction draw() {\n  background(204);\n  stroke(255);\n  line(120, 60, mouseX, mouseY); // White line\n  stroke(0);\n  var mx = map(mouseX, 0, width, 60, 180);\n  line(120, 60, mx, mouseY); // Black line\n}\nThe map() function makes the code easy to read, because the\nminimum and maximum values are clearly written as the\nparameters. In this example, mouseX values between 0 and width\nare converted to a number from 60 (when mouseX is 0) up to 180\nResponse 83\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 583
  },
  {
    "chunk_full": "(when mouseX is width). You’ll find the useful map() function in\nmany examples throughout this book.\nRobot 3: Response\nThis program uses the variables introduced in Robot 2 (see\n“Robot 2: Variables” on page 54) and makes it possible to\nchange them while the program runs so that the shapes\nrespond to the mouse. The code inside the draw() block runs\nmany times each second. At each frame, the variables defined\nin the program change in response to the mouseX and mouseIs\nPressed variables.\nThe mouseX value controls the position of the robot with an eas-\ning technique so that movements are less instantaneous and\ntherefore feel more natural. When a mouse button is pressed,\nthe values of neckHeight and bodyHeight change to make the\nrobot short:\nvar x = 60;          // x coordinate\nvar y = 440;         // y coordinate\nvar radius = 45;       // Head radius\nvar bodyHeight = 160;  // Body height\nvar neckHeight = 70;   // Neck height\n84 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 584
  },
  {
    "chunk_full": "var easing = 0.04;\nfunction setup() {\n  createCanvas(360, 480);\n  strokeWeight(2);\n  ellipseMode(RADIUS);\n}\nfunction draw() {\n  \n  var targetX = mouseX;\n  x += (targetX - x) * easing;\n    \n  if (mouseIsPressed) {\n    neckHeight = 16;\n    bodyHeight = 90; \n  } else {\n    neckHeight = 70;\n    bodyHeight = 160; \n  }\n  \n  var neckY = y - bodyHeight - neckHeight - radius;\n  \n  background(204);\n  \n  // Neck\n  stroke(102);\n  line(x+12, y-bodyHeight, x+12, neckY); \n  // Antennae\n  line(x+12, neckY, x-18, neckY-43);\n  line(x+12, neckY, x+42, neckY-99);\n  line(x+12, neckY, x+78, neckY+15);\n  // Body\n  noStroke();\n  fill(102);\n  ellipse(x, y-33, 33, 33);\n  fill(0);\n  rect(x-45, y-bodyHeight, 90, bodyHeight-33);\n  // Head\n  fill(0);\n  ellipse(x+12, neckY, radius, radius); \n  fill(255);\n  ellipse(x+24, neckY-6, 14, 14);\nResponse 85\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 585
  },
  {
    "chunk_full": "  fill(0);\n  ellipse(x+24, neckY-6, 3, 3);\n}\n86 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 586
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 587
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 588
  },
  {
    "chunk_full": "6/Translate, Rotate,\nScale\nAn alternative technique for positioning\nand moving things on screen is to change\nthe screen coordinate system. For exam-\nple, you can move a shape 50 pixels to\nthe right, or you can move the location of\ncoordinate (0,0) 50 pixels to the right—\nthe visual result on screen is the same.\nBy modifying the default coordinate system, we can create dif-\nferent transformations including translation, rotation, and\nscaling.\nTranslate\nWorking with transformations can be tricky, but the trans\nlate() function is the most straightforward, so we’ll start with\nthat. As Figure 6-1 shows, this function can shift the coordinate\nsystem left, right, up, and down.\n89\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 589
  },
  {
    "chunk_full": "Figure 6-1. Translating the coordinates\nExample 6-1: Translating Location\nIn this example, notice that the rectangle is drawn at coordinate\n(0,0), but it is moved around on the canvas, because it is affec-\nted by translate():\nfunction setup() {\n  createCanvas(120, 120);\n  background(204);\n}\nfunction draw() {\n  translate(mouseX, mouseY);\n  rect(0, 0, 30, 30);\n}\nThe translate() function sets the (0,0) coordinate of the screen\nto the mouse location (mouseX and mouseY). Each time\nthe draw() block repeats, the rect() is drawn at the new ori-\ngin, derived from the current mouse location. \n90 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 590
  },
  {
    "chunk_full": "Example 6-2: Multiple Translations\nAfter a transformation is made, it is applied to all drawing func-\ntions that follow. Notice what happens when a second translate\nfunction is added to control a second rectangle:\nfunction setup() {\n  createCanvas(120, 120);\n  background(204);\n}\nfunction draw() {\n  translate(mouseX, mouseY);\n  rect(0, 0, 30, 30);\n  translate(35, 10);\n  rect(0, 0, 15, 15);\n}\nThe values for the translate() functions are added together.\nThe smaller rectangle was translated the amount of mouseX + 35\nand mouseY + 10. The x and y coordinates for both rectangles are\n(0,0), but the translate() functions move them to other posi-\ntions on the canvas.\nHowever, even though the transformations accumulate within\nthe draw() block, they are reset each time draw() starts again at\nthe top.\nRotate\nThe rotate() function rotates the coordinate system. It has one\nparameter, which is the angle (in radians) to rotate. It always\nrotates relative to (0,0), known as rotating around the origin.\nFigure 3-2 shows the radians angle values. Figure 6-2 shows the\ndifference between rotating with positive and negative numbers.\nTranslate, Rotate, Scale 91\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 591
  },
  {
    "chunk_full": "Figure 6-2. Rotating the coordinates\nExample 6-3: Corner Rotation\nTo  rotate a shape, first define the rotation angle with rotate(),\nthen draw the shape. In this sketch, the parameter to rotate\n(mouseX / 100.0) will be between 0 and 1.2 to define the rotation\nangle because mouseX will be between 0 and 120, the width of\nthe canvas as defined in createCanvas():\nfunction setup() {\n  createCanvas(120, 120);\n  background(204);\n}\nfunction draw() {\n  rotate(mouseX / 100.0);\n  rect(40, 30, 160, 20);\n}\n92 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 592
  },
  {
    "chunk_full": "Example 6-4: Center Rotation\nTo rotate  a shape around its own center, it must be drawn with\ncoordinate (0,0) in the middle. In this example, because the\nshape is 160 wide and 20 high as defined in rect(), it is drawn at\nthe coordinate (-80, -10) to place (0,0) at the center of the\nshape:\nfunction setup() {\n  createCanvas(120, 120);\n  background(204);\n}\nfunction draw() {\n  rotate(mouseX / 100.0);\n  rect(-80, -10, 160, 20);\n}\nThe previous pair of examples show how to rotate around coor-\ndinate (0,0), but what about other possibilities? You can use the\ntranslate() and rotate() functions for more control. When they\nare combined, the order in which they appear affects the result.\nIf the coordinate system is first moved and then rotated, that is\ndifferent than first rotating the coordinate system, then moving\nit.\nExample 6-5: Translation, Then\nRotation\nTo spin a shape around its center point at a place on screen\naway from the origin, first use translate() to move to the loca-\ntion where you’d like the shape, then call rotate(), and then\ndraw the shape with its center at coordinate (0,0):\nTranslate, Rotate, Scale 93\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 593
  },
  {
    "chunk_full": "var angle = 0.0;\nfunction setup() {\n  createCanvas(120, 120);\n  background(204);\n}\nfunction draw() {\n  translate(mouseX, mouseY);\n  rotate(angle);\n  rect(-15, -15, 30, 30);\n  angle += 0.1;\n}\nExample 6-6: Rotation, Then\nTranslation\nThe following example is identical to Example 6-5 on page 93,\nexcept that translate() and rotate() are reversed. The shape\nnow rotates around the upper-left corner of the canvas, with the\ndistance from the corner set by translate():\nvar angle = 0.0;\nfunction setup() {\n  createCanvas(120, 120);\n  background(204);\n}\nfunction draw() {\n94 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 594
  },
  {
    "chunk_full": "  rotate(angle);\n  translate(mouseX, mouseY);\n  rect(-15, -15, 30, 30);\n  angle += 0.1;\n}\nYou can also use the rectMode(), ellipseMode() and\nimageMode() functions to make it easier to draw\nshapes from their center. You can read about these\nfunctions  in the p5.js Reference.\nExample 6-7: An Articulating Arm\nIn this example, we’ve put together a series of translate() and\nrotate() functions to create a linked arm that bends back and\nforth. Each translate() further moves the position of the lines,\nand each rotate() adds to the previous rotation to bend more:\nvar angle = 0.0;\nvar angleDirection = 1;\nvar speed = 0.005;\nfunction setup() {\n  createCanvas(120, 120);\n}\nfunction draw() {\n  background(204);\n  translate(20, 25);  // Move to start position\n  rotate(angle);\n  strokeWeight(12);\n  line(0, 0, 40, 0);\n  translate(40, 0);   // Move to next joint\n  rotate(angle * 2.0);\n  strokeWeight(6);\nTranslate, Rotate, Scale 95\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 595
  },
  {
    "chunk_full": "  line(0, 0, 30, 0);\n  translate(30, 0);   // Move to next joint\n  rotate(angle * 2.5);\n  strokeWeight(3);\n  line(0, 0, 20, 0);\n  angle += speed * angleDirection;\n  if ((angle > QUARTER_PI) || (angle < 0)) {\n    angleDirection *= -1;\n  }\n}\nThe angle  variable grows from 0 to QUARTER_PI (one quarter of\nthe value of pi), then decreases until it is less than zero, then the\ncycle repeats. The value of the angleDirection variable  is\nalways 1 or –1 to make the value of angle correspondingly\nincrease or decrease.\nScale\nThe scale() function stretches the coordinates on the canvas.\nBecause the coordinates expand or contract as the scale\nchanges, everything drawn to the canvas increases or decreases\nin dimension. The amount to scale is written as decimal percen-\ntages. Therefore, the parameter 1.5 to scale() is 150% and 3 is\n300% (Figure 6-3).\nFigure 6-3. Scaling the coordinates\n96 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 596
  },
  {
    "chunk_full": "Example 6-8: Scaling\nLike rotate(), the scale() function transforms from the origin.\nTherefore, as with rotate(), to scale a shape from its center,\ntranslate to its location, scale, and then draw with the center at\ncoordinate (0,0):\nfunction setup() {\n  createCanvas(120, 120);\n  background(204);\n}\nfunction draw() {\n  translate(mouseX, mouseY);\n  scale(mouseX / 60.0);\n  rect(-15, -15, 30, 30);\n}\nExample 6-9: Keeping Strokes\nConsistent\nFrom the thick lines in Example 6-8 on page 97, you can see how\nthe scale() function affects the stroke weight. To maintain a\nconsistent  stroke weight as a shape scales, divide the desired\nstroke weight by the scalar value:\nfunction setup() {\n  createCanvas(120, 120);\n  background(204);\n}\nfunction draw() {\n  translate(mouseX, mouseY);\n  var scalar = mouseX / 60.0;\n  scale(scalar);\n  strokeWeight(1.0 / scalar);\nTranslate, Rotate, Scale 97\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 597
  },
  {
    "chunk_full": "  rect(-15, -15, 30, 30);\n}\nPush and Pop\nTo isolate the effects of transformations so they don’t affect\nlater functions, use the push() and pop() functions. When\npush() is run, it saves a copy of the current coordinate system\nand then restores that system after pop(). This is useful when\ntransformations are needed for one shape, but not wanted for\nanother.\nExample 6-10: Isolating\nTransformations\nIn this example, the smaller rectangle always draws in the same\nposition because the translate(mouseX, mouseY) is cancelled by\nthe pop():\nfunction setup() {\n  createCanvas(120, 120);\n  background(204);\n}\nfunction draw() {\n  push();\n  translate(mouseX, mouseY);\n  rect(0, 0, 30, 30);\n  pop();\n  translate(35, 10);\n  rect(0, 0, 15, 15);\n}\n98 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 598
  },
  {
    "chunk_full": "The push() and pop() functions are always used in\npairs. For every push(), you need to have a matching\npop().\nRobot 4: Translate, Rotate, Scale\nThe translate(), rotate(), and scale() functions are all utilized\nin this modified robot sketch. In relation to “Robot 3: Response”\non page 84, translate() is used to make the code easier to\nread. Here, notice how the x value no longer needs to be added\nto each drawing function because the translate() moves every-\nthing. Similarly, the scale() function is used to set the dimen-\nsions for the entire robot. When the mouse is not pressed, the\nsize is set to 60%, and when it is pressed, it goes to 100% in\nrelation to the original coordinates. The rotate() function is\nused within a loop to draw a line, rotate it a little, then draw a\nsecond line, then rotate a little more, and so on until the loop\nhas drawn 30 lines half-way around a circle to style a lovely head\nof robot hair:\nvar x = 60;          // x coordinate\nvar y = 440;         // y coordinate\nTranslate, Rotate, Scale 99\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 599
  },
  {
    "chunk_full": "var radius = 45;       // Head radius\nvar bodyHeight = 180;  // Body height\nvar neckHeight = 40;   // Neck height\nvar easing = 0.04;\nfunction setup() {\n  createCanvas(360, 480);\n  strokeWeight(2);\n  ellipseMode(RADIUS);\n}\nfunction draw() {\n  \n  var neckY = -1 * (bodyHeight + neckHeight + radius);\n  \n  background(204);\n  \n  translate(mouseX, y);  // Move all to (mouseX, y)\n  \n  if (mouseIsPressed) {\n    scale(1.0);\n  } else {\n    scale(0.6);  // 60% size when mouse is pressed\n  }\n  \n  // Body\n  noStroke();\n  fill(102);\n  ellipse(0, -33, 33, 33);\n  fill(0);\n  rect(-45, -bodyHeight, 90, bodyHeight-33);\n  // Neck\n  stroke(102);\n  line(12, -bodyHeight, 12, neckY); \n  \n  // Hair\n  push();\n  translate(12, neckY);\n  var angle = -PI/30.0;\n  for (var i = 0; i <= 30; i++) {\n    line(80, 0, 0, 0);\n    rotate(angle);\n  }\n  pop();\n100 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 600
  },
  {
    "chunk_full": "  \n  // Head\n  noStroke();\n  fill(0);\n  ellipse(12, neckY, radius, radius); \n  fill(255);\n  ellipse(24, neckY-6, 14, 14);\n  fill(0);\n  ellipse(24, neckY-6, 3, 3);\n  \n}\nTranslate, Rotate, Scale 101\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 601
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 602
  },
  {
    "chunk_full": "7/Media\np5.js is capable of drawing more than\nsimple lines and shapes. It’s time to learn\nhow to create images and text in our pro-\ngrams to extend the visual possibilities to\nphotography, detailed diagrams, and\ndiverse typefaces.\nBefore we do that, we first need to talk a little bit about servers.\nUp to this point, we’ve just been viewing the index.html file\ndirectly in the browser. This works fine for things like running\nsimple animations. However, if you want to do things like load an\nexternal image file into your sketch, you might find that your\nbrowser doesn’t allow this. If you look in the console, you may\nsee an error containing the term cross-origin. For loading exter-\nnal files, you will need to run a server. A server is a program that\nworks as a handler layer. It responds when you type a URL into\nthe address bar, and serves the corresponding files to you for\nyou to view.\nThere are several different ways to run servers. Visit https://\ngithub.com/processing/p5.js/wiki/Local-server for instructions\non how to run a server on Mac OS X, Windows, and Linux sys-\ntems. Once you have that set up, you are ready to load media!\nWe’ve posted some media files online for you to use in this\nchapter’s examples: http://p5js.org/learn/books/media.zip.\nDownload this file, unzip it to the desktop (or somewhere else\nconvenient), and make a note of its location.\n103\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 603
  },
  {
    "chunk_full": "To  unzip on Mac OS X, just double-click the file, and\nit will create a folder named media. On Windows,\ndouble-click the media.zip file, which will open a new\nwindow. In that window, drag the media folder to the\ndesktop.\nCreate a new sketch, and copy the lunar.jpg file from the media\nfolder that you just unzipped into your sketch folder.\nOn Windows and Mac OS X,  extensions are hidden\nby default. It’s a good idea to change that option so\nthat you always see the full name of your files. On\nMac OS X, select Preferences from the Finder menu,\nand then make sure “Show all filename extensions”\nis checked in the Advanced tab. On Windows, look\nfor Folder Options, and set the option there.\nImages\nThere are three steps to follow before you can draw an image to\nthe screen:\n1. Add the image to the sketch’s folder.\n2. Create a variable to store the image.\n3. Load the image into the variable with loadImage().\nExample 7-1: Load an Image\nIn order to load an image, we will introduce a new function called\npreload(). The preload() function runs once before the setup()\nfunction runs. You should generally load your images and other\nmedia in preload() in order to ensure they are fully loaded\nbefore your program starts. We will discuss this in more depth\nlater in the chapter.\n104 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 604
  },
  {
    "chunk_full": "After all three steps are done, you can draw the image to the\nscreen with the image() function. The first parameter to image()\nspecifies the image to draw; the second and third set the x and y\ncoordinates:\nvar img;\nfunction preload() {\n  img = loadImage(\"lunar.jpg\");\n}\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  image(img, 0, 0);\n}\nOptional fourth and fifth parameters set the width and height to\ndraw the image. If the fourth and fifth parameters are not used,\nthe image is drawn at the size at which it was created.\nThese next examples show how to work with more than one\nimage in the same program and how to resize an image.\nExample 7-2: Load More Images\nFor this example, you’ll need to add  the capsule.jpg file (found in\nthe media folder you downloaded) to your sketch folder:\nMedia 105\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 605
  },
  {
    "chunk_full": "var img1;\nvar img2;\nfunction preload() {\n  img1 = loadImage(\"lunar.jpg\");\n  img2 = loadImage(\"capsule.jpg\");\n}\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  image(img1, -120, 0);\n  image(img1, 130, 0, 240, 120);\n  image(img2, 300, 0, 240, 120);\n}\nExample 7-3: Mousing Around with\nImages\nWhen the mouseX and mouseY values are used as part of the\nfourth and fifth parameters of image(), the image size changes\nas the mouse moves:\nvar img;\nfunction preload() {\n  img = loadImage(\"lunar.jpg\");\n}\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n106 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 606
  },
  {
    "chunk_full": "  background(0);\n  image(img, 0, 0, mouseX * 2, mouseY * 2);\n}\nWhen an image is displayed larger or smaller than its\nactual size, it may become distorted. Be careful to\nprepare your images at the sizes they will be used.\nWhen the display size of an image is changed with\nthe image() function, the actual image in your sketch\nfolder doesn’t change.\np5.js can load and display raster images in the JPEG, PNG, and\nGIF formats, and vector images in the SVG format. You can con-\nvert images to the JPEG, PNG, GIF, and SVG formats using pro-\ngrams like GIMP, Photoshop, and Illustrator. Most digital cam-\neras save JPEG images, but they usually need to be reduced in\nsize before being used with p5.js. A typical digital camera cre-\nates an image that is several times larger than the drawing area\nof most p5.js sketches. Resizing these images before they are\nadded to the sketch folder makes sketches load faster, run more\nefficiently, and can save disk space.\nGIF, PNG, and SVG images support transparency, which means\nthat pixels can be invisible or partially visible (recall the discus-\nsion of color() and alpha values in Example 3-17 on page 33).\nGIF images have 1-bit transparency, which means that pixels are\neither fully opaque or fully transparent. PNG images have 8-bit\ntransparency, meaning each pixel can have a variable level of\nopacity. The following examples use clouds.gif and clouds.png to\nshow the differences between the file formats. These images\nare in the media folder that you downloaded previously. Be sure\nto add them to the sketch before trying each example.\nMedia 107\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 607
  },
  {
    "chunk_full": "Example 7-4: Transparency with a\nGIF\nvar img;\nfunction preload() {\n  img = loadImage(\"clouds.gif\");\n}\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(204);\n  image(img, 0, 0);\n  image(img, 0, mouseY * -1);\n}\nExample 7-5: Transparency with a\nPNG\nvar img;\nfunction preload() {\n  img = loadImage(\"clouds.png\");\n}\nfunction setup() {\n  createCanvas(480, 120);\n108 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 608
  },
  {
    "chunk_full": "}\nfunction draw() {\n  background(204);\n  image(img, 0, 0);\n  image(img, 0, mouseY * -1);\n}\nExample 7-6: Displaying an SVG\nImage\nvar img;\nfunction preload() {\n  img = loadImage(\"network.svg\");\n}\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(0);\n  image(img, 0, 0);\n  image(img, mouseX, 0);\n}\nRemember to include the appropriate file extension\n(.gif, .jpg, .png, or .svg) when you load the image.\nAlso, be sure that the image name is typed exactly\nas it appears in the file, including the case of the \nletters.\nMedia 109\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 609
  },
  {
    "chunk_full": "Asynchronicity\nWhy do we need to load images in preload()? Why not use\nsetup()? Up until this point, we’ve been assuming that our pro-\ngrams run from top to bottom, with each line completing before\ngoing on to the next one. Although this is generally true, when it\ncomes to certain functions like loading images, your browser will\nbegin the process of loading the image, but skip onto the next\nline before the image finishes loading! This is known as asyn-\nchronicity, or an asynchronous function. It’s a little bit unexpec-\nted at first, but this ultimately allows your pages to load and run\nfaster on the Web.\nTo see this more clearly, consider the following example. It is\nidentical to Example 7-1 on page 104, except we use loadImage()\nin setup() instead of preload().\nExample 7-7: Demonstrating\nAsynchronicity\nvar img;\nfunction setup() {\n  createCanvas(480, 120);\n  img = loadImage(\"lunar.jpg\");\n  noLoop();\n}\nfunction draw() {\n  background(204);\n  image(img, 0, 0);\n}\nWhen you run this program, you’ll notice that the drawing can-\nvas is gray with no image displayed. The sketch runs the setup()\nfunction first, then it runs the draw() function. At the load\n110 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 610
  },
  {
    "chunk_full": "Image() line, it begins to load the image, but continues on\nthrough the rest of setup() and on to draw() before the image\nhas completely loaded. The image() function is unable to draw\nthe not yet existing image.\nTo help with this issue, p5.js has the preload() function. Unlike\nsetup(), preload() forces the program to wait until everything\nhas loaded before moving on. It’s best to only make load calls in\npreload(), and do all other setup in setup().\nAlternatively, instead of using preload(), you could use some-\nthing called a callback function. A callback function is a function\nthat is passed as an argument to a second function, and runs\nafter the second function has completed. The following example\nillustrates this technique.\nExample 7-8: Loading with a Callback\nfunction setup() {\n  createCanvas(480, 120);\n  loadImage(\"lunar.jpg\", drawImage);\n  noLoop();\n}\nfunction draw() {\n  background(200);\n}\nfunction drawImage(img) {\n  image(img, 0, 0);\n}\nIn this example, we add a second argument to loadImage(),\nwhich is the function we want to run after the load is complete.\nOnce the image has loaded, the callback function drawImage() is\nautomatically called, with one argument, the image that has just\nloaded.\nThere’s no need to create a global variable to hold the image.\nThe image is passed directly into the callback function, as the\nparameter name chosen in the function definition.\nMedia 111\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 611
  },
  {
    "chunk_full": "Fonts\np5.js can display text in many fonts other than the default. You\ncan use any font already on your computer (these are called \nsystem fonts). Keep in mind that if you are sharing this on the\nWeb, other people will also need to have the system font in order\nto see the text in the typeface you choose. There are a small\nnumber of fonts that most computers and devices have; these\ninclude “Arial,” “Courier,” “Courier New,” “Georgia,” “Helvetica,”\n“Palatino,” “Times New Roman,” “Trebuchet MS,” and “Verdana.”\nExample 7-9: Drawing with Fonts\nYou can use the textFont() function to set the current font. You\ncan draw letters to the screen with the text() function, and you\ncan change the size with textSize():\nfunction setup() {\n  createCanvas(480, 120);\n  textFont(\"Arial\");\n}\nfunction draw() {\n  background(102);\n  textSize(32);\n  text(\"one small step for man...\", 25, 60);\n  textSize(16);\n  text(\"one small step for man...\", 27, 90);\n}\nThe first parameter to text() is the character(s) to draw to the\nscreen. (Notice that the characters are enclosed within quotes.)\nThe second and third parameters set the horizontal and vertical\nlocation. The location is relative to the baseline of the text (see\nFigure 7-1).\n112 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 612
  },
  {
    "chunk_full": "Figure 7-1. Typography coordinates\nExample 7-10: Use a Webfont\nIf you don’t want to be limited to this small list of fonts, you can\nuse a webfont. Two websites that are good places to find web-\nfonts with open licenses to use with p5.js are GoogleFonts and\nthe Open Font Library.\nTo use a webfont in your program, you’ll need to link to it in your\nindex.html file. When you choose a font from either of the afore-\nmentioned libraries, a snippet of code to add to your HTML file\nwill be displayed. When you copy and paste this code anywhere\nin the <head> section of your HTML, your file will end up looking\nsomething like this:\n<html>\n<head>\n<script type=\"text/javascript\" src=\"../lib/p5.js\"></script>\n<script type=\"text/javascript\" src=\"sketch.js\"></script>\n<link href=\"http://fonts.googleapis.com/css?family=Source+Code\n+Pro\" rel=\"stylesheet\" type=\"text/css\">\n</head>\n<body>\n</body>\n</html></pre>\nOnce you have linked the font in, you can use it with textFont()\njust like the system fonts:\nMedia 113\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 613
  },
  {
    "chunk_full": "function setup() {\n  createCanvas(480, 120);\n  textFont(\"Source Code Pro\");\n}\nfunction draw() {\n  background(102);\n  textSize(28);\n  text(\"one small step for man...\", 25, 60);\n  textSize(16);\n  text(\"one small step for man...\", 27, 90);\n}\nExample 7-11: Load a Custom Font\np5.js can also display text using TrueType (.ttf) and OpenType\n(.otf) fonts. For this introduction, we’ll load the SourceCodePro-\nRegular.ttf TrueType font (included in the media folder that you\ndownloaded earlier) from the sketch folder.\nWe’re using the same font that we employed in Example 7-10 on\npage 113, but now the file is located in the sketch folder rather\nthan loaded from somewhere else online. The output of the fol-\nlowing program should look the same as Example 7-10 on page\n113. Here are the steps you will follow to include and use a cus-\ntom font in your program:\n1. Add the font to the sketch’s folder.\n2. Create a variable to store the font.\n3. Load the font into the variable with loadFont().\n4. Use the textFont() function to set the current font:\nvar font;\nfunction preload() {\n  font = loadFont(\"SourceCodePro-Regular.ttf\");\n114 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 614
  },
  {
    "chunk_full": "}\nfunction setup() {\n  createCanvas(480, 120);\n  textFont(font);\n}\nfunction draw() {\n  background(102);\n  textSize(28);\n  text(\"one small step for man...\", 25, 60);\n  textSize(16);\n  text(\"one small step for man...\", 27, 90);\n}\nExample 7-12: Set the Text Stroke and\nFill\nJust like shapes, the text is affected by both the stroke() and\nfill() functions. The following example outputs black text with\na white outline:\nfunction setup() {\n  createCanvas(480, 120);\n  textFont(\"Source Code Pro\");\n  fill(0);\n  stroke(255);\n}\nfunction draw() {\n  background(102);\n  textSize(28);\n  text(\"one small step for man...\", 25, 60);\n  textSize(16);\n  text(\"one small step for man...\", 27, 90);\n}\nMedia 115\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 615
  },
  {
    "chunk_full": "Example 7-13: Draw Text in a Box\nYou can also set text to draw inside a box by adding fourth and\nfifth parameters that specify the width and height of the box:\nfunction setup() {\n  createCanvas(480, 120);\n  textFont(\"Source Code Pro\");\n  textSize(24);\n}\nfunction draw() {\n  background(102);\n  text(\"one small step for man...\", 26, 24, 240, 100);\n}\nExample 7-13: Store Text in a\nVariable\nIn the previous example, the words inside the text() function\nmake the code difficult to read. We can store these words in a\nvariable to make the code more modular. Here’s a new version\nof the previous example that uses a variable:\nvar quote = \"one small step for man...\";\nfunction setup() {\n  createCanvas(480, 120);\n  textFont(\"Source Code Pro\");\n  textSize(24);\n}\nfunction draw() {\n  background(204);\n  text(quote, 26, 24, 240, 100);\n}\n116 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 616
  },
  {
    "chunk_full": "There’s a set of additional functions that affect how letters are\ndisplayed on screen. They are explained, with examples, in the\nTypography category of the p5.js Reference.\nRobot 5: Media\nUnlike the robots created from lines and rectangles drawn in\np5.js in the previous chapters, these robots were created with a\nvector drawing program. For some shapes, it’s often easier to\npoint and click in a software tool like Inkscape or Illustrator than\nto define the shapes with coordinates in code.\nThere’s a trade-off to selecting one image creation technique\nover another. When shapes are defined in p5.js, there’s more\nflexibility to modify them while the program is running. If the\nshapes are defined elsewhere and then loaded into p5.js,\nchanges are limited to the position, angle, and size. When load-\ning each robot from an SVG file, as this example shows, the var-\niations featured in Robot 2 (see “Robot 2: Variables” on page\n54) are impossible.\nImages can be loaded into a program to bring in visuals created\nin other programs or captured with a camera. With this image in\nthe background, our robots are now exploring for life-forms in\nNorway at the dawn of the 20th century.\nMedia 117\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 617
  },
  {
    "chunk_full": "The SVG and PNG file used in this example can be downloaded\nfrom http://p5js.org/learn/books/media.zip:\nvar bot1;\nvar bot2;\nvar bot3;\nvar landscape;\nvar easing = 0.05;\nvar offset = 0;\n// Preload the images\nfunction preload() {\n  bot1 = loadImage(\"robot1.svg\");\n  bot2 = loadImage(\"robot2.svg\");\n  bot3 = loadImage(\"robot3.svg\");\n  landscape = loadImage(\"alpine.png\");\n}\nfunction setup() {\n  createCanvas(720, 480);\n}\nfunction draw() {\n  // Set the background to the \"landscape\" image; this image\n  // must be the same width and height as the program\n  background(landscape);\n  // Set the left/right offset and apply easing to make\n  // the transition smooth\n  var targetOffset = map(mouseY, 0, height, -40, 40);\n  offset += (targetOffset - offset) * easing;\n  // Draw the left robot\n  image(bot1, 85 + offset, 65);\n  // Draw the right robot smaller and give it a smaller offset\n  var smallerOffset = offset * 0.7;\n  image(bot2, 510 + smallerOffset, 140, 78, 248);\n  // Draw the smallest robot, give it a smaller offset\n  smallerOffset *= -0.5;\n  image(bot3, 410 + smallerOffset, 225, 39, 124);\n}\n118 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 618
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 619
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 620
  },
  {
    "chunk_full": "8/Motion\nLike a flip book, animation on screen is\ncreated by drawing an image, then draw-\ning a slightly different image, then\nanother, and so on. The illusion of fluid\nmotion is created by persistence of\nvision. When a set of similar images is\npresented at a fast enough rate, our\nbrains \ntranslate \nthese \nimages \ninto\nmotion.\nFrames\nTo create smooth motion, p5.js tries to run the code inside\ndraw() at 60 frames each second. A frame is one trip through\nthe draw() function and the frame rate is how many frames are\ndrawn each second. Therefore, a program that draws 60 frames\neach second means the program runs the entire code inside\ndraw() 60 times each second.\nExample 8-1: See the Frame Rate\nTo confirm the frame rate, we can use the browser console that\nwe first learned to access in Chapter 1. The frameRate() func-\ntion tells you the current speed of your program. Open the con-\nsole, run this program, and watch the values print out:\nfunction draw() {\n  var fr = frameRate();\n  print(fr);\n}\n121\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 621
  },
  {
    "chunk_full": "Example 8-2: Set the Frame Rate\nThe frameRate() function can also change the speed at which\nthe program runs. When there is no parameter passed in (like\nExample 8-1 on page 121), it returns the current frame rate.\nHowever, if you call the frameRate() function with a parameter, it\nsets the frame rate to that value. To see the result, uncomment\ndifferent versions of frameRate() in this example:\nfunction setup() {\n  frameRate(30); // Thirty frames each second\n  //frameRate(12); // Twelve frames each second\n  //frameRate(2); // Two frames each second\n  //frameRate(0.5); // One frame every two seconds\n}\nfunction draw() {\n  var fr = frameRate();\n  print(fr);\n}\np5.js tries to run the code at 60 frames each second,\nbut if it takes longer than 1/60th of a second to run\nthe draw() method, then the frame rate will\ndecrease. The frameRate() function specifies only\nthe maximum frame rate, and the actual frame rate\nfor any program depends on the computer that is\nrunning the code.\nSpeed and Direction\nTo create fluid motion examples, we create variables that store\nnumbers and modify them a little bit each frame.\n122 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 622
  },
  {
    "chunk_full": "Example 8-3: Move a Shape\nThe following example moves a shape from left to right by\nupdating the x variable:\nvar radius = 40;\nvar x = -radius;\nvar speed = 0.5;\nfunction setup() {\n  createCanvas(240, 120);\n  ellipseMode(RADIUS);\n}\nfunction draw() {\n  background(0);\n  x += speed;  // Increase the value of x\n  arc(x, 60, radius, radius, 0.52, 5.76);\n}\nWhen you run this code, you’ll notice the shape moves off the\nright of the screen when the value of the x variable is greater\nthan the width of the window. The value of x continues to\nincrease, but the shape is no longer visible.\nMotion 123\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 623
  },
  {
    "chunk_full": "Example 8-4: Wrap Around\nThere are many alternatives to this behavior, which you can\nchoose according to your preference. First, we’ll extend the\ncode to show how to move the shape back to the left edge of the\nscreen after it disappears off the right. In this case, picture the\nscreen as a flattened cylinder, with the shape moving around\nthe outside to return to its starting point:\nvar radius = 40;\nvar x = -radius;\nvar speed = 0.5;\nfunction setup() {\n  createCanvas(240, 120);\n  ellipseMode(RADIUS);\n}\nfunction draw() {\n  background(0);\n  x += speed;  // Increase the value of x\n  if (x > width+radius) {  // If the shape is off screen\n    x = -radius;  // move to the left edge\n  }\n  arc(x, 60, radius, radius, 0.52, 5.76);\n}\nOn each trip through draw(), the code tests to see if the value of\nx has increased beyond the width of the screen (plus the radius\nof the shape). If it has, we set the value of x to a negative value,\nso that as it continues to increase, it will enter the screen from\nthe left. See Figure 8-1 for a diagram of how it works.\n124 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 624
  },
  {
    "chunk_full": "Figure 8-1. Testing for the edges of the window\nExample 8-5: Bounce Off the Wall\nIn this example, we’ll extend Example 8-3 on page 123 to have\nthe shape change directions when it hits an edge, instead of\nwrapping around to the left. To make this happen, we add a new\nvariable to store the direction of the shape. A direction value of 1\nmoves the shape to the right, and a value of −1 moves the shape\nto the left:\nvar radius = 40;\nvar x = 110;\nvar speed = 0.5;\nMotion 125\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 625
  },
  {
    "chunk_full": "var direction = 1;\nfunction setup() {\n  createCanvas(240, 120);\n  ellipseMode(RADIUS);\n}\nfunction draw() {\n  background(0);\n  x += speed * direction;\n  if ((x > width-radius) || (x < radius)) {\n    direction = -direction; // Flip direction\n  }\n  if (direction == 1) {\n    arc(x, 60, radius, radius, 0.52, 5.76); // Face right\n  } else {\n    arc(x, 60, radius, radius, 3.67, 8.9); // Face left\n  }\n}\nWhen the shape reaches an edge, this code flips the shape’s\ndirection by changing the sign of the direction variable. For\nexample, if the direction variable is positive when the shape\nreaches an edge, the code flips it to negative.\nTweening\nSometimes you want to animate a shape to go from one point\non screen to another. With a few lines of code, you can set up\nthe start position and the stop position, then calculate the in-\nbetween (tween) positions at each frame.\nExample 8-6: Calculate Tween\nPositions\nTo make this example code modular, we’ve created a group of\nvariables at the top. Run the code a few times and change the\nvalues to see how this code can move a shape from any location\nto any other at a range of speeds. Change the step variable to\nalter the speed:\n126 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 626
  },
  {
    "chunk_full": "var startX = 20;   // Initial x coordinate\nvar stopX = 160;   // Final x coordinate\nvar startY = 30;   // Initial y coordinate\nvar stopY = 80;    // Final y coordinate\nvar x = startX;    // Current x coordinate\nvar y = startY;    // Current y coordinate\nvar step = 0.005;  // createCanvas of each step (0.0 to 1.0)\nvar pct = 0.0;     // Percentage traveled (0.0 to 1.0)\nfunction setup() {\n  createCanvas(240, 120);\n}\nfunction draw() {\n  background(0);\n  if (pct < 1.0) {\n    x = startX + ((stopX-startX) * pct);\n    y = startY + ((stopY-startX) * pct);\n    pct += step;\n  }\n  ellipse(x, y, 20, 20);\n}\nRandom\nUnlike the smooth, linear motion common to computer graph-\nics, motion in the physical world is usually idiosyncratic. For\ninstance, think of a leaf floating to the ground, or an ant crawling\nover rough terrain. We can simulate the unpredictable qualities\nof the world by generating random numbers. The random() func-\ntion calculates these values; we can set a range to tune the\namount of disarray in a program.\nMotion 127\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 627
  },
  {
    "chunk_full": "Example 8-7: Generate Random\nValues\nThe following short example prints random values to the con-\nsole, with the range limited by the position of the mouse:\nfunction draw() {\n  var r = random(0, mouseX);\n  print(r);\n}\nExample 8-8: Draw Randomly\nBuilding on Example 8-7 on page 128, this example uses the val-\nues from random() to change the position of lines on the canvas.\nWhen the mouse is at the left of the canvas, the change is small;\nas it moves to the right, the values from random() increase and\nthe movement becomes more exaggerated. Because the ran\ndom() function is inside the for loop, a new random value is cal-\nculated for each point of every line:\nfunction setup() {\n  createCanvas(240, 120);\n}\nfunction draw() {\n  background(204);\n  for (var x = 20; x < width; x += 20) {\n    var mx = mouseX / 10;\n    var offsetA = random(-mx, mx);\n    var offsetB = random(-mx, mx);\n    line(x + offsetA, 20, x - offsetB, 100);\n  }\n}\n128 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 628
  },
  {
    "chunk_full": "Example 8-9: Move Shapes Randomly\nWhen used to move shapes around on screen, random values\ncan generate images that are more natural in appearance. In the\nfollowing example, the position of the circle is modified by ran-\ndom values on each trip through draw(). Because the back\nground() function is not used, past locations are traced:\nvar speed = 2.5;\nvar diameter = 20;\nvar x;\nvar y;\nfunction setup() {\n  createCanvas(240, 120);\n  x = width/2;\n  y = height/2;\n  background(204);\n}\nfunction draw() {\n  x += random(-speed, speed);\n  y += random(-speed, speed);\n  ellipse(x, y, diameter, diameter);\n}\nIf you watch this example long enough, you may see the circle\nleave the window and come back. This is left to chance, but we\ncould add a few if structures or use the constrain() function to\nkeep the circle from leaving the screen.\nThe constrain() function limits a value to a specific range,\nwhich can be used to keep x and y within the boundaries of the\ndrawing canvas. By replacing the draw() in the preceding code\nwith the following, you’ll ensure that the ellipse will remain on\nthe screen:\nMotion 129\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 629
  },
  {
    "chunk_full": "function draw() {\n  x += random(-speed, speed);\n  y += random(-speed, speed);\n  x = constrain(x, 0, width);\n  y = constrain(y, 0, height);\n  ellipse(x, y, diameter, diameter);\n}\nThe randomSeed()  function can be used to force\nrandom() to produce the same sequence of numbers\neach time a program is run. This is described further\nin the p5.js Reference.\nTimers\nEvery p5.js program counts the amount of time that has passed\nsince it was started. It counts in milliseconds (thousandths of a\nsecond), so after 1 second, the counter is at 1,000; after 5 sec-\nonds, it’s at 5,000; after 1 minute, it’s at 60,000. We can use this\ncounter to trigger animations at specific times. The millis()\nfunction returns this counter value.\nExample 8-10: Time Passes\nYou can watch the time pass when you run this program:\nfunction draw() {\n  var timer = millis();\n  print(timer);\n}\nExample 8-11: Triggering Timed\nEvents\nWhen paired with an if block, the values from millis() can be\nused to sequence animation and events within a program. For\ninstance, after two seconds have elapsed, the code inside the if\nblock can trigger a change. In this example, variables called\ntime1 and time2 determine when to change the value of the x\nvariable:\n130 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 630
  },
  {
    "chunk_full": "var time1 = 2000;\nvar time2 = 4000;\nvar x = 0;\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  var currentTime = millis();\n  background(204);\n  if (currentTime > time2) {\n    x -= 0.5;\n  } else if (currentTime > time1) {\n    x += 2;\n  }\n  ellipse(x, 60, 90, 90);\n}\nCircular\nIf you’re a trigonometry ace, you already know how amazing the\nsine and cosine functions are. If you’re not, we hope the next\nexamples will trigger your interest. We won’t discuss the math in\ndetail here, but we’ll show a few applications to generate fluid\nmotion.\nFigure 8-2 shows a visualization of sine wave values and how\nthey relate to angles. At the top and bottom of the wave, notice\nhow the rate of change (the change on the vertical axis) slows\ndown, stops, then switches direction. It’s this quality of the\ncurve that generates interesting motion.\nThe sin() and cos() functions in p5.js return values between −1\nand 1 for the sine or cosine of the specified angle. Like arc(), the\nangles must be given in radian values (see Example 3-7 on page\n23 and Example 3-8 on page 24 for a reminder of how radians\nwork). To be useful for drawing, the float values returned by\nsin() and cos() are usually multiplied by a larger value.\nMotion 131\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 631
  },
  {
    "chunk_full": "Figure 8-2. A sine wave is created by tracing the sine values of\nan angle that moves around a circle\n132 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 632
  },
  {
    "chunk_full": "Example 8-12: Sine Wave Values\nThis example shows how values for sin() cycle from −1 to 1 as\nthe angle increases. With the map() function, the sinval variable\nis converted from this range to values from 0 to 255. This new\nvalue is used to set the background color of the canvas:\nvar angle = 0.0;\nfunction draw() {\n  var sinval = sin(angle);\n  print(sinval);\n  var gray = map(sinval, -1, 1, 0, 255);\n  background(gray);\n  angle += 0.1;\n}\nExample 8-13: Sine Wave Movement\nThis example shows how these values can be converted into\nmovement:\nvar angle = 0.0;\nvar offset = 60;\nvar scalar = 40;\nvar speed = 0.05;\nfunction setup() {\n  createCanvas(240, 120);\n}\nfunction draw() {\n  background(0);\n  var y1 = offset + sin(angle) * scalar;\n  var y2 = offset + sin(angle + 0.4) * scalar;\n  var y3 = offset + sin(angle + 0.8) * scalar;\n  ellipse( 80, y1, 40, 40);\n  ellipse(120, y2, 40, 40);\nMotion 133\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 633
  },
  {
    "chunk_full": "  ellipse(160, y3, 40, 40);\n  angle += speed;\n}\nExample 8-14: Circular Motion\nWhen   sin() and cos() are used together, they can produce cir-\ncular motion. The cos() values provide the x coordinates, and\nthe sin()   values provide the y coordinates. Both are multiplied\nby a variable named scalar  to change the radius of the move-\nment and summed with an offset value to set the center of the\ncircular motion:\nvar angle = 0.0;\nvar offset = 60;\nvar scalar = 30;\nvar speed = 0.05;\nfunction setup() {\n  createCanvas(120, 120);\n  background(204);\n}\nfunction draw() {\n  var x = offset + cos(angle) * scalar;\n  var y = offset + sin(angle) * scalar;\n  ellipse(x, y, 40, 40);\n  angle += speed;\n}\n134 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 634
  },
  {
    "chunk_full": "Example 8-15: Spirals\nA slight change made to increase the scalar value at each frame\nproduces a spiral, rather than a circle:\nvar angle = 0.0;\nvar offset = 60;\nvar scalar = 2;\nvar speed = 0.05;\nfunction setup() {\n  createCanvas(120, 120);\n  fill(0);\n  background(204);\n}\nfunction draw() {\n  var x = offset + cos(angle) * scalar;\n  var y = offset + sin(angle) * scalar;\n  ellipse(x, y, 2, 2);\n  angle += speed;\n  scalar += speed;\n}\nMotion 135\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 635
  },
  {
    "chunk_full": "Robot 6: Motion\nIn this example, the techniques for random and circular motion\nare applied to the robot. The background() was removed to\nmake it easier to see how the robot’s position and body change.\nAt each frame, a random number between −4 and 4 is added to\nthe x coordinate, and a random number between −1 and 1 is\nadded to the y coordinate. This causes the robot to move more\nfrom left to right than top to bottom. Numbers calculated from\nthe sin() function change the height of the neck so it oscillates\nbetween 50 and 110 pixels high:\nvar x = 180;           // x coordinate\nvar y = 400;           // y coordinate\nvar bodyHeight = 153;  // Body height\nvar neckHeight = 56;   // Neck height\nvar radius = 45;       // Head radius\nvar angle = 0.0;       // Angle for motion\nfunction setup() {\n  createCanvas(360, 480);\n  ellipseMode(RADIUS);\n  background(204);\n}\n136 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 636
  },
  {
    "chunk_full": "function draw() {\n  // Change position by a small random amount\n  x += random(-4, 4);\n  y += random(-1, 1);\n  // Change height of neck\n  neckHeight = 80 + sin(angle) * 30;\n  angle += 0.05;\n // Adjust the height of the head\n var ny = y - bodyHeight - neckHeight - radius;\n // Neck\n stroke(102);\n line(x+2, y-bodyHeight, x+2, ny);\n line(x+12, y-bodyHeight, x+12, ny);\n line(x+22, y-bodyHeight, x+22, ny);\n // Antennae\n line(x+12, ny, x-18, ny-43);\n line(x+12, ny, x+42, ny-99);\n line(x+12, ny, x+78, ny+15);\n // Body\n noStroke();\n fill(102);\n ellipse(x, y-33, 33, 33);\n fill(0);\n rect(x-45, y-bodyHeight, 90, bodyHeight-33);\n fill(102);\n rect(x-45, y-bodyHeight+17, 90, 6);\n // Head\n fill(0);\n ellipse(x+12, ny, radius, radius);\n fill(255);\n ellipse(x+24, ny-6, 14, 14);\n fill(0);\n ellipse(x+24, ny-6, 3, 3);\n}\nMotion 137\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 637
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 638
  },
  {
    "chunk_full": "9/Functions\nFunctions are the basic building blocks\nfor p5.js programs. They have appeared\nin every example we’ve presented. For\ninstance, we’ve frequently used the\ncreateCanvas() \nfunction, \nthe \nline()\nfunction, and the fill() function. This\nchapter shows how to write new func-\ntions to extend the capabilities of p5.js\nbeyond its built-in features.\nThe power of functions is modularity. Functions are independ-\nent software units that are used to build more complex pro-\ngrams—like LEGO bricks, where each type of brick serves a spe-\ncific purpose, and making a complex model requires using the\ndifferent parts together. As with functions, the true power of\nthese bricks is the ability to build many different forms from the\nsame set of elements. The same group of LEGOs that makes a\nspaceship can be reused to construct a truck, a skyscraper, and\nmany other objects.\nFunctions are helpful if you want to draw a more complex shape\nlike a tree over and over. The function to draw the tree shape\nwould be made up of p5.js’s built-in functions, like line(), that\ncreate the form. After the code to draw the tree is written, you\ndon’t need to think about the details of tree drawing again—you\ncan simply write tree() (or whatever you named the function)\nto draw the shape. Functions allow a complex sequence of\nstatements to be abstracted, so you can focus on the higher-\nlevel goal (such as drawing a tree), and not the details of the\nimplementation (the line() functions that define the tree\n139\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 639
  },
  {
    "chunk_full": "shape). Once a function is defined, the code inside the function\nneed not be repeated again.\nFunction Basics\nA computer runs a program one line at a time. When a function\nis run, the computer jumps to where the function is defined and\nruns the code there, then jumps back to where it left off.\nExample 9-1: Roll the Dice\nThis behavior is illustrated with the rollDice() function written\nfor this example. When a program starts, it runs the code in\nsetup() and then stops. The program takes a detour and runs\nthe code inside rollDice() each time it appears:\nfunction setup() {\n  print(\"Ready to roll!\");\n  rollDice(20);\n  rollDice(20);\n  rollDice(6);\n  print(\"Finished.\");\n}\nfunction rollDice(numSides) {\n  var d = 1 + int(random(numSides));\n  print(\"Rolling... \" + d);\n}\nThe two lines of code in rollDice() select a random number\nbetween 1 and the number of sides on the dice, and prints that\nnumber to the console. Because the numbers are random, you’ll\nsee different numbers each time the program is run:\nReady to roll!\nRolling... 20\nRolling... 11\nRolling... 1\nFinished.\nEach time the rollDice() function is run inside setup(), the\ncode within the function runs from top to bottom, then the pro-\ngram continues on the next line within setup().\nThe random() function (described in “Random” on page 127)\nreturns a number from 0 up to (but not including) the number\n140 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 640
  },
  {
    "chunk_full": "specified. So random(6) returns a number between 0 and\n5.99999. . . Because random() returns a decimal point number,\nwe also use int() to convert it to an integer. So int(random(6))\nwill return 0, 1, 2, 3, 4, or 5. Then we add 1 so that the number\nreturned is between 1 and 6 (like a die). Like many other cases in\nthis book, counting from 0 makes it easier to use the results of\nrandom() with other calculations.\nExample 9-2: Another Way to Roll\nIf an equivalent program were written without the rollDice()\nfunction, it might look like this:\nfunction setup() {\n  print(\"Ready to roll!\");\n  var d1 = 1 + int(random(20));\n  print(\"Rolling... \" + d1);\n  var d2 = 1 + int(random(20));\n  print(\"Rolling... \" + d2);\n  var d3 = 1 + int(random(6));\n  print(\"Rolling... \" + d3);\n  print(\"Finished.\");\n}\nThe rollDice() function in Example 9-1 on page 140 makes the\ncode easier to read and maintain. The program is clearer,\nbecause the name of the function clearly states its purpose. In\nthis example, we see the random() function in setup(), but its\nuse is not as obvious. The number of sides on the die is also\nclearer with a function: when the code says rollDice(6), it’s\nobvious that it’s simulating the roll of a six-sided die. Also,\nExample 9-1 on page 140 is easier to maintain, because informa-\ntion is not repeated. The phrase Rolling... is repeated three\ntimes here. If you want to change that text to something else,\nyou would need to update the program in three places, rather\nthan making a single edit inside the rollDice() function. In addi-\ntion, as you’ll see in Example 9-5 on page 144, a function can\nalso make a program much shorter (and therefore easier to\nmaintain and read), which helps reduce the potential number of \nbugs.\nFunctions 141\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 641
  },
  {
    "chunk_full": "Make a Function\nIn this section, we’ll draw an owl to explain the steps involved in\nmaking a function.\nExample 9-3: Draw the Owl\nFirst, we’ll draw the owl without using a function:\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(204);\n  translate(110, 110);\n  stroke(0);\n  strokeWeight(70);\n  line(0, -35, 0, -65); // Body\n  noStroke();\n  fill(204);\n  ellipse(-17.5, -65, 35, 35);  // Left eye dome\n  ellipse(17.5, -65, 35, 35);   // Right eye dome\n  arc(0, -65, 70, 70, 0, PI);   // Chin\n  fill(0);\n  ellipse(-14, -65, 8, 8);  // Left eye\n  ellipse(14, -65, 8, 8);   // Right eye\n  quad(0, -58, 4, -51, 0, -44, -4, -51); // Beak\n}\nNotice that translate() is used to move the origin (0,0) to 110\npixels over and 110 pixels down. Then the owl is drawn relative to\n(0,0), with its coordinates sometimes positive and negative as\nit’s centered around the new 0,0 point. (See Figure 9-1.)\n142 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 642
  },
  {
    "chunk_full": "Figure 9-1. The owl’s coordinates\nExample 9-4: Two’s Company\nThe code presented in Example 9-3 on page 142 is reasonable if\nthere is only one owl, but when we draw a second, the length of\nthe code is nearly doubled:\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(204);\n  \n  // Left owl\n  translate(110, 110);\n  stroke(0);\n  strokeWeight(70);\n  line(0, -35, 0, -65); // Body\n  noStroke();\nFunctions 143\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 643
  },
  {
    "chunk_full": "  fill(204);\n  ellipse(-17.5, -65, 35, 35);  // Left eye dome\n  ellipse(17.5, -65, 35, 35);   // Right eye dome\n  arc(0, -65, 70, 70, 0, PI);   // Chin\n  fill(0);\n  ellipse(-14, -65, 8, 8);  // Left eye\n  ellipse(14, -65, 8, 8);   // Right eye\n  quad(0, -58, 4, -51, 0, -44, -4, -51); // Beak\n  \n  // Right owl\n  translate(70, 0);\n  stroke(0);\n  strokeWeight(70);\n  line(0, -35, 0, -65); // Body\n  noStroke();\n  fill(255);\n  ellipse(-17.5, -65, 35, 35);  // Left eye dome\n  ellipse(17.5, -65, 35, 35);   // Right eye dome\n  arc(0, -65, 70, 70, 0, PI);   // Chin\n  fill(0);\n  ellipse(-14, -65, 8, 8);  // Left eye\n  ellipse(14, -65, 8, 8);   // Right eye\n  quad(0, -58, 4, -51, 0, -44, -4, -51); // Beak\n}\nThe program grew from 21 lines to 34: the code to draw the first\nowl was cut and pasted into the program and a translate() was\ninserted to move it 70 pixels to the right. This is a tedious and\ninefficient way to draw a second owl, not to mention the head-\nache of adding a third owl with this method. But duplicating the\ncode is unnecessary, because this is the type of situation where\na function can come to the rescue.\nExample 9-5: An Owl Function\nIn this example, a function is introduced to draw two owls with\nthe same code. If we make the code that draws the owl to the\nscreen into a new function, the code need only appear once in\nthe program:\n144 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 644
  },
  {
    "chunk_full": "function setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(204);\n  owl(110, 110);\n  owl(180, 110);\n}\nfunction owl(x, y) {\n  push();\n  translate(x, y);\n  stroke(0);\n  strokeWeight(70);\n  line(0, -35, 0, -65); // Body\n  noStroke();\n  fill(255);\n  ellipse(-17.5, -65, 35, 35); // Left eye dome\n  ellipse(17.5, -65, 35, 35);  // Right eye dome\n  arc(0, -65, 70, 70, 0, PI);  // Chin\n  fill(0);\n  ellipse(-14, -65, 8, 8); // Left eye\n  ellipse(14, -65, 8, 8);  // Right eye\n  quad(0, -58, 4, -51, 0, -44, -4, -51); // Beak\n  pop();\n}\nYou can see from the illustrations that this example and Exam-\nple 9-4 on page 143 have the same result, but this example is\nshorter, because the code to draw the owl appears only once,\ninside the aptly named owl() function. This code runs twice,\nbecause it’s called twice inside draw(). The owl is drawn in two\ndifferent locations because of the parameters passed into the\nfunction that set the x and y coordinates.\nParameters are an important part of functions, because they\nprovide flexibility. We saw another example in the rollDice()\nFunctions 145\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 645
  },
  {
    "chunk_full": "function; the single parameter named numSides made it possible\nto simulate a 6-sided die, a 20-sided die, or a die with any num-\nber of sides. This is just like many other p5.js functions. For\ninstance, the parameters to the line() function make it possible\nto draw a line from any pixel on the canvas to any other pixel.\nWithout the parameters, the function would be able to draw a\nline only from one fixed point to another.\nEach parameter is a variable that’s created each time the func-\ntion runs. When this example is run, the first time the owl func-\ntion is called, the value of the x parameter is 110, and y is also\n110. In the second use of the function, the value of x is 180 and y\nis again 110. Each value is passed into the function and then\nwherever the variable name appears within the function, it’s\nreplaced with the incoming value.\nExample 9-6: Increasing the Surplus\nPopulation\nNow that we have a basic function to draw the owl at any loca-\ntion, we can draw many owls efficiently by placing the function\nwithin a for loop and changing the first parameter each time\nthrough the loop:\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(204);\n  for (var x = 35; x < width + 70; x += 70) {\n    owl(x, 110);\n  }\n}\n// Insert owl() function from Example 9-5\n146 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 646
  },
  {
    "chunk_full": "It’s possible to keep adding more and more parameters to the\nfunction to change different aspects of how the owl is drawn.\nValues could be passed in to change the owl’s color, rotation,\nscale, or the diameter of its eyes.\nExample 9-7: Owls of Different Sizes\nIn this example, we’ve added two parameters to change the gray\nvalue and size of each owl:\nfunction setup() {\n  createCanvas(480, 120);\n}\nfunction draw() {\n  background(204);\n  randomSeed(0);\n  for (var i = 35; i < width + 40; i += 40) {\n    var gray = int(random(0, 102));\n    var scalar = random(0.25, 1.0);\n    owl(i, 110, gray, scalar);\n  }\n}\nfunction owl(x, y, g, s) {\n  push();\n  translate(x, y);\n  scale(s);  // Set the scale\n  stroke(g); // Set the gray value\n  strokeWeight(70);\n  line(0, -35, 0, -65); // Body\n  noStroke();\n  fill(255-g);\n  ellipse(-17.5, -65, 35, 35); // Left eye dome\n  ellipse(17.5, -65, 35, 35);  // Right eye dome\n  arc(0, -65, 70, 70, 0, PI);  // Chin\n  fill(g);\n  ellipse(-14, -65, 8, 8);  // Left eye\nFunctions 147\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 647
  },
  {
    "chunk_full": "  ellipse(14, -65, 8, 8);   // Right eye\n  quad(0, -58, 4, -51, 0, -44, -4, -51); // Beak\n  pop();\n}\nReturn Values\nFunctions can make a calculation and then return a value to the\nmain program. We’ve already used functions of this type, includ-\ning random() and sin(). Notice that when this type of function\nappears, the return value is usually assigned to a variable:\nvar r = random(1, 10);\nIn this case, random() returns a value between 1 and 10, which is\nthen assigned to the r variable.\nA function that returns a value is also frequently used as a\nparameter to another function. For instance:\npoint(random(width), random(height));\nIn this case, the values from random() aren’t assigned to a vari-\nable—they are passed as parameters to point() and used to\nposition the point within the canvas.\nExample 9-8: Return a Value\nTo make a function that returns a value, specify the data to be\npassed back with the keyword return. For instance, this exam-\nple includes a function called calculateMars() that calculates\nthe weight of a person or object on our neighboring planet:\nfunction setup() {\n  var yourWeight = 132;\n  var marsWeight = calculateMars(yourWeight);\n  print(marsWeight);\n}\nfunction calculateMars(w) {\n  var newWeight = w * 0.38;\n  return newWeight;\n}\nNotice the last line of the block, which returns the variable\nnewWeight. In the second line of setup(), that value is assigned\n148 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 648
  },
  {
    "chunk_full": "to the variable marsWeight. (To see your own weight on Mars,\nchange the value of the yourWeight variable to your weight.)\nRobot 7: Functions\nIn contrast to Robot 2 (see “Robot 2: Variables” on page 54),\nthis example uses a function to draw four robot variations within\nthe same program. Because the drawRobot() function appears\nfour times within draw(), the code within the drawRobot() block\nis run four times, each time with a different set of parameters to\nchange the position and height of the robot’s body.\nNotice how what were global variables in Robot 2 have now been\nisolated within the drawRobot() function. Because these vari-\nables apply only to drawing the robot, they belong inside the\ncurly braces that define the drawRobot() function block.\nBecause the value of the radius variable doesn’t change, it need\nnot be a parameter. Instead, it is defined at the beginning of\ndrawRobot():\nfunction setup() {\n  createCanvas(720, 480);\n  strokeWeight(2);\n  ellipseMode(RADIUS);\n}\nFunctions 149\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 649
  },
  {
    "chunk_full": "function draw() {\n  background(204);\n  drawRobot(120, 420, 110, 140);\n  drawRobot(270, 460, 260, 95);\n  drawRobot(420, 310, 80, 10);\n  drawRobot(570, 390, 180, 40);\n}\nfunction drawRobot(x, y, bodyHeight, neckHeight) {\n  var radius = 45;\n  var ny = y - bodyHeight - neckHeight - radius;\n  // Neck\n  stroke(102);\n  line(x+2, y-bodyHeight, x+2, ny);\n  line(x+12, y-bodyHeight, x+12, ny);\n  line(x+22, y-bodyHeight, x+22, ny);\n  // Antennae\n  line(x+12, ny, x-18, ny-43);\n  line(x+12, ny, x+42, ny-99);\n  line(x+12, ny, x+78, ny+15);\n  // Body\n  noStroke();\n  fill(102);\n  ellipse(x, y-33, 33, 33);\n  fill(0);\n  rect(x-45, y-bodyHeight, 90, bodyHeight-33);\n  fill(102);\n  rect(x-45, y-bodyHeight+17, 90, 6);\n  // Head\n  fill(0);\n  ellipse(x+12, ny, radius, radius);\n  fill(255);\n  ellipse(x+24, ny-6, 14, 14);\n  fill(0);\n  ellipse(x+24, ny-6, 3, 3);\n  fill(153);\n  ellipse(x, ny-8, 5, 5);\n  ellipse(x+30, ny-26, 4, 4);\n  ellipse(x+41, ny+6, 3, 3);\n}\n150 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 650
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 651
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 652
  },
  {
    "chunk_full": "10/Objects\nObject-oriented programming (OOP) is a\ndifferent way to think about your pro-\ngrams. Objects are also a way to group\nvariables with related functions. Because\nyou already know how to work with vari-\nables and functions, objects simply com-\nbine what you’ve already learned into a\nmore understandable package.\nObjects are important, because they break up ideas into smaller\nbuilding blocks. This mirrors the natural world where, for\ninstance, organs are made of tissue, tissue is made of cells, and\nso on. Similarly, as your code becomes more complicated, you\nmust think in terms of smaller structures that form more com-\nplicated ones. It’s easier to write and maintain smaller, under-\nstandable pieces of code that work together than it is to write\none large piece of code that does everything at once.\nProperties and Methods\nA software object is a collection of related variables and func-\ntions. In the context of objects, a variable is called a property (or\ninstance variable) and a function is called a method. Properties\nand methods work just like the variables and functions covered\nin earlier chapters, but we’ll use the new terms to emphasize\nthat they are a part of an object. To say it another way, an object\ncombines related data (properties) with related actions and\nbehaviors (methods). The idea is to group together related data\nwith related methods that act on that data.\n153\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 653
  },
  {
    "chunk_full": "For instance, to model a radio, think about what parameters can\nbe adjusted and the actions that can affect those parameters:\nProperties\nvolume, frequency, band(FM, AM), power(on, off)\nMethods\nsetVolume, setFrequency, setBand\nModeling a simple mechanical device is easy compared to mod-\neling an organism like an ant or a person. It’s not possible to\nreduce such complex organisms to a few properties and meth-\nods, but it is possible to model enough to create an interesting\nsimulation. The Sims video game is a clear example. This game\nis played by managing the daily activities of simulated people.\nThe characters have enough personality to make a playable,\naddictive game, but no more. In fact, they have only five person-\nality attributes: neat, outgoing, active, playful, and nice. With the\nknowledge that it’s possible to make a highly simplified model of\ncomplex organisms, we could start programming an ant with\nonly a few properties and methods:\nProperties\ntype(worker, soldier), weight, length\nMethods\nwalk, pinch, releasePheromones, eat\nIf you made a list of an ant’s properties and methods, you might\nchoose to focus on different aspects of the ant to model.\nThere’s no right way to make a model, as long as you make it\nappropriate for the purpose of your program’s goals.\nDefine a Constructor\nTo create an object, start by defining a constructor function. A \nconstructor function is the specification for an object. Using an\narchitectural analogy, a constructor function is like a blueprint\nfor a house, and the object is like the house itself. Each house\nmade from the blueprint can have variations, and the blueprint\nis only the specification, not a built structure. For example, one\nhouse can be blue and the other red; one house might come\nwith a fireplace and the other without. Likewise with objects, the\n154 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 654
  },
  {
    "chunk_full": "constructor defines the data types and behaviors, but each\nobject (house) made from a single constructor function (blue-\nprint) has variables (color, fireplace) that are set to different val-\nues. To use a more technical term, each object is an instance\nand each instance has its own set of properties and methods.\nBefore you write a constructor function, we recommend a little\nplanning. Think about what properties and methods your\nobjects should have. Do a little brainstorming to imagine all the\npossible options and then prioritize and make your best guess\nabout what will work. You’ll make changes during the program-\nming process, but it’s important to have a good start.\nFor your properties, select clear names. The properties of an\nobject can hold any type of data. An object can simultaneously\nhold many booleans, numbers, images, strings, and so on. Keep\nin mind that one reason to make an object is to group together\nrelated data elements. For your methods, select clear names\nand decide the return values (if any). The methods are used to\nchange the values of the properties and to perform actions\nbased on the properties’ values.\nFor our first constructor function, we’ll convert Example 8-9 on\npage 129 from earlier in the book. We start by making a list of\nthe properties from the example:\nvar x\nvar y\nvar diameter\nvar speed\nThe next step is to figure out what methods might be useful for\nthe object. In looking at the draw() function from the example\nwe’re adapting, we see two primary components. The position\nof the shape is updated and drawn to the screen. Let’s create\ntwo methods for our object, one for each task:\nfunction move()\nfunction display()\nNeither of these methods return a value. Once we’ve deter-\nmined the properties and methods the object should have, we’ll\nwrite our constructor function to assign them to each instance\nof the object we create (Figure 10-1).\nObjects 155\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 655
  },
  {
    "chunk_full": "Figure 10-1. Passing values into the constructor to set the val-\nues for an object’s properties\nThe code inside the constructor function is run once when the\nobject is first created. To create the constructor function, we’ll\nfollow three steps:\n156 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 656
  },
  {
    "chunk_full": "1. Create a function block.\n2. Add the properties and assign values to them.\n3. Add the methods.\nFirst, we create a function block for our constructor:\nfunction JitterBug() {\n}\nNotice that the name JitterBug is uppercase. Naming the con-\nstructor function with an uppercase letter isn’t required, but it is\na convention (that we strongly encourage) used to denote that\nit’s a constructor. (The keyword function, however, must be\nlowercase because it’s a rule of the programming language.)\nSecond, we add the properties. JavaScript has a special key-\nword, this, that you can use within the constructor function to\nrefer to the current object. When declaring a property of an\nobject, we leave off the symbol var, and instead prepend the\nvariable name with this. to indicate that we are assigning a\nproperty, a variable of the object. We could declare and assign\nthe speed property as follows:\nfunction JitterBug() {\n  this.speed = 0.5;\n}\nWhile we are doing this, we have to decide which properties will\nhave their values passed in through the constructor. As a rule of\nthumb, property values that you want to be different for each\ninstance are passed in through the constructor, and the other\nproperty values can be defined when they are declared within\nthe constructor, as speed is in this case. For the JitterBug\nobject, we’ve decided that the values for x, y, and diameter will\nbe passed in. Each of the values passed in is assigned to a tem-\nporary variable that exists only while the code inside the con-\nstructor is run. To clarify this, we’ve added the name temp to\neach of these variables, but they can be named with any terms\nthat you prefer. They are used only to assign the values to the\nproperties that are a part of the object. So we add tempX, tempY,\nand tempDiameter as parameters for the function, and the prop-\nerties are declared and assigned as follows:\nObjects 157\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 657
  },
  {
    "chunk_full": "function JitterBug(tempX, tempY, tempDiameter) {\n  this.x = tempX;\n  this.y = tempY;\n  this.diameter = tempDiameter;\n  this.speed = 0.5; // Same for every instance\n}\nThe last step is to add the methods. This is just like writing func-\ntions, but here they are contained within the constructor func-\ntion, and the first line is written a bit differently. Normally, a\nfunction to update variables might be written like this:\nfunction move() {\n  x += random(-speed, speed);\n  y += random(-speed, speed);\n}\nBecause we want to make this function a method of the object,\nwe again need to use the this keyword. The preceding function\nis converted into a method like this:\nthis.move = function() {\n  this.x += random(-this.speed, this.speed);\n  this.y += random(-this.speed, this.speed);\n};\nThe first line looks a little strange, but the way to interpret it is\n“create an instance variable (property) called move, and assign\nits value to be this function.” Then, any time we refer to proper-\nties of the object, we again use this., just as we do when they’re\ninitially declared. Putting it together in the constructor looks like\nthis:\nfunction JitterBug(tempX, tempY, tempDiameter) {\n  this.x = tempX;\n  this.y = tempY;\n  this.diameter = tempDiameter;\n  this.speed = 2.5; \n  this.move = function() {\n    this.x += random(-this.speed, this.speed);\n    this.y += random(-this.speed, this.speed);\n  };\n  this.display = function() {\n    ellipse(this.x, this.y, this.diameter, this.diameter);\n158 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 658
  },
  {
    "chunk_full": "  };\n}\nAlso note the code spacing. Every line within the constructor is\nindented a few spaces to show that it’s inside the block. Within\nthe methods, the code is spaced again to clearly show the hier-\narchy.\nCreate Objects\nNow that you have defined a constructor function, to use it in a\nprogram you must create an object instance from that con-\nstructor. There are two steps to create an object:\n1. Declare the object variable.\n2. Create (initialize) the object with the keyword new.\nExample 10-1: Make an Object\nTo make your first object, we’ll start by showing how this works\nwithin a p5.js sketch and then continue by explaining each part\nin depth:\nvar bug;\nfunction setup() {\n  createCanvas(480, 120);\n  background(204);\n  // Create object and pass in parameters\n  bug = new JitterBug(width/2, height/2, 20);\n}\nfunction draw() {\n  bug.move();\n  bug.display();\nObjects 159\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 659
  },
  {
    "chunk_full": "}\n// Put a copy of the JitterBug constructor here\nWe declare object variables in the same way as all other vari-\nables—the object is declared by writing the keyword var fol-\nlowed by a name for the variable:\nvar bug;\nThe second step is to initialize the object with the keyword new.\nIt makes space for the object in memory with all its properties\nand methods. The name of the constructor is written to the\nright of the new keyword, followed by the parameters into the\nconstructor, if any:\nbug = new JitterBug(width/2, height/2, 20);\nThe three numbers within the parentheses are the parameters\nthat are passed into the JitterBug constructor function. The\nnumber and order of these parameters must match those of the\nconstructor.\nExample 10-2: Make Multiple Objects\nIn Example 10-1 on page 159, we see something else new: the\nperiod (dot) that’s used to access the object’s methods inside of\ndraw(). The dot operator is used to join the name of the object\nwith its properties and methods. It mirrors the way we use this.\ninside the constructor function, but when we refer to it outside\nthe constructor, this is replaced by the variable name.\nThis becomes clearer in this example, where two objects are\nmade from the same constructor. The jit.move() function\nrefers to the move() method that belongs to the object named\njit, and bug.move() refers to the move() method that belongs to\nthe object named bug:\n160 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 660
  },
  {
    "chunk_full": "var jit;\nvar bug;\nfunction setup() {\n  createCanvas(480, 120);\n  background(204);\n  jit = new JitterBug(width * 0.33, height/2, 50);\n  bug = new JitterBug(width * 0.66, height/2, 10);\n}\nfunction draw() {\n  jit.move();\n  jit.display();\n  bug.move();\n  bug.display();\n}\n// Put a copy of the JitterBug constructor here\nNow that the constructor exists as its own module of code, any\nchanges will modify the objects made from it. For instance, you\ncould add a property to the JitterBug constructor that controls\nthe color, or another that determines its size. These values can\nbe passed in using the constructor or assigned using additional\nmethods, such as setColor() or setSize(). And because it’s a\nself-contained unit, you can also use the JitterBug constructor\nin another sketch.\nNow is a good time to learn about using multiple files in Java-\nScript. Spreading your code across more than one file makes\nlonger code easier to edit and more manageable in general. A\nnew file is usually created for each constructor, which reinforces\nthe modularity of working with objects and makes the code easy\nto find.\nCreate a new file in the same folder as your current sketch.js file.\nYou can name it anything you like, but it is a good idea to name it\nJitterBug.js for organization. Move the JitterBug constructor\nfunction into this new file. Link the JitterBug.js file into your\nHTML file by adding a line in the HEAD below the line where you\nlink in the sketch.js file:\n<script type=\"text/javascript\" src=\"sketch.js\"></script>\n<script type=\"text/javascript\" src=\"JitterBug.js\"></script>\nObjects 161\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 661
  },
  {
    "chunk_full": "Robot 8: Objects\nA software object combines methods (functions) and properties\n(variables) into one unit. The Robot constructor function in this\nexample defines all of the robot objects that will be created from\nit. Each Robot object has its own set of properties to store a\nposition and the illustration that will draw to the screen. Each\nhas methods to update the position and display the illustration.\nThe parameters for bot1 and bot2 in setup() define the x and y\ncoordinates and the .svg file that will be used to depict the\nrobot. The tempX and tempY parameters are passed into the con-\nstructor and assigned to the xpos and ypos properties. The\nimgPath parameter is used to load the related illustration. The\nobjects (bot1 and bot2) draw at their own location and with a dif-\nferent illustration because they each have unique values passed\ninto the objects through their constructors:\nvar img1;\nvar img2;\nvar bot1;\nvar bot2;\nfunction preload() {\n162 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 662
  },
  {
    "chunk_full": "  img1 = loadImage(\"robot1.svg\");\n  img2 = loadImage(\"robot2.svg\");\n}\nfunction setup() {\n  createCanvas(720, 480);\n  bot1 = new Robot(img1, 90, 80);\n  bot2 = new Robot(img2, 440, 30);\n}\nfunction draw() {\n  background(204);\n  // Update and display first robot\n  bot1.update();\n  bot1.display();\n  // Update and display second robot\n  bot2.update();\n  bot2.display();\n}\nfunction Robot(img, tempX, tempY) {  \n  // Set initial values for properties\n  this.xpos = tempX;\n  this.ypos = tempY;\n  this.angle = random(0, TWO_PI);\n  this.botImage = img;\n  this.yoffset = 0.0;\n  // Update the properties\n  this.update = function() {\n    this.angle += 0.05;\n    this.yoffset = sin(this.angle) * 20;\n  }\n  // Draw the robot to the screen\n  this.display = function() {\n    image(this.botImage, this.xpos, this.ypos + this.yoffset);\n  }\n}\nObjects 163\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 663
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 664
  },
  {
    "chunk_full": "11/Arrays\nAn array is a list of variables that share a\ncommon \nname. \nArrays \nare \nuseful\nbecause they make it possible to work\nwith more variables without creating a\nnew name for each one. This makes the\ncode shorter, easier to read, and more\nconvenient to update.\nFrom Variables to Arrays\nWhen a program needs to keep track of one or two things, it’s\nnot necessary to use an array. In fact, adding an array might\nmake the program more complicated than necessary. How-\never, when a program has many elements (for example, a field\nof stars in a space game or multiple data points in a visualiza-\ntion), arrays make the code easier to write.\nExample 11-1: Many Variables\nTo see what we mean, refer to Example 8-3 on page 123. This\ncode works fine if we’re moving around only one shape, but\nwhat if we want to have two? We need to make a new x variable\nand update it within draw():\n165\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 665
  },
  {
    "chunk_full": "var x1 = -20;\nvar x2 = 20;\nfunction setup() {\n  createCanvas(240, 120);\n  noStroke(); \n}\nfunction draw() {\n  background(0);\n  x1 += 0.5;\n  x2 += 0.5;\n  arc(x1, 30, 40, 40, 0.52, 5.76);\n  arc(x2, 90, 40, 40, 0.52, 5.76);\n}\nExample 11-2: Too Many Variables\nThe code for the previous example is still manageable, but what\nif we want to have five circles? We need to add three more vari-\nables to the two we already have:\nvar x1 = -10;\nvar x2 = 10;\nvar x3 = 35;\nvar x4 = 18;\nvar x5 = 30;\nfunction setup() {\n  createCanvas(240, 120);\n  noStroke();\n}\nfunction draw() {\n  background(0);\n  x1 += 0.5;\n  x2 += 0.5;\n  x3 += 0.5;\n166 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 666
  },
  {
    "chunk_full": "  x4 += 0.5;\n  x5 += 0.5;\n  arc(x1, 20, 20, 20, 0.52, 5.76);\n  arc(x2, 40, 20, 20, 0.52, 5.76);\n  arc(x3, 60, 20, 20, 0.52, 5.76);\n  arc(x4, 80, 20, 20, 0.52, 5.76);\n  arc(x5, 100, 20, 20, 0.52, 5.76);\n}\nThis code is starting to get out of control!\nExample 11-3: Arrays, Not Variables\nImagine what would happen if you wanted to have 3,000 circles.\nThis would mean creating 3,000 individual variables, then\nupdating each one separately. Could you keep track of that\nmany variables? Would you want to? Instead, we use an array:\nvar x = [];\nfunction setup() {\n  createCanvas(240, 120);\n  noStroke();\n  fill(255, 200);\n  for (var i = 0; i < 3000; i++) {\n    x[i] = random(-1000, 200);\n  }\n}\nfunction draw() {\n  background(0);\n  for (var i = 0; i < x.length; i++) {\n    x[i] += 0.5;\n    var y = i * 0.4;\n    arc(x[i], y, 12, 12, 0.52, 5.76);\n  }\n}\nArrays 167\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 667
  },
  {
    "chunk_full": "We’ll spend the rest of this chapter talking about the details that\nmake this example possible.\nMake an Array\nEach item in an array is called an element, and each has an \nindex value to mark its position within the array. Just like coordi-\nnates on the canvas, index values for an array start counting\nfrom 0. For instance, the first element in the array has the index\nvalue 0, the second element in the array has the index value 1,\nand so on. If there are 20 values in the array, the index value of\nthe last element is 19. Figure 11-1 shows the conceptual struc-\nture of an array.\nFigure 11-1. An array is a list of one or more variables that share\nthe same name\nUsing arrays is similar to working with single variables; it follows\nthe same patterns. As you know, you can make a single variable\ncalled x with this code:\nvar x;\nTo make an array, just set the variable’s value to a set of empty\nbrackets:\nvar x = [];\nNote that the length of the array does not need to be declared in\nadvance; the length is determined by the number of elements\nyou put into it.\n168 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 668
  },
  {
    "chunk_full": "An array can store all different types of data\n(boolean, number, string, etc.). You can mix and\nmatch different types of data within a single array.\nBefore we get ahead of ourselves, let’s slow down and talk about\nworking with arrays in more detail. There are two steps to work-\ning with an array:\n1. Declare the array.\n2. Assign values to each element.\nEach step can happen on its own line, or both the steps can be\ncompressed together. Each of the two following examples\nshows a different technique to create an array called x that\nstores two numbers, 12 and 2. Pay close attention to what hap-\npens before setup() and what happens within setup().\nExample 11-4: Declare and Assign an\nArray\nFirst, we’ll declare the array outside of setup() and then create\nand assign the values within. The syntax x[0] refers to the first\nelement in the array and x[1] is the second:\nvar x = [];        // Declare the array\nfunction setup() {\n  createCanvas(200, 200);\n  x[0] = 12;       // Assign the first value\n  x[1] = 2;        // Assign the second value\n}\nArrays 169\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 669
  },
  {
    "chunk_full": "Example 11-5: Assigning to an Array\nin One Go\nYou can also assign values to the array when it’s created, if it’s\nall part of a single statement:\nvar x = [12, 2]; // Declare and assign\nfunction setup() {\n  createCanvas(200, 200);\n}\nAvoid creating arrays within draw(), because creat-\ning a new array on every frame will slow down your\nframe rate.\nExample 11-6: Revisiting the First\nExample\nAs a complete example of how to use arrays, we’ve recoded\nExample 11-1 on page 165 here. Although we don’t yet see the\nfull benefits revealed in Example 11-3 on page 167, we do see\nsome important details of how arrays work:\nvar x = [-20, 20];\nfunction setup() {\n  createCanvas(240, 120);\n  noStroke();\n}\nfunction draw() {\n  background(0);\n  x[0] += 0.5;  // Increase the first element\n  x[1] += 0.5;  // Increase the second element\n  arc(x[0], 30, 40, 40, 0.52, 5.76);\n  arc(x[1], 90, 40, 40, 0.52, 5.76);\n}\n170 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 670
  },
  {
    "chunk_full": "Repetition and Arrays\nThe for loop, introduced in “Repetition” on page 46, makes it\neasier to work with large arrays while keeping the code concise.\nThe idea is to write a loop to move through each element of the\narray one by one. To do this, you need to know the length of the\narray. The length property associated with each array stores the\nnumber of elements. We use the name of the array with the dot\noperator (a period) to access this value. For instance:\nvar x = [12, 20];         // Declare and assign the array\nprint(x.length);          // Prints 2 to the console\nvar y = [\"cat\", 10, false, 50]; // Declare and assign the array\nprint(y.length);          // Prints 4 to the console\nvar z = [];               // Declare an empty array\nprint(z.length);          // Prints 0 to the console\nz[0] = 20;                // Assign an element to the array\nprint(z.length);          // Prints 1 to the console\nz[1] = 4;                 // Assign an element to the array\nprint(z.length);          // Prints 2 to the console\nExample 11-7: Filling an Array in a\nfor Loop\nA for loop can be used to fill an array with values, or to read the\nvalues back out. In this example, the array is first filled with ran-\ndom numbers inside setup(), and then these numbers are used\nto set the stroke value inside draw(). Each time the program is\nrun, a new set of random numbers is put into the array:\nvar gray = [];\nfunction setup() {\n  createCanvas(240, 120);\n  for (var i = 0; i < width; i++) {\nArrays 171\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 671
  },
  {
    "chunk_full": "    gray[i] = random(0, 255);\n  }\n}\nfunction draw() {\n  background(204);\n  for (var i = 0; i < gray.length; i++) {\n    stroke(gray[i]);\n    line(i, 0, i, height);\n  }\n}\nIn setup(), we insert as many elements as the width of the can-\nvas. This is an arbitrary number; we’ve chosen it so that drawing\na vertical line for each element fills the width of the canvas. You\ncould try changing width to read any number. Once the ele-\nments are assigned to the array, we are able to iterate through\nthem in draw() using the length property. We can’t use this to\niterate through the array in setup() because before anything is\nput into it, the length of array gray is 0.\nExample 11-8: Track Mouse\nMovements\nIn this example, there are two arrays to store the position of the\nmouse—one for the x coordinate and one for the y coordinate.\nThese arrays store the location of the mouse for the previous 60\nframes. With each new frame, the oldest x and y coordinate val-\nues are removed and replaced with the current mouseX and\nmouseY values. The new values are added to the first position of\nthe array, but before this happens, each value in the array is\nmoved one position to the right (from back to front) to make\nroom for the new numbers. (See Figure 11-2 for a diagram illus-\ntrating this process.) This example visualizes this action. Also,\nat each frame, all 60 coordinates are used to draw a series of\nellipses to the screen:\n172 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 672
  },
  {
    "chunk_full": "var num = 60;\nvar x = [];\nvar y = [];\nfunction setup() {\n  createCanvas(240, 120);\n  noStroke();\n  for (var i = 0; i < num; i++) {\n    x[i] = 0;\n    y[i] = 0;\n  }\n}\nfunction draw() {\n  background(0);\n  // Copy array values from back to front\n  for (var i = num-1; i > 0; i--) {\n    x[i] = x[i-1];\n    y[i] = y[i-1];\n  }\n  x[0] = mouseX; // Set the first element\n  y[0] = mouseY; // Set the first element\n  for (var i = 0; i < num; i++) {\n    fill(i * 4);\n    ellipse(x[i], y[i], 40, 40);\n  }\n}\nArrays 173\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 673
  },
  {
    "chunk_full": "Figure 11-2. Shifting the values in an array one place to the right\nArrays of Objects\nThe two short examples in this section bring together every\nmajor programming concept in this book: variables, iteration,\nconditionals, functions, objects, and arrays. Making an array of\nobjects is nearly the same as making the arrays we introduced\non the previous pages, but there’s one additional consideration:\nbecause each array element is an object, it must first be created\nwith the keyword new (like any other object) before it is assigned\nto the array. With a custom-defined object such as JitterBug\n(see Chapter 10), this means using new to set up each element\nbefore it’s assigned to the array.\n174 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 674
  },
  {
    "chunk_full": "Example 11-9: Managing Many\nObjects\nThis example creates an array of 33 JitterBug objects and then\nupdates and displays each one inside draw(). For this example\nto work, you need to add the JitterBug constructor function to\nthe code:\nvar bugs = [];\nfunction setup() {\n  createCanvas(240, 120);\n  background(204);\n  for (var i = 0; i < 33; i++) {\n    var x = random(width);\n    var y = random(height);\n    var r = i + 2;\n    bugs[i] = new JitterBug(x, y, r);\n  }\n}\nfunction draw() {\n  for (var i = 0; i < bugs.length; i++) {\n    bugs[i].move();\n    bugs[i].display();\n  }\n}\n// Copy JitterBug constructor function here\nThe final array example loads a sequence of images and stores\neach as an element within an array.\nArrays 175\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 675
  },
  {
    "chunk_full": "Example 11-10: Sequences of Images\nTo run this example, get the images from the media.zip file as\ndescribed in Chapter 7. The images are named sequentially\n(frame-0000.png, frame-0001.png, etc.), which makes it possi-\nble to create the name of each file within a for loop, as seen in\nthe seventh line of the program:\nvar numFrames = 12; // The number of frames\nvar images = []; // Make the array\nvar currentFrame = 0;\nfunction preload() {\n  for (var i = 0; i < numFrames; i++) {\n    var imageName = \"frame-\" + nf(i, 4) + \".png\";\n    images[i] = loadImage(imageName); // Load each image\n  }\n}\nfunction setup() {\n  createCanvas(240, 120);\n  frameRate(24);\n}\nfunction draw() {\n  image(images[currentFrame], 0, 0);\n  currentFrame++; // Next frame\n  if (currentFrame == images.length) {\n    currentFrame = 0;  // Return to first frame\n  }\n}\nThe nf() function formats numbers so that nf(1, 4) returns the\nstring “0001” and nf(11, 4) returns “0011”. These values are\nconcatenated with the beginning of the filename (frame-) and\nthe end (.png) to create the complete filename stored in a vari-\nable. The files are loaded into the array on the following line. The\n176 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 676
  },
  {
    "chunk_full": "images are displayed to the screen one at a time in draw().\nWhen the last image in the array is displayed, the program\nreturns to the beginning of the array and shows the images\nagain in sequence.\nRobot 9: Arrays\nArrays make it easier for a program to work with many ele-\nments. In this example, an array of Robot objects is declared at\nthe top. The array is then allocated inside setup(), and each\nRobot object is created inside the for loop. In draw(), another\nfor loop is used to update and display each element of the bots\narray.\nThe for loop and an array make a powerful combination. Notice\nthe subtle differences between the code for this example and\nRobot 8 (see “Robot 8: Objects” on page 162) in contrast to the\nextreme changes in the visual result. Once an array is created\nand a for loop is put in place, it’s as easy to work with 3 ele-\nments as it is 3,000.\nvar robotImage;\nvar bots = [];  // Declare array to hold Robot objects\nfunction preload() {\nArrays 177\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 677
  },
  {
    "chunk_full": "  robotImage = loadImage(\"robot1.svg\");\n}\nfunction setup() {\n  createCanvas(720, 480);\n  var numRobots = 20;\n  // Create each object\n  for (var i = 0; i < numRobots; i++) {\n    // Create a random x coordinate\n    var x = random(-40, width-40);\n    // Assign the y coordinate based on the order\n    var y = map(i, 0, numRobots, -100, height-200);\n    bots[i] = new Robot(robotImage, x, y);\n  }\n}\nfunction draw() {\n  background(204);\n  // Update and display each bot in the array\n  for (var i = 0; i < bots.length; i++) {\n    bots[i].update();\n    bots[i].display();\n  }\n}\nfunction Robot(img, tempX, tempY) {\n  // Set initial values for properties\n  this.xpos = tempX;\n  this.ypos = tempY;\n  this.angle = random(0, TWO_PI);\n  this.botImage = img;\n  this.yoffset = 0.0;\n // Update the properties\n  this.update = function() {\n    this.angle += 0.05;\n    this.yoffset = sin(this.angle) * 20;\n  }\n  // Draw the robot to the screen\n  this.display = function() {\n    image(this.botImage, this.xpos, this.ypos + this.yoffset);\n  }\n}\n178 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 678
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 679
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 680
  },
  {
    "chunk_full": "12/Data\nData visualization is one of the most\nactive areas at the intersection of code\nand graphics and is also one of the most\npopular uses of p5.js. This chapter builds\non what has been discussed about stor-\ning and loading data earlier in the book\nand introduces more features relevant to\ndata sets that might be used for visuali-\nzation.\nThere is a wide range of software that can output standard visu-\nalizations like bar charts and scatter plots. However, writing\ncode to create visualization from scratch provides more control\nover the output and encourages users to imagine, explore, and\ncreate more unique representations of data. For us, this is the\npoint of learning to code and using software like p5.js, and we\nfind it far more interesting than being limited by prepackaged\nmethods or tools that are available.\nData Summary\nIt’s a good time to rewind and discuss how data was introduced\nthroughout this book. A variable in a p5.js sketch is used to\nstore a piece of data. We started with primitives. In this case, the\nword primitive means a single piece of data. For instance, a vari-\nable might hold a number or a string.\nAn array is created to store a list of elements within a single vari-\nable name. For instance, Example 11-7 on page 171 stores hun-\ndreds of numbers that are used to set the stroke value of lines.\n181\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 681
  },
  {
    "chunk_full": "An object is a variable that holds a collection of related variables\nand functions.\nVariables and objects can be defined within the code, but they\ncan also be loaded from a file in the sketch folder. The examples\nthat follow in this chapter will demonstrate this.\nTables\nMany data sets are stored as rows and columns (see\nFigure 12-1), so p5.js includes a table object to make it easier to\nwork with them. If you have worked with spreadsheets, you have\na head start in working with tables in code. p5.js can read a table\nfrom a file, or create a new one directly in code. It’s also possible\nto read and write to any row or column and modify individual\ncells within the table. In this chapter, we will focus on working\nwith table data.\nFigure 12-1. Tables are grids of cells. Rows are the vertical ele-\nments and columns are horizontal. Data can be read from indi-\nvidual cells, rows, and columns.\nTable data is often stored in plain-text files with columns using\ncommas or the tab character. A comma-separated values file is\nabbreviated as CSV and uses the file extension .csv. When tabs\nare used, the extension .tsv is sometimes used.\nTo load a CSV or TSV file, first place it into a sketch’s folder as\ndescribed at the beginning of Chapter 7, and then use the\nloadTable() function to get the data and place it into an object.\n182 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 682
  },
  {
    "chunk_full": "Only the first few lines of each data set are shown in\nthese examples. If you’re manually typing the code,\nyou’ll need the entire .csv, .json, or .tsv file to repli-\ncate the visualizations shown in the figures. You can\nget them from the media.zip file.\nThe data for the next example is a simplified version of Boston\nRed Sox player David Ortiz’s batting statistics from 1997 to\n2014. From left to right, it is the year, number of home runs, runs\nbatted in (RBIs), and batting average. When opened in a text\neditor, the first five lines of the file looks like this:\n1997,1,6,0.327\n1998,9,46,0.277\n1999,0,0,0\n2000,10,63,0.282\n2001,18,48,0.234\nExample 12-1: Read the Table\nTo load this data into p5.js, an object is created using the\np5.Table constructor. The object in this example is called stats.\nThe loadTable() function loads the ortiz.csv file from your\nsketch folder. This function is placed in preload() in order to\nensure it is fully loaded before the data is accessed in setup().\nIn setup(), the for loop reads through each each row in the\ntable in sequence. It gets the data from the table and saves it\ninto variables. The getRowCount() method is used to count the\nnumber of rows in the data file. Because this data is Ortiz’s sta-\ntistics from 1997 to 2014, there are 18 rows of data to read:\nvar stats;\nfunction preload() {\n  stats = loadTable(\"ortiz.csv\");\n}\nfunction setup() {\n  for (var i = 0; i < stats.getRowCount(); i++) {\n    // Gets the value from row i, column 0 in the file\n    var year = stats.get(i, 0);\nData 183\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 683
  },
  {
    "chunk_full": "    // Gets the value from row i, column 1\n    var homeRuns = stats.get(i, 1);   \n    var rbi = stats.get(i, 2);\n    var average = stats.get(i, 3); \n    print(year, homeRuns, rbi, average);\n  }\n}\nInside the for loop, the get() method is used to grab the data\nfrom the table. This method has two parameters: the first is the\nrow to read from and the second is the column.\nExample 12-2: Draw the Table\nThe next example builds on the last. It creates an array called\nhomeRuns to store data after it is loaded inside setup() and the\ndata from the array is used within draw(). The length of the\narray is used two times with the code homeRuns.length, to count\nthe number of iterations of a for loop. It is used first to place a\nvertical mark for each data item in the array. It is then used to\nread each element of the array one by one and to stop reading\nfrom the array at the end. After the data is loaded inside pre\nload() and read into the array in setup(), the rest of this pro-\ngram applies what was learned in Chapter 11. The getNum()\nfunction is used rather than get() in order to ensure the value is\nunderstood as a number for use in the graph.\nThis example is the visualization of a simplified version of Bos-\nton Red Sox player David Ortiz’s batting statistics from 1997 to\n2014 drawn from a table:\nvar stats;\nvar homeRuns = [];\nfunction preload() {\n  stats = loadTable(\"ortiz.csv\");\n}\n184 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 684
  },
  {
    "chunk_full": "function setup() {\n  createCanvas(480, 120);\n  var rowCount = stats.getRowCount();\n  homeRuns = [];\n  for (var i = 0; i < rowCount; i++) {\n    homeRuns[i] = stats.getNum(i, 1);   \n  }\n}\nfunction draw() {\n  background(204);\n  // Draw background grid for data\n  stroke(153);\n  line(20, 100, 20, 20);\n  line(20, 100, 460, 100);\n  for (var i = 0; i < homeRuns.length; i++) {\n    var x = map(i, 0, homeRuns.length-1, 20, 460);\n    line(x, 20, x, 100);\n  }\n  // Draw lines based on home run data\n  noFill();\n  stroke(0);\n  beginShape();\n  for (var i = 0; i < homeRuns.length; i++) {\n    var x = map(i, 0, homeRuns.length-1, 20, 460);\n    var y = map(homeRuns[i], 0, 60, 100, 20);\n    vertex(x, y);\n  }\n  endShape();\n}\nThis example is so minimal that it’s not necessary to store this\ndata in arrays, but the idea can be applied to more complex\nexamples you might want to make in the future. In addition, you\ncan see how this example could be enhanced with more infor-\nmation—for instance, information on the vertical axis to state\nthe number of home runs and on the horizontal to define the \nyear.\nExample 12-3: 29,740 Cities\nTo get a better idea about the potential of working with data\ntables, the next example uses a larger data set and introduces a\nconvenient feature. This table data is different because the first\nData 185\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 685
  },
  {
    "chunk_full": "row, the first line in the file, is a header. The header defines a\nlabel for each column to clarify the context. This is the first five\nlines of our new data file called cities.csv:\nzip,state,city,lat,lng\n35004,AL,Acmar,33.584132,-86.51557\n35005,AL,Adamsville,33.588437,-86.959727\n35006,AL,Adger,33.434277,-87.167455\n35007,AL,Keystone,33.236868,-86.812861\nThe header makes it easier to read the code—for example, the\nsecond line of the file states that the zip code of Acmar, Ala-\nbama, is 35004 and defines the latitude of the city as 33.584132\nand the longitude as –86.51557. In total, the file is 29,741 lines\nlong and it defines the location and zip codes of 29,740 cities in\nthe United States. The next example loads this data within the\npreload() and then draws it to the screen in a for loop within\nthe draw(). The setXY() function converts the latitude and longi-\ntude data from the file into an ellipse on the screen:\nvar cities;\nfunction preload() {\n  cities = loadTable(\"cities.csv\", \"header\");\n}\nfunction setup() {\n  createCanvas(480, 240);\n  fill(255, 150);\n  noStroke();\n}\nfunction draw() {\n  background(0);\n  var xoffset = map(mouseX, 0, width, -width*3, -width);\n  translate(xoffset, -600);\n  scale(10);\n  for (var i = 0; i < cities.getRowCount(); i++) {\n186 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 686
  },
  {
    "chunk_full": "    var latitude = cities.getNum(i, \"lat\");\n    var longitude = cities.getNum(i, \"lng\");\n    setXY(latitude, longitude);\n  }\n}\nfunction setXY(lat, lng) {\n  var x = map(lng, -180, 180, 0, width);\n  var y = map(lat, 90, -90, 0, height); \n  ellipse(x, y, 0.25, 0.25);\n}\nWithin the preload(), notice a second parameter “header” is\nadded to loadTable(). If this is not done, the code will treat the\nfirst line of the CSV file as data and not as the title of each col-\numn.\nThe p5.Table has dozens of methods for features like adding\nand removing columns and rows, getting a list of unique entries\nin a column, or sorting the table. A more complete list of meth-\nods along with short examples is included in the p5.js Reference.\nJSON\nThe JSON (JavaScript Object Notation) format is another com-\nmon system for storing data. Like HTML and XML formats, the\nelements have labels associated with them. For instance, the\ndata for a film might include labels for the title, director, release\nyear, rating, and more. These labels will be paired with the data\nlike this:\n\"title\": \"Alphaville\"\n\"director\": \"Jean-Luc Godard\"\n\"year\": 1964\n\"rating\": 9.1\nTo work as a JSON file, it needs a little more punctuation to sep-\narate the elements. Commas are used between each data pair\nand braces enclose it. The data defined within the curly braces\nis a JSON object. With these changes, our valid JSON data file\nlooks like this:\n{\n  \"title\": \"Alphaville\",\n  \"director\": \"Jean-Luc Godard\",\n  \"year\": 1964,\nData 187\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 687
  },
  {
    "chunk_full": "  \"rating\": 9.1\n}\nThere’s another interesting detail in this short JSON sample\nrelated to data types: you’ll notice that the title and director\ndata is contained within quotes to mark them as string data and\nthe year and rating are without quotes to define them as num-\nbers. This distinction becomes important after the data is\nloaded into a sketch.\nTo add another film to the list, a set of brackets placed at the top\nand bottom are used to signify that the data is an array of JSON\nobjects. Each object is separated by a comma. Putting it\ntogether looks like this:\n[\n  {\n    \"title\": \"Alphaville\",\n    \"director\": \"Jean-Luc Godard\",\n    \"year\": 1965,\n    \"rating\": 9.1\n  },\n  {\n    \"title\": \"Pierrot le Fou\",\n    \"director\": \"Jean-Luc Godard\",\n    \"year\": 1965,\n    \"rating\": 7.3\n  }\n]\nThis pattern can be repeated to include more films. At this\npoint, it’s interesting to compare this JSON notation to the cor-\nresponding table representation of the same data. As a CSV file,\nthe data looks like this:\ntitle, director, year, rating\nAlphaville, Jean-Luc Godard, 1965, 9.1\nPierrot le Fou, Jean-Luc Godard, 1965, 7.3\nNotice that the CSV notation has fewer characters, which can\nbe important when working with massive data sets. On the\nother hand, the JSON version is often easier to read because\neach piece of data is labeled.\nNow that the basics of JSON and its relation to tables has been\nintroduced, let’s look at the code needed to read a JSON file into\na p5.js sketch.\n188 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 688
  },
  {
    "chunk_full": "Example 12-4: Read a JSON File\nThis sketch loads the JSON file seen at the beginning of this\nsection, the file that includes only the data for the single film\nAlphaville:\nvar film;\nfunction preload() { \n  film = loadJSON(\"film.json\");\n}\nfunction setup() {\n  var title = film.title;\n  var dir = film.director;\n  var year = film.year;\n  var rating = film.rating;\n  print(title + \" by \" + dir + \", \" + year + \". Rating: \" + \nrating);\n}\nThe data from the file is loaded into a variable. Individual values\nwithin can be accessed by using the dot operator, similar to\nwhen we access properties within an object.\nExample 12-5: Visualize Data from a\nJSON File\nWe can also work with a JSON file that includes more than one\nfilm. Here, the data file started in the previous example has been\nupdated to include all of the director’s films from 1960–1966.\nThe name of each film is placed in order on screen according to\nthe release year and assigned a gray value based on the rating\nvalue.\nThere are several differences between this example and Exam-\nple 12-4 on page 189. The most important is the way the JSON\nfile is loaded into Film objects. The JSON file is loaded within pre\nload(), populating the filmData variable with an array that\nmatches the structure of the data in the file. In setup(), a for\nloop is used to iterate through the array of film data and create\nan object based on each element in the array, using the Film\nconstructor defined here. The constructor accesses pieces of\nthe data and assigns it to properties within each object. The\nData 189\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 689
  },
  {
    "chunk_full": "Film constructor also defines a method to display the name of\nthe film:\nvar films = [];\nvar filmData;\nfunction preload() {\n  filmData = loadJSON(\"films.json\");\n}\nfunction setup() {\n  createCanvas(480, 120);\n  for (var i = 0; i < filmData.length; i++) {\n    var o = filmData[i];\n    films[i] = new Film(o);\n  }\n  noStroke();\n}\nfunction draw() {\n  background(0);\n  for (var i = 0; i < films.length; i++) {\n    var x = i*32 + 32;\n    films[i].display(x, 105); \n  }\n}\nfunction Film(f) {\n  this.title = f.title;\n  this.director = f.director;\n  this.year = f.year;\n  this.rating = f.rating;\n  \n  this.display = function(x, y) {\n    var ratingGray = map(this.rating, 6.5, 8.1, 102, 255);\n    push();\n    translate(x, y);\n    rotate(-QUARTER_PI);\n190 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 690
  },
  {
    "chunk_full": "    fill(ratingGray);\n    text(this.title, 0, 0);\n    pop();\n  };\n}\nThis example is bare bones in its visualization of the film data. It\nshows how to load the data and how to draw based on those\ndata values, but it’s your challenge to format it to accentuate\nwhat you find interesting about the data. For example, is it more\ninteresting to show the number of films Godard made each\nyear? Is it more interesting to compare and contrast this data\nwith the films of another director? Will all of this be easier to\nread with a different font, sketch size, or aspect ratio? The skills\nintroduced in the earlier chapters in this book can be applied to\nbring this sketch to the next step of refinement.\nNetwork Data and APIs\nPublic access to massive quantities of data collected by govern-\nments, corporations, organizations, and individuals is changing\nour culture, from the way we socialize to how we think about\nintangible ideas like privacy. This data is most often accessed\nthrough software structures called APIs.\nThe acronym API is mysterious and its meaning—application\nprogramming interface—isn’t much clearer. However, APIs are\nessential for working with data and they aren’t necessarily diffi-\ncult to understand. Essentially, they are requests for data made\nto a service. When data sets are huge, it’s not practical or\ndesired to copy the entirety of the data; an API allows a pro-\ngrammer to request only the trickle of data that is relevant from\na massive sea.\nThis concept can be more clearly illustrated with a hypothetical\nexample. Let’s assume there’s an organization that maintains a\ndatabase of temperature ranges for every city within a country.\nThe API for this data set allows a programmer to request the\nhigh and low temperatures for any city during the month of\nOctober in 1972. In order to access this data, the request must\nbe made through a specific line or lines of code, in the format\nmandated by the data service. \nData 191\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 691
  },
  {
    "chunk_full": "Some APIs are entirely public, but many require authentication,\nwhich is typically a unique user ID or key so the data service can\nkeep track of its users. Most APIs have rules about how many, or\nhow frequently, requests can be made. For instance, it might be\npossible to make only 1,000 requests per month, or no more\nthan one request per second.\np5.js can request data over the Internet when the computer that\nis running the program is online. CSV, TSV, JSON, and XML files\ncan be loaded using the corresponding load function by using a\nURL as the parameter. For instance, the current weather in Cin-\ncinnati is available in JSON format at this URL: http://api.open-\nweathermap.org/data/2.5/find?q=Cincinnati&units=imperial.\nRead the URL closely to decode it:\n1. It requests data from the api subdomain of the openweather-\nmap.org site.\n2. It specifies a city to search for (q is an abbreviation for\nquery, which is frequently used in URLs that specify\nsearches).\n3. It also indicates that the data should be returned in imperial\nformat, which means the temperature will be in Fahrenheit.\nReplacing imperial with metric will provide temperature data\nin degrees Celsius.\nLooking at this data from OpenWeatherMap is a more realistic\nexample of working with data found in the wild than the simpli-\nfied data sets introduced earlier. At the time of this writing, the\nfile returned from that URL looks like this:\n{\"message\":\"accurate\",\"cod\":\"200\",\"count\":1,\"list\":[{\"id\":\n4508722,\"name\":\"Cincinnati\",\"coord\":{\"lon\":-84.456886,\"lat\":\n39.161999},\"main\":{\"temp\":34.16,\"temp_min\":34.16,\"temp_max\":\n34.16,\"pressure\":999.98,\"sea_level\":1028.34,\"grnd_level\":\n999.98,\"humidity\":77},\"dt\":1423501526,\"wind\":{\"speed\":\n9.48,\"deg\":354.002},\"sys\":{\"country\":\"US\"},\"clouds\":{\"all\":\n80},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken \nclouds\",\"icon\":\"04d\"}]}]}\nThis file is much easier to read when it’s formatted with line\nbreaks, and the JSON object and array structures defined with\nbraces and brackets:\n192 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 692
  },
  {
    "chunk_full": "{\n  \"message\": \"accurate\",\n  \"count\": 1,\n  \"cod\": \"200\",\n  \"list\": [{\n    \"clouds\": {\"all\": 80},\n    \"dt\": 1423501526,\n    \"coord\": {\n      \"lon\": -84.456886,\n      \"lat\": 39.161999\n    },\n    \"id\": 4508722,\n    \"wind\": {\n      \"speed\": 9.48,\n      \"deg\": 354.002\n    },\n    \"sys\": {\"country\": \"US\"},\n    \"name\": \"Cincinnati\",\n    \"weather\": [{\n      \"id\": 803,\n      \"icon\": \"04d\",\n      \"description\": \"broken clouds\",\n      \"main\": \"Clouds\"\n    }],\n    \"main\": {\n      \"humidity\": 77,\n      \"pressure\": 999.98,\n      \"temp_max\": 34.16,\n      \"sea_level\": 1028.34,\n      \"temp_min\": 34.16,\n      \"temp\": 34.16,\n      \"grnd_level\": 999.98\n    }\n  }]\n}\nNote that brackets are seen in the \"list\" and \"weather\" sec-\ntions, indicating an array of JSON objects. Although the array in\nthis example only contains a single item, in other cases, the API\nmight return multiple days or variations of the data from multi-\nple weather stations.\nData 193\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 693
  },
  {
    "chunk_full": "Example 12-6: Parsing the Weather\nData\nThe first step in working with this data is to study it and then to\nwrite minimal code to extract the desired data. In this case,\nwe’re curious about the current temperature. We can see that\nour temperature data is 34.16. It’s labeled as temp and it’s inside\nthe main object, which is inside the list array. A function called\ngetTemp() was written for this example specifically to work with\nthe format of this specific JSON file organization:\nvar weatherData;\nfunction preload() {\n  weatherData = loadJSON(\"cincinnati.json\");\n}\nfunction setup() {\n  var temp = getTemp(weatherData);\n  print(temp);\n}\nfunction getTemp(data) {\n  var list = data.list;\n  var item = list[0];\n  var main = item.main;\n  var t = main.temp;\n  return t;\n}\nThe data from the JSON file that is loaded in preload() is\npassed into the getTemp() function inside setup(). Next,\nbecause of the format of the JSON file, a series of variables are\nused to get deeper and deeper into the data structure to finally\narrive at our desired number. This number is stored in the\ntemperature variable and then returned by the function to be\nassigned to the temp variable in setup() where it is printed to the\nconsole.\n194 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 694
  },
  {
    "chunk_full": "Example 12-7: Chaining Methods\nThe sequence of JSON variables created in succession in the\nlast example can be approached differently by chaining the\naccessors. This example works like Example 12-6 on page 194,\nbut the methods are connected with the dot operator, rather\nthan calculated one at a time and assigned to variables in\nbetween:\nvar weatherData;\nfunction preload() {\n  weatherData = loadJSON(\"cincinnati.json\");\n}\nfunction setup() {\n  var temp = getTemp(weatherData);\n  print(temp);\n}\nfunction getTemp(data) {\n  return data.list[0].main.temp;\n}\nAlso note how the final temperature value is returned by the get\nTemp() function. In Example 12-6 on page 194, a variable is cre-\nated to store the value, then that value is returned. Here, the\ntemperature value is returned directly, without an intermediate\nvariable.\nThis example can be modified to access more of the data from\nthe feed and to build a sketch that displays the data to the\nscreen rather than just writing it to the console. You can also\nmodify it to read data from another online API—you’ll find that\nthe data returned by many APIs shares a similar format.\nData 195\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 695
  },
  {
    "chunk_full": "Robot 10: Data\nThe final robot example in this book is different from the rest\nbecause it has two parts. The first part generates a data file\nusing random values and for loops and the second part reads\nthat data file to draw an army of robots onto the screen.\nThe first sketch uses two new code elements, the PrintWriter\nclass and the createWriter() function. Used together, they cre-\nate and open a file in the sketch folder to store data generated\nby the sketch. In this example, the object created from Print\nWriter is called output and the file is called botArmy.tsv. In the\nloops, data is written into the file by running the println()\nmethod on the output object. Here, random values are used to\ndefine which of three robot images will be drawn for each coor-\ndinate. For the file to be correctly created, the close() method\nmust be run before the program is stopped. The code that\ndraws an ellipse is a visual preview to reveal the location of the\ncoordinate on screen, but notice that the ellipse isn’t recorded\ninto the file:\nvar output;\nfunction setup() {\n  createCanvas(720, 480);\n196 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 696
  },
  {
    "chunk_full": "  // Create the new file \n  output = createWriter(\"botArmy.tsv\");  \n  // Write a header line with the column titles\n  output.println(\"type\\tx\\ty\");\n  for (var y = 0; y <= height; y += 60) {\n    for (var x = 0; x <= width; x += 20) {\n      var robotType = int(random(1, 4));\n      output.println(robotType + \"\\t\" + x + \"\\t\" + y);\n      ellipse(x, y, 12, 12);\n    }\n  }\n  output.close();  // Finish the file\n}\nAfter that program is run, the botArmy.tsv file can be saved to\nthe sketch folder. Open it to see how the data is written. The first\nfive lines of that file will be similar to this:\ntype \nx \ny\n3 \n0 \n0\n1 \n20 \n0\n2 \n40 \n0\n1 \n60 \n0\n3 \n80 \n0\nThe first column is used to define which robot image to use, the\nsecond column is the x coordinate, and the third column is the y\ncoordinate. The next sketch loads this botArmy.tsv file and uses\nthe data for these purposes:\nvar robots;\nvar bot1;\nvar bot2;\nvar bot3;\nfunction preload() {\n  bot1 = loadImage(\"robot1.png\");\n  bot2 = loadImage(\"robot2.png\");\n  bot3 = loadImage(\"robot3.png\");\n  robots = loadTable(\"botArmy.tsv\", \"header\");\n}\nfunction setup() {\n  createCanvas(720, 480);\n  imageMode(CENTER);\n  for (var i = 0; i < robots.getRowCount(); i++) {\n    var bot = robots.getNum(i, \"type\");\nData 197\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 697
  },
  {
    "chunk_full": "    var x = robots.getNum(i, \"x\");\n    var y = robots.getNum(i, \"y\");\n    var sc = 0.15;\n    if (bot == 1) {\n      image(bot1, x, y, bot1.width*sc, bot1.height*sc);\n    } else if (bot == 2) {\n      image(bot2, x, y, bot2.width*sc, bot2.height*sc);\n    } else {\n      image(bot3, x, y, bot3.width*sc, bot3.height*sc);\n    }\n  }\n}\nA more concise (and flexible) variation of this sketch uses\narrays as a more advanced approach:\nvar numRobotTypes = 3; \nvar images = [];\nvar scaling = 0.15;\nvar botArmy;\nfunction preload() {\n  for (var i = 0; i < numRobotTypes; i++) {\n    images[i] = loadImage(\"robot\" + (i+1) + \".png\");\n  }\n  botArmy = loadTable(\"botArmy.tsv\", \"header\");\n}\nfunction setup() {\n  createCanvas(720, 480);\n  imageMode(CENTER);\n  for (var i = 0; i < botArmy.getRowCount(); i++) {\n    var robotType = botArmy.getNum(i, \"type\");\n    var x = botArmy.getNum(i, \"x\");\n    var y = botArmy.getNum(i, \"y\");\n    \n    var bot = images[robotType - 1];\n    image(bot, x, y, bot.width*scaling, bot.height*scaling);\n  }\n}\n198 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 698
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 699
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 700
  },
  {
    "chunk_full": "13/Extend\nThis book focuses on using p5.js for inter-\nactive graphics, because that’s the core\nof what p5.js does. However, the software\ncan do much more, and is being exten-\nded further all the time.\nA p5.js library is a   collection of code that extends the software\nbeyond its core functions. Libraries have been important to the\ngrowth of the project, because they let developers add new fea-\ntures quickly. As smaller, self-contained projects, libraries are\neasier to manage than if these features were integrated into the\nmain software.\nThe p5.js complete .zip file includes the p5.dom and p5.sound\nlibraries. You can also download other libraries from http://\np5js.org/libraries/. To use one of these libraries, first make sure\nit is inside the folder that contains your HTML and JavaScript\nfiles. Second, add a line of code to your HTML file that indicates\nthat the library will be used with the current sketch. The line\nshould look like this:\n<script language=\"javascript\" type=\"text/javascript\" src=\"rela\ntive/path/to/p5.libraryName.js\"></script>\nrelative/path/to should be replaced by the path required to find\nthe library file relative to the HTML file. If you need to go up one\ndirectory level, insert “..”. For example, if you are working with\nthe empty example and p5.sound.js from the p5.js complete\ndownload, the line will look like this.\n<script language=\"javascript\" type=\"text/javascript\" src=\"../\np5.sound.js\"></script>\n201\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 701
  },
  {
    "chunk_full": "p5.sound\nThe p5.sound audio library has the ability to play, analyze, and\ngenerate (synthesize) sound. Following are a few key functions;\nsee the p5.js Reference for many more objects that can be cre-\nated and functions that can be called: http://p5js.org/\nreference/#/libraries/p5.sound.\nLike the images, JSON files, and text files introduced in Chap-\nter 7, a sound file is another type of media to augment a p5.js\nsketch. Follow the instructions in that chapter to learn how to\nload a sound file into a sketch’s folder. The p5.sound library can\nload a range of file formats including WAV, AIFF, and MP3. Once\na sound file is loaded, it can be played, stopped, and looped as\nwell as distorted through a group of effects functions.\nExample 13-1: Play a Sample\nThe most common use of the p5.sound library is to play a sound\nwhen an event happens on screen or as background music. This\nexample builds on Example 8-5 on page 125 to play a sound\nwhen the shape hits the edges of the screen. The blip.wav file is\nincluded in the media folder that can be downloaded by follow-\ning the instructions in Chapter 7. As with other media, a variable\nto hold a p5.SoundFile object (which is what the loadSound()\nfunction returns) is defined at the top of the sketch, it’s loaded\nwithin preload(), and after that, it can be used anywhere in the\nprogram:\nvar blip;\nvar radius = 120;\nvar x = 0;\nvar speed = 1.0;\nvar direction = 1;\nfunction preload() {\n  blip = loadSound(\"blip.wav\");\n}\nfunction setup() {\n  createCanvas(440, 440);\n  ellipseMode(RADIUS);\n  x = width/2; // Start in the center\n202 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 702
  },
  {
    "chunk_full": "}\nfunction draw() {\n  background(0);\n  x += speed * direction;\n  if ((x > width-radius) || (x < radius)) {\n    direction = -direction; // Flip direction\n    blip.play();\n  }\n  if (direction == 1) {\n    arc(x, 220, radius, radius, 0.52, 5.76); // Face right\n  } else {\n    arc(x, 220, radius, radius, 3.67, 8.9); // Face left\n  }\n}\nThe sound is triggered each time its play() method is run. This\nexample works well because the sound is only played when the\nvalue of the x variable is at the edges of the screen. If the sound\nwere played each time through draw(), the sound would restart\n60 times each second and wouldn’t have time to finish playing.\nThe result is a rapid clipping sound. To play a longer sample\nwhile a program runs, call the play() or loop() method for that\nsound inside setup() so the sound is triggered only a single\ntime.\nThe p5.SoundFile object has many methods to con-\ntrol how a sound is played. The most essential are\nplay() to play the sample a single time, loop() to\nplay it from beginning to end over and over, stop() to\nhalt the playback, and jump() to move to a specific\nmoment within the file.\nExample 13-2: Listen to a Mic\nIn addition to playing a sound, p5.js can listen. If your computer\nhas a microphone built in or attached, the p5.sound library can\nread live audio through it. Once the data from the mic is connec-\nted to the software, it can be analyzed, modified, and played:\nExtend 203\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 703
  },
  {
    "chunk_full": "var mic;\nvar amp;\nvar scale = 1.0;\nfunction setup() {\n  createCanvas(440, 440);\n  background(0);\n  // Create an audio input and start it\n  mic = new p5.AudioIn();\n  mic.start();\n  // Create a new amplitude analyzer and patch into input\n  amp = new p5.Amplitude();\n  amp.setInput(mic);\n}\nfunction draw() {\n  // Draw a background that fades to black\n  noStroke();\n  fill(0, 10);\n  rect(0, 0, width, height);\n  // The getLevel() method returns values between 0 and 1,\n  // so map() is used to convert the values to larger numbers\n  scale = map(amp.getLevel(), 0, 1.0, 10, width);\n  // Draw the circle based on the volume\n  fill(255);\n  ellipse(width/2, height/2, scale, scale);\n}\nThere are two parts to getting the amplitude (volume) from an\nattached microphone. The p5.AudioIn object is used to get the\n204 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 704
  },
  {
    "chunk_full": "signal data from the mic and the p5.Amplitude object is used to\nmeasure the signal.\nVariables to hold both objects are defined at the top of the code\nand created inside setup(). After the p5.Amplitude object (in\nthis program, it is named amp) is made, the p5.AudioIn object,\nnamed mic, is patched into the amp object with the setInput()\nmethod. After that, the getLevel() method of the amp object can\nbe run at any time to read the amplitude of the microphone data\nwithin the program. In this example, that is done each time\nthrough draw() and that value is then used to set the size of the\ncircle.\nIn addition to playing a sound and analyzing sound as demon-\nstrated in the last two examples, p5.js can synthesize sound\ndirectly. The fundamentals of sound synthesis are waveforms\nthat include the sine wave, triangle wave, and square wave. A\nsine wave sounds smooth, a square wave is harsh, and a triangle\nwave is somewhere between. Each wave has a number of prop-\nerties. The frequency, measured in Hertz, determines the pitch,\nthe highness or lowness of the tone. The amplitude of the wave\ndetermines the volume, the degree of loudness.\nExample 13-3: Create a Sine Wave\nIn the following example, the value of mouseX determines the fre-\nquency of a sine wave. As the mouse moves left and right, the\naudible frequency and corresponding wave visualization\nincrease and decrease:\nExtend 205\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 705
  },
  {
    "chunk_full": "var sine;\nvar freq = 400;\nfunction setup() {\n  createCanvas(440, 440);\n  // Create and start the sine oscillator\n  sine = new p5.SinOsc();\n  sine.start();\n}\nfunction draw() {\n  background(0);\n  // Map the mouseX value from 20Hz to 440Hz for frequency  \n  var hertz = map(mouseX, 0, width, 20.0, 440.0);\n  sine.freq(hertz);\n  // Draw a wave to visualize the frequency of the sound\n  stroke(204);\n  for (var x = 0; x < width; x++) {\n    var angle = map(x, 0, width, 0, TWO_PI * hertz);\n    var sinValue = sin(angle) * 120;\n    line(x, 0, x, height/2 + sinValue);\n  }\n}\nThe sine object, created from the p5.SinOsc constructor, is\ndefined at the top of the code and then created inside setup().\nThe start() method causes the wave to start generating the\nsound. Within draw(), the freq() method continuously sets the\nfrequency of the waveform based on the left-right position of\nthe mouse.\np5.dom\nThe p5.dom library has the ability to create and interact with \nHTML elements outside of the graphics canvas. DOM stands for\nDocument Object Model, which refers to a set of methods for\nprogrammatically interacting with the HTML page. The following\nexamples feature a few key functions. See the p5.js Reference\nfor many more elements that can be created and functions that\ncan be called: http://p5js.org/reference/#/libraries/p5.dom.\nJust as createCanvas() creates a graphics canvas on the page,\np5.dom includes a number of other create methods for adding\n206 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 706
  },
  {
    "chunk_full": "other HTML elements to the page. Examples include video, URL\nlinks, input boxes, and sliders.\nExample 13-4: Access the Webcam\ncreateCapture() accesses the webcam on your computer and\ncreates an HTML element that displays the audio and video feed\nfrom it. Once the capture element is created, it can be drawn\nonto the canvas and manipulated further:\nvar capture;\nfunction setup() {\n  createCanvas(480, 120);\n  capture = createCapture();\n  capture.hide();\n}\nfunction draw() {\n  var aspectRatio = capture.height/capture.width;\n  var h = width* aspectRatio;\n  image(capture, 0, 0, width, h);\n  filter(INVERT);\n}\nThe capture object is defined at the top of the code and then\ncreated inside setup(). createCapture() actually appends a new\nelement to the page, but since we want to draw it into the can-\nvas instead, the hide() method is used to hide the actual cap-\nture object. Try commenting out this line.\nYou should see two copies of the video feed, one inverted and\none normal.\nThe data from the capture object is then drawn onto the canvas\nin draw() and inverted using the filter() method.\nExtend 207\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 707
  },
  {
    "chunk_full": "Example 13-5: Create a Slider\ncreateSlider() adds a slider that can be used to manipulate\naspects of the sketch. It takes three arguments—the minimum\nvalue, the maximum value, and the starting value:\nvar slider;\nfunction setup() {\n  createCanvas(480, 120);\n  slider = createSlider(0, 255, 100);\n  slider.position(20, 20);\n}\nfunction draw() {\n  var gray = slider.value();\n  background(gray);\n}\nThe slider object is defined at the top of the code and then cre-\nated inside setup(). By default, the slider element will be\nappended to the page, after the most recently created element.\nThe position() method allows you to give it a position on the\npage relative to the upper-left corner. The value() method\nreturns the current value of the slider, which is used to set the\nbackground color of the graphics canvas in draw().\nExample 13-6: Create an Input Box\ncreateInput() adds a box that can be used to give text input to\nyour program. createButton() adds a button that can trigger\nany function you choose. In this case, the button is used to sub-\nmit the text inside the input box to the program:\n208 Getting Started with p5.js\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 708
  },
  {
    "chunk_full": "var input;\nvar button;\nfunction setup() {\n  createCanvas(480, 120);\n  input = createInput();\n  input.position(20, 30);\n  button = createButton(\"submit\");\n  button.position(160, 30);\n  button.mousePressed(drawName);\n  \n  background(100);\n  noStroke();\n  text(\"Enter your name.\", 20, 20);\n}\nfunction drawName() {\n  background(100);\n  textSize(30);\n  var name = input.value();\n  for (var i=0; i < 30; i++) {\n    fill(random(255));\n    text(name, random(width), random(height));\n  }\n}\nThe input and button objects are defined at the top of the code\nand then created inside setup(). createButton() takes one argu-\nment, the label to be displayed on the button. The mouse\nPressed()  method is used to assign a function to run when the\nbutton is clicked. Within drawName(),  the contents of the input\nbox are read using the value() method, and used to fill the back-\nground with the text.\nExtend 209\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 709
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 710
  },
  {
    "chunk_full": "A/Coding Tips\nCoding is a type of writing. Like all types\nof writing, code has specific rules. For\ncomparison, we’ll quickly mention some\nof the rules for English that you probably\nhaven’t thought about in a while because\nthey are second nature.\nSome of the more invisible rules are writing from left to right\nand putting a space between each word. More overt rules are\nspelling conventions, capitalizing the names of people and\nplaces, and using punctuation at the end of sentences to pro-\nvide emphasis! If we break one or more of these rules when writ-\ning an email to a friend, the message still gets through. For\nexample, “hello ben. how r u today” communicates nearly as\nwell as, “Hello, Ben. How are you today?” However, flexibility\nwith the rules of writing don’t transfer to programming. Because\nyou’re writing to communicate with a computer, rather than\nanother person, you need to be more precise and careful. One\nmisplaced character is often the difference between a program\nthat runs and one that doesn’t.\nYour browser tries to tell you where you’ve made mistakes and\nto guess what the mistake is. When you run your program, if\nthere are grammar (syntax) problems with your code (we call\nthem bugs), then the console may display an error message\nwith a line number where the error may be. The text in the con-\nsole tries to be helpful and suggests the potential problem, but\nsometimes the message is too cryptic to understand. For a\nbeginner, these error messages can be frustrating. Understand\nthat your browser is trying to be helpful, but it has a limited\nknowledge of what you’re trying to do.\n211\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 711
  },
  {
    "chunk_full": "Additionally, your browser can find only one bug at a time. If\nyour program has many bugs, you’ll need to keep running the\nprogram and fix them one at a time.\nPlease read and reread the following suggestions carefully to\nhelp you write clean code. For a more in-depth tutorial on\ndebugging, see http://p5js.org/tutorials/debugging/.\nFunctions and Parameters\nPrograms are composed of many small parts, which are grou-\nped together to make larger structures. We have a similar sys-\ntem in English: words are grouped into phrases, which are com-\nbined to make sentences, which are combined to create para-\ngraphs. The idea is the same in code, but the small parts have\ndifferent names and behave differently. Functions and parame-\nters are two important parts. Functions are the basic building\nblocks of a p5.js program. Parameters are values that define\nhow the function behaves.\nConsider a function like background(). Like the name suggests,\nit’s used to set the background color of the graphics canvas. The\nfunction has three parameters that define the color. These num-\nbers define the red, green, and blue components of the color to\ndefine the composite color. For example, the following code\ndraws a blue background:\nbackground(51, 102, 153);\nLook carefully at this single line of code. The key details are the\nparentheses after the function name that enclose the numbers,\nand the commas between each number. All of these parts need\nto be there for the code to run. Compare the previous example\nline to these two broken versions of the same line:\nbackground 51, 102, 153; // Error! Missing the parentheses\nbackground(51 102, 153); // Error! Missing a comma\nThere is also a semicolon at the end of each line. The semicolon\nis used like a period. It signifies that one statement is over so\nthe computer can look for the start of the next. If you omit the\nsemicolon, your browser will figure it out anyway, but it’s recom-\nmended that you use them for consistency. However, this line\nwould also be OK:\n212 Appendix A\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 712
  },
  {
    "chunk_full": "background(51, 102, 153) // Missing the semicolon, this is OK.\nThe computer is very unforgiving about even the smallest omis-\nsion or deviation from what it’s expecting. If you remember\nthese parts, you’ll have fewer bugs. But if you forget to type\nthem, which we all do, it’s not a problem. Your browser will alert\nyou about the problem, and when it’s fixed, the program will run \nwell.\nComments\nComments are notes that you write to yourself (or other people)\ninside the code. You should use them to clarify what the code is\ndoing in plain language and provide additional information such\nas the title and author of the program. A comment starts with\ntwo forward slashes (//) and continues until the end of the line:\n// This is a one-line comment\nYou can make a multiple-line comment by starting with /* and\nending with */. For instance:\n/* This comment\n   continues for more\n   than one line\n*/\nWhen a comment is correctly typed, the color of the text will\nturn gray. The entire commented area turns gray so you can\nclearly see where it begins and ends.\nUppercase and Lowercase\np5.js distinguishes uppercase letters from lowercase letters and\ntherefore reads “Hello” as a distinct word from “hello”. If you’re\ntrying to draw a rectangle with the rect() function and you write\nRect(), the code won’t run.\nStyle\np5.js is flexible about how much space is used to format your\ncode. p5.js doesn’t care if you write:\nrect(50, 20, 30, 40);\nor:\nAppendix A 213\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 713
  },
  {
    "chunk_full": "rect (50,20,30,40);\nor:\nrect     (       50,20,\n 30,   40)            ;\nHowever, it’s in your best interest to make the code easy to read.\nThis becomes especially important as the code grows in length.\nClean formatting makes the structure of the code immediately\nlegible, and sloppy formatting often obscures problems. Get\ninto the habit of writing clean code. There are many different\nways to format the code well, and the way you choose to space\nthings is a personal preference.\nConsole\nThe console  is a panel in your browser that can be used to help\nfix bugs in your program. You can write messages to the console\nwith the print() function. For example, the following code prints\na message followed by the current time:\nprint(\"Hello p5.js.\");\nprint(\"The time is \" + hour() + \":\" + minute());\nThe console is essential to seeing what is happening inside of\nyour programs while they run. It’s used to print the value of vari-\nables so you can track them, to confirm if events are happening,\nand to determine where a program is having a problem.\nOne Step at a Time\nWe recommend writing a few lines of code at a time and running\nthe code frequently to make sure that bugs don’t accumulate\nwithout your knowledge. Every ambitious program is written\none line at a time. Break your project into simpler subprojects\nand complete them one at a time so that you can have many\nsmall successes, rather than a swarm of bugs. If you have a bug,\ntry to isolate the area of the code where you think the problem\nlies. Try to think of fixing bugs as solving a mystery or puzzle. If\nyou get stuck or frustrated, take a break to clear your head or\nask a friend for help. Sometimes, the answer is right under your\nnose but requires a second opinion to make it  clear.\n214 Appendix A\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 714
  },
  {
    "chunk_full": "B/Order of\nOperations\nWhen mathematical calculations are per-\nformed in a program, each operation\ntakes place according to a prespecified\norder. This order of operations ensures\nthat the code is run the same way every\ntime. This is no different from arithmetic\nor algebra, but programming has other\noperators that are less familiar.\nIn the following table, the operators on the top are run before\nthose on the bottom—therefore, an operation inside parenthe-\nses will run first and an assignment will run last:\nName\nSymbol\nExamples\nParentheses\n()\na \\* (b + c)\nPostfix, Unary\n++ −− !\na++ −−b !c\nMultiplicative\n* / %\na \\* b\nAdditive\n+ −\na + b\nRelational\n> < <= >=\nif (a > b)\nEquality\n== !=\nif (a == b)\nLogical AND\n&&\nif (mouseIsPressed && (a >\nb))\nLogical OR\n||\nif (mouseIsPressed || (a >\nb))\nAssignment\n= += −= *= /= %=\na = 44\n215\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 715
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 716
  },
  {
    "chunk_full": "C/Variable Scope\nThe rule of variable scope is defined sim-\nply: a variable created inside a block\n(code enclosed within braces: { and })\nexists only inside that block.\nThis means that a variable created inside setup() can be used\nonly within the setup() block, and likewise, a variable declared\ninside draw() can be used only inside the draw() block. The\nexception to this rule is a variable declared outside of setup()\nand draw(). These variables can be used in both setup() and\ndraw() (or inside any other function that you create). Think of\nthe area outside of setup() and draw() as an implied code block.\nWe call these variables global variables, because they can be\nused anywhere within the program. We call a variable that is\nused only within a single block a local variable. Following are a\ncouple of code examples that further explain the concept. First:\nvar i = 12;   // Declare global variable i and assign 12\nfunction setup() {\n  createCanvas(480, 320);\n  var i = 24; // Declare local variable i and assign 24\n  print(i); // Prints 24 to the console\n}\nfunction draw() {\n  print(i); // Prints 12 to the console\n}\nAnd second:\nfunction setup() {\n  createCanvas(480, 320);\n  var i = 24; // Declare local variable i and assign 24\n}\n217\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 717
  },
  {
    "chunk_full": "function draw() {\n  print(i); // ERROR! The variable i is local to setup()\n}\n218 Appendix C\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 718
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 719
  },
  {
    "chunk_full": "",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 720
  },
  {
    "chunk_full": "Index\nSymbols\n!= (not equal to) operator, 49\n&& (logical AND) operator, 76\n// (double slashes) for code com-\nments, 36-37\n< (less than) operator, 49\n<= (less than or equal to) operator,\n49\n= (assignment) operator, 69\n== (equal to) operator, 49, 69, 79\n> (greater than) operator, 49\n>= (greater than or equal to) oper-\nator, 49\n|| (logical OR) operator, 80\nA\nalpha value, 33\nangleMode() function, 25\nanimation, 121-137\nbouncing shapes off wall, 125\ncircular motion, 131-135\nframes/frame rates, 121-122\nmoving shapes, 123\nrandom drawing/moving of\nshapes, 127\nsine wave values/movement,\n133\nspeed and direction, 122-126\nspirals, 135\ntimers, 130-131\ntween positions, 126\nwrapping shapes around screen,\n124-124\nAPIs (application programming\ninterfaces), 191-195\narc() function, 23\narithmetic operations, 44-46\noperators, 45-46\norder of, 46\narrays, 165\ncreating, 168-170\ndeclaring and assigning, 169-170\nfilling in a for loop, 171\nJSONArray, 188\nof objects, 174-177\nrepetition and, 171-174\nsequences of images stored in,\n176-177\ntracking mouse movements\nwith, 172-174\nvariables versus, 165-168\narrow keys, detecting, 80\narrows, drawing, 34\nassignment operator, 46\nasynchronicity, 110-111\nB\nbackground() function, 29, 62, 82,\n129, 212\nbasic shapes, 19-25\nbeginShape() function, 34\nblock, 48\nboolean variables, 68\nbugs, minimizing, 211\nC\ncallback function, 111\ncanvas, 17-19\nchaining methods, 195\ncircles\ncursor position relative to, 74-75\ndrawing, 12-13\ncircular motion, 131-135\nclicks, mouse, 68-72\ncode editors, 9\ncoding basics, 9-15\n221\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 721
  },
  {
    "chunk_full": "coding tips, 211-214\ncomments, 213\nfunctions and parameters,\n212-213\nstyle and formatting, 213\nupper/lowercase letters, 213\ncolor\ncontrolling fill and stroke, 31-32\ngrayscale, 29-32\nRGB color, 32\ntransparency control, 33\ncolumns and rows, creating with for\nloops, 51\ncomments, 36-37, 213\nconsole, 13-14, 214\nconstrain() function, 129\nconstructor functions, 154-159\ncos() and sin() functions, 131-135\ncreateButton() function, 208\ncreateCanvas() function, 18, 92\ncreateCapture() function, 207\ncreateInput() function, 208\ncreateSlider() function, 208\ncreateWriter() function, 196\ncreatures, drawing, 35\ncross-origin error, 103\nCSV (comma-separated values)\nfile, 182\ncursor location, 72-78\nD\ndata, 181-198\nand APIs, 191-195\nchaining methods, 195\nJSON, 187\nJSONArray, 188\nnetwork (see APIs (application\nprogramming interfaces))\noverview, 181\ntables, 182-187\ndebugging, 13\ndegree measurements, 24\ndist() function, 64, 74\nDocument Object Model (DOM)\nlibrary (see see p5.dom library)\ndraw() function, 11, 43, 59-61, 121,\n129\ndrawing, 17-39\nangleMode, 25\narrows, 34\ncanvas, 17-19\nclosing gaps, 34\ncolor, 29-33\ncontinuous, 63\ncreatures, 35-36\nwith degrees, 24\ndrawing order, 25-27\nellipses, 22-24\nlines, 19-21\npoints, 19\nrandomly, 128\nrectangles, 22\nshapes\nbasic, 19-25\ncustom, 33-36\nproperties, 27-29\ntables, 184-185\nE\neasing, 65-67\nelements, in arrays, 168\nellipseMode() function, 29\nellipses, 22\nembedded for loops, 51\nendShape() function, 34\nerror messages, in console, 13-14\nExamples page, 15\nF\nfill() function, 29, 115\nfilter() function, 207\nfloat values, 131\nfonts, 112-117\ndrawing text in a box, 116\ndrawing with, 112\nloading custom, 114\nsetting test stroke and fill, 115\nstoring text in a variable, 116\nwebfonts, 113\nfor loops, 46-54, 171, 183\n222 Index\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 722
  },
  {
    "chunk_full": "creating rows and columns with,\n51-52\nembedding within each other, 51\nfor fanning out lines, 50\nfor halftone dots, 53\nfor kinking lines, 50\nfor pins and lines, 52\nformatting/style of code, 213\nframe rates, 121-122\nframeRate() function, 121\nframes, 59, 121\nfunctions, 18, 139-151, 212-213\nbasics of, 140-141\ncreating, 142-148\nreturn values, 148\nG\nget() function, 184\ngetRowCount() function, 183\nGIF image format, 107\nglobal variables, 43\nH\nhalftone dots, creating, 53\nheaders, 186\nhide() function, 207\nHTML elements, external (see\np5.dom library)\nI\nif blocks, 130\nif statements, 80\nimage() function, 105\nimages, 104-109\nformats, 107\nloading, 104-106\nresizing, 107\nsequences of, 176\ntransparency, 107-109\nindex values, 168\ninitialization statement (init), 48\ninput box, creating, 208-209\nJ\nJavaScript, 5\nJPEG image format, 107\nJSON files, 187-191\nJSON objects, 187\nJSONArray, 188\nK\nkey variable, 78\nkeyCode variable, 80\nkeyIsPressed variable, 78\nkeystroke responses, 78-81\nL\nlength property, 171\nlibraries, 201-209\np5.dom library, 206-209\np5.sound audio library, 202-206\nlines\ndrawing, 19-21\nfanning out, 50\nfanning out with for loops, 50\nkinking with for loops, 50\nsetting thickness of, 64\nsmoothing with easing, 67\nloadImage() function, 110\nloadTable() function, 183\nlowercase/uppercase letters in\ncode, 213\nM\nmap() function, 82-84, 133\nmath, and programming, 44-46\nmedia, 103-118\nand asynchronicity, 110-111\ndownloading online example\nfiles, 103-104\nfonts, 112-117\n(see also fonts)\nimages, 104-109\n(see also images)\nmethods, 153-154, 158\nmillis() function, 130\nmotion (see animation)\nmouse clicks, 68-72\nmouse movement tracking, with\narrays, 172-174\nIndex 223\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 723
  },
  {
    "chunk_full": "mouseIsPressed variable, 68\nmouseX/mouseY variables, 82-84\nN\nnaming variables, 43\nnew keyword, 160\nnew project, 14-14\nnf() function, 176\nnoFill() function, 31\nnoStroke() function, 115\nO\nobject-oriented programming\n(OOP), 153\nobjects, 153-163\narrays of, 174-177\nconstructor functions, 154-159\ncreating, 159-161\nmultiple, 160-161\nproperties and methods,\n153-154\nOpenType (.otf) fonts, 114\noperators, 45-46\norder of operations, 46, 215\nP\np5.dom library, 206-209\ncreate a slider, 208\ncreate an input box, 208-209\nwebcam access, 207\np5.sound audio library, 202-206\ncreating sine waves, 205-206\nlistening through microphone,\n203-205\nplaying samples, 202-203\nparameters, 18, 212-213\nPEMDAS acronym, 46\npersistence of vision, 121\npixels, 17\npmouseX/pmouseY variables, 63\nPNG image format, 107, 108\npoint() function, 19, 148\npop() function, 98\nposition() function, 208\npreload() function, 104, 110, 111,\n183\nprimitives, 181\nprint() function, 65\nPrintWriter class, 196\nproperties, 153-154\npush() function, 98\nR\nradians() function, 24\nrandom() function, 127, 140, 148\nrandomSeed() function, 130\nrect() function, 22\nrectangles, 22\ncursor position relative to, 75-78\ndrawing, 22\nrectMode() function, 29\nReference page, 15\nrelational operators, 48\nrepetition, 46-54\n(see also for loops)\nresponse to input, 59-86\ncursor location, 72-78\neasing , 65-67\nkeystrokes, 78-81\nmapping, 82-84\nmouse clicks, 68-72\nmouse movement tracking,\n61-67\nsetup and draw, 59-61\ntouchscreens, 81\nrobot programs (examples)\narrays of objects, 177-179\ndraw, 38-39\ndrawRobot function, 149-151\ngenerating and reading data\nfiles, 196-198\nloading images from SVG/PNG\nfiles, 117-118\nmodifying code with variables,\n54-56\nmouse-responding shapes,\n84-86\nobjects, 162-163\nrandom and circular motion,\n136-137\n224 Index\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 724
  },
  {
    "chunk_full": "translate, rotate, and scale in,\n99-101\nrotate() function, 91\nrows and columns, creating with for\nloops, 51\nrule of variable scope, 217\nS\nscale() function, 96-98\nservers, running, 103\nsetup() function, 11, 43, 60-61, 110,\n169\nsetXY() function, 186\nshapes\nbouncing off wall, 125\nclosing gap, 34\ndrawing basic, 19-25\ndrawing custom, 33-36\nmoving (see animation)\nproperties\nstroke attributes, 28-29\nstroke weight, 27\nrandom drawing/moving of, 127\nwrapping around screen,\n124-124\nsin() and cos() functions, 131-135\nsine wave frequencies, 205-206\nsine wave values/movement, 133\nsketch folder, 105, 107\nsketch.js file, 10\nsketching with code overview, 1-5\nslider, creating, 208\nsound (see p5.sound audio library)\nspirals, creating, 135\nstep variable, 126\nstroke() function, 29, 115\nstrokeCap() function, 28\nstrokeJoin() function, 28-29\nstrokeWeight() function, 28-29\nSVG image format, 107, 109\nsystem fonts, 112\nT\ntable data, 182-187\ntest statement, 48-49\ntext (see fonts)\ntext() function, 79, 112\ntextAlign() function, 79\ntextFont() function, 112\ntextSize() function, 79, 112\nthis keyword, 157, 160\ntimers, in animation, 130-131\ntouchIsDown variable, 81\ntouchX/touchY variables, 81\ntransformations, 89\ntranslate() function, 89-91, 93-96,\n142\ntranslating locations, 89-91\ntransparency control, 33\nTrueType (.ttf) fonts, 114\nTSV (tab-separated values) file, 182\ntweening, in animation, 126\ntyping, responses to, 78-81\nU\nuppercase/lowercase letters in\ncode, 213\nV\nvalue() function, 208\nvar keyword, 160\nvariable scope rule, 217\nvariables, 41-56\narrays versus, 165-168\nchanging values, 42\ncreating, 43\ndeclared, 43\nglobal, 43\np5.js, 43-44\nand repetition, 46-54\nreusing identical values, 41\nstoring text in, 116\nvector images, 107\nvertex() function, 34, 35\nW\nwebcam, 207\nwebfonts, 113\nX\nx and y coordinates, 17\nIndex 225\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 725
  },
  {
    "chunk_full": "About the Authors\nLauren McCarthy is an artist and a full-time faculty member in\nthe NYU Interactive Telecommunications Program. She was a\nresident at Eyebeam and the Frank-Ratchye STUDIO for Crea-\ntive Inquiry at Carnegie Mellon University. She leads the devel-\nopment of p5.js.\nCasey Reas is a professor in UCLA’s Department of Design\nMedia Arts. His software, prints, and installations have been fea-\ntured in numerous solo and group exhibitions at museums and\ngalleries in the United States, Europe, and Asia. Casey cofoun-\nded Processing with Ben Fry in 2001.\nBen Fry is principal of Fathom, a design and software consul-\ntancy located in Boston. He received his PhD from the Aesthet-\nics + Computation Group at the MIT Media Laboratory, where\nhis research focused on combining fields such as computer sci-\nence, statistics, graphic design, and data visualization as a\nmeans for understanding information. Ben cofounded Process-\ning with Casey Reas in 2001.\nAbout the Illustrator\nTaeyoon Choi is a New York- and Seoul-based artist working\nwith drawings, electronics, and performance. Taeyoon was a\nresident at Eyebeam, and cofounded the School for Poetic Com-\nputation.\nColophon\nThe body typeface is Benton Sans designed by Tobias Frere-\nJones and Cyrus Highsmith. The code font is TheSansMono\nCondensed Regular by Luc(as) de Groot. The display typeface is\nSerifa designed by Adrian Frutiger.\n",
    "book_id": "getting_started_with_p5_js",
    "book_title": "Getting Started with p5.js",
    "book_author": "Lauren McCarthy",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 726
  },
  {
    "chunk_full": "",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 727
  },
  {
    "chunk_full": " Learning Processing\nA Beginner’s Guide to Programming Images, \nAnimation, and Interaction\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 728
  },
  {
    "chunk_full": " The Morgan Kaufmann Series \nin Computer Graphics\n Learning Processing \n Daniel Shiffman \n Digital Modeling of Material Appearance \n Julie Dorsey, Holly Rushmeier, and \n François Sillion \n Mobile 3D Graphics with OpenGL ES \nand M3G \n Kari Pulli, Tomi Aarnio, Ville \nMiettinen, Kimmo Roimela, and  Jani \nVaaralla \n Visualization in Medicine \n Bernhard Preim and  Dirk Bartz \n Geometric Algebra for Computer Science: As \nObject-oriented Approach to Geometry \n Leo Dorst, Daniel Fontijne, and \n Stephen Mann \n Point-Based Graphics \n M arkus G ross and H anspeter \nP fister , Editors \n High Dynamic Range Imaging: Data \nAcquisition, Manipulation, and Display \n Erik Reinhard, Greg Ward, Sumanta \nPattanaik, and  Paul Debevec \n Complete Maya Programming Volume II: \nAn In-depth Guide to 3D Fundamentals, \nGeometry, and Modeling \n D avid A. D. G ould \n MEL Scripting for Maya Animators, \nSecond Edition \n Mark R. Wilkins and  Chris Kazmier \n Advanced Graphics Programming Using \nOpenGL \n Tom McReynolds and  David Blythe \n Digital Geometry Geometric Methods for \nDigital Picture Analysis \n Reinhard Klette and  Azriel \nRosenfeld \n Digital Video and HDTV Algorithms and \nInterfaces \n Charles Poynton \n Real-Time Shader Programming \n R on F osner \n Complete Maya Programming: An Extensive \nGuide to MEL and the C \u0002 \u0002  API \n D avid A. D. G ould \n Texturing  & Modeling: A Procedural \nApproach, Th ird Edition \n David S. Ebert, F. Kenton Musgrave, \nDarwyn Peachey, Ken Perlin, and \n Steven Worley \n Geometric Tools for Computer Graphics \n Philip Schneider and  David H. \nEberly \n Understanding Virtual Reality: Interface, \nApplication, and Design \n W illiam B. S herman and A lan R. \nC raig \n Jim Blinn’s Corner: Notation, Notation, \nNotation \n J im B linn \n Level of Detail for 3D Graphics \n David Luebke, Martin Reddy, \nJonathan D. Cohen, Amitabh \nVarshney, Benjamin Watson, and \n Robert Huebner \n Pyramid Algorithms: A Dynamic \nProgramming Approach to Curves and \nSurfaces for Geometric Modeling \n Ron Goldman \n Non-Photorealistic Computer Graphics: \nModeling, Rendering, and Animation \n Thomas Strothotte and  Stefan \nSchlechtweg \n Curves and Surfaces for CAGD: A Practical \nGuid e, Fifth Edition \n Gerald Farin \n Subdivision Methods for Geometric Design: \nA Constructive Approach \n Joe Warren and  Henrik Weimer \n Computer Animation: Algorithms and \nTechniques \n Rick Parent \n Th e Computer Animator’s Technical \nHandbook \n Lynn Pocock and  Judson Rosebush \n Advanced RenderMan: Creating CGI for \nMotion Pictures \n Anthony A. Apodaca and  Larry Gritz \n Curves and Surfaces in Geometric \nModeling: Th eory and Algorithms \n J ean G allier \n Andrew Glassner’s Notebook: Recreational \nComputer Graphics \n Andrew S. Glassner \n Warping and Morphing of Graphical Objects \n Jonas Gomes, Lucia Darsa, Bruno \nCosta, and  Luiz Velho \n Jim Blinn’s Corner: Dirty Pixels \n J im B linn \n Rendering with Radiance: Th e Art and \nScience of Lighting Visualization \n Greg Ward Larson and  Rob \nShakespeare \n Introduction to Implicit Surfaces \n Edited by J ules B loomenthal \n Jim Blinn’s Corner: A Trip Down the \nGraphics Pipeline \n J im B linn \n Interactive Curves and Surfaces: A \nMultimedia Tutorial on CAGD \n Alyn Rockwood and \n Peter Chambers \n Wavelets for Computer Graphics: Th eory \nand Applications \n E ric J. S tollnitz , T ony D. D eRose , \nand D avid H. S alesin \n Principles of Digital Image Synthesis \n Andrew S. Glassner \n Radiosity  & Global Illumination \n François X. Sillion and  Claude Puech \n Knotty: A B-Spline Visualization Program \n Jonathan Yen \n User Interface Management Systems: \nModels and Algorithms \n D an R. O lsen , Jr. \n Making Th em Move: Mechanics, Control, \nand Animation of Articulated Figures \n Edited by N orman I. B adler , B rian \nA. B arsky , and D avid Z eltzer \n Geometric and Solid Modeling: An \nIntroduction \n Christoph M. Hoffmann \n An Introduction to Splines for Use in \nComputer Graphics and Geometric Modeling \n R ichard H. B artels , J ohn C. B eatty , \nand B rian A. B arsky \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 729
  },
  {
    "chunk_full": " Learning \nProcessing\nA Beginner’s Guide to \nProgramming Images, \nAnimation, and Interaction\nDaniel Shiffman\nAMSTERDAM • BOSTON • HEIDELBERG • LONDON  \nNEW YORK • OXFORD • PARIS • SAN DIEGO  \nSAN FRANCISCO • SINGAPORE • SYDNEY • TOKYO\nMorgan Kaufmann Publishers is an imprint of Elsevier\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 730
  },
  {
    "chunk_full": " Morgan Kaufmann Publishers is an imprint of Elsevier \n 30 Corporate Drive, Suite 400, Burlington, MA 01803, USA \n Copyright © 2008, Elsevier Inc. All rights reserved. \n Designations used by companies to distinguish their products are often claimed as trademarks or registered \ntrademarks. In all instances in which Morgan Kaufmann Publishers is aware of a claim, the product names appear \nin initial capital or all capital letters. All trademarks that appear or are otherwise referred to in this work belong to \ntheir respective owners. Neither Morgan Kaufmann Publishers nor the authors and other contributors of this \nwork have any relationship or aﬃ  liation with such trademark owners nor do such trademark owners conﬁ rm, \nendorse, or approve the contents of this work. Readers, however, should contact the appropriate companies for\nmore information regarding trademarks and any related registrations. \n No part of this publication may be reproduced, stored in a retrieval system, or transmitted in any form or by \nany means—electronic, mechanical, photocopying, scanning, or otherwise—without prior written permission \nof the publisher. \n Permissions may be sought directly from Elsevier’s Science  & Technology Rights Department in Oxford, UK: \nphone: ( \u0002 44) 1865 843830, fax: ( \u0002 44) 1865 853333, E-mail: permissions@elsevier.com. You may also \ncomplete your request online via the Elsevier homepage ( http://www.elsevier.com ) by selecting  “ Support  & Contact ” \nthen  “ Copyright and Permission ” and then  “ Obtaining Permissions. ” \n Library of Congress Cataloging-in-Publication Data \n Application submitted. \n ISBN: 978-0-12-373602-4 \n For information on all Morgan Kaufmann publications, visit our \nWeb site at  www.mkp.com or  www.books.elsevier.com \nTypset by Charon Tec Ltd., A Macmillan Company (www.macmillansolutions.com).\n Printed in the United States of America. \n 08 09 10 11 12 5 4 3 2 1 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 731
  },
  {
    "chunk_full": " Contents\nAcknowledgments \nvii\nIntroduction\nix\n Lesson 1: The Beginning \n1\n Chapter 1: Pixels \n3\n Chapter 2: Processing \n17 \n Chapter 3: Interaction \n31 \n Lesson 2: Everything You Need to Know \n43\n Chapter 4: Variables \n45\n Chapter 5: Conditionals \n59\n Chapter 6: Loops \n81\n Lesson 3: Organization \n99\n Chapter 7: Functions \n 101\n Chapter 8: Objects \n121\n Lesson 4: More of the Same \n139\n Chapter 9: Arrays \n141\n Lesson 5: Putting It All Together \n163\n Chapter 10: Algorithms \n165\n Chapter 11: Debugging \n 191\n Chapter 12: Libraries \n195\n Lesson 6: The World Revolves Around You \n 199\n Chapter 13: Mathematics \n201\n Chapter 14: Translation and Rotation (in 3D!) \n227\n Lesson 7: Pixels Under a Microscope \n253\n Chapter 15: Images \n255\n Chapter 16: Video \n275\n Lesson 8: The Outside World \n303\n Chapter 17: Text \n305\n Chapter 18: Data Input \n325\n Chapter 19: Data Streams  \n357\n Lesson 9: Making Noise \n379\n Chapter 20: Sound \n381\n Chapter 21: Exporting \n397\n Lesson 10: Beyond Processing \n407\n Chapter 22: Advanced Object-Oriented Programming \n 409\n Chapter 23: Java \n 423\n Appendix: Common Errors \n439 \n Index \n447\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 732
  },
  {
    "chunk_full": "This page intentionally left blank\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 733
  },
  {
    "chunk_full": " Acknowledgments \n In the fall of 2001, I wandered into the Interactive Telecommunications Program in the Tisch School of \nthe Arts at New York University having not written a line of code since some early 80’s experiments in \nBASIC on an Apple II \u0002 . Th ere, in a ﬁ rst semester course entitled Introduction to Computational Media, \nI discovered programming. Without the inspiration and support of ITP, my home since 2001, this book \nwould have never been written. \n Red Burns, the department’s chair and founder, has supported and encouraged me in my work for the \nlast seven years. Dan O’Sullivan has been my teaching mentor and was the ﬁ rst to suggest that I try a \ncourse in  Processing at ITP, giving me a reason to start putting together programming tutorials. Shawn \nVan Every sat next to me in the oﬃ  ce throughout the majority of the writing of this book, providing \nhelpful suggestions, code, and a great deal of moral support along the way.  Tom Igoe’s work with physical \ncomputing provided inspiration for this book, and he was particularly helpful as a resource while putting \ntogether examples on network and serial communication. And it was Clay Shirky who I can thank for \none day stopping me in the hall to tell me I should write a book in the ﬁ rst place. Clay also provided a \ngreat deal of feedback on early drafts. \n All of my fellow computational media teachers at ITP have provided helpful suggestions and feedback \nalong the way: Danny Rozin (the inspiration behind Chapters 15 and 16), Amit Pitaru (who helped in \nparticular with the chapter on sound), Nancy Lewis, James Tu, Mark Napier, Chris Kairalla, and Luke \nDubois. ITP faculty members Marianne Petit, Nancy Hechinger, and Jean-Marc Gauthier have provided \ninspiration and support throughout the writing of this book. Th e rest of the faculty and staﬀ  at ITP have \nalso made this possible: George Agudow, Edward Gordon, Midori Yasuda, Megan Demarest, Robert \nRyan, John Duane, Marlon Evans, and Tony Tseng. \n Th e students of ITP, too numerous to mention, have been an amazing source of feedback throughout \nthis process, having used much of the material in this book in trial runs for various courses. I have stacks \nof pages with notes scrawled along the margins as well as a vast archive of e-mails with corrections, \ncomments, and generous words of encouragement. \n I am also indebted to the energetic and supportive community of  Processing programmers and artists. I’d \nprobably be out of a job if it weren’t for Casey Reas and Benjamin Fry who created  Processing . I’ve learned \nhalf of what I know simply from reading through the  Processing source code; the elegant simplicity of the \n Processing language, web site, and IDE has made programming accessible and fun for all of my students. \nI’ve received advice, suggestions, and comments from many  Processing programmers including Tom \nCarden, Marius Watz, Karsten Schmidt, Robert Hodgin, Ariel Malka, Burak Arikan, and Ira Greenberg. \nTh e following teachers were also helpful test driving early versions of the book in their courses: Hector \nRodriguez, Keith Lam, Liubo Borissov, Rick Giles, Amit Pitaru, David Maccarella, Jeﬀ  Gray, and \nToshitaka Amaoka. \n Peter Kirn and Douglas Edric Stanley provided extraordinarily detailed comments and feedback during \nthe technical review process and the book is a great deal better than it would have been without their \neﬀ orts. Demetrie Tyler did a tremendous job working on the visual design of the cover and interior of this \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 734
  },
  {
    "chunk_full": "book, making me look much cooler than I am. And a thanks to David Hindman, who worked on helping \nme organize the screenshots and diagrams. \n I’d also like to thank everyone at Morgan Kaufmann/Elsevier who worked on producing the book: \nGregory Chalson, Tiﬀ any Gasbarrini, Jeﬀ  Freeland, Danielle Monroe, Matthew Cater, Michele Cronin, \nDenise Penrose, and Mary James. \n Finally, and most important, I’d like to thank my wife, Aliki Caloyeras, who graciously stayed awake \nwhenever I needed to talk through the content of this book (and even when I felt the need to practice \nmaterial for class) my parents, Doris and Bernard Shiﬀ man; and my brother, Jonathan Shiﬀ man, who all \nhelped edit some of the very ﬁ rst pages of this book, even while on vacation. \nviii\nAcknowledgments\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 735
  },
  {
    "chunk_full": " Introduction \n What is this book? \n Th is book tells a story. It is a story of liberation, of taking the ﬁ rst steps toward understanding the \nfoundations of computing, writing your own code, and creating your own media without the bonds of \nexisting software tools. Th is story is not reserved for computer scientists and engineers. Th is story is \nfor you. \n Who is this book for? \n Th is book is for the beginner. If you have never written a line of code in your life, you are in the right \nplace. No assumptions are made, and the fundamentals of programming are covered slowly, one by one, \nin the ﬁ rst nine chapters of this book. You do not need any background knowledge besides the basics of \noperating a computer—turning it on, browsing the web, launching an application, that sort of thing. \n Because this book uses  Processing (more on  Processing in a moment) , it is especially good for someone \nstudying or working in a visual ﬁ eld, such as graphic design, painting, sculpture, architecture, ﬁ lm, video, \nillustration, web design, and so on. If you are in one of these ﬁ elds (at least one that involves using a \ncomputer), you are probably well versed in a particular software package, possibly more than one, such as \nPhotoshop, Illustrator, AutoCAD, Maya, After Eﬀ ects, and so on. Th e point of this book is to release you, \nat least in part, from the conﬁ nes of existing tools. What can you make, what can you design if, instead of \nusing someone else’s tools, you write your own? If this question interests you, you are in the right place. \n If you have some programming experience, but are interested in learning about  Processing , this book could \nalso be useful. Th e early chapters will provide you with a quick refresher (and solid foundation) for the \nmore advanced topics found in the second half of the book. \n What is  Processing ?\n Let’s say you are taking Computer Science 101, perhaps taught with the Java programming language. \nHere is the output of the ﬁ rst example program demonstrated in class: \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 736
  },
  {
    "chunk_full": "x\nIntroduction\n Traditionally, programmers are taught the basics via command line output: \n 1. \n TEXT IN  → You write your code as text. \n 2. \n TEXT OUT  → Your code produces text output on the command line. \n 3.  TEXT INTERACTION  → Th e user can enter text on the command line to interact with the program. \n Th e output  “ Hello, World! ” of this example program is an old joke, a programmer’s convention where the text \noutput of the ﬁ rst program you learn to write in any given language says  “ Hello, World! ” It ﬁ rst appeared in a \n1974 Bell Laboratories memorandum by Brian Kernighan entitled  “ Programming in C: A Tutorial. ” \n Th e strength of learning with  Processing is its emphasis on a more intuitive and visually responsive \nenvironment, one that is more conducive to artists and designers learning programming. \n 1. \n TEXT IN  → You write your code as text. \n 2. \n VISUALS OUT  → Your code produces visuals in a window. \n 3. \n MOUSE INTERACTION  → Th e user can interact with those visuals via the mouse (and more as \nwe will see in this book!). \n Processing ’s  “ Hello, World! ” might look something like this: \n Hello, Shapes! \n Th ough quite friendly looking, it is nothing spectacular (both of these ﬁ rst programs leave out #3: \ninteraction), but neither is  “ Hello, World! ” However, the focus, learning through immediate visual \nfeedback, is quite diﬀ erent. \n Processing is not the ﬁ rst language to follow this paradigm. In 1967, the Logo programming language was \ndeveloped by Daniel G. Bobrow, Wally Feurzeig, and Seymour Papert. With Logo, a programmer writes \ninstructions to direct a turtle around the screen, producing shapes and designs. John Maeda’s  Design By \nNumbers (1999) introduced computation to visual designers and artists with a simple, easy to use syntax. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 737
  },
  {
    "chunk_full": "Introduction\n xi\nWhile both of these languages are wonderful for their simplicity and innovation, their capabilities are \nlimited. \n Processing , a direct descendent of  Logo and  Design by Numbers , was born in 2001 in the  “ Aesthetics and \nComputation ” research group at the Massachusetts Institute of Technology Media Lab. It is an open \nsource initiative by Casey Reas and Benjamin Fry, who developed  Processing as graduate students studying \nwith John Maeda. \n “Processing is an open source programming language and environment for people who want to program \nimages, animation, and sound. It is used by students, artists, designers, architects, researchers, and hobbyists for \nlearning, prototyping, and production. It is created to teach fundamentals of computer programming within a \nvisual context and to serve as a software sketchbook and professional production tool. Processing is developed by \nartists and designers as an alternative to proprietary software tools in the same domain.” \n — www.processing.org \n To sum up,  Processing is awesome. First of all, it is free. It doesn’t cost a dime. Secondly, because  Processing is \nbuilt on top of the Java programming language (this is explored further in the last chapter of this book), it is \na fully functional language without some of the limitations of  Logo or  Design by Numbers . Th ere is very little \nyou can’t do with  Processing . Finally,  Processing is open source. For the most part, this will not be a crucial \ndetail of the story of this book. Nevertheless, as you move beyond the beginning stages, this philosophical \nprinciple will prove invaluable. It is the reason that such an amazing community of developers, teachers, \nand artists come together to share work, contribute ideas, and expand the features of  Processing . \n A quick surf-through of the  processing.org Web site reveals this vibrant and creative community. Th ere, \ncode is shared in an open exchange of ideas and artwork among beginners and experts alike. While the \nsite contains a complete reference as well as a plethora of examples to get you started, it does not have a \nstep-by-step tutorial for the true beginner. Th is book is designed to give you a jump start on joining and \ncontributing to this community by methodically walking you through the fundamentals of programming \nas well as exploring some advanced topics. \n It is important to realize that, although without  Processing this book might not exist, this book is not a \n Processing book per se. Th e intention here is to teach you programming. We are choosing to use  Processing \nas our learning environment, but the focus is on the core computational concepts, which will carry you \nforward in your digital life as you explore other languages and environments. \n But shouldn’t I be Learning __________ ? \n You know you want to. Fill in that blank. You heard that the next big thing is that programming language \nand environment Flibideeﬂ obidee. Sure it sounds made up, but that friend of yours will not stop talking \nabout how awesome it is. How it makes everything soooo easy. How what used to take you a whole day \nto program can be done in ﬁ ve minutes. And it works on a Mac. And a PC! And a toaster oven! And you \ncan program your pets to speak with it. In Japanese! \n Here’s the thing. Th at magical language that solves all your problems does not exist. No language is \nperfect, and  Processing comes with its fair share of limitations and ﬂ aws.  Processing , however, is an excellent \nplace to start (and stay). Th is book teaches you the fundamentals of programming so that you can apply \nthem throughout your life, whether you use  Processing , Java, Actionscript, C, PHP, or some other language. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 738
  },
  {
    "chunk_full": "xii\nIntroduction\n It is true that for some projects, other languages and environments can be better. But  Processing is really \ndarn good for a lot of stuﬀ , especially media-related and screen-based work. A common misconception is \nthat  Processing is just for ﬁ ddling around; this is not the case. People (myself included) are out there using \n Processing from day number 1 to day number 365 of their project. It is used for web applications, art projects \nin museums and galleries, and exhibits and installations in public spaces. Most recently, I used  Processing to \ndevelop a real-time graphics video wall system ( http://www.mostpixelsever.com ) that can display content on a \n120 by 12 foot (yes, feet!) video wall in the lobby of InterActive Corps ’ New York City headquarters. \n Not only is  Processing great for actually doing stuﬀ , but for learning, there really isn’t much out there \nbetter. It is free and open source. It is simple. It is visual. It is fun. It is object-oriented (we will get to this \nlater.) And it does actually work on Macs, PCs, and Linux machines (no talking dogs though, sorry). \n So I would suggest to you that you stop worrying about what it is you should be using and focus on \nlearning the fundamentals with  Processing . Th at knowledge will take you above and beyond this book to \nany language you want to tackle. \n Write in this book! \n Let’s say you are a novelist. Or a screenwriter. Is the only time you spend writing the time spent sitting \nand typing at a computer? Or (gasp) a typewriter? Most likely, this is not the case. Perhaps ideas swirl in \nyour mind as you lie in bed at night. Or maybe you like to sit on a bench in the park, feed the pigeons, \nand play out dialogue in your head. And one late night, at the local pub, you ﬁ nd yourself scrawling out a \nbrilliant plot twist on a napkin. \n Well, writing software, programming, and creating code is no diﬀ erent. It is really easy to forget this since \nthe work itself is so inherently tied to the computer. But you must ﬁ nd time to let your mind wander, \nthink about logic, and brainstorm ideas away from the chair, the desk, and the computer. Personally, I do \nall my best programming while jogging. \n Sure, the actual typing on the computer part is pretty important. I mean, you will not end up with a life-\nchanging, working application just by laying out by the pool. But thinking you always need to be hunched \nover the glare of an LCD screen will not be enough. \n Writing all over this book is a step in the right direction, ensuring you will practice thinking through \ncode away from the keyboard. I have included many exercises in the book that incorporate a  “ ﬁ ll in \nthe blanks ” approach. (All of these ﬁ ll in the blanks exercises have answers on the book’s Web site, \n http://www.learningprocessing.com, so you can check your work.) Use these pages! When an idea \ninspires you, make a note and write it down. Th ink of the book as a workbook and sketchbook for your \ncomputational ideas. (You can of course use your own sketchbook, too.) \n I would suggest you spend half your time reading this book away from the computer and the other half, \nside by side with your machine, experimenting with example code along the way. \n How should I read this book? \n It is best to read this book in order. Chapter 1, Chapter 2, Chapter 3, and so on. You can get a bit more \nrelaxed about this after the end of Chapter 9 but in the beginning it is pretty important. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 739
  },
  {
    "chunk_full": "Introduction\n xiii\n Th e book is designed to teach you programming in a linear fashion. A more advanced text might operate \nmore like a reference where you read bits and pieces here and there, moving back and forth throughout \nthe book. But here, the ﬁ rst half of the book is dedicated to making one example, and building the \nfeatures of that example one step at a time (more on this in a moment). In addition, the fundamental \nelements of computer programming are presented in a particular order, one that comes from several years \nof trial and error with a group of patient and wonderful students in New York University’s Interactive \nTelecommunications Program ( “ ITP ” ) at the Tisch School of the Arts ( http://itp.nyu.edu ). \n Th e chapters of the book (23 total) are grouped into lessons (10 total). Th e ﬁ rst nine chapters introduce \ncomputer graphics, and cover the fundamental principles behind computer programming. Chapters 10 \nthrough 12 take a break from learning new material to examine how larger projects are developed with \nan incremental approach. Chapters 13 through 23 expand on the basics and oﬀ er a selection of more \nadvanced topics ranging from 3D, to incorporating live video, to data visualization. \n Th e  “ Lessons ” are oﬀ ered as a means of dividing the book into digestible chunks. Th e end of a lesson marks \na spot at which I suggest you take a break from reading and attempt to incorporate that lesson’s chapters \ninto a project. Suggestions for these projects are oﬀ ered (but they are really just that: suggestions). \n Is this a textbook? \n Th is book is designed to be used either as a textbook for an introductory level programming course or for \nself-instruction. \n I should mention that the structure of this book comes directly out of the course  “ Introduction to \nComputational Media ” at ITP. Without the help my fellow teachers of this class (Dan O’Sullivan, Danny \nRozin, Chris Kairalla, Shawn Van Every, Nancy Lewis, Mark Napier, and James Tu) and hundreds of \nstudents (I wish I could name them all here), I don’t think this book would even exist. \n To be honest, though, I am including a bit more material than can be taught in a beginner level one \nsemester course. Out of the 23 chapters, I probably cover about 18 of them in detail in my class (but make \nreference to everything in the book at some point). Nevertheless, whether or not you are reading the book \nfor a course or learning on your own, it is reasonable that you could consume the book in a period of a \nfew months. Sure, you can read it faster than that, but in terms of actually writing code and developing \nprojects that incorporate all the material here, you will need a fairly signiﬁ cant amount of time. As \ntempting as it is to call this book  “ Learn to Program with 10 Lessons in 10 Days! ” it is just not realistic. \n Here is an example of how the material could play out in a 14 week semester course.\n Week 1 \n Lesson 1: Chapters 1–3 \n Week 2 \n Lesson 2: Chapters 4–6 \n Week 3 \n Lesson 3: Chapters 7–8 \n Week 4 \n Lesson 4: Chapter 9 \n Week 5 \n Lesson 5: Chapter 10–11 \n Week 6 \n Midterm! (Also, continue Lesson 5: Chapter 12) \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 740
  },
  {
    "chunk_full": "xiv\nIntroduction\n Will this be on the test? \n A book will only take you so far. Th e real key is practice, practice, practice. Pretend you are 10 years old \nand taking violin lessons. Your teacher would tell you to practice every day. And that would seem perfectly \nreasonable to you. Do the exercises in this book. Practice every day if you can. \n Sometimes when you are learning, it can be diﬃ  cult to come up with your own ideas. Th ese exercises are \nthere so that you do not have to. However, if you have an idea for something you want to develop, you \nshould feel free to twist and tweak the exercises to ﬁ t with what you are doing. \n A lot of the exercises are tiny little drills that can be answered in a few minutes. Some are a bit harder \nand might require up to an hour. Along the way, however, it is good to stop and work on a project that \ntakes longer, a few hours, a day, or a week. As I just mentioned, this is what the  “ lesson ” structure is for. \nI suggest that in between each lesson, you take a break from reading and work on making something in \n Processing . A page with project suggestions is provided for each lesson. \n All of the answers to all of the exercises can be found on this book’s web site. Speaking of which  … \n Do you have a web site? \n Th e Web site for this book is:  http://www.learningprocessing.com \n Th ere you will ﬁ nd the following things: \n •  Answers to all exercises in the book. \n •  Downloadable versions of all code in the book. \n •  Online versions of the examples (that can be put online) in the book. \n •  Corrections of any errors in the book. \n •  Additional tips and tutorials beyond material in the book. \n •  Questions and comments page. \n Since many of the examples in this book use color and are animated, the black and white, static \nscreenshots provided in the pages here will not give you the whole picture. As you are reading, you can \nrefer to the web site to view the examples running in your browser as well as download them to run \nlocally on your computer. \n Week 7 \n Lesson 6: Chapter 13–14 \n Week 8 \n Lesson 7: Chapter 15–16 \n Week 9 \n Lesson 8: Chapters 17–19 \n Week 10 \n Lesson 9: Chapters 20–21 \n Week 11 \n Lesson 10: Chapters 22–23 \n Week 12 \n Final Project Workshop \n Week 13 \n Final Project Workshop \n Week 14 \n Final Project Presentations \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 741
  },
  {
    "chunk_full": "Introduction\n xv\n Th is book’s web site is not a substitute for the amazing resource that is the oﬃ  cial  Processing web site: \n http://www.processing.org . Th ere, you will ﬁ nd the  Processing reference, many more examples, and a lively \nforum. \n Take It One Step at a Time \n Th e Philosophy of Incremental Development \n Th ere is one more thing we should discuss before we embark on this journey together. It is an important \ndriving force behind the way I learned to program and will contribute greatly to the style of this book. \nAs coined by a former professor of mine, it is called the  “ philosophy of incremental development. ” Or \nperhaps, more simply, the  “ one-step-at-a-time approach. ” \n Whether you are a total novice or a coder with years of experience, with any programming project, it is \ncrucial not to fall into the trap of trying to do too much all at once. Your dream might be to create the \nuber- Processing program that, say, uses Perlin noise to procedurally generate textures for 3D vertex shapes \nthat evolve via the artiﬁ cial intelligence of a neural network that crawls the web mining for today’s news \nstories, displaying the text of these stories onscreen in colors taken from a live video feed of a viewer in \nfront of the screen who can control the interface with live microphone input by singing. \n Th ere is nothing wrong with having grand visions, but the most important favor you can do for yourself \nis to learn how to break those visions into small parts and attack each piece slowly, one at a time. Th e \nprevious example is a bit silly; nevertheless, if you were to sit down and attempt to program its features all \nat once, I am pretty sure you would end up using a cold compress to treat your pounding headache. \n To demonstrate, let’s simplify and say that you aspire to program the game Space Invaders (see:  http://\nen.wikipedia.org/wiki/Space_Invaders ). While this is not explicitly a game programming book, the skills to \naccomplish this goal will be found here. Following our newfound philosophy, however, we know we need \nto develop one step at a time, breaking down the problem of programming Space Invaders into small \nparts. Here is a quick attempt: \n 1. \n Program the spaceship. \n 2. \n Program the invaders. \n 3. \n Program the scoring system. \n Great, we divided our program into three steps! Nevertheless, we are not at all ﬁ nished. Th e key is to \ndivide the problem into the smallest pieces possible, to the point of absurdity, if necessary. You will learn \nto scale back into larger chunks when the time comes, but for now, the pieces should be so small that \nthey seem ridiculously oversimpliﬁ ed. After all, if the idea of developing a complex game such as Space \nInvaders seems overwhelming, this feeling will go away if you leave yourself with a list of steps to follow, \neach one simple and easy. \n With that in mind, let’s try a little harder, breaking Step 1 from above down into smaller parts. Th e idea \nhere is that you would write six programs, the ﬁ rst being the simplest:  display a triangle . With each step, \nwe add a small improvement:  move the triangle. As the program gets more and more advanced, eventually \nwe will be ﬁ nished. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 742
  },
  {
    "chunk_full": "xvi\nIntroduction\n 1.1 \n Draw a triangle onscreen. Th e triangle will be our spaceship. \n 1.2 \n Position the triangle at the bottom of the screen. \n 1.3 \n Position the triangle slightly to the right of where it was before. \n 1.4 \n Animate the triangle so that it moves from position left to right. \n 1.5 \n Animate the triangle from left to right only when the right-arrow key is pressed. \n 1.6 \n Animate the triangle right to left when the left-arrow key is pressed. \n Of course, this is only a small fraction of all of the steps we need for a full Space Invaders game, but \nit demonstrates a vital way of thinking. Th e beneﬁ ts of this approach are not simply that it makes \nprogramming easier (which it does), but that it also makes  “ debugging ” easier. \n Debugging 1 refers to the process of ﬁ nding defects in a computer program and ﬁ xing them so that the \nprogram behaves properly. You have probably heard about bugs in, say, the Windows operating system: \nminiscule, arcane errors deep in the code. For us, a bug is a much simpler concept: a mistake. Each time \nyou try to program something, it is very likely that  something will not work as you expected, if at all. So \nif you start out trying to program everything all at once, it will be very hard to ﬁ nd these bugs. Th e one-\nstep-at-a-time methodology, however, allows you to tackle these mistakes one at a time, squishing the \nbugs. \n In addition, incremental development lends itself really well to  object-oriented programming , a core \nprinciple of this book. Objects, which will be introduced in Lesson 3, Chapter 8, will help us to develop \nprojects in modular pieces as well as provide an excellent means for organizing (and sharing) code. \nReusability will also be key. For example, if you have programmed a spaceship for Space Invaders and \nwant to start working on asteroids, you can grab the parts you need (i.e., the moving spaceship code), and \ndevelop the new pieces around them. \n Algorithms \n When all is said and done, computer programming is all about writing  algorithms . An algorithm is \na sequential list of instructions that solves a particular problem. And the philosophy of incremental \ndevelopment (which is essentially an algorithm for you, the human being, to follow) is designed to make \nit easier for you to write an algorithm that implements your idea. \n As an exercise, before you get to Chapter 1, try writing an algorithm for something you do on a daily \nbasis, such as brushing your teeth. Make sure the instructions seem comically simple (as in  “ Move the \ntoothbrush one centimeter to the left ” ). \n Imagine that you had to provide instructions on how to accomplish this task to someone entirely \nunfamiliar with toothbrushes, toothpaste, and teeth. Th at is how it is to write a program. A computer is \nnothing more than a machine that is brilliant at following precise instructions, but knows nothing about \nthe world at large. And this is where we begin our journey, our story, our new life as a programmer. We \nbegin with learning how to talk to our friend, the computer. \n 1 Th e term  “ debugging ” comes from the apocryphal story of a moth getting stuck in the relay circuits of one of computer scientist \nGrace Murray Hopper’s computers. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 743
  },
  {
    "chunk_full": "Introduction\n xvii\n Some suggestions: \n •  Do you do different things based on conditions? How might you use the words \n “ if  ” or  “ otherwise ” in your instructions? (For example: if the water is too cold, \nincrease the warm water. Otherwise, increase cold water.) \n •  Use the word  “ repeat ” in your instructions. For example: Move the brush up \nand down. Repeat 5 times. \n Also, note that we are starting with Step # 0. In programming, we often like to count \nstarting from 0 so it is good for us to get used to this idea right oﬀ  the bat! \n How to brush your teeth by ___________________________________________\n Step 0. ___________________________________________________________ \n Step 1. ___________________________________________________________ \n Step 2. ___________________________________________________________ \n Step 3. ___________________________________________________________ \n Step 4. ___________________________________________________________ \n Step 5. ___________________________________________________________ \n Step 6. ___________________________________________________________ \n Step 7. ___________________________________________________________ \n Step 8. ___________________________________________________________ \n Step 9. ___________________________________________________________ \n Introductory Exercise: Write instructions for brushing your teeth. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 744
  },
  {
    "chunk_full": "This page intentionally left blank\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 745
  },
  {
    "chunk_full": "Lesson One\nThe Beginning\n1 Pixels\n2 Processing\n3 Interaction\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 746
  },
  {
    "chunk_full": "This page intentionally left blank\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 747
  },
  {
    "chunk_full": "Pixels\n 3\n 1  Pixels \n “ A journey of a thousand miles begins with a single step. ” \n —Lao-tzu \n In this chapter:\n–  Specifying pixel coordinates. \n –  Basic shapes: point, line, rectangle, ellipse. \n –  Color: grayscale,  “ RGB. ” \n–  Color transparency. \n Note that we are not doing any programming yet in this chapter! We are just dipping our feet in the water and \ngetting comfortable with the idea of creating onscreen graphics with text-based commands, that is,  “ code ” ! \n 1.1  Graph Paper \n Th is book will teach you how to program in the context of computational media, and it will use the \ndevelopment environment  Processing ( http://www.processing.org ) as the basis for all discussion and \nexamples. But before any of this becomes relevant or interesting, we must ﬁ rst channel our eighth grade \nselves, pull out a piece of graph paper, and draw a line. Th e shortest distance between two points is a good \nold fashioned line, and this is where we begin, with two points on that graph paper.\n0\n0\n1\n2\n3\n4\n5\nPoint B (4,5)\nPoint A\n(1,0)\nx-axis\ny-axis\n1 2 3 4\n ﬁ g. 1.1  \n Figure 1.1 shows a line between point A (1,0) and point B (4,5). If you wanted to direct a friend of yours \nto draw that same line, you would give them a shout and say  “ draw a line from the point one-zero to \nthe point four-ﬁ ve, please. ” Well, for the moment, imagine your friend was a computer and you wanted \nto instruct this digital pal to display that same line on its screen. Th e same command applies (only this \ntime you can skip the pleasantries and you will be required to employ a precise formatting). Here, the \ninstruction will look like this: \n line(1,0,4,5); \n Congratulations, you have written your ﬁ rst line of computer code! We will get to the precise formatting \nof the above later, but for now, even without knowing too much, it should make a fair amount of sense. \nWe are providing a  command (which we will refer to as a  “ function ” ) for the machine to follow entitled \n “ line. ” In addition, we are specifying some  arguments for how that line should be drawn, from point \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 748
  },
  {
    "chunk_full": "4\nLearning Processing\nA (0,1) to point B (4,5). If you think of that line of code as a sentence, the  function is a  verb and the \n arguments are the  objects of the sentence. Th e code sentence also ends with a semicolon instead of a period. \nVerb\nObject\nObject\nDraw a line from 0,1 to 4,5\n ﬁ g. 1.2  \n\u0002\n\u0002\n\u0002\n\u0003\n\u0003\n\u0002\n(0,0)\n(0,0)\ny-axis\ny-axis\nx-axis\nx-axis\nEighth grade\nComputer\n ﬁ g. 1.3  \n Th e key here is to realize that the computer screen is nothing more than a fancier piece of graph paper. \nEach pixel of the screen is a coordinate—two numbers, an  “ x ” (horizontal) and a  “ y ” (vertical)—that \ndetermine the location of a point in space. And it is our job to specify what shapes and colors should \nappear at these pixel coordinates. \n Nevertheless, there is a catch here. Th e graph paper from eighth grade ( “ Cartesian coordinate system ” ) \nplaced (0,0) in the center with the y-axis pointing up and the x-axis pointing to the right (in the positive \ndirection, negative down and to the left). Th e coordinate system for pixels in a computer window, \nhowever, is reversed along the  y -axis. (0,0) can be found at the top left with the positive direction to the \nright horizontally and down vertically. See  Figure 1.3 . \n Exercise 1-1: Looking at how we wrote the instruction for line  “ line(1,0,4,5); ” how would \nyou guess you would write an instruction to draw a rectangle? A circle? A triangle? Write \nout the instructions in English and then translate it into  “ code. ” \n English: ________________________________________________________________ _\n Code: \n______________________________________________________ ___________\n English: ______________________________________________________ ___________\n Code: \n______________________________________________________ ___________\n English: ______________________________________________________ ___________\n Code: \n______________________________________________________ ___________\n Come back later and see how your guesses matched up with how Processing actually works. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 749
  },
  {
    "chunk_full": "Pixels\n 5\n 1.2  Simple Shapes \n Th e vast majority of the programming examples in this book will be visual in nature. You may ultimately \nlearn to develop interactive games, algorithmic art pieces, animated logo designs, and (insert your own \ncategory here) with  Processing , but at its core, each visual program will involve setting pixels. Th e simplest \nway to get started in understanding how this works is to learn to draw primitive shapes. Th is is not unlike \nhow we learn to draw in elementary school, only here we do so with code instead of crayons. \n Let’s start with the four primitive shapes shown in  Figure 1.4 . \nPoint\nLine\nRectangle\nEllipse\n ﬁ g. 1.4  \n0\n0\n1\n2\n3\n4\nx-axis\ny-axis\n5\n6\n7\n8\n9\n1\n2\n3\n4\nPoint (4,5);\nx\n5\n6\n7\n8\n9\ny\n ﬁ g. 1.5  \n For each shape, we will ask ourselves what information is required to specify the location and size (and \nlater color) of that shape and learn how  Processing expects to receive that information. In each of the \ndiagrams below ( Figures 1.5 through 1.11), assume a window with a width of 10 pixels and height of \n10 pixels. Th is isn’t particularly realistic since when we really start coding we will most likely work with \nmuch larger windows (10  \u0004  10 pixels is barely a few millimeters of screen space). Nevertheless for \ndemonstration purposes, it is nice to work with smaller numbers in order to present the pixels as they \nmight appear on graph paper (for now) to better illustrate the inner workings of each line of code. \n A point is the easiest of the shapes and a good place to start. To draw a point, we only need an  x and  y \ncoordinate as shown in  Figure 1.5 . A line isn’t terribly diﬃ  cult either. A line requires two points, as shown \nin  Figure 1.6 . \n ﬁ g. 1.6  \n0\n0\n1\n2\n3\n4\nx-axis\ny-axis\n5\n6\n7\n8\n9\n1\n2\n3\n4\nPoint B (8,3)\nline (1,3,8,3);\n5\n6\n7\n8\n9\nPoint A (1,3)\ny\nx\nPoint A\ny\nx\nPoint B\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 750
  },
  {
    "chunk_full": "6\nLearning Processing\n0\n0\n1\n2\n3\n4\nx-axis\ny-axis\n5\n6\n7\n8\n9\n1\n2\n3\n4\nrectMode (CENTER);\nrect (3,3,5,5);\n5\n6\n7\n8\n9\ncenter\n(3,3)\ncenter\nx\ncenter\ny\nwidth\nheight\n ﬁ g. 1.8  \n0\n0\n1\n2\n3\n4\nx-axis\ny-axis\n5\n6\n7\n8\n9\n1\n2\n3\n4\nrect (2,3,5,4);\ntop left\nx\nTop left\ntop left\ny\nwidth\nwidth\nheight\nheight\n5\n6\n7\n8\n9\n ﬁ g. 1.7  \n Finally, we can also draw a rectangle with two points (the top left corner and the bottom right corner). \nTh e mode here is  “ CORNERS ” (see  Figure 1.9) . \nOnce we arrive at drawing a rectangle, things become a bit more complicated. In  Processing , a rectangle is \nspeciﬁ ed by the coordinate for the top left corner of the rectangle, as well as its width and height \n(see  Figure 1.7 ). \n However, a second way to draw a rectangle involves specifying the centerpoint, along with width \nand height as shown in  Figure 1.8 . If we prefer this method, we ﬁ rst indicate that we want to use the \n “ CENTER ” mode before the instruction for the rectangle itself. Note that  Processing is case-sensitive. \nIncidentally, the default mode is  “ CORNER, ” which is how we began as illustrated in  Figure 1.7 . \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 751
  },
  {
    "chunk_full": "Pixels\n 7\n Once we have become comfortable with the concept of drawing a rectangle, an ellipse is a snap. In fact, it \nis identical to  rect( ) with the diﬀ erence being that an ellipse is drawn where the bounding box 1 (as shown \nin  Figure 1.11 ) of the rectangle would be. Th e default mode for  ellipse( ) is  “ CENTER ” , rather than \n “ CORNER ” as with  rect( ) . See  Figure 1.10 . \n0\n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n1\n2\n3\n4\n5\n6\n7\n8\n9\nbottom right (8,7)\nrectMode (CORNERS)\nrect (5,5,8,7);\ntop left (5,5)\ntop left\nx\nbottom right x\nbottom right y\ntop left\ny\nﬁ g. 1.9  \n 1 A bounding box of a shape in computer graphics is the smallest rectangle that includes all the pixels of that shape. For example, the \nbounding box of a circle is shown in  Figure 1.11 .\n0\n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n1\n2\n3\n4\nellipseMode (CENTER);\nellipse (3,3,5,5);\n5\n6\n7\n8\n9\nellipseMode (CORNER);\nellipse (3,3,4,4);\n0\n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n1\n2\n3\n4\n5\n6\n7\n8\n9\nellipseMode (CORNERS);\nellipse (5,5,8,7);\n0\n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n1\n2\n3\n4\n5\n6\n7\n8\n9\n ﬁ g. 1.10  \n It is important to acknowledge that in  Figure 1.10 , the ellipses do not look particularly circular.  Processing \nhas a built-in methodology for selecting which pixels should be used to create a circular shape. Zoomed \nin like this, we get a bunch of squares in a circle-like pattern, but zoomed out on a computer screen, \nwe get a nice round ellipse. Later, we will see that  Processing gives us the power to develop our own \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 752
  },
  {
    "chunk_full": "8\nLearning Processing\nTriangle\nArc\nQuad\nCurve\n ﬁ g. 1.12  \nalgorithms for coloring in individual pixels (in fact, we can already imagine how we might do this using \n “ point ” over and over again), but for now, we are content with allowing the  “ ellipse ” statement to do the \nhard work. \n Certainly, point, line, ellipse, and rectangle are not the only shapes available in the  Processing library \nof functions. In Chapter 2, we will see how the  Processing reference provides us with a full list of \navailable drawing functions along with documentation of the required arguments, sample syntax, and \nimagery. For now, as an exercise, you might try to imagine what arguments are required for some other \nshapes (Figure 1.12): \n triangle( ) \n arc( ) \n quad( ) \n curve( ) \n0\n0\n1\n2\n3\n4\nx-axis\ny-axis\n5\n6\n7\n8\n9\n1\n2\n3\n4\n5\n6\n7\n8\n9\n line(0,0,9,6); \n point(0,2); \n point(0,4); \n rectMode(CORNER); \n rect(5,0,4,3); \n ellipseMode(CENTER); \n ellipse(3,7,4,4); \n Exercise 1-2: Using the blank graph below, draw the primitive shapes speciﬁ ed by the code. \nCircle’s bounding box\n ﬁ g. 1.11  \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 753
  },
  {
    "chunk_full": "Pixels\n 9\n Exercise 1-3: Reverse engineer a list of primitive shape drawing instructions for the diagram below. \n \n0\n0\n1\n2\n3\n4\nNote: There is more than one correct answer!\n5\n6\n7\n8\n9\n1\n2\n3\n4\n5\n6\n7\n8\n9\n \n __________________________________________________________________ \n __________________________________________________________________ \n __________________________________________________________________ \n __________________________________________________________________ \n __________________________________________________________________ \n 1.3  Grayscale Color \n As we learned in Section 1.2, the primary building block for placing shapes onscreen is a pixel \ncoordinate. You politely instructed the computer to draw a shape at a speciﬁ c location with a speciﬁ c size. \nNevertheless, a fundamental element was missing—color. \n In the digital world, precision is required. Saying  “ Hey, can you make that circle bluish-green? ” will \nnot do. Th erefore, color is deﬁ ned with a range of numbers. Let’s start with the simplest case:  black and \nwhite or  grayscale . In grayscale terms, we have the following: 0 means black, 255 means white. In between, \nevery other number—50, 87, 162, 209, and so on—is a shade of gray ranging from black to white. See \n Figure 1.13 .\n0\n50\n87\n162\n209\n255\n ﬁ g. 1.13  \n Does 0–255 seem arbitary to you? \n Color for a given shape needs to be stored in the computer’s memory. Th is memory is just a long \nsequence of 0’s and 1’s (a whole bunch of on or oﬀ  switches.) Each one of these switches is a \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 754
  },
  {
    "chunk_full": "10\nLearning Processing\n By adding the  stroke( ) and  ﬁ ll( ) functions  before the shape is drawn, we can set the color. It is much like \ninstructing your friend to use a speciﬁ c pen to draw on the graph paper. You would have to tell your \nfriend  before he or she starting drawing, not after. \n Th ere is also the function  background( ) , which sets a background color for the window where shapes will \nbe rendered.\n Example 1-1: Stroke and ﬁ ll \n background(255); \n stroke(0); \n fill(150); \n rect(50,50,75,100); \nstroke( ) or  ﬁ ll( ) can be eliminated with the  noStroke( ) or  noFill( ) functions. \nOur instinct might be to say  “ stroke(0) ” for no outline, however, it is \nimportant to remember that 0 is not  “ nothing ” , but rather denotes the color \nblack. Also, remember not to eliminate both—with  noStroke( ) and  noFill( ) , \nnothing will appear! \n Understanding how this range works, we can now move to setting speciﬁ c grayscale colors for the shapes \nwe drew in Section 1.2. In  Processing , every shape has a  stroke( ) or a  ﬁ ll( ) or both. Th e  stroke( ) is the \noutline of the shape, and the  ﬁ ll( ) is the interior of that shape. Lines and points can only have  stroke( ) , for \nobvious reasons. \n If we forget to specify a color, \nProcessing will use black (0) for the \nstroke( ) and white (255) for the \nﬁ ll( ) by default. Note that we are \nnow using more realistic numbers \nfor the pixel locations, assuming a \nlarger window of size 200  \u0004  200 \npixels. See  Figure 1.14. \n rect(50,40,75,100); \n ﬁ g. 1.14  \n ﬁ g. 1.15  \nbit , eight of them together is a  byte . Imagine if we had eight bits (one byte) in sequence—how \nmany ways can we conﬁ gure these switches? Th e answer is (and doing a little research into binary \nnumbers will prove this point) 256 possibilities, or a range of numbers between 0 and 255. We will \nuse eight bit color for our grayscale range and 24 bit for full color (eight bits for each of the red, \ngreen, and blue color components; see Section 1.4). \nThe outline of the rectangle is black\nThe interior of the rectangle is white\nThe background color is gray.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 755
  },
  {
    "chunk_full": "Pixels\n 11\nbackground(150);\nstroke(0);\nline(0,0,100,100);\nstroke(255);\nnoFill();\nrect(25,25,50,50);\n ﬁ g. 1.17  \n Example 1-2: noFill ( )\n background(255); \n stroke(0); \n noFill(); \n ellipse(60,60,100,100); \n If we draw two shapes at one time,  Processing will always use the \nmost recently speciﬁ ed  stroke( ) and  ﬁ ll( ) , reading the code from top to \nbottom. See  Figure 1.17 . \n ﬁ g. 1.16  \n Exercise 1-4: Try to guess what the instructions would be for the following screenshot. \n \n __________________________________________________________________ \n __________________________________________________________________ \n __________________________________________________________________ \n __________________________________________________________________ \n __________________________________________________________________ \n __________________________________________________________________ \n __________________________________________________________________ \n __________________________________________________________________ \nnoﬁ ll( ) leaves the shape \nwith only an outline\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 756
  },
  {
    "chunk_full": "12\nLearning Processing\n 1.4  RGB Color \n A nostalgic look back at graph paper helped us learn the fundamentals for pixel locations and size. \nNow that it is time to study the basics of digital color, we search for another childhood memory to get \nus started. Remember ﬁ nger painting? By mixing three  “ primary ” colors, any color could be generated. \nSwirling all colors together resulted in a muddy brown. Th e more paint you added, the darker it got. \n Digital colors are also constructed by mixing three primary colors, but it works diﬀ erently from paint. \nFirst, the primaries are diﬀ erent: red, green, and blue (i.e.,  “ RGB ” color). And with color on the screen, \nyou are mixing light, not paint, so the mixing rules are diﬀ erent as well. \n •  Red \n \u0002  green  \n \n \u0005  yellow \n •  Red \n \u0002  blue \n \n \n \u0005  purple \n •  Green \n \u0002  blue \n \n \n \u0005  cyan (blue-green) \n •  Red \n \u0002  green  \u0002  blue  \u0005  white \n •  No colors  \n \n \n \n \u0005  black \n Th is assumes that the colors are all as bright as possible, but of course, you have a range of color available, so \nsome red plus some green plus some blue equals gray, and a bit of red plus a bit of blue equals dark purple. \n While this may take some getting used to, the more you program and experiment with RGB color, the more \nit will become instinctive, much like swirling colors with your ﬁ ngers. And of course you can’t say  “ Mix \nsome red with a bit of blue, ” you have to provide an exact amount. As with grayscale, the individual color \nelements are expressed as ranges from 0 (none of that color) to 255 (as much as possible), and they are listed \nin the order R, G, and B. You will get the hang of RGB color mixing through experimentation, but next we \nwill cover some code using some common colors. \n Note that this book will only show you black and white versions of each  Processing sketch, but everything \nis documented online in full color at  http://www.learningprocessing.com with RGB color diagrams found \nspeciﬁ cally at:  http://learningprocessing.com/color . \n Example 1-3: RGB color \n background(255); \n noStroke(); \n fill(255,0,0); \n ellipse(20,20,16,16); \n fill(127,0,0); \n ellipse(40,20,16,16); \n fill(255,200,200); \n ellipse(60,20,16,16); \nProcessing also has a color selector to aid in choosing colors. Access this via TOOLS (from the \nmenu bar)  → COLOR SELECTOR. See  Figure 1.19 . \n ﬁ g. 1.18  \nBright red\nDark red\nPink (pale red).\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 757
  },
  {
    "chunk_full": "Pixels\n 13\n ﬁ g. 1.19  \n fill(0,100,0); \n______________________________________ \n fill(100); \n______________________________________ \n stroke(0,0,200); \n______________________________________ \n stroke(225); \n______________________________________ \n stroke(255,255,0); ______________________________________ \n stroke(0,255,255); ______________________________________ \n stroke(200,50,50); ______________________________________ \n Exercise 1-6: What color will each of the following lines of code generate? \n Exercise 1-5: Complete the following program. Guess what RGB values to use (you will be \nable to check your results in Processing after reading the next chapter). You could also use the \ncolor selector, shown in  Figure 1.19 . \n fill(________,________,________);\n ellipse(20,40,16,16); \n fill(________,________,________); \n ellipse(40,40,16,16); \n fill(________,________,________); \n ellipse(60,40,16,16); \nBright blue\nDark purple\nYellow\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 758
  },
  {
    "chunk_full": "14\nLearning Processing\n 1.5  Color Transparency \n In addition to the red, green, and blue components of each color, there is an additional optional fourth \ncomponent, referred to as the color’s  “ alpha. ” Alpha means transparency and is particularly useful when \nyou want to draw elements that appear partially see-through on top of one another. Th e alpha values for \nan image are sometimes referred to collectively as the  “ alpha channel ” of an image. \n It is important to realize that pixels are not literally transparent, this is simply a convenient illusion that \nis accomplished by blending colors. Behind the scenes,  Processing takes the color numbers and adds a \npercentage of one to a percentage of another, creating the optical perception of blending. (If you are \ninterested in programming  “ rose-colored ” glasses, this is where you would begin.) \n Alpha values also range from 0 to 255, with 0 being completely transparent (i.e., 0% opaque) and 255 \ncompletely opaque (i.e., 100% opaque). Example 1-4 shows a code example that is displayed in \n Figure 1.20 . \n Example 1-4: Alpha transparency \n background(0); \n noStroke( ); \n fill(0,0,255); \n rect(0,0,100,200); \n fill(255,0,0,255); \n rect(0,0,200,40); \n fill(255,0,0,191); \n rect(0,50,200,40); \n fill(255,0,0,127); \n rect(0,100,200,40); \n fill(255,0,0,63); \n rect(0,150,200,40); \n 1.6  Custom Color Ranges \n RGB color with ranges of 0 to 255 is not the only way you can handle color in  Processing . Behind \nthe scenes in the computer’s memory, color is  always talked about as a series of 24 bits (or 32 in \nthe case of colors with an alpha). However,  Processing will let us think about color any way we like, \nand translate our values into numbers the computer understands. For example, you might prefer to \nthink of color as ranging from 0 to 100 (like a percentage). You can do this by specifying a custom \ncolorMode( ) . \n ﬁ g. 1.20  \nNo fourth argument means 100% opacity.\n255 means 100% opacity.\n75% opacity\n50% opacity\n25% opacity\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 759
  },
  {
    "chunk_full": "Pixels\n 15\n colorMode(RGB,100); \n Th e above function says:  “ OK, we want to think about color in terms of red, green, and blue. Th e range of \nRGB values will be from 0 to 100. ” \n Although it is rarely convenient to do so, you can also have diﬀ erent ranges for each color component: \n colorMode(RGB,100,500,10,255); \n Now we are saying  “ Red values go from 0 to 100, green from 0 to 500, blue from 0 to 10, and alpha from \n0 to 255. ” \n Finally, while you will likely only need RGB color for all of your programming needs, you can also specify \ncolors in the HSB (hue, saturation, and brightness) mode. Without getting into too much detail, HSB \ncolor works as follows: \n •  Hue —The color type, ranges from 0 to 360 by default (think of 360° on a color  “ wheel ” ). \n •  Saturation —The vibrancy of the color, 0 to 100 by default. \n •  Brightness —The, well, brightness of the color, 0 to 100 by default. \n ________________________________________ \n ________________________________________ \n ________________________________________ \n ________________________________________ \n ________________________________________ \n ________________________________________ \n ________________________________________ \n ________________________________________ \n ________________________________________ \n Exercise 1-7: Design a creature using simple shapes and colors. Draw the creature by hand \nusing only points, lines, rectangles, and ellipses. Th en attempt to write the code for the \ncreature, using the Processing commands covered in this chapter:  point( ), lines( ), rect( ), \nellipse( ), stroke( ) , and  ﬁ ll( ) . In the next chapter, you will have a chance to test your results \nby running your code in Processing. \nWith colorMode( )  you can set your own color range.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 760
  },
  {
    "chunk_full": "16\nLearning Processing\n Example 1-5 shows my version of Zoog, with the outputs shown in  Figure 1.21 . \n Example 1-5: Zoog \n ellipseMode(CENTER); \n rectMode(CENTER); \n stroke(0); \n ﬁ ll(150); \n rect(100,100,20,100);\n ﬁ ll(255); \n ellipse(100,70,60,60); \n ﬁ ll(0); \n ellipse(81,70,16,32); \n ellipse(119,70,16,32); \n stroke(0); \n line(90,150,80,160); \n line(110,150,120,160); \n Th e sample answer is my  Processing -born being, named Zoog. Over the course of the ﬁ rst nine chapters \nof this book, we will follow the course of Zoog’s childhood. Th e fundamentals of programming will be \ndemonstrated as Zoog grows up. We will ﬁ rst learn to display Zoog, then to make an interactive Zoog \nand animated Zoog, and ﬁ nally to duplicate Zoog in a world of many Zoogs. \n I suggest you design your own  “ thing ” (note that there is no need to limit yourself to a humanoid or \ncreature-like form; any programmatic pattern will do) and recreate all of the examples throughout \nthe ﬁ rst nine chapters with your own design. Most likely, this will require you to only change a small \nportion (the shape rendering part) of each example. Th is process, however, should help solidify your \nunderstanding of the basic elements required for computer programs—Variables, Conditionals, Loops, \nFunctions, Objects, and Arrays—and prepare you for when Zoog matures, leaves the nest, and ventures \noﬀ  into the more advanced topics from Chapter 10 on in this book. \n ﬁ g. 1.21  \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 761
  },
  {
    "chunk_full": "Processing\n 17\n 2  Processing  \n “ Computers in the future may weigh no more than 1.5 tons. ” \n —Popular Mechanics, 1949 \n “ Take me to your leader. ” \n —Zoog, 2008 \nIn this chapter: \n –  Downloading and installing  Processing .\n –  Menu options. \n –  A  Processing  “ sketchbook. ”\n –  Writing code. \n –  Errors. \n –  The  Processing reference. \n –  The  “ Play ” button. \n –  Your ﬁ rst sketch. \n –  Publishing your sketch to the web. \n 2.1  Processing to the Rescue \n Now that we conquered the world of primitive shapes and RGB color, we are ready to implement this \nknowledge in a real world programming scenario. Happily for us, the environment we are going to use is \n Processing , free and open source software developed by Ben Fry and Casey Reas at the MIT Media Lab \nin 2001. (See this book’s introduction for more about  Processing ’s history.) \n Processing ’s core library of functions for drawing graphics to the screen will provide for immediate visual \nfeedback and clues as to what the code is doing. And since its programming language employs all the \nsame principles, structures, and concepts of other languages (speciﬁ cally Java), everything you learn with \n Processing is  real programming. It is not some pretend language to help you get started; it has all the \nfundamentals and core concepts that all languages have. \n After reading this book and learning to program, you might continue to use  Processing in your academic \nor professional life as a prototyping or production tool. You might also take the knowledge acquired \nhere and apply it to learning other languages and authoring environments. You may, in fact, discover \nthat programming is not your cup of tea; nonetheless, learning the basics will help you become a better-\ninformed technology citizen as you work on collaborative projects with other designers and programmers. \n It may seem like overkill to emphasize the  why with respect to  Processing . After all, the focus of this \nbook is primarily on learning the fundamentals of computer programming in the context of computer \ngraphics and design. It is, however, important to take some time to ponder the reasons behind selecting \na programming language for a book, a class, a homework assignment, a web application, a software suite, \nand so forth. After all, now that you are going to start calling yourself a computer programmer at cocktail \nparties, this question will come up over and over again. I need programming in order to accomplish \nproject  X , what language and environment should I use? \n I say, without a shadow of doubt, that for you, the beginner, the answer is  Processing . Its simplicity is ideal \nfor a beginner. At the end of this chapter, you will be up and running with your ﬁ rst computational design \nand ready to learn the fundamental concepts of programming. But simplicity is not where  Processing \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 762
  },
  {
    "chunk_full": "18\nLearning Processing\nends. A trip through the  Processing online exhibition ( http://processing.org/exhibition/  ) will uncover a \nwide variety of beautiful and innovative projects developed entirely with  Processing . By the end of this \nbook, you will have all the tools and knowledge you need to take your ideas and turn them into real \nworld software projects like those found in the exhibition.  Processing is great both for learning and for \nproducing, there are very few other environments and languages you can say that about. \n 2.2  How do I get  Processing?\n For the most part, this book will assume that you have a basic working knowledge of how to operate \nyour personal computer. Th e good news, of course, is that  Processing is available for free download. Head \nto  http://www.processing.org/ and visit the download page. If you are a Windows user, you will see two \noptions:  “ Windows (standard) ” and  “ Windows (expert). ” Since you are reading this book, it is quite \nlikely you are a beginner, in which case you will want the standard version. Th e expert version is for those \nwho have already installed Java themselves. For Mac OS X, there is only one download option. Th ere is \nalso a Linux version available. Operating systems and programs change, of course, so if this paragraph is \nobsolete or out of date, visit the download page on the site for information regarding what you need. \n Th e  Processing software will arrive as a compressed ﬁ le. Choose a nice directory to store the application \n(usually  “ c:\\Program Files\\ ” on Windows and in  “ Applications ” on Mac), extract the ﬁ les there, locate the \n “ Processing ” executable, and run it. \n Exercise 2-1: Download and install Processing.\n 2.3  The Processing Application \n Th e  Processing development environment is a simpliﬁ ed environment for writing computer code, and is just \nabout as straightforward to use as simple text editing software (such as TextEdit or Notepad) combined \nwith a media player. Each sketch ( Processing programs are referred to as  “ sketches ” ) has a ﬁ lename, a place \nwhere you can type code, and some buttons for saving, opening, and running sketches. See  Figure 2.1 . \nStop New\nExport\nSave\nOpen\nType code here\nSketch\nname\nMessage\nwindow\nRun\n ﬁ g. 2.1 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 763
  },
  {
    "chunk_full": " Once you have opened the example, click the  “ run ” button as indicated in  Figure 2.3 . If a new window \npops open running the example, you are all set! If this does not occur, visit the online FAQ  “ Processing \nwon’t start! ” for possible solutions. Th e page can be found at this direct link:  http://www.processing.org/faq/\nbugs.html#wontstart . \n Exercise 2-2: Open a sketch from the  Processing  examples and run it. \n Processing programs can also be viewed full-screen (known as  “ present mode ” in  Processing ). Th is \nis available through the menu option: Sketch  → Present (or by shift-clicking the run button). Present will \nnot resize your screen resolution. If you want the sketch to cover your entire screen, you must use your \nscreen dimensions in  size( ) . \n 2.4  The Sketchbook \n Processing programs are informally referred to as  sketches , in the spirit of quick graphics prototyping, and \nwe will employ this term throughout the course of this book. Th e folder where you store your sketches \nis called your “sketchbook.” Technically speaking, when you run a sketch in  processing , it runs as a local \napplication on your computer. As we will see both in this Chapter and in Chapter 18,  Processing also \nallows you to export your sketches as web applets (mini-programs that run embedded in a browser) or as \nplatform-speciﬁ c stand-alone applications (that could, for example, be made available for download). \n Once you have conﬁ rmed that the  Processing examples work, you are ready to start creating your own \nsketches. Clicking the  “ new ” button will generate a blank new sketch named by date. It is a good idea to \n “ Save as ” and create your own sketch name. (Note:  Processing does not allow spaces or hyphens, and your \nsketch name cannot start with a number.) \n ﬁ g. 2.2 \n To make sure everything is working, it is a good idea to try running one of the  Processing examples. Go \nto FILE  → EXAMPLES  → (pick an example, suggested: Topics  → Drawing  → ContinuousLines) as \nshown in  Figure 2.2 . \n ﬁ g. 2.3 \nProcessing\n 19\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 764
  },
  {
    "chunk_full": "20\nLearning Processing\n When you ﬁ rst ran  Processing , a default  “ Processing ” directory was created to store all sketches in the \n “ My Documents ” folder on Windows and in  “ Documents ” on OS X. Although you can select any \ndirectory on your hard drive, this folder is the default. It is a pretty good folder to use, but it can be \nchanged by opening the  Processing preferences (which are available under the FILE menu). \n Each  Processing sketch consists of a folder (with the same name as your sketch) and a ﬁ le with the \nextension  “ pde. ” If your  Processing sketch is named  MyFirstProgram , then you will have a folder named \nMyFirstProgram with a ﬁ le  MyFirstProgram.pde inside. Th e  “ pde ” ﬁ le is a plain text ﬁ le that contains the \nsource code. (Later we will see that  Processing sketches can have multiple pde’s, but for now one will do.) \nSome sketches will also contain a folder called  “ data ” where media elements used in the program, such as \nimage ﬁ les, sound clips, and so on, are stored. \n Exercise 2-3: Type some instructions from Chapter 1 into a blank sketch. Note how certain \nwords are colored. Run the sketch. Does it do what you thought it would? \n 2.5  Coding in  Processing\n It is ﬁ nally time to start writing some code, using the elements discussed in Chapter 1. Let’s go over some \nbasic syntax rules. Th ere are three kinds of statements we can write: \n •  Function calls \n •  Assignment operations \n •  Control structures \n For now, every line of code will be a function call. See  Figure 2.4 . We will explore the other two categories \nin future chapters. Functions have a name, followed by a set of arguments enclosed in parentheses. \nRecalling Chapter 1, we used functions to describe how to draw shapes (we just called them  “ commands ” \nor  “ instructions ” ). Th inking of a function call as a natural language sentence, the function name is the verb \n( “ draw ” ) and the arguments are the objects ( “ point 0,0 ” ) of the sentence. Each function call must always \nend with a semicolon. See  Figure 2.5 . \nEnds with\nsemi-colon\nArguments in\nparentheses\nFunction\nname\nLine (0,0,200,200);\n ﬁ g. 2.4 \n We have learned several functions already, including  background( ), stroke( ), ﬁ ll( ), noFill ( ), noStroke( ), \npoint( ), line( ), rect( ), ellipse( ), rectMode( ), and  ellipseMode( ) . Processing will execute a sequence of \nfunctions one by one and ﬁ nish by displaying the drawn result in a window. We forgot to learn one \nvery important function in Chapter 1, however— size( ). size( ) speciﬁ es the dimensions of the window \nyou want to create and takes two arguments, width and height. Th e  size( ) function should always \nbe ﬁ rst.\nsize(320,240);\nOpens a window of width 320 and height 240.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 765
  },
  {
    "chunk_full": " Th ere are a few additional items to note. \n •  The  Processing text editor will color  known words (sometimes referred to as  “ reserved ” words or \n “ keywords ” ). These words, for example, are the drawing functions available in the  Processing library, \n “ built-in ” variables (we will look closely at the concept of  variables in Chapter 3) and constants, as \nwell as certain words that are inherited from the Java programming language. \n •  Sometimes, it is useful to display text information in the  Processing message window (located at the \nbottom). This is accomplished using the  println( ) function.  println( ) takes one argument, a  String \nof characters enclosed in quotes (more about  Strings in Chapter 14). When the program runs, \n Processing displays that  String in the message window (as in  Figure 2.5 ) and in this case the  String \nis  “ Take me to your leader! ” This ability to print to the message window comes in handy when \nattempting to  debug the values of variables (see Chapter 12, Debugging). \n •  The number in the bottom left corner indicates what line number in the code is selected. \n •  You can write  “ comments ” in your code. Comments are lines of text that  Processing ignores when \nthe program runs. You should use them as reminders of what the code means, a bug you intend to \nfix, or a to do list of items to be inserted, and so on. Comments on a single line are created with two \nforward slashes,  // . Comments over multiple lines are marked by  /* followed by the comments and \nending with  */ . \n Let’s write a ﬁ rst example ( see Figure 2.5 ). \nOutput\nwindow\nCode\nPrint\nmessages\n ﬁ g. 2.5 \nProcessing\n 21\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 766
  },
  {
    "chunk_full": "22\nLearning Processing\n // Th is is a comment on one line \n /* Th is is a comment that \nspans several lines \nof code */ \n A quick word about comments. You should get in the habit right now of writing comments in your \ncode. Even though our sketches will be very simple and short at ﬁ rst, you should put comments in for \neverything. Code is very hard to read and understand without comments. You do not need to have a \ncomment for every line of code, but the more you include, the easier a time you will have revising and \nreusing your code later. Comments also force you to understand how code works as you are programming. \nIf you do not know what you are doing, how can you write a comment about it? \n Comments will not always be included in the text here. Th is is because I ﬁ nd that, unlike in an actual \nprogram, code comments are hard to read in a book. Instead, this book will often use code  “ hints ” for \nadditional insight and explanations. If you look at the book’s examples on the web site, though, comments \nwill always be included. So, I can’t emphasize it enough, write comments! \n // A comment about this code \n line(0,0,100,100); \n \n \n \n \n Exercise 2-4: Create a blank sketch. Take your code from the end of Chapter 1 and type it in \nthe Processing window. Add comments to describe what the code is doing. Add a  println( ) \nstatement to display text in the message window. Save the sketch. Press the  “ run ” button. Does it \nwork or do you get an error? \n 2.6  Errors \n Th e previous example only works because we did not make any errors or typos. Over the course of a \nprogrammer’s life, this is quite a rare occurrence. Most of the time, our ﬁ rst push of the play button will \nnot be met with success. Let’s examine what happens when we make a mistake in our code in  Figure 2.6 . \n Figure 2.6 shows what happens when you have a typo— “ elipse ” instead of  “ ellipse ” on line 9. If there is \nan error in the code when the play button is pressed,  Processing will not open the sketch window, and will \ninstead display the error message. Th is particular message is fairly friendly, telling us that we probably \nmeant to type  “ ellipse. ” Not all  Processing error messages are so easy to understand, and we will continue \nto look at other errors throughout the course of this book. An Appendix on common errors in Processing \nis also included at the end of the book.\nA hint about this code!\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 767
  },
  {
    "chunk_full": "Processing\n 23\nLine 9 highlighted\nLine 9\nError message\nError message\nagain!\n ﬁ g. 2.6 \n Processing is case sensitive! \n If you type  Ellipse instead of  ellipse , that will also be considered an error. \n In this instance, there was only one error. If multiple errors occur,  Processing will only alert you to the ﬁ rst \none it ﬁ nds (and presumably, once that error is corrected, the next error will be displayed at run time). \nTh is is somewhat of an unfortunate limitation, as it is often useful to have access to an entire list of errors \nwhen ﬁ xing a program. Th is is simply one of the trade-oﬀ s we get in a simpliﬁ ed environment such as \n Processing. Our life is made simpler by only having to look at one error at a time, nevertheless we do not \nhave access to a complete list. \n Th is fact only further emphasizes the importance of incremental development discussed in the \nbook’s introduction. If we only implement one feature at a time, we can only make one mistake at \na time. \n Exercise 2-5: Try to make some errors happen on purpose. Are the error messages what you \nexpect? \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 768
  },
  {
    "chunk_full": "24\nLearning Processing\n size(200,200);\n _______________________________________ \n background(); \n _______________________________________ \n stroke 255; \n ______________________________________ _\n fill(150) \n ______________________________ _________\n rectMode(center);  _______________________________________ \n rect(100,100,50);  _______________________________________ \n Exercise 2-6: Fix the errors in the following code. \n 2.7  The  Processing Reference \n Th e functions we have demonstrated— ellipse( ), line( ), stroke( ) , and so on—are all part of  Processing’s \nlibrary. How do we know that  “ ellipse ” isn’t spelled  “ elipse ” , or that  rect( ) takes four arguments (an \n “ x coordinate, ” a  “ y coordinate, ” a  “ width, ” and a  “ height ” )? A lot of these details are intuitive, and this \nspeaks to the strength of  Processing as a beginner’s programming language. Nevertheless, the only way \nto know for sure is by reading the online reference. While we will cover many of the elements from the \nreference throughout this book, it is by no means a substitute for the reference and both will be required \nfor you to learn  Processing . \n Th e reference for  Processing can be found online at the oﬃ  cial web site ( http://www.processing.org ) under \nthe  “ reference ” link. Th ere, you can browse all of the available functions by category or alphabetically. \nIf you were to visit the page for  rect( ) , for example, you would ﬁ nd the explanation shown in \n Figure 2.7 . \n As you can see, the reference page oﬀ ers full documentation for the function  rect( ) , including: \n •  Name —The name of the function. \n •  Examples —Example code (and visual result, if applicable). \n •  Description —A friendly description of what the function does. \n •  Syntax —Exact syntax of how to write the function. \n •  Parameters —These are the elements that go inside the parentheses. It tells you what kind of data \nyou put in (a number, character, etc.) and what that element stands for. (This will become clearer as \nwe explore more in future chapters.) These are also sometimes referred to as  “ arguments. ” \n •  Returns —Sometimes a function sends something back to you when you call it (e.g., instead of \nasking a function to perform a task such as draw a circle, you could ask a function to add two \nnumbers and  return the answer to you). Again, this will become more clear later. \n •  Usage —Certain functions will be available for  Processing applets that you publish online ( “ Web ” ) \nand some will only be available as you run  Processing locally on your machine ( “ Application ” ). \n •  Related Methods —A list of functions often called in connection with the current function. Note \nthat  “ functions ” in Java are often referred to as  “ methods. ” More on this in Chapter 6. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 769
  },
  {
    "chunk_full": "Processing\n 25\n Processing also has a very handy  “ ﬁ nd in reference ” option. Double-click on any keyword to select it and \ngo to to HELP  → FIND IN REFERENCE (or select the keyword and hit SHIFT \u0002 CNTRL \u0002 F). \n Exercise 2-7: Using the Processing reference, try implementing two functions that we have \nnot yet covered in this book. Stay within the  “ Shape ” and  “ Color (setting) ” categories. \n Exercise 2-8: Using the reference, ﬁ nd a function that allows you to alter the thickness of a \nline. What arguments does the function take? Write example code that draws a line one pixel \nwide, then ﬁ ve pixels wide, then 10 pixels wide. \n 2.8  The  “ Play ” Button \n One of the nice qualities of  Processing is that all one has to do to run a program is press the  “ play ” button. \nIt is a nice metaphor and the assumption is that we are comfortable with the idea of  playing animations, \n ﬁ g. 2.7 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 770
  },
  {
    "chunk_full": "26\nLearning Processing\nmovies, music, and other forms of media.  Processing programs output media in the form of real-time \ncomputer graphics, so why not just  play them too? \n Nevertheless, it is important to take a moment and consider the fact that what we are doing here is not \nthe same as what happens on an iPod or TiVo.  Processing programs start out as text, they are translated \ninto machine code, and then executed to run. All of these steps happen in sequence when the play button \nis pressed. Let’s examine these steps one by one, relaxed in the knowledge that  Processing handles the hard \nwork for us. \n Step 1.  Translate to Java.  Processing is really Java (this will become more evident in a detailed \ndiscussion in Chapter 23). In order for your code to run on your machine, it must ﬁ rst be \ntranslated to Java code. \n Step 2.  Compile into Java byte code. Th e Java code created in Step 1 is just another text ﬁ le (with \nthe .java extension instead of .pde). In order for the computer to understand it, it needs to \nbe translated into machine language. Th is translation process is known as compilation. If you \nwere programming in a diﬀ erent language, such as C, the code would compile directly into \nmachine language speciﬁ c to your operating system. In the case of Java, the code is compiled \ninto a special machine language known as Java byte code. It can run on diﬀ erent platforms \n(Mac, Windows, cellphones, PDAs, etc.) as long as the machine is running a  “ Java Virtual \nMachine. ” Although this extra layer can sometimes cause programs to run a bit slower than \nthey might otherwise, being cross-platform is a great feature of Java. For more on how this \nworks, visit  http://java.sun.com or consider picking up a book on Java programming (after \nyou have ﬁ nished with this one). \n Step 3.  Execution. Th e compiled program ends up in a JAR ﬁ le. A JAR is a Java archive ﬁ le \nthat contains compiled Java programs ( “ classes ” ), images, fonts, and other data ﬁ les. \nTh e JAR ﬁ le is executed by the Java Virtual Machine and is what causes the display \nwindow to appear. \n 2.9  Your First Sketch \n Now that we have downloaded and installed  Processing , understand the basic menu and interface \nelements, and have gotten familiar with the online reference, we are ready to start coding. As I \nbrieﬂ y mentioned in Chapter 1, the ﬁ rst half of this book will follow one example that illustrates the \nfoundational elements of programming:  variables, arrays, conditionals, loops, functions, and objects . Other \nexamples will be included along the way, but following just one will reveal how the basic elements behind \ncomputer programming build on each other. \n Th e example will follow the story of our new friend Zoog, beginning with a static rendering with simple \nshapes. Zoog’s development will include mouse interaction, motion, and cloning into a population of \nmany Zoogs. While you are by no means required to complete every exercise of this book with your own \nalien form, I do suggest that you start with a design and after each chapter, expand the functionality of \nthat design with the programming concepts that are explored. If you are at a loss for an idea, then just \ndraw your own little alien, name it Gooz, and get programming! See  Figure 2.8 . \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 771
  },
  {
    "chunk_full": "Processing\n 27\n Example 2-1: Zoog again \n size(200,200); // Set the size of the window \n background(255); // Draw a black background \n smooth(); \n // Set ellipses and rects to CENTER mode \n ellipseMode(CENTER); \n rectMode(CENTER); \n // Draw Zoog’s body \n stroke(0); \n fill(150); \n rect(100,100,20,100); \n // Draw Zoog’s head \n fill(255); \n ellipse(100,70,60,60); \n // Draw Zoog’s eyes \n fill(0); \n ellipse(81,70,16,32); \n ellipse(119,70,16,32); \n // Draw Zoog’s legs \n stroke(0); \n line(90,150,80,160); \n line(110,150,120,160); \n Let’s pretend, just for a moment, that you ﬁ nd this Zoog design to be so astonishingly gorgeous that you \njust cannot wait to see it displayed on your computer screen. (Yes, I am aware this may require a fairly \nsigniﬁ cant suspension of disbelief.) To run any and all code examples found in this book, you have two \nchoices: \n •  Retype the code manually. \n •  Visit the book’s web site ( http://www.learningprocessing.com ), find the example by its number, and \ncopy/paste (or download) the code. \n Certainly option #2 is the easier and less time-consuming one and I recommend you use the site as a \nresource for seeing sketches running in real-time and grabbing code examples. Nonetheless, as you start \nlearning, there is real value in typing the code yourself. Your brain will sponge up the syntax and logic \nas you type and you will learn a great deal by making mistakes along the way. Not to mention simply \nrunning the sketch after entering each new line of code will eliminate any mystery as to how the sketch \nworks. \n You will know best when you are ready for copy/paste. Keep track of your progress and if you start \nrunning a lot of examples without feeling comfortable with how they work, try going back to manual \ntyping. \n ﬁ g. 2.8 \nZoog’s body.\nZoog’s head.\nZoog’s eyes.\nZoog’s legs.\nThe function smooth() enables “anti-aliasing” \nwhich smooths the edges of the shapes. \nno smooth() disables anti-aliasing.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 772
  },
  {
    "chunk_full": "28\nLearning Processing\n Exercise 2-9: Using what you designed in Chapter 1, implement your own screen drawing, \nusing only 2D primitive shapes— arc( ) ,  curve( ) ,  ellipse( ) ,  line( ) ,  point( ) ,  quad( ) ,  rect( ) , \n triangle( ) —and basic color functions— background( ) ,  colorMode( ) ,  ﬁ ll( ) ,  noFill( ) , \n noStroke( ) , and  stroke( ) . Remember to use  size( ) to specify the dimensions of your window. \nSuggestion: Play the sketch after typing each new line of code. Correct any errors or typos \nalong the way. \n 2.10  Publishing Your Program \n After you have completed a  Processing sketch, you can publish it to the web as a Java applet. Th is will \nbecome more exciting once we are making interactive, animated applets, but it is good to practice with a \nsimple example. Once you have ﬁ nished Exercise 2-9 and determined that your sketch works, select \nFILE  → EXPORT. \n Note that if you have errors in your program, it will not export properly, so always test by running ﬁ rst! \n A new directory named  “ applet ” will be created in the sketch folder and displayed, as shown in  Figure 2.9 . \n ﬁ g. 2.9 \n You now have the necessary ﬁ les for publishing your applet to the web. \n •  index.html —The HTML source for a page that displays the applet. \n •  loading.gif —An image to be displayed while the user loads the applet ( Processing will supply a \ndefault one, but you can create your own). \n •  zoog.jar —The compiled applet itself. \n •  zoog.java —The translated Java source code (looks like your  Processing code, but has a few extra \nthings that Java requires. See Chapter 20 for details.) \n •  zoog.pde —Your  Processing source. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 773
  },
  {
    "chunk_full": "Processing\n 29\n To see the applet working, double-click the  “ index.html ” ﬁ le which should launch a page in your default \nweb browser. See  Figure 2.10 . To get the applet online, you will need web server space and FTP software \n(or you can also use a  Processing sketch sharing site such as  http://www.openprocessing.org ). You can ﬁ nd \nsome tips for getting started at this book’s web site. \n ﬁ g. 2.10 \n Exercise 2-10: Export your sketch as an applet. View the sketch in the browser (either locally \nor by uploading). 00002 00002           \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 774
  },
  {
    "chunk_full": "This page intentionally left blank\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 775
  },
  {
    "chunk_full": "Interaction\n 31\n 3  Interaction  \n “ Always remember that this whole thing was started with a dream and a mouse. ” \n—Walt Disney \n “ Th e quality of the imagination is to ﬂ ow and not to freeze. ” \n—Ralph Waldo Emerson \n In this chapter: \n –  The  “ ﬂ ow ” of a program. \n –  The meaning behind  setup( ) and draw( ) .\n –  Mouse interaction. \n –  Your ﬁ rst  “ dynamic ”  Processing program. \n –  Handling events, such as mouse clicks and key presses. \n 3.1  Go with the ﬂ ow. \n If you have ever played a computer game, interacted with a digital art installation, or watched a \nscreensaver at three in the morning, you have probably given very little thought to the fact that the \nsoftware that runs these experiences happens over a  period of time . Th e game starts, you save princess \nso-and-so from the evil lord who-zee-ma-whats-it, achieve a high score, and the game ends. \n What I want to focus on in this chapter is that very  “ ﬂ ow ” over time. A game begins with a set of initial \nconditions: you name your character, you start with a score of zero, and you start on level one. Let’s think \nof this part as the program’s  SETUP . After these conditions are initialized, you begin to play the game. \nAt every instant, the computer checks what you are doing with the mouse, calculates all the appropriate \nbehaviors for the game characters, and updates the screen to render all the game graphics. Th is cycle of \ncalculating and drawing happens over and over again, ideally 30 or more times per second for a smooth \nanimation. Let’s think of this part as the program’s  DRAW . \n Th is concept is crucial to our ability to move beyond static designs (as in Chapter 2) with \n Processing . \n Step 1. Set starting conditions for the program one time. \n Step 2.  Do something over and over and over and over (and over  … ) again until the program \nquits. \n Consider how you might go about running a race. \n Step 1. Put on your sneakers and stretch. Just do this once, OK? \n Step 2.  Put your right foot forward, then your left foot. Repeat this over and over as fast as \nyou can. \n Step 3. After 26 miles, quit. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 776
  },
  {
    "chunk_full": "32\nLearning Processing\n What is a block of code? \n A block of code is any code enclosed within curly brackets. \n { \n  A block of code \n } \n Blocks of code can be nested within each other, too. \n { \n  A block of code \n  { \n   A block inside a block of code \n  } \n } \n Th is is an important construct as it allows us to separate and manage our code as individual pieces \nof a larger puzzle. A programming convention is to indent the lines of code within each block to \nmake the code more readable.  Processing will do this for you via the Auto-Format option (Tools  → \nAuto-Format). \n Blocks of code will reveal themselves to be crucial in developing more complex logic, in terms of \n variables ,  conditionals ,  iteration ,  objects , and  functions , as discussed in future chapters. For now, we \nonly need to look at two simple blocks:  setup( ) and  draw( ) . \n 3.2  Our Good Friends,  setup( ) and  draw( )\n Now that we are good and exhausted from running marathons in order to better learn programming, \nwe can take this newfound knowledge and apply it to our ﬁ rst  “ dynamic ”  Processing sketch. Unlike \nChapter 2’s static examples, this program will draw to the screen continuously (i.e., until the user \nquits). Th is is accomplished by writing two  “ blocks of code ”  setup( ) and  draw( ) . Technically  \nspeaking  setup( ) and  draw( ) are functions. We will get into a longer discussion of writing \nour own functions in a later chapter; for now, we understand them to be two sections where we \nwrite code.\n Exercise 3-1: In English, write out the  “ ﬂ ow ” for a simple computer game, such as Pong. \nIf you are not familiar with Pong, visit:  http://en.wikipedia.org/wiki/Pong . \n _______________________________________________________________ \n _______________________________________________________________ \n _______________________________________________________________ \n _______________________________________________________________ \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 777
  },
  {
    "chunk_full": "Interaction\n 33\n Let’s look at what will surely be strange-looking syntax for  setup( ) and  draw( ) . See  Figure 3.1 . \nvoid setup() {\n  // Initialization code goes here\n}\nvoid draw() {\n  // Code that runs forever goes here\n}\nWhat’s this?\nWhat are these for?\nCurly brackets open and close a block of code.\n ﬁ g. 3.1 \nvoid setup() {\n  // Step 1a\n  // Step 1b\n  // Step 1c\n}\nvoid draw() {\n  // Step 2a\n  // Step 2b\n}\nDo once!\nSkip to draw.\nLoop over and over!\n ﬁ g. 3.2 \n Admittedly, there is a lot of stuﬀ  in  Figure 3.1 that we are not entirely ready to learn about. We have \ncovered that the curly brackets indicate the beginning and end of a  “ block of code, ” but why are there \nparentheses after  “ setup ” and  “ draw ” ? Oh, and, my goodness, what is this  “ void ” all about? It makes me \nfeel sad inside! For now, we have to decide to feel comfortable with not knowing everything all at once, \nand that these important pieces of syntax will start to make sense in future chapters as more concepts \nare revealed. \n For now, the key is to focus on how  Figure 3.1 ’s structures control the ﬂ ow of our program. Th is is shown \nin  Figure 3.2 . \n How does it work? When we run the program, it will follow our instructions precisely, executing the steps \nin  setup( ) ﬁ rst, and then move on to the steps in  draw( ) . Th e order ends up being something like: \n 1a, 1b, 1c, 2a, 2b, 2a, 2b, 2a, 2b, 2a, 2b, 2a, 2b, 2a, 2b  … \n Now, we can rewrite the Zoog example as a dynamic sketch. See  Example 3–1 . \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 778
  },
  {
    "chunk_full": "34\nLearning Processing\n Example 3-1: Zoog as dynamic sketch \n void setup() { \n  // Set the size of the window \n  size(200,200); \n } \n void draw()  { \n  // Draw a white background \n  background(255); \n  // Set CENTER mode \n  ellipseMode(CENTER); \n  rectMode(CENTER); \n  // Draw Zoog's body \n  stroke(0); \n  fill(150); \n  rect(100,100,20,100); \n  // Draw Zoog's head \n  stroke(0); \n  fill(255); \n  ellipse(100,70,60,60); \n  // Draw Zoog's eyes \n  fill(0); \n  ellipse(81,70,16,32); \n  ellipse(119,70,16,32); \n  // Draw Zoog's legs \n  stroke(0); \n  line(90,150,80,160); \n  line(110,150,120,160); \n } \n Take the code from Example 3-1 and run it in  Processing. Strange, right? You will notice that nothing in the \nwindow changes. Th is looks identical to a  static sketch! What is going on? All this discussion for nothing? \n Well, if we examine the code, we will notice that nothing in the  draw( ) function  varies . Each time \nthrough the loop, the program cycles through the code and executes the identical instructions. So, yes, \nthe program is running over time redrawing the window, but it looks static to us since it draws the same \nthing each time! \n Exercise 3-2: Redo the drawing you created at the end of Chapter 2 as a dynamic program. \nEven though it will look the same, feel good about your accomplishment! \nsetup() runs ﬁ rst one time. size() should always be \nﬁ rst line of setup() since Processing will not be able \nto do anything before the window size if speciﬁ ed.\ndraw() loops continuously until you close the sketch \nwindow.\nﬁ g. 3.3 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 779
  },
  {
    "chunk_full": "Interaction\n 35\n 3.3  Variation with the Mouse \n Consider this. What if, instead of typing a number into one of the drawing functions, you could type  “ the \nmouse’s  X location ” or  “ the mouse’s  Y location. ” \n line(the mouse's X location, the mouse's Y location, 100, 100); \n In fact, you can, only instead of the more descriptive language, you must use the keywords  mouseX and \nmouseY , indicating the horizontal or vertical position of the mouse cursor.  \n Example 3-2:  mouseX and  mouseY\n void setup()  { \n  size(200,200); \n } \n void draw()  { \n  background(255); \n  // Body \n  stroke(0); \n  fill(175); \n  rectMode(CENTER); \n  rect(mouseX,mouseY,50,50); \n } \n ﬁ g. 3.4 \n \n An Invisible Line of Code \n If you are following the logic of  setup( ) and  draw( ) closely, you might arrive at an interesting question: \n When does Processing  actually display the shapes in the window? When do the new pixels appear? \n _____________________________________________________ \n _____________________________________________________ \n _____________________________________________________\n_____________________________________________________\n_____________________________________________________\n Exercise 3-3: Explain why we see a trail of rectangles if we move  background( ) to  setup( ) , \nleaving it out of  draw( ) . \nTry moving background()\nto setup() and see the \ndifference! (Exercise 3–3)\nmouseX is a keyword that the sketch replaces with \nthe horizontal position of the mouse.\nmouseY is a keyword that the sketch replaces with \nthe vertical position of the mouse.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 780
  },
  {
    "chunk_full": "36\nLearning Processing\n We could push this idea a bit further and create an example where a more complex pattern (multiple \nshapes and colors) is controlled by  mouseX and  mouseY position. For example, we can rewrite \nZoog to follow the mouse. Note that Zoog’s body is located at the exact location of the mouse ( mouseX, \nmouseY ), however, other parts of Zoog’s body are drawn relative to the mouse. Zoog’s head, for example, \nis located at ( mouseX, mouseY-30 ). Th e following example only moves Zoog’s body and head, as shown in \n Figure 3.5 . \n Example 3-3: Zoog as dynamic sketch with variation \n void setup()  { \n  size(200,200); // Set the size of the window \n  smooth(); \n } \n void draw()  { \n  background(255); // Draw a white background \n  // Set ellipses and rects to CENTER mode \n  ellipseMode(CENTER); \n  rectMode(CENTER); \n  // Draw Zoog's body \n  stroke(0); \n  fill(175); \n  rect(mouseX,mouseY,20,100); \n  // Draw Zoog's head \n  stroke(0); \n  fill(255); \n  ellipse(mouseX,mouseY-30,60,60); \n On ﬁ rst glance, one might assume the display is updated for every line of code that includes a \ndrawing function. If this were the case, however, we would see the shapes appear onscreen one at \na time. Th is would happen so fast that we would hardly notice each shape appearing individually. \nHowever, when the window is erased every time  background( ) is called, a somewhat unfortunate \nand unpleasant result would occur: ﬂ icker. \n Processing solves this problem by updating the window only at the end of every cycle through \n draw( ) . It is as if there were an invisible line of code that renders the window at the end of the \n draw( ) function. \n void draw()  { \n  // All of your code \n  // Update Display Window -- invisible line of code we don’t see \n } \n Th is process is known as  double-buﬀ ering and, in a lower-level environment, you may ﬁ nd that \nyou have to implement it yourself. Again, we take the time to thank  Processing for making our \nintroduction to programming friendlier and simpler by taking care of this for us. \n ﬁ g. 3.5  \nZoog’s head is drawn above the body \nat the location (mouseX, mouseY-30).\nZoog’s body is drawn at the location \n(mouseX, mouseY).\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 781
  },
  {
    "chunk_full": "Interaction\n 37\n  // Draw Zoog's eyes \n  fill(0); \n  ellipse(81,70,16,32); \n  ellipse(119,70,16,32); \n  // Draw Zoog's legs \n  stroke(0); \n  line(90,150,80,160); \n  line(110,150,120,160); \n } \n Exercise 3-4: Complete Zoog so that the rest of its body moves with the mouse. \nmouseX \u0005 20\nmouseY \u0005 50\n1st time\nthrough draw()\n100 \u0004 100 window\n20\n75\n25\n50\n50\n90\n2nd time\nthrough draw()\n3rd time\nthrough draw()\npmouseX \u0005 20\npmouseY \u0005 50\nmouseX \u0005 75\nmouseY \u0005 25\npmouseX \u0005 20\npmouseY \u0005 50\nmouseX \u0005 50\nmouseY \u0005 90\n ﬁ g. 3.6  \n In addition to  mouseX and  mouseY , you can also use  pmouseX and  pmouseY . Th ese two keywords stand \nfor the  “ previous ” mouse X and mouse Y locations, that is, where the mouse was the last time we cycled \nthrough  draw( ) . Th is allows for some interesting interaction possibilities. For example, let’s consider what \nhappens if we draw a line from the previous mouse location to the current mouse location, as illustrated \nin the diagram in  Figure 3.6 . \n // Draw Zoog's eyes \n fill(0); \n ellipse(_______,_______ ,16,32); \n ellipse(_______,_______ ,16,32); \n // Draw Zoog's legs \nstroke(0);\n line(_______,_______,_______,_______); \n line(_______,_______,_______,_______); \n Exercise 3-5: Recode your design so that shapes respond to the mouse (by varying color and \nlocation). \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 782
  },
  {
    "chunk_full": "38\nLearning Processing\n •  The absolute value of –2 is 2. \n •  The absolute value of 2 is 2. \n In Processing, we can get the absolute value of the number by placing it inside the  abs( ) function, \nthat is, \n •  abs( \u0003 5)  → 5 \n Th e speed at which the mouse is moving is therefore: \n •  abs( mouseX - pmouseX  ) \n Update Exercise 3-7 so that the faster the user moves the mouse, \nthe wider the drawn line. Hint: look up  strokeWeight( ) in the \nProcessing reference. \n stroke(255); \n _____________________________ (______________); \n line(pmouse X ,pmouse Y ,mouse X ,mouse Y); \n Example 3-4: Drawing a continuous line \n void setup()  { \n  size(200,200); \n  background(255); \n  smooth(); \n } \n void draw()  { \n  stroke(0); \n  line(pmouse X ,pmouse Y ,mouse X ,mouse Y ); \n } \n Exercise 3-6: Fill in the blank in  Figure 3.6 . \n ﬁ g. 3.7 \n By connecting the previous mouse location to the current mouse location with a line each time through \ndraw( ) , we are able to render a continuous line that follows the mouse. See  Figure 3.7 . \n Exercise 3-7: Th e formula for calculating the speed of the mouse’s horizontal motion is the \nabsolute value of the diﬀ erence between  mouseX and  pmouseX . Th e absolute value of a \nnumber is deﬁ ned as that number without its sign: \nDraw a line from previous mouse \nlocation to current mouse location.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 783
  },
  {
    "chunk_full": "Interaction\n 39\n 3.4  Mouse Clicks and Key Presses \n We are well on our way to creating dynamic, interactive  Processing sketches through the use the  setup( ) \nand  draw( ) framework and the  mouseX and  mouseY keywords. A crucial form of interaction, however, is \nmissing—clicking the mouse! \n In order to learn how to have something happen when the mouse is clicked, we need to return to the \nﬂ ow of our program. We know  setup( ) happens once and  draw( ) loops forever. When does a mouse \nclick occur? Mouse presses (and key presses) as considered  events in  Processing . If we want something \nto happen (such as  “ the background color changes to red ” ) when the mouse is clicked, we need to add a \nthird block of code to handle this event. \n Th is event  “ function ” will tell the program what code to execute when an event occurs. As with  setup( ) , \nthe code will occur once and only once. Th at is, once and only once for each occurrence of the event. An \nevent, such as a mouse click, can happen multiple times of course! \n Th ese are the two new functions we need: \n •  mousePressed( ) —Handles mouse clicks. \n •  keyPressed( ) —Handles key presses. \n Th e following example uses both event functions, adding squares whenever the mouse is pressed and \nclearing the background whenever a key is pressed.\n Example 3-5:  mousePressed( ) and  keyPressed( )\n void setup()  { \n  size(200,200); \n  background(255); \n } \n void draw()  { \n } \nvoid mousePressed() {\n  stroke(0); \n  fill(175); \n  rectMode(CENTER); \n  rect(mouseX,mouseY,16,16); \n } \n void keyPressed()  {\n  background(255); \n } \n In Example 3-5, we have four functions that describe the program’s ﬂ ow. Th e program starts in  setup( ) where \nthe size and background are initialized. It continues into  draw( ) , looping endlessly. Since  draw( ) contains \nno code, the window will remain blank. However, we have added two new functions:  mousePressed( ) and \n ﬁ g. 3.8 \nNothing happens in draw() in this example!\nWhenever a user clicks the mouse the code \nwritten inside mousePressed() is executed.\nWhenever a user presses a key the code \nwritten inside keyPressed() is executed.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 784
  },
  {
    "chunk_full": "keyPressed( ) . Th e code inside these functions sits and waits. When the user clicks the mouse (or presses a \nkey), it springs into action, executing the enclosed block of instructions once and only once. \n Exercise 3-8: Add  “ background(255); ” to the draw( ) function. Why does the program stop \nworking? \n We are now ready to bring all of these elements together for Zoog. \n •  Zoog’s entire body will follow the mouse. \n •  Zoog’s eye color will be determined by mouse location. \n •  Zoog’s legs will be drawn from the previous mouse location to the current mouse location. \n •  When the mouse is clicked, a message will be displayed in the message window:  “ Take me to your \nleader! ” \n Note the addition in Example 3–6 of the function  frameRate( ). frameRate( ) , which requires an integer \nbetween 1 and 60, enforces the speed at which  Processing will cycle through  draw( ). frameRate (30) , \nfor example, means 30 frames per second, a traditional speed for computer animation. If you do not \ninclude  frameRate( ) ,  Processing will attempt to run the sketch at 60 frames per second. Since computers \nrun at diﬀ erent speeds,  frameRate( ) is used to make sure that your sketch is consistent across multiple \ncomputers.\n Th is frame rate is just a maximum, however. If your sketch has to draw one million rectangles, it may take \na long time to ﬁ nish the draw cycle and run at a slower speed. \n Example 3-6: Interactive Zoog \n void setup()  { \n  // Set the size of the window \n  size(200,200); \n  smooth(); \n  frameRate(30) ;\n}\n void draw()  { \n  // Draw a black background \n background(255); \n  // Set ellipses and rects to CENTER mode \n  ellipseMode(CENTER); \n  rectMode(CENTER); \n  // Draw Zoog's body \n  stroke(0); \n  fill(175); \n  rect(mouseX,mouseY,20,100); \n  // Draw Zoog's head \n  stroke(0); \n  fill(255); \n  ellipse(mouse X ,mouse Y -30,60,60); \n ﬁ g. 3.9  \nThe frame rate is set to \n30 frames per second.\n40\nLearning Processing\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 785
  },
  {
    "chunk_full": "Interaction\n 41\n  // Draw Zoog's eyes \n  fill(mo useX,0,mouseY);\n  ellipse(mouse X-19,mouseY-30,16,32);\n  ellipse(mouse X + 19,mouse Y-30,16,32);\n  // Draw Zoog's legs \n  stroke(0); \n  line(mouse X-10,mouseY + 50,pmouse X-10,pmouseY + 60); \n  line(mouse X + 10,mouse Y + 50,pmouse X + 10,pmouse Y + 60); \n } \n void mousePressed()  { \n  println( \"Take me to your leader! \");\n } \nThe legs are drawn according to \nthe mouse location and the previous \nmouse location.\nThe eye color is determined by the mouse location.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 786
  },
  {
    "chunk_full": " Lesson One Project \n (You may have completed much of this project already via the exercises in Chapters 1–3. \nTh is project brings all of the elements together. You could either start from scratch with a \nnew design or use elements from the exercises.) \n Step 1. Design a static screen drawing using RGB color and primitive shapes. \n Step 2.  Make the static screen drawing dynamic by having it interact with the \nmouse. Th is might include shapes following the mouse, changing their \nsize according to the mouse, changing their color according to the mouse, \nand so on. \n Use the space provided below to sketch designs, notes, and pseudocode for your \nproject.   \n42\nLearning Processing\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 787
  },
  {
    "chunk_full": "Lesson Two\nEverything You Need to Know\n4 Variables\n5 Conditionals\n6 Loops\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 788
  },
  {
    "chunk_full": "This page intentionally left blank\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 789
  },
  {
    "chunk_full": "Variables\n 45\n 4  Variables \n “ All of the books in the world contain no more information than is broadcast as video in a single large \nAmerican city in a single year. Not all bits have equal value. ” \n —Carl Sagan \n “ Believing oneself to be perfect is often the sign of a delusional mind. ” \n —Lieutenant Commander Data \n In this chapter: \n–  Variables: What are they? \n –  Declaring and initializing variables. \n –  Common uses for variables. \n–  Variables you get  “ for free ” in  Processing (AKA  “ built-in ” variables). \n–  Using random values for variables. \n 4.1  What is a Variable? \n I admit it. When I teach programming, I launch into a diatribe of analogies in an attempt to explain the \nconcept of a variable in an intuitive manner. On any given day, I might say  “ A variable is like a bucket. ” \nYou put something in the bucket, carry it around with you, and retrieve it whenever you feel inspired. \n “ A variable is like a storage locker. ” Deposit some information in the locker where it can live safely, \nreadily available at a moment’s notice.  “ A variable is a lovely, yellow post-it note, on which is written \nthe message: I am a variable. Write your information on me. ” \n6\nVariable\nbucket\nVariable\nlocker\nVariable\npost-it\n9\n3\n ﬁ g. 4.1  \n I could go on. But I won’t. I think you get the idea. And I am not entirely sure we really need an analogy \nsince the concept itself is rather simple. Here’s the deal. \n Th e computer has memory. Why do we call it memory? Because it is what the computer uses to  remember \nstuﬀ  it needs. \n Technically speaking, a  variable is a named pointer to a location in the computer’s memory ( “ memory \naddress ” ) where data is stored. Since computers only process information one instruction at a time, a \nvariable allows a programmer to save information from one point in the program and refer back to it at a \nlater time. For a  Processing programmer, this is incredibly useful; variables can keep track of information \nrelated to shapes: color, size, location. Variables are exactly what you need to make a triangle change from \nblue to purple, a circle ﬂ y across the screen, and a rectangle shrink into oblivion. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 790
  },
  {
    "chunk_full": "46\nLearning Processing\n Out of all the available analogies, I tend to prefer the  piece of paper approach:  graph paper . \n Imagine that the computer’s memory is a sheet of graph paper and each cell on the graph paper has an \naddress. With pixels, we learned how to refer to those cells by column and row numbers. Wouldn’t it be \nnice if we could name those cells? With variables, we can. \n Let’s name one  “ Billy’s Score ” (we will see why we are calling it that in the next section) and give it the \nvalue 100. Th at way, whenever we want to use Billy’s score in a program, we do not have to remember the \nvalue 100. It is there in memory and we can ask for it by name. See  Figure 4.2 . \nBilly’s score\n100\n ﬁ g 4.2  \nJane’s Score\n5\n30\n53\n65\n87\n101\n10\n25\n47\n68\n91\n98\nBilly’s Score\n ﬁ g. 4.3  \n Th e power of a variable does not simply rest with the ability to remember a value. Th e whole point of a \nvariable is that those values  vary , and more interesting situations arise as we periodically alter that value. \n Consider a game of Scrabble between Billy and Jane. To keep track of the score, Jane takes out paper and \npencil, and scrawls down two column names:  “ Billy’s Score ” and  “ Jane’s Score. ” As the two play, a running \ntally is kept of each player’s points below the headings. If we imagine this game to be virtual Scrabble \nprogrammed on a computer, we suddenly can see the concept of a variable that  varies emerge. Th at piece \nof paper is the computer’s memory and on that paper, information is written— “ Billy’s Score ” and \n “ Jane’s Score ” are variables, locations in memory where each player’s total points are stored and that \nchange over time. See  Figure 4.3 . \n In our Scrabble example, the variable has two elements—a  name (e.g.,  “ Jane’s Score ” ) and a  value \n (e.g., 101). In  Processing , variables can hold diﬀ erent kinds of values and we are required to explicitly \ndeﬁ ne the  type of value before we can use a given variable. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 791
  },
  {
    "chunk_full": "Variables\n 47\n In  Figure 4.4 , we have a variable named  “ count ” of type  “ int, ” which stands for integer. Other possible \ndata types are listed below.\n 4.2  Variable Declaration and Initialization \n Variables can hold  primitive values or  references to objects and arrays . For now, we are just going to worry \nabout primitives—we will get to objects and arrays in a later chapter. Primitive values are the building \nblocks of data on the computer and typically involve a singular piece of information, like a number or \ncharacter. \n Variables are declared by ﬁ rst stating the type, followed by the name. Variable names must be one word \n(no spaces) and must start with a letter (they can include numbers, but cannot start with a number). Th ey \ncannot include any punctuation or special characters, with the exception of the underscore:  “ _ ” . \n A  type is the kind of data stored in that variable. Th is could be a whole number, a decimal number, or a \ncharacter. Here are data types you will commonly use: \n •  Whole numbers, such as 0, 1, 2, 3,  \u0003 1,  \u0003 2, and so on are stored as  “ integers ” and the type keyword \nfor integer is  “ int ” . \n •  Decimal numbers, such as 3.14159, 2.5, and –9.95 are typically stored as  “ floating point values ” and \nthe type keyword for floating point is  “ float ” . \n •  Characters, such as the letters  ‘ a ’ ,  ‘ b ’ ,  ‘ c ’ , and so on are stored in variables of type  “ char ” and are \ndeclared as a letter enclosed in single quotes, that is,  ‘ a ’ . Characters are useful when determining \nwhat letter on the keyboard has been pressed, and for other uses involving  Strings of text (see \nChapter 17) . \nint\ncount\nname\ntype\n;\n ﬁ g. 4.4  \n Exercise 4-1: Consider the game Pong. What variables would you need to program the \ngame? (If you are not familiar with Pong, see  http://en.wikipedia.org/wiki/Pong ). \n \n \n \n \n \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 792
  },
  {
    "chunk_full": "48\nLearning Processing\n Don’t Forget \n •  Variables must have a type. Why? Th is is how the computer knows exactly how much memory \nshould be allocated to store that variable’s data. \n •  Variables must have a name. \n All Primitive Types \n •  boolean : true or false \n •  char : a character,  ‘ a ’ ,‘b ’ ,‘c ’ , etc. \n •  byte : a small number, –128 to 127 \n •  short : a larger number, –32768 to 32767 \n •  int : a big number, –2147483648 to 2147483647 \n •  long : a really huge number \n •  ﬂ oat : a decimal number , such as 3.14159\n •  double : a decimal number with a lot more decimal places (only necessary for advanced programs \nrequiring mathematical precision). \n What’s in a name? \n Tips for choosing good variable names \n •  Avoid using words that appear elsewhere in the  Processing language. In other words, do not call \nyour variable  mouseX , there already is one! \n •  Use names that mean something. Th is may seem obvious, but it is an important point. For \nexample, if you are using a variable to keep track of score, call it  “ score ” and not, say,  “ cat. ” \n •  Start your variable with a lowercase letter and join together words with capitals. Words that start \nwith capitals are reserved for classes (Chapter 8). For example:  “ frogColor ” is good,  “ Frogcolor ” \nis not. this canTake some gettingUsedTo but it will comeNaturally soonEnough. \n Once a variable is declared, we can then assign it a value by setting it equal to something. In most cases, \nif we forget to initialize a variable,  Processing will give it a default value, such as 0 for integers, 0.0 for \nﬂ oating points, and so on. However, it is good to get into the habit of always initializing variables in order \nto avoid confusion. \n int count; \n count  =  50; \n To be more concise, we can combine the above two statements into one. \n int count  =  50; \nDeclare and initialize a variable in one lines of code.\nDeclare and initialize a variable in two lines of code.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 793
  },
  {
    "chunk_full": "Variables\n 49\n A variable can also be initialized by another variable ( x equals  y ), or by evaluating a mathematical \nexpression ( x equals  y plus  z , etc.). Here are some examples: \n Example 4-1: Variable declaration and initialization examples \n int count  =  0; \n // Declare an int named count, assigned the value 0 \n char letter  =  ' a'; \n // Declare a char named letter, assigned the value  'a' \n double d  =  132.32; \n// Declare a double named d, assigned the value 132.32 \n boolean happy  =  false;  // Declare a boolean named happy, assigned the value false \n float  x  =  4.0; \n // Declare a float named  x, assigned the value 4.0 \n float  y; \n // Declare a float named  y (no assignment) \n y  =  x  + 5.2; \n// Assign the value of x plus 5.2 to the previously declared y \n float  z  =  x *y  +  15.0; \n // Declare a variable named z, assign it the value which \n \n // is  x times y plus 15.0. \n ____________________________________________________________ \n ____________________________________________________________ \n ____________________________________________________________ \n ____________________________________________________________ \n ____________________________________________________________ \n ____________________________________________________________ \n Exercise 4-2: Write out variable declaration and initialization for the game Pong. \n 4.3  Using a Variable \n Th ough it may initially seem more complicated to have words standing in for numbers, variables make \nour lives easier and more interesting. \n Let’s take a simple example of a program that draws a circle onscreen. \n void setup()  { \n  size(200,200); \n } \n void draw()  { \n  background(255); \n  stroke(0); \n  fill(175); \n  ellipse(100,100,50,50); \n } \nIn a moment, we’ll add variables \nat the top here.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 794
  },
  {
    "chunk_full": "50\nLearning Processing\n Rule of  Th umb: When to Use a Variable \n Th ere are no hard and fast rules in terms of when to use a variable. However, if you ﬁ nd yourself \nhard-coding in a bunch of numbers as you program, take a few minutes, review your code, and \nchange these values to variables. \n Some programmers say that if a number appears three or more times, it should be a variable. \nPersonally, I would say if a number appears once, use a variable. Always use variables! \n Example 4-2: Using variables \n int circleX  =  100; \n int circleY  =  100; \n void setup()  { \n  size(200,200); \n } \n void draw()  { \n  background(100); \n  stroke(255); \n  fill(0); \n  ellipse(circleX,circleY,50,50); \n } \n Running this code, we achieve the same result as in the ﬁ rst example: a circle appears in the middle of \nthe screen. Nevertheless, we should open our hearts and remind ourselves that a variable is not simply a \nplaceholder for one constant value. We call it a variable because it  varies . To change its value, we write an \nassignment operation , which assigns a new value. \n Up until now, every single line of code we wrote called a function:  line( ), ellipse( ) ,  stroke( ) , etc . \nVariables introduce assignment operations to the mix. Here is what one looks like (it is the same as \nhow we initialize a variable, only the variable does not need to be declared). \n variable name  \u0005  expression \nDeclare and initialize two integer \nvariables at the top of the code.\nUse the variables to specify \nthe location of an ellipse.\n In Chapter 3, we learned how to take this simple example one step further, changing the location of a \nshape to  mouseX, mouseY in order to assign its location according to the mouse.\n ellipse(mouse X ,mouse Y ,50,50); \n Can you see where this is going?  mouseX and  mouseY are named references to the horizonal and vertical \nlocation of the mouse. Th ey are variables! However, because they are built into the  Processing environment \n(note how they are colored red when you type them in your code), they can be used without being \ndeclared. Built-in variables (AKA  “ System ” variables) are discussed further in the next section. \n What we want to do now is create our own variables by following the syntax for declaring and initializing \noutlined above, placing the variables at the top of our code. You can declare variables elsewhere in your \ncode and we will get into this later. For now to avoid any confusion, all variables should be at the top. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 795
  },
  {
    "chunk_full": "Variables\n 51\n x  =  5; \n x  =  a  +  b; \n x  =  y  -  10 * 20; \n x  =  x * 5; \n A common example is incrementation. In the above code, circle X starts with a value of 100. If we \nwant to increment circleX by one, we say circleX equals itself plus one. In code, this amounts to \n “ circle X  \u0005  circle X  \u0002  1; ” . \n Let’s try adding that to our program (and let’s start circleX with the value of 0). \n Example 4-3: Varying variables \n int circle X  =  0; \n int circleY  =  100; \n void setup()  { \n  size(200,200); \n } \n void draw()  { \n  background(255); \n  stroke(0); \n  fill(175); \n  ellipse(circleX,circleY,50,50); \n  circleX  =  circleX  +  1;\n } \n What happens? If you run Example 4-3 in  Processing , you will notice that the circle moves from left \nto right. Remember,  draw( ) loops over and over again, all the while retaining the value of circleX in \nmemory. Let’s pretend we are the computer for a moment. (Th is may seem overly simple and obvious, but \nit is key to our understanding of the principles of programming motion.) \nAn assignment operation that increments \nthe value of circleX by 1.\n ﬁ g. 4.5  \n1. Remember circle\ncircleX \u0005 0 and circle\ncircleY \u0005 100\n2. Run setup()\nsetup().  Open a window 200 \u0004 200\n3. Run draw().\ndraw().\n    •  Draw circle at (circle\n(circleX, circle\ncircleY ) → (0,100)\n    •  Add one to circle\ncircleX\n                             circle\ncircleX \u0005 0 \u0002 1 \u0005 1\n4. Run draw()\ndraw()\n \n•  Draw circle at (circle\n(circleX, circle\ncircleY ) → (1,100)\n \n•  Add one to circle\ncircleX\n                             circle\ncircleX \u0005 1 \u0002 1 \u0005 2\n5. Run draw(\ndraw()\n \n•  Draw circle at (circle\n(circleX, circle\ncircleY ) → (2,100)\n \n•  Add one to circle\ncircleX\n                             circle\ncircleX \u0005 2 \u0002 1 \u0005 3\n6. And so on and so forth!\nExamples of assigning a new value to a variables.\n Practicing how to follow the code step-by-step will lead you to the questions you need to ask before \nwriting your own sketches.  Be one with the computer. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 796
  },
  {
    "chunk_full": "52\nLearning Processing\n 4.4  Many Variables \n Let’s take the example one step further and use variables for every piece of information we can think of. \nWe will also use ﬂ oating point values to demonstrate greater precision in adjusting variable values.  \n Example 4-4: Many variables \n float circleX  =  0; \n float circleY  =  0; \n float circleW  =  50; \n float circleH  =  100; \n float circleStroke  =  255; \n float circleFill  =  0;\n float backgroundColor  =  255; \n float change  =  0.5; \n // Your basic setup \n void setup()  { \n  size(200,200); \n  smooth(); \n } \n Exercise 4-3: Change Example 4-3 so that instead of the circle moving from left to right, the \ncircle grows in size. What would you change to have the circle follow the mouse as it grows? \nHow could you vary the speed at which the circle grows? \n int circleSize  = 0;\n int circleX  =  100; \n int circleY  =  100; \n void setup()  { \n  size(200,200); \n } \n void draw()  { \n  background(0); \n  stroke(255); \n  fill(175); \n  _____________________________________ \n  _____________________________________ \n } \nWe’ve got eight variables now!\nAll of type ﬂ oat.\n •  What data do you and the computer need to remember for your sketch? \n •  How do you and the computer use that data to draw shapes on the screen? \n •  How do you and the computer alter that data to make your sketch interactive and animated? \n ﬁ g. 4.6  \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 797
  },
  {
    "chunk_full": "Variables\n 53\n void draw()  { \n  // Draw the background and the ellipse \n  background(backgroundColor); \n  stroke(circleStroke); \n  fill(circleFill); \n  ellipse(circleX,circleY,circleW,circleH); \n  // Change the values of all variables \n  circleX  =  circleX  +  change; \n  circleY  =  circleY  +  change; \n circleW  =  circleW  +  change; \n circleH  =  circleH - change; \n circleStroke  =  circleStroke  - change; \n circleFill  =  circleFill  +  change; \n}\nVariables are used for everything: \nbackground, stroke, ﬁ ll, location, and size.\nThe variable change is used to increment \nand decrement the other variables.\n Step 1 :  Write code that draws the following screenshots with hard-coded values. (Feel free \nto use colors instead of grayscale.) \n Step 2 : Replace all of the hard-coded numbers with variables. \n Step 3 :  Write assignment operations in  draw( ) that change the value of the variables. \nFor example,  “ variable1  \u0005  variable1  \u0002  2; ” . Try diﬀ erent expressions and see \nwhat happens! \n \n Exercise 4-4 \n4.5  System Variables \n As we saw with  mouseX and  mouseY ,  Processing has a set of convenient system variables freely available. \nTh ese are commonly needed pieces of data associated with all sketches (such as the  width of the window, \nthe  key pressed on the keyboard, etc.). When naming your own variables, it is best to avoid system \nvariable names, however, if you inadvertently use one, your variable will become primary and override the \nsystem one. Here is a list of commonly used system variables (there are more, which you can ﬁ nd in the \nProcessing reference). \n •  width —Width (in pixels) of sketch window. \n •  height —Height (in pixels) of sketch window. \n •  frameCount —Number of frames processed. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 798
  },
  {
    "chunk_full": "54\nLearning Processing\n •  frameRate —Rate that frames are processed (per second). \n •  screen.width —Width (in pixels) of entire screen. \n •  screen.height —Height (in pixels) of entire screen. \n •  key —Most recent key pressed on the keyboard. \n •  keyCode —Numeric code for key pressed on keyboard. \n •  keyPressed —True or false? Is a key pressed? \n •  mousePressed —True or false? Is the mouse pressed? \n •  mouseButton —Which button is pressed? Left, right, or center? \n Following is an example that makes use of some of the above variables; we are not ready to use them all \nyet, as we will need some more advanced concepts to make use of many features. \n Example 4-5: Using system variables \n void setup()  { \n  size(200,200); \n  frameRate(30); \n } \n void draw()  { \n  background(100); \n  stroke(255); \n  fill(frameCount/2); \n  rectMode(CENTER); \n  rect(width/2,height/2,mouseX + 10,mouseY + 10); \n } \n void keyPressed()  { \n  println(key); \n } \nThe rectangle will always be in the \nmiddle of the window if it is located at \n(width/2, height/2).\n Exercise 4-5: Using width and height, recreate the following screenshot. Here’s the catch: the \nshapes must resize themselves relative to the window size. (In other words, no matter what \nyou specify for  size( ) , the result should look identical.) \n \n \nframeCount is used to color a rectangle.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 799
  },
  {
    "chunk_full": "Variables\n 55\n 4.6  Random: Variety is the spice of life. \n So, you may have noticed that the examples in this book so far are a bit, say, humdrum. A circle here. \nA square here. A grayish color. Another grayish color. \n Th ere is a method to the madness (or lack of madness in this case). It all goes back to the driving \nprinciple behind this book:  incremental development . It is much easier to learn the fundamentals by \nlooking at the individual pieces, programs that do one and only one thing. We can then begin to add \nfunctionality on top, step by step. \n Nevertheless, we have waited patiently through four chapters and we have arrived at the time where we \ncan begin to have a bit of fun. And this fun will be demonstrated via the use of the function  random( ) . \nConsider, for a moment, Example 4-6, whose output is shown in  Figure 4.7 . \n Example 4-6: Ellipse with variables \n float r  =  100; \n float g  =  150; \n float b  =  200; \n float a  =  200; \n float diam  =  20; \n float x  =  100; \n float y  =  100; \n void setup()  { \n  size(200,200); \n  background(255); \n  smooth(); \n } \n void draw()  { \n  // Use those variables to draw an ellipse \n  stroke(0); \n  fill(r,g,b,a); \n  ellipse(x,y,diam,diam); \n } \n Th ere it is, our dreary circle. Sure, we can adjust variable values and move the circle, grow its size, change \nits color, and so on. However, what if every time through  draw( ) , we could make a new circle, one with a \nrandom size, color, and position? Th e  random( ) function allows us to do exactly that. \nrandom( ) is a special kind of function, it is a function that  returns a value. We have encountered this \nbefore. In Exercise 3-7 we used the function  abs( ) to calculate the absolute value of a number. Th e idea \nof a function that  calculates a value and  returns it will be explored fully in Chapter 7, but we are going to \ntake some time to introduce the idea now and let it sink in a bit. \n Unlike most of the functions we are comfortable with (e.g.,  line( ), ellipse( ), and  rect( ) ),  random( ) does not \ndraw or color a shape on the screen. Instead,  random( ) answers a question; it  returns that answer to us. \nHere is a bit of dialogue. Feel free to rehearse it with your friends. \n ﬁ g. 4.7  \nDeclare and initialize \nyour variables\nUse those variables! (Remember, the fourth \nargument for a color is transparency).\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 800
  },
  {
    "chunk_full": "56\nLearning Processing\n Me :  Hey random, what’s going on? Hope you’re well. Listen, I was wondering, could you give me \na random number between 1 and 100? \n Random :  Like, no problem. How about the number 63? \n Me :  Th at’s awesome, really great, thank you. OK, I’m oﬀ . Gotta draw a rectangle 63 pixels wide, OK? \n Now, how would this sequence look in our slightly more formal,  Processing environment? Th e code below \nthe part of  “ me ” is played by the variable  “ w ” . \n float w  =  random(1,100); \n rect(100,100,w,50); \n Th e  random( ) function requires two arguments and returns a random ﬂ oating point number ranging \nfrom the ﬁ rst argument to the second. Th e second argument must be larger than the ﬁ rst for it to work \nproperly. Th e function  random( ) also works with one argument by assuming a range between zero and \nthat argument. \n In addition,  random( ) only returns ﬂ oating point numbers. Th is is why we declared  “ w ” above as  a ﬂ oat. \nHowever, if you want a random integer, you can convert the result of the random function to an  int . \n int w  =  int(random(1,100)); \n rect(100,100,w,50); \n Notice the use of nested parentheses. Th is is a nice concept to get used to as it will be quite convenient to \ncall functions inside of functions as we go. Th e  random( ) function returns a ﬂ oat, which is then passed to \nthe  int( ) function that converts it to an integer. If we wanted to go nuts nesting functions, we could even \ncondense the above code into one line: \n rect(100,100,int(random(1,100)),50); \n Incidentally, the process of converting one data type to another is referred to as  “ casting. ” In Java (which \nProcessing is based on) casting a ﬂ oat to an integer can also be written this way: \n int w  =  (int) random(1,100); \n OK, we are now ready to experiment with  random( ) . Example 4-7 shows what happens if we take every \nvariable associated with drawing the ellipse (ﬁ ll, location, size) and assign it to a random number each \ncycle through  draw( ) . Th e output is shown in  Figure 4.8 . \nA random ﬂ oat between 1 and 100.\nA random integer between 1 and 100.\nThe result of random (1,100) is a ﬂ oat. It can \nbe converted to an integer by “casting.”\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 801
  },
  {
    "chunk_full": "Variables\n 57\n Example 4-7: Filling variables with random values \n float r; \n float g; \n float b; \n float a; \n float diam; \n float x; \n float y; \n void setup()  { \n  size(200,200); \n  background(0); \n  smooth(); \n } \n void draw()  { \n  // Fill all variables with random values \n  r  =  random(255); \n  g  =  random(255); \n  b  =  random(255); \n  a  =  random(255); \n  diam  =  random(20); \n  x  =  random(width); \n  y  =  random(height); \n  // Use values to draw an ellipse \n  noStroke(); \n  fill(r,g,b,a); \n  ellipse(x,y,diam,diam); \n } \n 4.7  Variable Zoog \n We are now ready to revisit Zoog, our alien friend, who was happily following the mouse around the \nscreen when we last checked in. Here, we will add two pieces of functionality to Zoog. \n •  New feature #1 —Zoog will rise from below the screen and fly off into space (above the screen). \n •  New feature #2 —Zoog’s eyes will be colored randomly as Zoog moves. \n Feature #1 is solved by simply taking the previous program that used  mouseX and  mouseY and \nsubstituting our own variables in their place. \n Feature #2 is implemented by creating three additional variables eyeRed, eyeGreen, and eyeBlue that will \nbe used for the  ﬁ ll( ) function before displaying the eye ellipses.\n Example 4-8: Variable Zoog \n float zoogX; \n float zoogY; \n float eyeR; \n float eyeG; \n float eyeB; \n void setup()  { \n  size(200,200);\nﬁ g. 4.8  \nEach time through draw(), new random \nnumbers are picked for a new ellipse.\n ﬁ g. 4.9  \nDeclaring variables. zoogX and zoogY are for \nfeature #1. eyeR, eyeG, eyeB are for feature #2.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 802
  },
  {
    "chunk_full": "58\nLearning Processing\n  zoogX  =  width/2;  \n // Zoog always starts in the middle \n  zoogY  =  height  +  100;  // Zoog starts below the screen \n  smooth(); \n } \n void draw()  { \n  background(255); \n  // Set ellipses and rects to CENTER mode \n  ellipseMode(CENTER); \n  rectMode(CENTER); \n  // Draw Zoog's body \n  stroke(0); \n  fill(150); \n  rect(zoogX,zoogY,20,100); \n  // Draw Zoog's head \n  stroke(0); \n  fill(255); \n  ellipse(zoogX,zoogY - 30,60,60); \n  // Draw Zoog's eyes \n  eyeR  =  random(255); \n  eyeG  =  random(255); \n  eyeB  =  random(255); \n  fill(eyeR,eyeG,eyeB); \n  ellipse(zoogX - 19,zoogY - 30,16,32); \n  ellipse(zoogX + 19,zoogY - 30,16,32); \n  // Draw Zoog's legs \n  stroke(150); \n  line(zoogX - 10,zoogY + 50,zoogX - 10,height); \n  line(zoogX + 10,zoogY + 50,zoogX + 10,height); \n  // Zoog moves up \n  zoogY  =  zoogY  -   1; \n } \n Exercise 4-7: Using variables and the  random( ) function, revise your design from the \nLesson One Project to move around the screen, change color, size, location, and so on. \nFeature #1. zoogX and zoogY are initialized based on \nthe size of the window. Note we cannot initialize these \nvariables before the size () function is called since we \nare using the built-in variables width and height.\nFeature #1. zoogX and zoogY are\nused for the shape locations.\nFeature #2. eyeR, eyeG, and eye B \nare given random values and used \nin the ﬁ ll() function.\nFeature #1. zoogY is decreased by one so \nthat zoog moves upward on the screen.\n Exercise 4-6: Revise Example 4-8 so that Zoog shakes left and right as Zoog moves \nupward. Hint: this requires the use of  random( ) in combination with zoogX. \n zoogX  =  _____________________________; \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 803
  },
  {
    "chunk_full": "Conditionals\n 59\n 5  Conditionals  \n “ Th at language is an instrument of human reason, and not merely a medium for the expression of thought, is \na truth generally admitted. ” \n —George Boole \n “ Th e way I feel about music is that there is no right and wrong. Only true and false. ” \n —Fiona Apple \n In this chapter: \n –  Boolean expressions. \n –  Conditional statements: How a program produces different results based on varying circumstances. \n –  If, Else If, Else . \n 5.1  Boolean Expressions \n What’s your favorite kind of test? Essay format? Multiple choice? In the world of computer \nprogramming, we only take one kind of test: a  boolean test—true or false. A  boolean expression (named for \nmathematician George Boole) is an expression that evaluates to either true or false. Let’s look at some \ncommon language examples: \n •  I am hungry. \n → true \n •  I am afraid of computer programming. \n → false \n •  This book is a hilarious read. \n → false \n In the formal logic of computer science, we test relationships between numbers. \n •  15 is greater than 20 \n → false \n •  5 equals 5 \n → true \n •  32 is less than or equal to 33 \n → true \n In this chapter, we will learn how to use a variable in a boolean expression, allowing our sketch to take \ndiﬀ erent paths depending on the current value stored in the variable. \n •  x  \u0006  20 \n → depends on current value of  x \n •  y   \u0005 \u0005 5 \n → depends on current value of  y \n •  z   \u0007 \u0005 33 \n → depends on current value of  z \n Th e following operators can be used in a boolean expression. \n Relational Operators \n  \u0006  \n greater than \n  \u0007 \u0005  \n less than or equal to \n  \u0007  \n less than \n  \u0005 \u0005 \n equality \n  \u0006 \u0005  \n greater than or equal to \n ! \u0005  \n inequality \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 804
  },
  {
    "chunk_full": "60\nLearning Processing\n 5.2  Conditionals: If, Else, Else If \n Boolean expressions (often referred to as  “ conditionals ” ) operate within the sketch as questions. Is 15 \ngreater than 20? If the answer is yes (i.e., true), we can choose to execute certain instructions (such as \ndraw a rectangle); if the answer is no (i.e., false), those instructions are ignored. Th is introduces the idea of \nbranching; depending on various conditions, the program can follow diﬀ erent paths. \n In the physical world, this might amount to instructions like so: \nIf I am hungry then eat some food, otherwise if I am thirsty, drink some water, otherwise, take a nap . \n In  Processing , we might have something more like: \nIf the mouse is on the left side of the screen, draw a rectangle on the left side of the screen . \n Or, more formally, with the output shown in  Figure 5.1 , \n if (mouseX  <  width/2)  { \n   fill(255); \n   rect(0,0,width/2,height); \n } \n Th e boolean expression and resulting instructions in the above source code is \ncontained within a block of code with the following syntax and structure: \n if (boolean expression)  { \n   // code to execute if boolean expression is true \n } \n Th e structure can be expanded with the keyword  else to include code that is executed if the boolean \nexpression is false. Th is is the equivalent of  “ otherwise, do such and such. ” \n if (boolean expression)  { \n   // code to execute if boolean expression is true \n } else  { \n   // code to execute if boolean expression is false \n } \n For example, we could say the following, with the output shown in  Figure 5.2 . \nIf the mouse is on the left side of the screen, draw a white background, \notherwise draw a black background . \n if (mouseX  <  width/2)  { \n   background(255);  \n } else  { \n   background(0); \n } \nﬁ g. 5.1 \nﬁ g. 5.2 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 805
  },
  {
    "chunk_full": "Conditionals\n 61\n Finally, for testing multiple conditions, we can employ an  “ else if. ” \nWhen an  else if is used, the conditional statements are evaluated \nin the order presented. As soon as one boolean expression is found \nto be true, the corresponding code is executed and the remaining \nboolean expressions are ignored. See  Figure 5.3 . \n if (boolean expression #1)  { \n  // code to execute if boolean expression #1 is true \n } else if (boolean expression #2)  { \n  // code to execute if boolean expression #2 is true \n } else if (boolean expression #n)  { \n  // code to execute if boolean expression #n is true \n } else  { \n  // code to execute if none of the above \n  // boolean expressions are true \n } \n Taking our simple mouse example a step further, we could say the \nfollowing, with results shown in  Figure 5.4 . \nIf the mouse is on the left third of the window, draw a white \nbackground, if it is in the middle third, draw a gray background, \notherwise, draw a black background. \n if (mouseX  <  width/3)  { \n background(255);  \n } else if (mouseX  <  2*width/3)  { \n background(127); \n } else { \n background(0); \n } \nif (A is true)\nelse if (B is true)\nDo this.\nAnd this.\nelse if (C is true)\nelse\nDo this.\nAnd this.\nNow on to something else....\nNo\nYes\nDo this.\nAnd this.\nNo\nYes\nDo this.\nAnd this.\nNo\nYes\nﬁ g. 5.3 \nﬁ g. 5.4\n float grade  =  random(0,100); \n if (_______)  { \n println( \"Assign letter grade A. \"); \n } else if (________) { \n println (________); \n Exercise 5-1: Consider a grading system where numbers are turned into letters. Fill in the \nblanks in the following code to complete the boolean expression. \n In one conditional \nstatement, you can only \never have one  if and one \n else . However, you can \nhave as many  else if ’s as \nyou like!   \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 806
  },
  {
    "chunk_full": "62\nPixels, Patterns, and Processing\n } else if (________)  { \n   println(________); \n } else if (________)  { \n   println(________); \n } else { \n   println(________); \n } \n Exercise 5-2: Examine the following code samples and determine what will appear in \nthe message window. Write down your answer and then execute the code in Processing \nto compare. \n Problem #1: Determine if a number is between 0 and 25, 26 and 50, or greater than 50. \n int x  =  75;\nif (x  >  50)  {\n   println(x  +  \" is greater than\n   50! \" ); \n} else if (x  > 25) {\n  println(x  +  \" is greater than \n   25! \" );\n } else  { \n  println(x  +  \" is 25 or \n   less! \" ); \n} \n int x  =  75;\nif(x  >  25)  { \n  println(x  +  \" is greater \n   than 25! \" ); \n} else if (x  >  50)  {\n   println(x  +  \" is greater \n   than 50! \" ); \n} else {\n  println(x  +  \" is 25 or \n   less! \" ); \n} \n OUTPUT:____________________\nOUTPUT:____________________ \n Although the syntax is correct, what is problematic about the code in column two above? \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 807
  },
  {
    "chunk_full": "Conditionals\n 63\n It is worth pointing out that in Exercise 5-2 when we test for equality we must use  two equal signs. Th is is \nbecause, when programming, asking if something is equal is diﬀ erent from assigning a value to a variable. \nif (x  = = y) { \n \n x  =  y;  \n \n 5.3  Conditionals in a Sketch \n Let’s look at a very simple example of a program that performs diﬀ erent tasks based on the result of \ncertain conditions. Our pseudocode is below. \nStep 1. Create variables to hold on to red, green, and blue color components. Call them  r ,  g , and  b . \nStep 2. Continuously draw the background based on those colors. \nStep 3.  If the mouse is on the right-hand side of the screen, increment the value of  r , if it is on the \nleft-hand side decrement the value of  r . \nStep 4.  Constrain the value  r to be within 0 and 255. \n Th is pseudocode is implemented in  Processing in Example 5-1. \n Problem #2: If a number is 5, change it to 6. If a number is 6, change it to ﬁ ve. \n int x  =  5;\nprintln(\"x is now: \"  + x);\nif (x  = = 5) {\nx  =  6;\n } \nif (x  = = 6) {\n  x  =  5;\n}\n println( \"x is now: \"  + x ); \n int x  =  5;\nprintln(\"x is now: \"  + x);\nif (x  = = 5) {\nx  =  6;\n } else if (x  = = 6) {\n  x  =  5;\n}\n println( \"x is now: \"  +  x); \n OUTPUT:____________________\nOUTPUT:____________________ \n Although the syntax is correct, what is problematic about the code in column one above? \n“Is x equal to y?” Use double equals!\n“Set x equal to y.” Use single equals!\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 808
  },
  {
    "chunk_full": "64\nLearning Processing\n Example 5-1: Conditionals \n float r  =  150; \n \n float g  =  0; \n float b  =  0; \n void setup()  { \n  size(200,200);  \n } \n void draw()  { \n  background(r,g,b); \n  stroke(255); \n \n  line(width/2,0,width/2,height); \n  if(mouseX  >  width/2)  {\n \n   r  =  r  +  1;  \n  } else  { \n   r  =  r - 1; \n  } \n  if (r  >  255)  { \n \n   r  =  255; \n  } else if (r  <  0)  { \n   r  =  0; \n  } \n } \n Constraining the value of a variable, as in Step 4, is a common problem. Here, we do not want color \nvalues to increase to unreasonable extremes. In other examples, we might want to constrain the size or \nlocation of a shape so that it does not get too big or too small, or wander oﬀ  the screen. \n While using if statements is a perfectly valid solution to the constrain problem,  Processing does oﬀ er a \nfunction entitled  constrain( ) that will get us the same result in one line of code. \n if (r  >  255)  { \n \n r  =  255; \n } else if (r  <  0)  { \n r  =  0; \n } \n r  = constrain(r,0,255);  \nconstrain( ) takes three arguments: the value we intend to constrain, the minimum limit, and the \nmaximum limit. Th e function  returns the  “ constrained ” value and is assigned back to the variable  r. \n(Remember what it means for a function to  return a value? See our discussion of  random( ) . )\nﬁ g. 5.5 \n3. “If the mouse is on the right side of \nthe screen” is equivalent to “if mouseX\nis greater than width divided by 2.”\n4. If r is greater than 255, set it to 255. \nIf r is less than 0, set it to 0.\n1. Variables.\nConstrain with the constrain( ) function.\nConstrain with an “if” statement.\n2. Draw stuff.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 809
  },
  {
    "chunk_full": "Conditionals\n 65\n Getting into the habit of  constraining values is a great way to avoid errors; no matter how sure you are \nthat your variables will stay within a given range, there are no guarantees other than  constrain( ) itself. \nAnd someday, as you work on larger software projects with multiple programmers, functions such as \nconstrain( ) can ensure that sections of code work well together. Handling errors before they happen in \ncode is emblematic of good style. \n Let’s make our ﬁ rst example a bit more advanced and change all three color components according to \nthe mouse location and click state. Note the use of  constrain( ) for all three variables. Th e system variable \nmousePressed is true or false depending on whether the user is holding down the mouse button. \n Example 5-2: More conditionals \n float r  =  0; \n float b  =  0; \n float g  =  0; \n void setup()  { \n   size(200,200); \n } \n void draw()  { \n  background(r,g,b); \n  stroke(0); \n  line(width/2,0,width/2,height); \n  line(0,height/2,width,height/2); \n  if(mouseX  >  width/2)  { \n   r  =  r  +  1; \n  } else { \n   r  =  r - 1; \n  } \n  if (mouseY  >  height/2)  { \n   b  =  b  +  1; \n  } else { \n   b  =  b - 1; \n  } \n  if (mousePressed)  { \n   g  =  g  +  1; \n  } else { \n   g  =  g - 1; \n  } \n  r  =  constrain(r,0,255); \n  g  =  constrain(g,0,255); \n  b  =  constrain(b,0,255); \n } \nﬁ g. 5.6 \nThree variables for the background color.\nColor the background and draw lines to \ndivide the window into quadrants.\nIf the mouse is on the right-hand side of \nthe window, increase red. Otherwise, it is \non the left-hand side and decrease red. \nIf the mouse is on the bottom of the \nwindow, increase blue. Otherwise, it \nis on the top and decrease blue.\nIf the mouse is pressed (using the system \nvariable mousePressed) increase green.\nConstrain all color values to between \n0 and 255.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 810
  },
  {
    "chunk_full": "66\nLearning Processing\n Exercise 5-3: Move a rectangle across a window by incrementing a variable. Start the shape \nat x coordinate 0 and use an if statement to have it stop at coordinate 100. Rewrite the \nsketch to use  constrain( ) instead of the if statement. Fill in the missing code. \n // Rectangle starts at location x \n float x  =  0;\n void setup()  { \n  size(200,200); \n } \n void draw()  { \n  background(255); \n  // Display object \n  fill(0); \n  rect(x,100,20,20); \n  // Increment x \n  x  =  x  + 1;\n ______________________________________________ \n ______________________________________________ \n ______________________________________________ \n } \n 5.4  Logical Operators \n We have conquered the simple  if statement: \n If my temperature is greater than 98.6, then take me to see the doctor . \n Sometimes, however, simply performing a task based on one condition is not enough. For example: \n If my temperature is greater than 98.6  OR I have a rash on my arm, take me to see the doctor . \n If I am stung by a bee  AND I am allergic to bees, take me to see the doctor . \n We will commonly want to do the same thing in programming from time to time. \n If the mouse is on the right side of the screen  AND the mouse is on the bottom of the screen, draw a rectangle \nin the bottom right corner . \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 811
  },
  {
    "chunk_full": "Conditionals\n 67\n Our ﬁ rst instinct might be to write the above code using a nested if statement, like so: \n if (mouseX  >  width/2)  { \n if (mouseY  >  height/2)  { \n fill(255); \n rect(width/2,height/2,width/2,height/2); \n } \n } \n In other words, we would have to bypass  two if statements before we can \nreach the code we want to execute. Th is works, yes, but can be accomplished \nin a simpler way using what we will call a  “ logical and, ” written as two \nampersands ( “ & & ” ). A single ampersand ( “ & ” ) means something else 1 in \nProcessing so make sure you include two! \n1  “ & ” or  “ | ” are reserved for  bitwise operations in Processing. A bitwise operation compares each bit (0 or 1) of the binary \nrepresentations of two numbers. It is used in rare circumstances where you require low-level access to bits. \n || (logical OR) \n & & (logical AND) \n   ! (logical NOT) \n A  “ logical or ” is two vertical bars (AKA two  “ pipes ” )  “ || ” . If you can’t ﬁ nd the pipe, it is typically on the \nkeyboard as shift-backslash. \n if (mouseX  >  width/2  & & mouseY  >  height/2)  {  \n fill(255); \n rect(width/2,height/2,width/2,height/2); \n } \n In addition to  & & and ||, we also have access to the logical operator  “ not, ” written as an exclamation \npoint: ! \nIf my temperature is  NOT greater than 98.6, I won’t call in sick to work. \nIf I am stung by a bee  AND I am  NOT allergic to bees, do not worry! \n A  Processing example is: \nIf the mouse is  NOT pressed, draw a circle, otherwise draw a square . \n if (!mousePressed)  { \n \n ellipse(width/2,height/2,100,100); \n } else { \n rect(width/2,height/2,100,100); \n } \n Notice this example could also be written omitting the  not , saying: \nIf the mouse is pressed, draw a square, otherwise draw a circle . \n! means not. “mousePressed” is a boolean\nvariable that acts as its own boolean expression. \nIts value is either true or false (depending on \nwhether or not the mouse is currently pressed). \nBoolean variables will be explored in greater \ndetail in Section 5.6. \nIf the mouse is on the right side and on \nthe bottom.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 812
  },
  {
    "chunk_full": "68\nLearning Processing\n Exercise 5-4: Are the following boolean expressions true or false? Assume variables \nx  \u0005  5 and y  \u0005  6. \n !(x  > 6)     _______ ______________________________\n (x = = 6 & & x = = 5)_____________________________________ \n (x = = 6 || x = = 5)_____________________________________\n (x > -1 & &  y < 10)_______ _______________________________\n Although the syntax is correct, what is ﬂ awed about the following boolean expression? \n (x  > 10  & &  x  < 5) ________________________________\n Exercise 5-5: Write a program that implements a simple rollover. In other words, if the \nmouse is over a rectangle, the rectangle changes color. Here is some code to get you started. \n int x  =  50; \n int y  =  50; \n int w  =  100; \n int h  =  75; \n void setup()  { \n  size(200,200); \n } \n void draw()  { \n  background(0); \n  stroke(255); \n  if (_______  & & _______ & & _______ & & _______) { \n    _______ \n  }  _______ {\n  _______\n  } \n  rect(x,y,w,h); \n } \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 813
  },
  {
    "chunk_full": "Conditionals\n 69\n 5.5  Multiple Rollovers \n Let’s solve a simple problem together, a slightly more advanced version of Exercise 5-5. Consider the \nfour screenshots shown in  Figure 5.7 from one single sketch. A white square is displayed in one of four \nquadrants, according to the mouse location. \n ﬁ g. 5.7  \n Let’s ﬁ rst write the logic of our program in pseudocode (i.e., English). \n Setup: \n 1. \n Set up a window of 200  \u0004 200 pixels . \n Draw: \n 1. \n Draw a white background. \n 2. \n Draw horizontal and vertical lines to divide the window in four quadrants . \n 3. \n If the mouse is in the top left corner, draw a black rectangle in the top left corner. \n 4. \n If the mouse is in the top right corner, draw a black rectangle in the top right corner. \n 5. \n If the mouse is in the bottom left corner, draw a black rectangle in the bottom left corner. \n 6. \n If the mouse is in the bottom right corner, draw a black rectangle in the bottom right corner. \n For instructions 3 through 6, we have to ask ourselves the question:  “ How do we know if the mouse is \nin a given corner? ” To accomplish this, we need to develop a more speciﬁ c if statement. For example, \nwe would say:  “ If the mouse  X location is greater than 100 pixels and the mouse  Y location is greater \nthan 100 pixels, draw a black rectangle in the bottom right corner. As an exercise, you may want to try \nwriting this program yourself based on the above pseudocode. Th e answer, for your reference, is given in \nExample 5-3. \n Example 5-3: Rollovers \n void setup()  { \n  size(200,200); \n } \n void draw()  { \n  background(255); \n  stroke(0); \n  line(100,0,100,200); \n  line(0,100,200,100); \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 814
  },
  {
    "chunk_full": "70\nLearning Processing\n  // Fill a black color \n  noStroke(); \n  fill(0); \n  if (mouseX  <  100  & & mouseY  <  100)  { \n   rect(0,0,100,100); \n  } else if (mouseX  >  100  & & mouseY  <  100)  { \n   rect(100,0,100,100); \n \n  } else if (mouseX  <  100  & & mouseY  >  100)  { \n   rect(0,100,100,100); \n  } else if (mouseX  >  100  & & mouseY  >  100)  { \n   rect(100,100,100,100); \n  } \n } \nDepending on the mouse location, \na different rectangle is displayed.\n 5.6  Boolean Variables \n Th e natural next step up from programming a rollover is a button. After all, a button is just a rollover that \nresponds when clicked. Now, it may feel ever so slightly disappointing to be programming rollovers and \nbuttons. Perhaps you are thinking:  “ Can’t I just select  ‘ Add Button ’ from the menu or something? ” For us, \nright now, the answer is no. Yes, we are going to eventually learn how to use code from a library (and you \nmight use a library to make buttons in your sketches more easily), but there is a lot of value in learning \nhow to program GUI (graphical user interface) elements from scratch. \n For one, practicing programming buttons, rollovers, and sliders is an excellent way to learn the basics of \nvariables and conditionals. And two, using the same old buttons and rollovers that every program has is \nnot terribly exciting. If you care about and are interested in developing new interfaces, understanding how \nto build an interface from scratch is a skill you will need. \n OK, with that out of the way, we are going to look at how we use a  boolean variable to program a button. \nA boolean variable (or a variable of type boolean) is a variable that can only be true or false. Th ink of it \nas a switch. It is either on or oﬀ . Press the button, turn the switch on. Press the button again, turn it oﬀ . \nWe just used a boolean variable in Example 5-2: the built-in variable  mousePressed . mousePressed is true \nwhen the mouse is pressed and false when the mouse is not. \n And so our button example will include one boolean variable with a starting value of false (the assumption \nbeing that the button starts in the oﬀ  state). \n boolean button  =  false;  \n In the case of a rollover, any time the mouse hovered over the rectangle, it turned white. Our sketch will \nturn the background white when the button is pressed and black when it is not. \n if (button)  {\n \n background(255); \n } else  { \n background(0); \n } \n Exercise 5-6: Rewrite Example 5-3 so that the squares fade from white to black when the \nmouse leaves their area. Hint: you need four variables, one for each rectangle’s color. \nA boolean variables is either true of false.\nIf the value of button is true, the \nbackground is white. If it is false, black.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 815
  },
  {
    "chunk_full": "Conditionals\n 71\n We can then check to see if the mouse location is inside the rectangle and if the mouse is pressed, setting \nthe value of button to true or false accordingly. Here is the full example: \n Example 5-4: Hold down the button \n boolean button  =  false; \n int x  =  50; \n int y  =  50; \n int w  =  100; \n int h  =  75; \n void setup()  { \n  size(200,200); \n } \n void draw()  { \n  if (mouseX  >  x  & & mouseX  <  x + w  & & mouseY  >  y  & & mouseY  <  y + h  & & mousePressed) { \n   button  =  true; \n  } else { \n   button  =  false; \n } \n if (button)  { \n   background(255); \n   stroke(0); \n  } else { \n   background(0); \n   stroke(255); \n  } \n  fill(175); \n  rect(x,y,w,h); \n } \n Th is example simulates a button connected to a light that is only on when the button is pressed. As soon \nas you let go, the light goes oﬀ . While this might be a perfectly appropriate form of interaction for some \ninstances, it is not what we are really going for in this section. What we want is a button that operates like \na switch; when you ﬂ ip the switch (press the button), if the light is oﬀ , it turns on. If it is on, it turns oﬀ . \n For this to work properly, we must check to see if the mouse is located inside the rectangle inside \nmousePressed( ) rather than as above in  draw( ) . By deﬁ nition, when the user clicks the mouse, the code \ninside  mousePressed( ) is executed once and only once (see Section 3.4). When the mouse is clicked, we \nwant the switch to turn on or oﬀ  (once and only once). \n We now need to write some code that  “ toggles ” the switch, changes its state from on to oﬀ , or oﬀ  to on. \nTh is code will go inside  mousePressed( ) . \n If the variable  “ button ” equals true, we should set it to false. If it is false, we should set it to true. \nThe button is pressed if (mouseX, mouseY)  is \ninside the rectangle and mousePressed is true.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 816
  },
  {
    "chunk_full": "72\nLearning Processing\n if (button)  { \n button  =  false;  \n } else  { \n button  =  true; \n } \n Th ere is a simpler way to go which is the following: \n button  =  !button;\n \n Here, the value of button is set to  “ not ” itself. In other words, if the button is true then we set set it to  not \ntrue (false). If it is false then we set it to  not false (true). Armed with this odd but eﬀ ective line of code, we \nare ready to look at the button in action in Example 5-5. \n Example 5-5: Button as switch \n boolean button  =  false; \n int x  =  50; \n int y  =  50; \n int w  =  100; \n int h  =  75; \n void setup()  { \n  size(200,200); \n } \n void draw()  { \n  if (button)  { \n   background(255); \n   stroke(0); \n  } else  { \n   background(0); \n   stroke(255); \n  } \n  fill(175); \n  rect(x,y,w,h); \n } \n void mousePressed()  { \n  if (mouseX  >  x  & & mouseX  <  x + w  & & mouseY  >  y  & & mouseY  <  y + h){ \n   button  =  !button; \n  } \n } \nThe explicit way to toggle a boolean variable. \nIf the value of button is true, set it equal to \nfalse. Otherwise, it must be false, so set it \nequal to true.\nNot true is false. Not false is true!\n ﬁ g. 5.8  \nWhen the mouse is pressed, the state of the button is toggled. Try moving \nthis code to draw( ) like in the rollover example. (See Exercise 5–7.)\n if (mouseX > x && mouseX < x+w && mouseY > y && mouseY < y+h && \nmousePressed){\n  button = !button; \n}\n Exercise 5-7: Why doesn’t the following code work properly when it is moved to  draw( )? \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 817
  },
  {
    "chunk_full": "Conditionals\n 73\n Exercise 5-8: Example 4-3 in the previous chapter moved a circle across the window. \nChange the sketch so that the circle only starts moving once the mouse has been pressed. Use a \nboolean variable. \n boolean __________  =  _________;\n int circleX  =  0;\n int circleY  =  100; \n void setup()  { \n  size(200,200); \n } \n void draw()  { \n  background(100); \n  stroke(255); \n  fill(0); \n  ellipse(circleX,circleY,50,50); \n ____________________________________ \n ____________________________________ \n ____________________________________ \n } \n void mousePressed()  { \n ____________________________________ \n } \n 5.7  A Bouncing Ball \n It is time again to return to our friend Zoog. Let’s review what we have done so far. First, we learned \nto draw Zoog with shape functions available from the  Processing reference. Afterward, we realized we \ncould use variables instead of hard-coded values. Having these variables allowed us move Zoog. If Zoog’s \nlocation is  X , draw it at  X , then at  X  \u0002  1, then at  X  \u0002  2, and so on. \n It was an exciting, yet sad moment. Th e pleasure we experienced from discovering the motion was quickly \nreplaced by the lonely feeling of watching Zoog leave the screen. Fortunately, conditional statements are \nhere to save the day, allowing us to ask the question:  Has Zoog reached the edge of the screen? If so, turn Zoog \naround! \n To simplify things, let’s start with a simple circle instead of Zoog’s entire pattern. \n Write a program where Zoog (a simple circle) moves across the screen horizontally from left to right. \nWhen it reaches the right edge it reverses direction. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 818
  },
  {
    "chunk_full": "74\nLearning Processing\n From the previous chapter on variables, we know we need global variables to keep track of Zoog’s \nlocation. \n int x  =  0; \n Is this enough?  No. In our previous example Zoog always moved one pixel. \n x  =  x  +  1; \n Th is tells Zoog to move to the right. But what if we want it to move to the left? Easy, right? \n x  =  x - 1; \n In other words, sometimes Zoog moves with a speed of  “ \u0002 1 ” and sometimes  “ \u0003 1. ” Th e speed of Zoog  varies . \nYes, bells are ringing. In order to switch the direction of Zoog’s speed, we need another  variable : speed. \n int x  =  0; \n int speed  =  l; \n Now that we have our variables, we can move on to the rest of the code. Assuming  setup( ) sets the size \nof the window, we can go directly to examining the steps required inside of  draw( ) . We can also refer to \nZoog as a ball in this instance since we are just going to draw a circle. \n background(0); \n stroke(255); \n \n fill(100); \n ellipse(x,100,32,32); \n Elementary stuﬀ . Now, in order for the ball to move, the value of its  x location should change each cycle \nthrough  draw( ) . \n x  =  x  +  speed; \n If we ran the program now, the circle would start on the left side of the window, move toward the right, \nand continue oﬀ  the edge of the screen—this is the result we achieved in Chapter 4. In order for it to turn \naround, we need a conditional statement. \nIf the ball goes oﬀ  the edge, turn the ball around . \n Or more formally . . . \nIf x is greater than width, reverse speed. \n if (x  >  width)  { \n speed  =  speed * -1; \n } \nA variable for Zoog’s speed. When speed \nis positive Zoog moves to the right, when \nspeed is negative Zoog moves to the left.\nFor simplicity, Zoog is just a circle.\nMultiplying by \u00031 reverses the speed.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 819
  },
  {
    "chunk_full": "Conditionals\n 75\n Running the sketch, we now have a circle that turns around when it reaches the right-most edge, but runs \noﬀ  the left-most edge of the screen. We’ll need to revise the conditional slightly. \nIf the ball goes oﬀ  either the right or left edge, turn the ball around. \n Or more formally . . . \nIf x is greater than width or if x is less than zero, reverse speed . \n if ((x  >  width) || (x  <  0))  { \n speed  =  speed * -1; \n } \n Example 5-6 puts it all together. \n Example 5-6: Bouncing ball \n int x  =  0; \n int speed  =  1; \n void setup()  { \n  size(200,200); \n  smooth();\n } \n void draw()  { \n  background(255); \n  x  =  x  + speed;\n \n  if ((x  >  width) || (x  <  0)) { \n   speed  =  speed * -1; \n \n  } \n  // Display circle at x location \n  stroke(0); \n  fill(175); \n  ellipse(x,100,32,32); \n } \n Reversing the Polarity of a Number \n When we want to reverse the polarity of a number, we mean that we want a positive number to \nbecome negative and a negative number to become positive. Th is is achieved by multiplying by –1. \nRemind yourself of the following: \n •  -5 * -1  =  5 \n •  -5 * -1  =  -5 \n •  -1 *  1  =  -1 \n •  -1 * -1  =  1 \nRemember, \u0002 means “or”.\nAdd the current speed to the x location.\nIf the object reaches either edge, \nmultiply speed by \u00031 to turn it around.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 820
  },
  {
    "chunk_full": "76\nLearning Processing\n Exercise 5-9: Rewrite Example 5-6 so that the ball not only moves horizontally, but \nvertically as well. Can you implement additional features, such as changing the size or color \nof the ball based on certain conditions? Can you make the ball speed up or slow down in \naddition to changing direction? \n Th e  “ bouncing ball ” logic of incrementing and decrementing a variable can be applied in many ways \nbeyond the motion of shapes onscreen. For example, just as a square moves from left to right, a color \ncan go from less red to more red. Example 5-7 takes the same bouncing ball algorithm and applies it to \nchanging color . \n Example 5-7:  “ Bouncing ” color \n float c1  =  0; \n \n float c2  =  255; \n float c1dir  =  0.1;  \n float c2dir  =  -0.1; \n void setup()  { \n  size(200,200); \n } \n void draw()  { \n  noStroke(); \n  // Draw rectangle on left \n  fill(c1,0,c2); \n  rect(0,0,100,200); \n  // Draw rectangle on right \n  fill(c2,0,c1); \n  rect(100,0,100,200); \n  // Adjust color values \n  c1  =  c1  +  c1dir; \n  c2  =  c2  +  c2dir; \n  // Reverse direction of color change \n  if (c1  <  0 || c1  >  255)  {\n \n   c1dir * =   -1; \n  } \n  if (c2  <  0 || c2  >  255)  { \n   c2dir * =   -1; \n  } \n } \n Having the conditional statement in our collection of programming tools allows for more complex \nmotion. For example, consider a rectangle that follows the edges of a window. \n ﬁ g. 5.9  \nTwo variables for color.\nStart by incrementing c1. \nStart by decrementing c2.\nInstead of reaching the edge of a window, these \nvariables reach the “edge” of color: 0 for no color \nand 255 for full color. When this happens, just like \nwith the bouncing ball, the direction is reversed.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 821
  },
  {
    "chunk_full": "Conditionals\n 77\n One way to solve this problem is to think of the rectangle’s motion as having four possible states, \nnumbered 0 through 3. See  Figure 5.10 . \n •  State #0: left to right. \n •  State #1: top to bottom. \n •  State #2: right to left. \n •  State #3: bottom to top. \n We can use a variable to keep track of the state number and adjust \nthe  x ,  y coordinate of the rectangle according to the state. For example:  \n“ If the state is 2,  x equals  x minus 1. ” \n Once the rectangle reaches the endpoint for that state, we can change the state variable.  “ If the state is 2: \n(a)  x equals  x minus 1. (b) if  x less than zero, the state equals 3. ” \n Th e following example implements this logic . \n Example 5-8: Square following edge, uses a  “ state ” variable \n int x  =  0; // x location of square \n int y  =  0; // y location of square \n int speed  =  5; // speed of square \n int state  =  0; \n void setup()  { \n  size(200,200); \n } \n void draw() { \n  background(100); \n  // Display the square \n  noStroke(); \n  fill(255); \n  rect(x,y,10,10); \n  if (state  = = 0) { \n \n   x  =  x  +  speed; \n   if (x  >  width-10)  { \n \n    x  =  width-10; \n    state  =  1; \n   } \n  } else if (state  = = 1) { \n   y  =  y  +  speed; \n   if (y  >  height-10)  { \n    y  =  height-10; \n    state  =  2; \n   } \n ﬁ g. 5.11  \n ﬁ g. 5.10  \nA variable to keep track of the square’s \n“state.” Depending on the value of its state, \nit will either move right, down, left, or up.\nIf, while the state is 0, it reaches the right \nside of the window, change the state to 1. \nRepeat this same logic for all states!\nIf the state is 0, move to the right.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 822
  },
  {
    "chunk_full": "  } else if (state  = =  2)  { \n   x  =  x - speed; \n   if (x  <  0)  { \n    x  =  0; \n    state  =  3; \n   } \n  } else if (state  = =  3)  { \n   y  =  y - speed; \n   if (y  <  0)  { \n    y  =  0; \n    state = 0; \n   } \n  } \n } \n 5.8  Physics 101 \n For me, one of the happiest moments of my programming life was the moment I realized I could code \ngravity. And in fact, armed with variables and conditionals, you are now ready for this moment. \n Th e bouncing ball sketch taught us that an object moves by altering its location according to speed. \nlocation  \u0005  location  \u0002  speed \n Gravity is a force of attraction between all masses. When you drop a pen, the force of gravity from the \nearth (which is overwhelmingly larger than the pen) causes the pen to accelerate toward the ground. \nWhat we must add to our bouncing ball is the concept of  “ acceleration ” (which is caused by gravity, but \ncould be caused by any number of forces). Acceleration increases (or decreases) speed. In other words, \nacceleration is the rate of change of speed. And speed is the rate of change of location. So we just need \nanother line of code: \nspeed  \u0005  speed  \u0002  acceleration \n And now we have a simple gravity simulation. \n Example 5-9: Simple gravity \n float x  =  100; // x location of square \n float y  =  0;  // y location of square \n float speed  =  0; // speed of square \n float gravity  =  0.1; \n void setup()  { \n  size(200,200); \n } \n void draw()  { \n  background(255); \n ﬁ g. 5.12  \nA new variable, for gravity (i.e., \nacceleration). We use a relatively \nsmall number (0.1) because this \nacceleration accumulates over \ntime, increasing the speed. Try \nchanging this number to 2.0 and see \nwhat happens.\n78\nLearning Processing\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 823
  },
  {
    "chunk_full": "Conditionals\n 79\n  // Display the square \n  fill(0); \n  noStroke(); \n  rectMode(CENTER); \n  rect(x,y,10 , 10);\n  y  =  y  +  speed; \n \n  speed  =  speed  +  gravity;\n \n  // If square reaches the bottom \n  // Reverse speed \n  if (y  >  height)  { \n   speed  =  speed * -0.95;  \n  } \n } \n Exercise 5-10: Continue with your design and add some of the functionality demonstrated \nin this chapter. Some options: \n •  Make parts of your design rollovers that change color when the mouse is over \ncertain areas. \n •  Move it around the screen. Can you make it bounce off all edges of the window? \n •  Fade colors in and out. \nAdd gravity to speed.\n Here is a simple version with Zoog. \n Example 5-10: Zoog and conditionals \n float x  =  100; \n float y  =  100; \n float w  =  60; \n float h  =  60; \n float eyeSize  =  16; \n float xspeed  =  3; \n \n float yspeed  =  1; \n void setup()  { \n  size(200,200); \n  smooth(); \n } \n void draw()  { \n // Change the location of Zoog by speed \n x  =  x  +  xspeed; \n y  = y  +  yspeed; \nMultiplying by \u00030.95 instead of \u00031 slows the square down \neach time it bounces (by decreasing speed). This is known \nas a “dampening” effect and is a more realistic simulation \nof the real world (without it, a ball would bounce forever).\nZoog has variables for speed in the horizontal and vertical direction.\nAdd speed to location.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 824
  },
  {
    "chunk_full": " if ((x  > width) \u0002 (x  < 0)) { \n xspeed  =  xspeed * -1; \n } \n if ((y  >  height) \u0002 (y  <  0))  { \n yspeed  =  yspeed * -1; \n \n } \n background(0); \n ellipseMode(CENTER); \n rectMode(CENTER); \n noStroke(); \n // Draw Zoog's body \n fill(150); \n rect(x,y,w/6,h*2); \n // Draw Zoog's head \n fill(255); \n ellipse(x,y-h/2,w,h); \n // Draw Zoog's eyes \n fill(0); \n ellipse(x-w/3,y-h/2,eyeSize,eyeSize*2); \n ellipse(x + w/3,y-h/2,eyeSize,eyeSize*2); \n // Draw Zoog's legs \n stroke(150); \n line(x-w/12,y + h,x-w/4,y + h + 10); \n line(x + w/12,y + h,x + w/4,y + h + 10); \n } \nAn IF statements with a logical OR determines if Zoog has \nreached either the right or left edges of the screen. When this is \ntrue, we multiply the speed by \u00031, reversing Zoog’s direction! \nIdentical logic is applied to the y direction as well.\n80\nLearning Processing\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 825
  },
  {
    "chunk_full": "Loops\n 81\n 6  Loops \n “ Repetition is the reality and the seriousness of life. ” \n —Soren Kierkegaard \n “ What’s the key to comedy? Repetition. What’s the key to comedy? Repetition. ” \n —Anonymous \n In this chapter: \n –  The concept of iteration. \n –  Two types of loops:  “ while, ”  and  “ for. ” When do we use them? \n –  Iteration in the context of computer graphics. \n 6.1  What is iteration? I mean, what is iteration? Seriously, what is iteration? \n Iteration is the generative process of repeating a set of rules or steps over and over again. It is a \nfundamental concept in computer programming and we will soon come to discover that it makes our lives \nas coders quite delightful. Let’s begin. \n For the moment, think about legs. Lots and lots of legs on our little Zoog. If we had only read Chapter 1 \nof this book, we would probably write some code as in Example 6-1 . \n Example 6-1: Many lines \n size(200,200); \n background(255); \n // Legs \n stroke(0); \n line(50,60,50,80); \n line(60,60,60,80); \n line(70,60,70,80); \n line(80,60,80,80); \n line(90,60,90,80); \n line(100,60,100,80); \n line(110,60,110,80); \n line(120,60,120,80); \n line(130,60,130,80); \n line(140,60,140,80); \n line(150,60,150,80); \n In the above example, legs are drawn from  x  =  50 pixels all the way to  x  \u0005  150 pixels, with one leg every \n10 pixels. Sure, the code accomplishes this, however, having learned variables in Chapter 4, we can make \nsome substantial improvements and eliminate the hard-coded values. \n First, we set up variables for each parameter of our system: the legs ’  x ,  y locations, length, and the spacing \nbetween the legs. Note that for each leg drawn, only the  x value changes. All other variables stay the same \n(but they could change if we wanted them to!). \n ﬁ g. 6.1 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 826
  },
  {
    "chunk_full": "82\nLearning processing\n Example 6-2: Many lines with variables \n size(200,200); \n background(0); \n // Legs \n stroke(255); \n int y  =  80;   \n// Vertical location of each line \n int x  =  50;   \n// Initial horizontal location for first line \n int spacing  =  10;   // How far apart is each line \n int len  =  20;   \n// Length of each line \n line(x,y,x,y + len);\n \n x  =  x  + spacing;\n \n line(x,y,x,y + len); \n x  =  x  +  spacing; \n \n line(x,y,x,y + len); \n x  = x  +  spacing; \n line(x,y,x,y + len); \n x  =  x  +  spacing; \n line(x,y,x,y + len); \n x  =  x  +  spacing; \n line(x,y,x,y + len); \n x  =  x  +  spacing; \n line(x,y,x,y + len); \n x  =  x  +  spacing; \n line(x,y,x,y + len); \n x  =  x  +  spacing; \n line(x,y,x,y + len); \n x  =  x  +  spacing; \n line(x,y,x,y + len); \n x  =  x  +  spacing; \n line(x,y,x,y + len); \n Not too bad, I suppose. Strangely enough, although this is technically more eﬃ  cient (we could adjust the \nspacing variable, for example, by changing only one line of code), we have taken a step backward, having \nproduced twice as much code! And what if we wanted to draw 100 legs? For every leg, we need two lines \nof code. Th at’s 200 lines of code for 100 legs! To avoid this dire, carpal-tunnel inducing problem, we want \nto be able to say something like: \nDraw one line one hundred times. \n Aha, only one line of code! \n Obviously, we are not the ﬁ rst programmers to reach this dilemma and it is easily solved with the \nvery commonly used  control structure —the  loop . A loop structure is similar in syntax to a conditional \nDraw the ﬁ rst leg.\nAdd spacing so the next leg \nappears 10 pixels to the right.\nContinue this process for \neach leg, repeating it over \nand over.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 827
  },
  {
    "chunk_full": "Loops\n 83\n(see Chapter 5). However, instead of asking a yes or no question to determine whether a block of code \nshould be executed one time, our code will ask a yes or no question to determine  how many times the \nblock of code should be  repeated . Th is is known as iteration. \n 6.2  “ WHILE ” Loop, the Only Loop You Really Need \n Th ere are three types of loops, the  while loop, the  do-while loop, and the  for loop. To get started, we are \ngoing to focus on the  while loop for a little while (sorry, couldn’t resist). For one thing, the only loop you \nreally need is  while . Th e  for loop, as we will see, is simply a convenient alternative, a great shorthand for \nsimple counting operations.  Do-while , however, is rarely used (not one example in this book requires it) \nand so we will ignore it. \n Just as with conditional ( if / else ) structures, a  while loop employs a boolean test condition. If the test \nevaluates to true, the instructions enclosed in curly brackets are executed; if it is false, we continue on to \nthe next line of code. Th e diﬀ erence here is that the instructions inside the  while block continue to be \nexecuted over and over again until the test condition becomes false. See  Figure 6.2 . \n Let’s take the code from the legs problem. Assuming the following variables . . . \n int y  =  80;   \n// Vertical location of each line \n int x  =  50;   \n// Initial horizontal location for first line \n int spacing  =  10;   // How far apart is each line \n int len  =  20;   \n// Length of each line \n … we had to manually repeat the following code: \n stroke(255); \n line(x,y,x,y + len);  \n// Draw the first leg \n x  =  x  +  spacing;  \n// Add \"spacing \" to x \n line(x,y,x,y + len);  \n// The next leg is 10 pixels to the right \n x  =  x  +  spacing;  \n// Add  \"spacing\" to x \n line(x,y,x,y + len);  \n// The next leg is 10 pixels to the right \n x  =  x  +  spacing;  \n// Add  ''spacing” to x \n line(x,y,x,y + len); \n// The next leg is 10 pixels to the right \n // etc. etc. repeating with new legs \nWHILE     (BOOLEAN TEST)\nA. DO THIS\nB. DO THIS\nIS FALSE\nIS TRUE\nREPEAT\n ﬁ g. 6.2  \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 828
  },
  {
    "chunk_full": "84\nLearning processing\n Now, with the knowledge of the existence of  while loops, we can rewrite the code as in Example 6-3, \nadding a variable that tells us when to stop looping, that is, at what pixel the legs stop. \n Example 6-3: While loop \n int endLegs  =  150; \n stroke(0); \n while (x  < = endLegs)  { \n  line (x,y,x,y + len); \n  x  =  x  +  spacing; \n } \n Instead of writing  “ line(x,y,x,y + len); ” many times as we did at ﬁ rst, we now write it only  once inside of the \nwhile loop , saying  “ as long as  x is less than 150, draw a line at  x , all the while incrementing  x . ” And so \nwhat took 21 lines of code before, now only takes four! \n In addition, we can change the spacing variable to generate more legs. Th e results are shown in  Figure 6.4 . \n int spacing  =  4; \n while (x  < = endLegs)  { \n  line (x,y,x,y + len); // Draw EACH leg \n x  =  x  +  spacing; \n } \n Let’s look at one more example, this time using rectangles instead of \nlines, as shown in  Figure 6.5 , and ask three key questions. \n1.   What is the initial condition for your loop? Here, since the ﬁ rst rectangle is at  y location 10, we want \nto start our loop with  y  \u0005  10. \n int y  =  10; \n2.  When should your loop stop? Since we want to display rectangles all the way to the bottom of the \nwindow, the loop should stop when y is greater than height. In other words, we want the loop to keep \ngoing  as long as y is less than height. \n ﬁ g. 6.3   \n ﬁ g. 6.4  \n ﬁ g. 6.5 \nDraw each leg inside \na while loop.\nA variable to mark \nwhere the legs end.\nA smaller spacing \nvalue results in legs \ncloser together.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 829
  },
  {
    "chunk_full": "Loops\n 85\n while (y  < 100) { \n  // Loop! \n } \n3.  What is your loop operation? In this case, each time through the loop, we want to draw a new \nrectangle below the previous one. We can accomplish this by calling the  rect( ) function and \nincrementing  y by 20. \n rect(100,y,100,10); \n y  =  y  +  20; \n Putting it all together: \n int y  =  10; \n while (y  < height) { \n  rect(100,y,100,10); \n  y  =  y  +  20; \n } \nInitial condition.\nThe loop continues while the boolean expression is true. \nTherefore, the loop stops when the boolean expression is false.\nWe increment y each time through the loop, drawing rectangle \nafter rectangle until y is no longer less than height.\n \n \n \n size(200,200); \n background(255); \n int y  = 0;\n while (________)  { \n  stroke(0); \n  line(_______,_______,_______,_______); \n  y  = ________ ; \n } \n \n size(200,200); \nbackground(255);\n float w  = ________ ; \n while (________)  { \n  stroke(0); \n  fill(________); \n  ellipse(_______,_______,_______,_______); \n  __________20; \n}\n Exercise 6-1: Fill in the blanks in the code to recreate the following screenshots. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 830
  },
  {
    "chunk_full": "86\nLearning processing\n Examining the  “ legs ” in Example 6-3, we can see that as soon as  x is greater than 150, the loop stops. \nAnd this always happens because  x increments by  “ spacing ” , which is always a positive number. Th is is not \nan accident; whenever we embark on programming with a loop structure, we must make sure that the exit \ncondition for the loop will eventually be met! \nProcessing will not give you an error should your exit condition never occur. Th e result is Sisyphean, as \nyour loop rolls the boulder up the hill over and over and over again to inﬁ nity. \n Example 6-4: Inﬁ nite loop. Don’t do this! \n int x  =  0; \n while (x  <  10) { \n  println(x); \n  x  =  x – 1; \n } \n For kicks, try running the above code (make sure you have saved all your work and are not running some \nother mission-critical software on your computer). You will quickly see that  Processing hangs. Th e only \nway out of this predicament is probably to force-quit  Processing . Inﬁ nite loops are not often as obvious as \nin Example 6-4. Here is another ﬂ awed program that will  sometimes result in an inﬁ nite loop crash. \n Example 6-5: Another inﬁ nite loop. Don’t do this! \n int y  =  80;   \n// Vertical location of each line \n int x  =  0;   \n// Horizontal location of first line \n int spacing  =  10;   \n// How far apart is each line \n int len  =  20;   \n// Length of each line \n int endLegs  =  150;   \n// Where should the lines stop? \n void setup()  { \n  size(200,200); \n } \n void draw()  { \n  background(0); \n  stroke(255); \n  x  =  0;\n  spacing  =  mouseX / 2; \n 6.3  “ Exit ” Conditions \n Loops, as you are probably starting to realize, are quite handy. Nevertheless, there is a dark, seedy \nunderbelly in the world of loops, where nasty things known as inﬁ nite loops live. See  Figure 6.6 . \nWHILE (ALWAYS TRUE)\nBAD!!\nDO THIS FOREVER AND EVER...\n ﬁ g. 6.6 \nThe spacing variable, which sets the distance \nin between each line, is assigned a value \nequal to mouseX divided by two.\nDecrementing x results in an inﬁ nite loop here because\nthe value of x will never be 10 or greater. Be careful!\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 831
  },
  {
    "chunk_full": "Loops\n 87\n  while (x  < = endLegs) { \n   line(x,y,x,y + len); \n   x  =  x  +  spacing; \n  } \n } \n Will an inﬁ nite loop occur? We know we will be stuck looping forever if  x never is greater than 150. And \nsince  x increments by spacing, if spacing is zero (or a negative number)  x will always remain the same \nvalue (or go down in value.) \n Recalling the  constrain( ) function described in Chapter 4, we can guarantee no inﬁ nite loop by \nconstraining the value of spacing to a positive range of numbers: \n int spacing  = constrain(mouseX/2, 1, 100); \n Since spacing is directly linked with the necessary exit condition, we enforce a speciﬁ c range of values to \nmake sure no inﬁ nite loop is ever reached. In other words, in pseudocode we are saying:  “ Draw a series of \nlines spaced out by N pixels where N can never be less than 1! ” \n Th is is also a useful example because it reveals an interesting fact about  mouseX . You might be tempted to \ntry putting  mouseX directly in the incrementation expression as follows: \n while (x  < = endLegs) { \n  line(x,y,x,y + len); \n  x  =  x  +  mouseX / 2; \n } \n Wouldn’t this solve the problem, since even if the loop gets stuck as soon as the user moves the mouse \nto a horizontal location greater than zero, the exit condition would be met? It is a nice thought, but one \nthat is sadly quite ﬂ awed.  mouseX and  mouseY are updated with new values at the beginning of each \ncycle through  draw(  ) . So even if the user moves the mouse to  X location 50 from location 0,  mouseX will \nnever know this new value because it will be stuck in its inﬁ nite loop and not able to get to the next cycle \nthrough  draw( ) . \n 6.4  “ FOR ” Loop \n A certain style of  while loop where one value is incremented repeatedly (demonstrated in Section 6.2) \nis particularly common. Th is will become even more evident once we look at arrays in Chapter 9. Th e \nfor loop is a nifty shortcut for commonly occurring  while loops. Before we get into the details, let’s talk \nthrough some common loops you might write in  Processing and how they are written as a  for loop.  \n Start at 0 and count up to 9. \n for (int i  =  0; i  <  10; i  =  i  +  1) \n Start at 0 and count up to 100 by 10. \n for (int i  =  0; i  <  101; i  =  i  +  10) \n Start at 100 and count down to 0 by 5. \n for (int i  =  100; i  > = 0; i  =  i – 5) \nExit Condition — when x is greater than endlegs.\nIncrementation of x. x always increases by \nthe value of spacing. What is the range of \npossible value for spacing?\nUsing constrain() to ensure \nthe exit condition is met.\nPlacing mouseX inside the loop is not \na solution to the inﬁ nite loop problem.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 832
  },
  {
    "chunk_full": "88\nLearning processing\n Looking at the above examples, we can see that a  for loop consists of three parts: \n •  Initialization —Here, a variable is declared and initialized for use within the body of the loop. This \nvariable is most often used inside the loop as a counter. \n •  Boolean Test —This is exactly the same as the boolean tests found in conditional statements and \nwhile loops. It can be any expression that evaluates to true or false. \n •  Iteration Expression —The last element is an instruction that you want to happen with each loop \ncycle. Note that the instruction is executed at the end of each cycle through the loop. (You can have \nmultiple iteration expressions, as well as variable initializations, but for the sake of simplicity we will \nnot worry about this now.) \nSTART\nWITH THIS\nRUN THE CODE\nDO THIS\nRETURN TO #2\nfor (int i = 0;  i < 10;   i+ +) {\n #4 & #5 ARE “INVISIBLE”\n}\nTEST THIS\nIF FALSE\nEXIT\n1\n3\n4\n5\n2\n ﬁ g. 6.7  \n Increment/Decrement Operators \n Th e shortcut for adding or subtracting one from a variable is as follows: \n x ++;  is equivalent to:  x  \u0005  x  \u0002  1; \n meaning:  “ increment x by 1 ” or \n \n \n “ add 1 to the current value of x ” \n x \u0003 \u0003 ;  is equivalent to:  x  \u0005  x  \u0003  1; \n We also have: \n x \u0002 \u0005 2; same as x \u0005 x \u0002 2; \n x * \u0005 3;  same as x \u0005 x * 3; \n and so on. \n In English, the above code means: repeat this code 10 times. Or to put it even more simply: count from \nzero to nine! \n To the machine, it means the following: \n •  Declare a variable  i, \nand set its initial value to 0. \n •  While  i is less than 10, repeat this code. \n •  At the end of each iteration, add one to  i . \nA for loop can have its own variable just for the \npurpose of counting. A variable not declared at \nthe top of the code is called a local variable. \nWe will explain and deﬁ ne it shortly.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 833
  },
  {
    "chunk_full": "Loops\n 89\n Th e same exact loop can be programmed with the  while format: \n int i  =  0; \n while (i  <  10)  { \n  i + + ; \n  //lines of code to execute here \n } \n Rewriting the leg drawing code to use a  for statement looks like this: \n Example 6-6: Legs with a for loop \n int y  =  80;  \n// Vertical location of each line \n int spacing  =  10;  \n// How far apart is each line \n int len  =  20;  \n// Length of each line \n for (int x  =  50; x  < = 150; x + = spacing) { \n  line(x,y,x,y + len); \n } \nTranslation of the legs while\nloop to a for loop.\n Exercise 6-2: Rewrite Exercise 6-1 using a for loop.  \n \n \n size(200,200); \n background(255); \n for (int y  =________;________;________) { \n  stroke(0); \n  line(________,________,________,________); \n } \n size(200,200);\n background(255); \n for (________;________;________– \u0005 20) { \n  stroke(0); \n  fill(________); \n  ellipse(________,________,________,\n________);\n  ellipse(________,________,________,\n________);\n } \nThis is the translation of the for loop, using a while loop.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 834
  },
  {
    "chunk_full": "90\nLearning processing\n  Exercise 6-3: Following are some additional examples of loops. Match the appropriate \nscreenshot with the loop structure. Each example assumes the same four lines of initial code. \nA\nB\nC\nD\nsize(300,300);  \n// Just setting up the size\nbackground(255);  \n// Black background\nstroke(0);  \n// Shapes have white lines\nnoFill();  \n// Shapes are not filled in\n________ for (int i \u0005 0; i \u0007 10; i\u0002\u0002) {\n rect(i*20,height/2, 5, 5);\n}\n________ int i \u0005 0;\nwhile (i \u0007 10) {\n ellipse(width/2,height/2, i*10, i*20);\n i\u0002\u0002;\n}\n________ for (float i \u0005 1.0; i \u0007 width; i *\u0005 1.1) {\n rect(0,i,i,i*2);\n}\n________ int x \u0005 0;\nfor (int c \u0005 255; c \u0006 0; c –\u0005 15) {\n fill(c);\n rect(x,height/2,10,10);\n x \u0005 x \u0002 10;\n}\n 6.5  Local vs. Global Variables (AKA  “ Variable Scope ” ) \n Up until this moment, any time that we have used a variable, we have declared it at the top of our \nprogram above  setup( ) . \n int x  =  0; \n void setup()  { \n } \nWe have always declared our variables at the top of our code.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 835
  },
  {
    "chunk_full": "Loops\n 91\n Th is was a nice simpliﬁ cation and allowed us to focus on the fundamentals of declaring, initializing, and \nusing variables. Variables, however, can be declared anywhere within a program and we will now look at \nwhat it means to declare a variable somewhere other than the top and how we might go about choosing \nthe right location for declaring a variable. \n Imagine, for a moment, that a computer program is running your life. And in this life, variables are \npieces of data written on post-its that you need to remember. One post-it might have the address of a \nrestaurant for lunch. You write it down in the morning and throw it away after enjoying a nice turkey \nburger. But another post-it might contain crucial information (such as a bank account number), and you \nsave it in a safe place for years on end. Th is is the concept of  scope . Some variables exist (i.e., are accessible) \nthroughout the entire course of a program’s life— global variables —and some live temporarily, only for the \nbrief moment when their value is required for an instruction or calculation— local variables . \n In  Processing , global variables are declared at the top of the program, outside of both  setup( ) and  draw( ) . \nTh ese variables can be used in any line of code anywhere in the program. Th is is the easiest way to use a \nvariable since you do not have to remember when you can and cannot use that variable. You can  always \nuse that variable (and this is why we started with global variables only). \n Local variables are variables declared within a block of code. So far, we have seen many diﬀ erent examples \nof blocks of code:  setup( ) ,  draw( ) ,  mousePressed( ) , and  keyPressed( ) ,  if statements, and  while and  for loops. \n A local variable declared within a block of code is only available for use inside that speciﬁ c block of code where it was \ndeclared. If you try to access a local variable outside of the block where it was declared, you will get this error: \n “ No accessible ﬁ eld named  “ variableName ”  was found” \n Th is is the same exact error you would get if you did not bother to declare the variable  “ variableName ” at \nall.  Processing does not know what it is because no variable with that name exists within the block of code \nyou happen to be in. \n Here is an example where a local variable is used inside of  draw( ) for the purpose of executing a  while loop. \n Example 6-7: Local variable \n void setup()  { \n  size(200,200); \n } \n void draw()  { \n  background(0); \n int x  =  0; \n  while (x  < width) { \n   stroke(255); \n  line(x,0,x,height); \n   x  + = 5; \n  } \n } \nX is not available! It is local to the draw() block\nof code.\n void mousePressed()  { \n  println( \"The mouse was pressed! \");\n } \nX is not available! It is local to the draw( ) block\nof code.\nX is available! Since it is declared within the \ndraw() block of code, it is available here. \nNotice, however, that it is not available inside \ndraw() above where it is declared. Also, it \nis available inside the while block of code \nbecause while is inside of draw ().\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 836
  },
  {
    "chunk_full": "92\nLearning processing\n //SKETCH #1: Global \n //SKETCH #2: Local \n\" count \"\n\" count \"\n int count  = 0;\n void setup()  { \n  size(200,200); \n void setup()  { \n } \n  size(200,200); \n } \n void draw()  { \n  int count  \u0005 0;\n void draw()  { \n  count  \u0005  count  \u0005 1;\n  count  =  count  + 1;\n  background(count); \n  background(count); \n }    \n } \n________ \n________\nC\n Why bother? Couldn’t we just have declared  x as a global variable? While this is true, since we are only \nusing  x within the  draw( ) function, it is wasteful to have it as a global variable. It is more eﬃ  cient and \nultimately less confusing when programming to declare variables only within the scope of where they are \nnecessary. Certainly, many variables  need to be global, but this is not the case here. \n A for loop oﬀ ers up a spot for a local variable within the  “ initialization ” part: \n for (int i  =  0; i  <  100; i + = 10)  { \n stroke(255); \n fill(i); \n rect(i,0,10,height); \n } \n It is not required to use a local variable in the for loop, however, it is usually convenient to do so. \n It is theoretically possible to declare a local variable with the same name as a global variable. In this case, \nthe program will use the local variable within the current scope and the global variable outside of that \nscope. As a general rule, it is better to never declare multiple variables with the same name in order to \navoid this type of confusion. \ni is only available inside the for loop.\n Exercise 6-4: Predict the results of the following two programs. Test your theory by running them. \nA\nB\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 837
  },
  {
    "chunk_full": "Loops\n 93\n 6.6  Loop Inside the Main Loop \n Th e distinction between local and global variables moves us one step further toward successfully integrating \na loop structure into Zoog. Before we ﬁ nish this chapter, I want to take a look at one of the most common \npoints of confusion that comes with writing your ﬁ rst loop in the context of a  “ dynamic ”  Processing sketch. \n Consider the following loop (which happens to be the answer to \nExercise 6-2) . Th e outcome of the loop is shown in  Figure 6.8 . \n for (int y  =  0; y  <  height; y + = 10)  { \n  stroke(0); \n  line(0,y,width,y); \n } \n Let’s say we want to take the above loop and display each line one at a \ntime so that we see the lines appear animated from top to bottom. Our \nﬁ rst thought might be to take the above loop and bring it into a  dynamic\nProcessing sketch with  setup( ) and  draw( ) . \n void setup()  { \n  size(200,200); \n } \n void draw()  { \n  background(255); \n  for (int y  =  0; y  <  height; y + = 10)  { \n   stroke(0); \n   line(0,y,width,y); \n  } \n } \n If we read the code, it seems to make sense that we would see each line appear one at a time.  “ Set up a \nwindow of size 200 by 200 pixels. Draw a black background. Draw a line at  y equals 0. Draw a line at  y \nequals 10. Draw a line at  y equals 20. ” \n Referring back to Chapter 2, however, we recall that  Processing does not actually update the display \nwindow until the end  of  draw( ) is reached. Th is is crucial to remember when using  while and  for loops. \nTh ese loops serve the purpose of repeating something in the context of  one cycle through  draw( ) . Th ey are \na loop inside of the sketch’s main loop,  draw( ) . \n Displaying the lines one at a time is something we can do with a global variable in combination with the \nvery looping nature  of  draw( ) itself \n Example 6-8: Lines one at a time \n int y  =  0 ;\n void setup()  { \n  size(200,200); \n  background(0); \n  frameRate(5); \n } \n ﬁ g. 6.8  \nNo for loop here. Instead, a global variable.\nSlowing down the frame rate so we can \neasily see the effect.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 838
  },
  {
    "chunk_full": "94\nLearning processing\n void draw()  { \n  // Draw a line \n  stroke(255); \n  line(0,y,width,y); \n  // Increment y \n  y  + = 10; \n } \n Th e logic of this sketch is identical to Example 4 - 3 , our ﬁ rst motion sketch with variables. Instead of \nmoving a circle across the window horizontally, we are moving a line vertically (but not clearing the \nbackground for each frame). \nOnly one line is drawn each time through draw( ).\n Using a loop inside  draw( ) also opens up the possibility of interactivity. Example 6-9 displays a series of \nrectangles (from left to right), each one colored with a brightness according to its distance from the mouse. \n Example 6-9: Simple while loop with interactivity \n void setup()  { \n  size(255,255); \n  background(0); \n } \n void draw()  { \n  background(0); \n  // Start with i as 0 \n  int i  =  0; \n  // While i is less than the width of the window \n  while (i  <  width)  { \n   noStroke(); \n ﬁ g. 6.9 \n int endY; \n void setup()  { \n  size(200,200); \n  frameRate(5); \n  endY  =  ________; \n } \n void draw()  { \n  background(0); \n  for (int y  =  ________; ________; ________)  { \n   stroke(255); \n   line(0,y,width,y); \n  } \n ________; \n}\n Exercise 6-5: It is possible to achieve the eﬀ ect of rendering one line at a time using a for \nloop. See if you can ﬁ gure out how this is done. Part of the code is below. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 839
  },
  {
    "chunk_full": "Loops\n 95\n   float distance  =  abs(mouseX – i); \n   fill(distance); \n   rect(i,0,10,height); \n   // Increase i by 10 \n   i  + = 10; \n  } \n } \n Exercise 6-6: Rewrite Example 6-9 using a  for loop. \n 6.7  Zoog grows arms. \n We last left Zoog bouncing back and forth in our  Processing window. Th is new version of Zoog comes with \none small change. Example 6-10 uses  a  for loop to add a series of lines to Zoog’s body, resembling arms. \n Example 6-10: Zoog with arms \n int x  =  100; \n int y  =  100; \n int w  =  60; \n int h  =  60; \n int eyeSize  =  16; \n int speed  =  1; \n void setup()  { \n size(200,200);  \n smooth();\n } \n void draw() { \n  // Change the x location of Zoog by speed \n  x  =  x  +  speed; \n  // If we've reached an edge, reverse speed (i.e. multiply it by –1) \n  //(Note if speed is a  +  number, square moves to the right,– to the left) \n  if ((x  \u0006  width)\u0002(x  <  0))  { \n   speed  =  speed * –1; \n  } \n  background(255); // Draw a white background \n  // Set ellipses and rects to CENTER mode \n  ellipseMode(CENTER); \n  rectMode(CENTER); \n  // Draw Zoog's arms with a for loop \n  for (int i  =  y + 5; i  <  y  +  h; i + = 10)  { \n   stroke(0); \n   line(x–w/3,i,x + w/3,i); \n  } \nThat distance is used to ﬁ ll the color of a \nrectangle at horizontal location i.\n ﬁ g. 6.10  \nArms are incorporated into Zoog’s design with \na for loop drawing a series if lines.\nThe distance between the current rectangle and \nthe mouse is equal to the absolute value of the \ndifference between i and mouseX.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 840
  },
  {
    "chunk_full": "96\nLearning processing\n  // Draw Zoog's body \n  stroke(0); \n  fill(175); \n  rect(x,y,w/6,h*2); \n  // Draw Zoog's head \n  fill(255); \n  ellipse(x,y–h/2,w,h); \n  // Draw Zoog's eyes \n  fill(0); \n  ellipse(x–w/3,y–h/2,eyeSize,eyeSize*2); \n  ellipse(x + w/3,y–h/2,eyeSize,eyeSize*2); \n  // Draw Zoog's legs \n  stroke(0); \n  line(x–w/12,y + h,x–w/4,y + h + 10); \n  line(x + w/12,y + h,x + w/4,y + h + 10); \n } \n We can also use a loop to draw multiple instances of Zoog by placing the code for Zoog’s body inside of a \nfor loop. See Example 6–11 .\n Example 6-11: Multiple Zoogs \n int w  =  60; \n int h  =  60; \n int eyeSize  =  16; \n void setup()  { \n  size(400,200);  \n  smooth();       \n } \n void draw()  { \n background(255); \n ellipseMode(CENTER); \n rectMode(CENTER); \n int y  =  height/2; \n // Multiple versions of Zoog \n for (int x  =  80; x  <  width; x + = 80)  { \n  // Draw Zoog's body \n  stroke(0); \n  fill(175); \n  rect(x,y,w/6,h*2); \n  // Draw Zoog's head \n  fill(255); \n  ellipse(x,y–h/2,w,h); \n  // Draw Zoog's eyes \n  fill(0); \n  ellipse(x–w/3,y–h/2,eyeSize,eyeSize*2); \n  ellipse(x + w/3,y–h/2,eyeSize,eyeSize*2); \n ﬁ g. 6.11  \nThe variable x is now included in a for loop, \nin order to iterate and display multiple Zoogs!\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 841
  },
  {
    "chunk_full": "Loops\n 97\n  // Draw Zoog's legs \n  stroke(0); \n  line(x–w/12,y + h,x–w/4,y + h +10);\n  line(x + w/12,y + h,x + w/4,y + h +10); } \n } \n Exercise 6-7: Add something to your design using a  for or  while loop. Is there anything you \nalready have which could be made more eﬃ  cient with a loop? \n Exercise 6-8: Create a grid of squares (each colored randomly) using a  for loop. (Hint: You \nwill need two  for loops!) Recode the same pattern using a  “ while ” loop instead of  “ for. ”  \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 842
  },
  {
    "chunk_full": "98\nLearning processing\n Lesson Two Project \n Step 1.  Take your Lesson One design and rewrite it with variables instead of \nhard-coded values. Consider using a  for loop in the creation of your \ndesign. \n Step 2.  Write a series of assignment operations that alter the values of those \nvariables and make the design dynamic. You might also use system \nvariables, such as  width ,  height, mouseX , and  mouseY . \n Step 3.  Using conditional statements, alter the behavior of your design based on \ncertain conditions. What happens if it touches the edge of the screen, or \nif it grows to a certain size? What happens if you move the mouse over \nelements in your design? \n Use the space provided below to sketch designs, notes, and pseudocode for your \nproject. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 843
  },
  {
    "chunk_full": "Lesson Three\nOrganization\n7 Functions\n8 Objects\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 844
  },
  {
    "chunk_full": "This page intentionally left blank\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 845
  },
  {
    "chunk_full": "Functions\n 101\n 7  Functions \n “ When it’s all mixed up, better break it down. ” \n —Tears for Fears \nIn this chapter: \n –  Modularity. \n –  Declaring and deﬁ ning a function. \n –  Calling a function. \n –  Parameter passing. \n –  Returning a value. \n –  Reusability. \n 7.1  Break It Down \n Th e examples provided in Chapters 1 through 6 are short. We probably have not looked at a sketch with \nmore than 100 lines of code. Th ese programs are the equivalent of writing the opening paragraph of this \nchapter, as opposed to the whole chapter itself. \n Processing is great because we can make interesting visual sketches with small amounts of code. But as \nwe move forward to looking at more complex projects, such as network applications or image processing \nprograms, we will start to have hundreds of lines of code. We will be writing essays, not paragraphs. And \nthese large amounts of code can prove to be unwieldy inside of our two main blocks— setup( ) and  draw( ). \n Functions are a means of taking the parts of our program and separating them out into modular pieces, \nmaking our code easier to read, as well as to revise. Let’s consider the video game Space Invaders. Our steps \nfor  draw( ) might look something like: \n •  Erase background. \n •  Draw spaceship. \n •  Draw enemies. \n •  Move spaceship according to user  keyboard interaction. \n •  Move enemies. \nWhat ’ s in a name?\nFunctions are often called other things, such as “Procedures” or “Methods” or “Subroutines.” In \nsome programming languages, there is a distinction between a procedure (performs a task) and a \nfunction (calculates a value). In this chapter, I am choosing to use the term function for simplicity’s \nsake. Nevertheless, the technical term in the Java programming language is “method” (related to \nJava’s object-oriented design) and once we get into objects in Chapter 8, we will use the term \n“method” to describe functions inside of objects.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 846
  },
  {
    "chunk_full": "102\nLearning Processing\n Before this chapter on functions, we would have translated the above pseudocode into actual code, and \nplaced it inside  draw( ) . Functions, however, will let us approach the problem as follows: \n void draw()  { \n background(0); \n drawSpaceShip(); \n drawEnemies(); \n moveShip(); \n moveEnemies(); \n } \n Th e above demonstrates how functions will make our lives easier with clear and easy to manage code. \nNevertheless, we are missing an important piece: the function  deﬁ nitions. Calling a function is old hat. \nWe do this all the time when we write  line( ) ,  rect( ) ,  ﬁ ll( ) , and so on. Deﬁ ning a new  “ made-up ” function \nis going to be hard work. \n Before we launch into the details, let’s reﬂ ect on why writing our own functions is so important: \n •  Modularity —Functions break down a larger program into smaller parts, making code more \nmanageable and readable. Once we have figured out how to draw a spaceship, for example, we can \ntake that chunk of spaceship drawing code, store it away in a function, and call upon that function \nwhenever necessary (without having to worry about the details of the operation itself). \n •  Reusability —Functions allow us to reuse code without having to retype it. What if we want to \nmake a two player Space Invaders game with two spaceships? We can  reuse the  drawSpaceShip( ) \nfunction by calling it multiple times without having to repeat code over and over. \n In this chapter, we will look at some of our previous programs, written without functions, and demonstrate \nthe power of modularity and reusability by incorporating functions. In addition, we will further emphasize \nthe distinctions between local and global variables, as functions are independent blocks of code that will \nrequire the use of local variables. Finally, we will continue to follow Zoog’s story with functions. \nWe are calling functions we made up inside of draw()!\n Exercise 7-1: Write your answers below. \n What functions might you write for \nyour Lesson Two Project? \n What functions might you write in order \nto program the game Pong? \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 847
  },
  {
    "chunk_full": "Functions\n 103\n 7.2  “ User Deﬁ ned ” Functions \n In  Processing , we have been using functions all along. When we say  “ line(0,0,200,200); ” we are calling the \nfunction  line( ) , a built-in function of the  Processing environment. Th e ability to draw a line by calling the \nfunction  line( ) does not magically exist. Someone, somewhere deﬁ ned (i.e., wrote the underlying code \nfor) how  Processing should display a line. One of  Processing ’s strengths is its library of available functions, \nwhich we have started to explore throughout the ﬁ rst six chapters of this book. Now it is time to move \nbeyond the built-in functions of  Processing and write our own  user-deﬁ ned ( AKA  “ made-up ” ) functions . \n 7.3  Deﬁ ning a Function \n A function deﬁ nition (sometimes referred to as a  “ declaration ” ) has three parts: \n •  Return type. \n •  Function name. \n •  Arguments. \n It looks like this: \n returnType \nfunctionName (arguments )  { \n // Code body of function \n } \nDeja vu?\nRemember when in Chapter 3 we introduced the functions setup( ) and draw( )? Notice that they \nfollow the same format we are learning now.\nsetup( ) and draw( ) are functions we deﬁ ne and are called automatically by Processing in order to \nrun the sketch. All other functions we write have to be called by us.\n For now, let’s focus solely on the functionName and code body, ignoring  “ returnType ” and  “ arguments ” . \n Here is a simple example: \n Example 7-1: Deﬁ ning a function \n void drawBlackCircle()  { \n fill(0); \n ellipse(50,50,20,20); \n } \n Th is is a simple function that performs one basic task: drawing an ellipse colored black at coordinate \n(50,50). Its name— drawBlackCircle( ) —is arbitrary (we made it up) and its code body consists of two \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 848
  },
  {
    "chunk_full": "104\nLearning Processing\n void setup()  { \n size(200,200); \n } \n void draw()  { \n background(0); \n ______________________________________________________ \n } \n ___________________  _________________  ________________ { \n ______________________________________________________ \n ______________________________________________________ \n ______________________________________________________ \n ______________________________________________________ \n __________________ \n Exercise 7-2: Write a function that displays Zoog (or your own design). Call that function \nfrom within  draw( ) . \ninstructions (we can have as much or as little code as we choose). It is also important to remind ourselves \nthat this is only the  deﬁ nition of the function. Th e code will never happen unless the function is actually \ncalled from a part of the program that is being executed. Th is is accomplished by referencing the function \nname, that is, calling a function, as shown in Example 7-2. \n Example 7-2: Calling a function \n void draw()  { \n background(255); \n drawBlackCircle(); \n } \n 7.4  Simple Modularity \n Let’s examine the bouncing ball example from Chapter 5 and rewrite it using functions, illustrating \none technique for breaking a program down into modular parts. Example 5-6 is reprinted here for your \nconvenience. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 849
  },
  {
    "chunk_full": "Functions\n 105\n Example 5-6: Bouncing ball \n // Declare global variables \n int x  =  0; \n int speed  =  1; \n void setup()  { \n size(200,200); \n smooth(); \n } \n void draw()  { \n background(255); \n // Change x by speed \n x  =  x  +  speed; \n // If we’ve reached an edge, reverse speed \n if ((x  >  width) || (x  <  0))  { \n speed  =  speed *  –1;\n } \n // Display circle at x location \n stroke(0); \n fill(175); \n ellipse(x,100,32,32); \nMove the ball!\nBounce the ball!\nDisplay the ball!\n } \nOnce we have determined how we want to divide the code up into functions, we can take the pieces out \nof  draw( ) and insert them into function deﬁ nitions, calling those functions inside  draw( ) . Functions \ntypically are written below  draw( ) .\n Example 7-3: Bouncing ball with functions \n // Declare all global variables (stays the same) \n int x  =  0; \n int speed  =  1; \n // Setup does not change \n void setup()  { \n size(200,200); \n smooth(); \n } \n void draw()  { \n background(255); \n move(); \n bounce(); \n display(); \n } \nInstead of writing out all the code about the \nball is draw(), we simply call three functions. \nHow do we know the names of these \nfunctions? We made them up!\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 850
  },
  {
    "chunk_full": "106\nLearning Processing\n // A function to move the ball \n void move()  { \n // Change the x location by speed \n x  =  x  +  speed; \n } \n // A function to bounce the ball \n void bounce()  { \n // If we’ve reached an edge, reverse speed \n if ((x  >  width) || (x  <  0))  { \n speed  =  speed *  - 1; \n } \n } \n // A function to display the ball \n void display()  { \n stroke(0); \n fill(175); \n ellipse(x,100,32,32); \n } \n Note how simple  draw( ) has become. Th e code is reduced to function  calls ; the detail for how variables \nchange and shapes are displayed is left for the function  deﬁ nitions. One of the main beneﬁ ts here is \nthe programmer’s sanity. If you wrote this program right before leaving on a two-week vacation in the \nCaribbean, upon returning with a nice tan, you would be greeted by well-organized, readable code. To \nchange how the ball is rendered, you only need to make edits to the  display( ) function, without having \nto search through long passages of code or worrying about the rest of the program. For example, try \nreplacing  display( ) with the following: \n void display()  { \n background(255); \n rectMode(CENTER); \n noFill(); \n stroke(0); \n rect(x,y,32,32); \n ﬁ ll(255); \n rect(x - 4,y - 4,4,4); \n rect(x + 4,y - 4,4,4); \n line(x - 4,y + 4,x + 4,y + 4); \n } \n Another beneﬁ t of using functions is greater ease in debugging. Suppose, for a moment, that our \nbouncing ball function was not behaving appropriately. In order to ﬁ nd the problem, we now \nhave the option of turning on and oﬀ  parts of the program. For example, we might simply run the \nprogram with  display( ) only, by commenting out  move( ) and  bounce( ) : \n void draw()  { \n background(0); \n // move(); \n // bounce(); \n display(); \n } \n Th e function deﬁ nitions for  move( ) and  bounce( ) still exist, only now the functions are not being \ncalled. By adding function calls one by one and executing the sketch each time, we can more easily \ndeduce the location of the problematic code. \nWhere should functions be \nplaced?\nYou can deﬁ ne your \nfunctions anywhere in the \ncode outside of setup() and \ndraw().\nHowever, the convention \nis to place your function \ndeﬁ nitions below draw().\nIf you want to change the appearance of the \nshape, the display() function can be rewritten \nleaving all the other features of the sketch intact.\nFunctions can be commented out to determine if \nthey are causing a bug or not.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 851
  },
  {
    "chunk_full": "Functions\n 107\n _______________________________________________________________ \n _______________________________________________________________ \n _______________________________________________________________ \n _______________________________________________________________ \n _______________________________________________________________ \n Exercise 7-3: Take any Processing program you have written and modularize it using \nfunctions, as above. Use the following space to make a list of functions you need to write. \n 7.5  Arguments \n Just a few pages ago we said  “ Let’s ignore  ReturnType and  Arguments . ”  We did this in order to ease into \nfunctions by sticking with the basics. However, functions possess greater powers than simply breaking a \nprogram into parts. One of the keys to unlocking these powers is the concept of  arguments (AKA  “ parameters ” ). \n Arguments are values that are  “ passed ” into a function. You can think of them as conditions under which \nthe function should operate. Instead of merely saying  “ Move, ” a function might say  “ Move  N number of \nsteps, ” where  “ N  ” is the argument. \n When we display an ellipse in  Processing , we are required to specify details about that ellipse. We can’t just \nsay draw an ellipse, we have to say draw an ellipse  at this location and  with this size . Th ese are the  ellipse( ) \nfunction’s  arguments and we encountered this in Chapter 1 when we learned to call functions for the ﬁ rst \ntime. \n Let’s rewrite  drawBlackCircle( ) to include an argument: \n void drawBlackCircle(int diameter)  { \n fill(0); \n ellipse(50,50, diameter, diameter); \n } \n An argument is simply a variable declaration inside the parentheses in the function deﬁ nition. \nTh is variable is a  local variable (Remember our discussion in Chapter 6?) to be used in that function \n(and only in that function). Th e white circle will be sized according to the value placed in parentheses. \n drawBlackCircle(16);  // Draw the circle with a diameter of 16 \n drawBlackCircle(32);  // Draw the circle with a diameter of 32 \n Looking at the bouncing ball example, we could rewrite the  move( ) function to include an argument: \n void move(int speedFactor)  { \n x  =  x  +  (speed * speedFactor); \n } \n“diameter” is an arguments to \nthe function drawBlackCircle().\nThe argument “speedFactor” \naffects how fast the circle moves.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 852
  },
  {
    "chunk_full": "108\nLearning Processing\n In order to move the ball twice as fast: \n move(2); \n Or by a factor of 5: \n move(5); \n We could also pass another variable or the result of a mathematical expression (such as  mouseX divided by 10) \ninto the function. For example: \n move(mouseX/10); \n Arguments pave the way for more ﬂ exible, and therefore reusable, functions. To demonstrate this, we will \nlook at code for drawing a collection of shapes and examine how functions allow us to draw multiple \nversions of the pattern without retyping the same code over and over. \n Leaving Zoog until a bit later, consider the following pattern resembling a car (viewed from above as \nshown in  Figure 7.1 ): \n size(200,200); \n background(255); \n int x  =  100; \n // x location \n int y  =  100;   \n// y location \n int thesize  =  64;  \n// size \n int offset  =  thesize/4;  // position of wheels relative to car \n // draw main car body (i.e. a rect) \n rectMode(CENTER); \n stroke(0); \n fill(175); \n rect(x,y,thesize,thesize/2); \n // draw four wheels relative to center \n fill(0); \n rect(x – offset,y – offset,offset,offset/2); \n rect(x + offset,y – offset,offset,offset/2); \n rect(x – offset,y + offset,offset,offset/2); \n rect(x + offset,y + offset,offset,offset/2); \n To draw a second car, we repeat the above code with diﬀ erent values, as shown in  Figure 7.2 . \n x  =  50; \n // x location \n y  =  50;  \n// y location \n thesize  =  24;  \n// size \n offset  =  thesize/4;  // position of wheels relative to car \n // draw main car body (i.e. a rect) \n rectMode(CENTER); \n stroke(0); \n fill(175); \n rect(x,y,thesize,thesize/2); \n // draw four wheels relative to center \n fill(0); \n rect(x - offset,y - offset,offset,offset/2); \n rect(x + offset,y - offset,offset,offset/2); \n rect(x - offset,y + offset,offset,offset/2); \n rect(x + offset,y+offset,offset,offset/2); \n ﬁ g. 7.2  \n ﬁ g. 7.1  \nThe car shape is ﬁ ve rectangles, \none large rectangle in the center \nand  four wheels on the outside.\nEvery single line of code is \nrepeated to draw the second car.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 853
  },
  {
    "chunk_full": "Functions\n 109\n It should be fairly apparent where this is going. After all, we are doing the same thing twice, why bother \nrepeating all that code? To escape this repetition, we can move the code into a function that displays the \ncar according to several arguments (position, size, and color). \n void drawcar(int x, int y, int thesize, color c)  { \n // Using a local variable  \"offset\" \n int offset  =  thesize/4; \n // Draw main car body \n rectMode(CENTER); \n stroke(200); \n fill(c); \n rect(x,y,thesize,thesize/2); \n // Draw four wheels relative to center \n fill(200); \n rect(x - offset,y - offset,offset,offset/2); \n rect(x + offset,y - offset,offset,offset/2); \n rect(x - offset,y + offset,offset,offset/2); \n rect(x + offset,y + offset,offset,offset/2); \n } \n In the  draw( ) function, we then call the  drawCar( ) function three times, passing \nfour  parameters each time. See the output in  Figure 7.3 . \n void setup()  { \n size(200,200); \n } \n void draw()  { \n background(0); \n drawCar(100,100,64,color(200,200,0)); \n drawCar(50,75,32,color(0,200,100)); \n drawCar(80,175,40,color(200,0,0)); \n } \n Technically speaking,  arguments are the variables that live inside the parentheses in the function \ndeﬁ nition, that is,  “ void drawCar(int x, int y, int thesize, color c) . ”  Parameters are the values passed into \nthe function when it is called, that is,  “ drawCar(80,175,40,color (100,0,100)); ” . Th e semantic diﬀ erence \nbetween arguments and parameters is rather trivial and we should not be terribly concerned if we confuse \nthe use of the two words from time to time.\n Th e concept to focus on is this ability to  pass parameters. We will not be able to advance our \nprogramming knowledge unless we are comfortable with this technique. \n Let’s go with the word  pass . Imagine a lovely, sunny day and you are playing catch with a friend in \nthe park. You have the ball. You (the main program) call the function (your friend) and pass the ball \n ﬁ g. 7.3  \ndrawCar(80,175,40,color(100,0,100));\npassing\nparameters\nvoid drawCar(int x, int y, int thesize, color C) {\n  // CODE BODY\n}\n ﬁ g. 7.4  \nThis code is the function deﬁ nition.\nThe function drawCar( ) draws a car \nshape based on four arguments: \nhorizontal location, vertical location, \nsize, and color.\nLocal variables can be declared and \nused in a function!\nThis code calls the function three \ntimes, with the exact number of \nparameters in the right order.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 854
  },
  {
    "chunk_full": "110\nLearning Processing\n(the argument). Your friend (the function) now has the ball (the argument) and can use it however he or \nshe pleases (the code itself inside the function) See Figure 7.4. \n Important Th ings to Remember about Passing Parameters \n •  You must pass the same number of parameters as defined in the function. \n •  When a parameter is passed, it must be of the same  type as declared within the arguments \nin the function definition. An integer must be passed into an integer, a floating point into a \nfloating point, and so on. \n •  The value you pass as a parameter to a function can be a literal value (20, 5, 4.3, etc.), a \nvariable (x, y, etc.), or the result of an expression (8  \u0002  3, 4 * x/2, random(0,10), etc.) \n •  Arguments act as local variables to a function and are only accessible within that function. \n void sum(int a, int b, int c)  { \n int total  =  a  + b  +  c;\n println(total); \n } \n Looking at the function deﬁ nition above, write the code that calls the function. \n ________________________________________________________________ \n Exercise 7-4: Th e following function takes three numbers, adds them together, and prints the \nsum to the message window. \n Exercise 7-5: OK, here is the opposite problem. Here is a line of code that assumes a function \nthat takes two numbers, multiplies them together, and prints the result to a message window. \nWrite the function deﬁ nition that goes with this function call. \n multiply(5.2,9.0); \n ________________________________________________________________ \n ________________________________________________________________ \n ________________________________________________________________ \n ________________________________________________________________ \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 855
  },
  {
    "chunk_full": "Functions\n 111\n int globalX  = 0;\n int globalY  =  100; \n int speed  = 1;\n void setup()  { \n size(200,200); \n smooth(); \n } \n void draw()  { \n background(0); \n  _______________________________________________________________ \n  _______________________________________________________________ \n  _______________________________________________________________ \n } \n void move()  { \n // Change the x location by speed \n globalX  =  globalX  +  speed; \n } \n void bounce()  { \n if ((globalX  >  width) || (globalX  < 0)) { \n speed  =  speed * –1; \n } \n } \n void drawCar(int x, int y, int thesize, color c)  { \n int offset  =  thesize / 4; \n rectMode(CENTER); \n stroke(200); \n fill(c); \n rect(x,y,thesize,thesize/2); \n fill(200); \n Exercise 7-6: Here is the bouncing ball from Example 5-6 combined with the  drawCar( ) \nfunction. Fill in the blanks so that you now have a bouncing car with parameter passing! (Note \nthat the global variables are now named globalX and globalY to avoid confusion with the local \nvariables x and y in  drawCar( ) ). \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 856
  },
  {
    "chunk_full": "112\nLearning Processing\n rect(x - offset,y - offset,offset,offset/2);\n rect(x + offset,y - offset,offset,offset/2);\n rect(x - offset,y + offset,offset,offset/2);\n rect(x + offset,y + offset,offset,offset/2);\n } \n 7.6  Passing a Copy \n Th ere is a slight problem with the  “ playing catch ” analogy. What I really should have said is the following. \nBefore tossing the ball (the argument), you make a copy of it (a second ball), and pass it to the receiver \n(the function). \n Whenever you pass a primitive value (integer, ﬂ oat, char, etc.) to a function, you do not actually pass the \nvalue itself, but a copy of that variable. Th is may seem like a trivial distinction when passing a hard-coded \nnumber, but it is not so trivial when passing a variable. \n Th e following code has a function entitled  randomizer( ) that receives one argument (a ﬂ oating point \nnumber) and adds a random number between  – 2 and 2 to it. Here is the pseudocode. \n •  num is the number 10. \n •  num is displayed:  10 \n •  A copy of num is passed into the argument  newnum in the function  randomizer( ) . \n •  In the function  randomizer( ) : \n –  a random number is added to  newnum . \n –  newnum is displayed:  10.34232 \n •  num is displayed again:  Still 10! A copy was sent into newnum so num has not changed. \nAnd here is the code:\n void setup()  { \n float num  =  10; \n println( \" The number is:  \"  +  num); \n randomizer(num); \n println( \" The number is:  \"  +  num); \n } \n void randomizer(float newnum)  { \n newnum  =  newnum  +  random( – 2,2); \n println( \" The new number is:  \"  +  newnum); \n } \n Even though the variable  num was passed into the variable  newnum, which then quickly changed values, \nthe original value of the variable  num was not aﬀ ected because a copy was made. \n I like to refer to this process as  “ pass by copy, ” however, it is more commonly referred to as  “ pass by value. ” \nTh is holds true for all primitive data types (the only kinds we know about so far: integer, ﬂ oat, etc.), but \nwill not be the case when we learn about  objects in the next chapter. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 857
  },
  {
    "chunk_full": "Functions\n 113\n void setup() { \n println( \"a\");\n function1(); \n println( \"b\");\n } \n void draw()  { \n println( \"c\");\n function2(); \n println( \"d\");\n function1(); \n noLoop(); \n } \n void function1()  { \n println( \"e\");\n println( \"f\");\n } \n void function2()  { \n println( \"g\");\n function1(); \n println( \"h\");\n } \n Th is example also gives us a nice opportunity to review the  ﬂ ow of a program when using a function. \nNotice how the code is executed in the order that the lines are written, but when a function is called, the \ncode leaves its current line, executes the lines inside of the function, and then comes back to where it left \noﬀ . Here is a description of the above example’s ﬂ ow: \n1. \n Set num equal to 10. \n2. \n Print the value of num. \n3. \n Call the function randomizer. \n a. Set newnum equal to newnum plus a random number. \n b. Print the value of newnum. \n4. \n Print the value of num. \n Exercise 7-7: Predict the output of this program by writing out what would appear in the \nmessage window. \nNew! noLoop() is a built-in \nfunction in Processing that \nstops draw() from looping. \nIn this case, we can use it \nto ensure that draw() only \nexecutes one time. We \ncould restart it at some \nother point in the code by \ncalling the function loop().\nIt is perfectly reasonable \nto call a function from \nwithin a function. In fact, \nwe do this all the time \nwhenever we call any \nfunction from inside of \nsetup() or draw().\nOutput:\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 858
  },
  {
    "chunk_full": "114\nLearning Processing\n 7.7  Return Type \n So far we have seen how functions can separate a sketch into smaller parts, as well as incorporate \narguments to make it reusable. Th ere is one piece missing still, however, from this discussion and it is the \nanswer to the question you have been wondering all along:  “ What does  void mean? ” \n As a reminder, let’s examine the structure of a function deﬁ nition again: \nReturnType \nFunctionName \n( Arguments )  { \n //code body of function \n } \n OK, now let’s look at one of our functions: \n // A function to move the ball \n void move(int speedFactor)  { \n // Change the x location of organism by speed multiplied by speedFactor \n x  =  x  +  (speed * speedFactor); \n } \n “ move ” is the  FunctionName ,  “ speedFactor ” is an  Argument to the function and  “ void ” is the \nReturnType . All the functions we have deﬁ ned so far did not have a return type; this is precisely what \n “ void ” means: no return type. But what is a return type and when might we need one? \n Let’s recall for a moment the  random( ) function we examined in Chapter 4. We asked the function for a \nrandom number between 0 and some value, and  random( ) graciously heeded our request and gave us back \na random value within the appropriate range. Th e  random( ) function  returned a value. What type of a \nvalue? A ﬂ oating point number. In the case of  random( ) , therefore, its  return type is a  ﬂ oat . \n Th e  return type is the data type that the function returns. In the case of  random( ) , we did not specify the \nreturn type, however, the creators of  Processing did, and it is documented on the reference page for  random( ). \n Each time the  random( ) function is called, it returns an unexpected value within the speciﬁ ed range. If one \nparameter is passed to the function it will return a ﬂ oat between zero and the value of the parameter. Th e \nfunction call  random(5) returns values between 0 and 5. If two parameters are passed, it will return a ﬂ oat \nwith a value between the parameters. Th e function call  random(–5, 10.2) returns values between –5 \nand 10.2. \n —From  http://www.processing.org/reference/random.html \n If we want to write our own function that returns a value, we have to specify the type in the function \ndeﬁ nition. Let’s create a trivially simple example:\n int sum(int a, int b, int c)  { \n int total  =  a  +  b +  c; \n return total; \n } \n Instead of writing  void as the return type as we have in previous examples, we now write  int . Th is speciﬁ es \nthat the function must return a value of type integer. In order for a function to return a value, a  return \nstatement is required. A return statement looks like this: \nreturn valueToReturn; \nThis function, which adds three numbers \ntogether, has a return type — int.\nA return statement is required! A function with a return \ntype must always return a value of that type.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 859
  },
  {
    "chunk_full": "Functions\n 115\n If we did not include a return statement,  Processing would give us an error: \nTh e method  “ int sum(int a, int b, int c); ” must contain a return statement with an expression compatible \nwith type  “ int. ” \n As soon as the return statement is executed, the program exits the function and sends the returned value \nback to the location in the code where the function was called. Th at value can be used in an assignment \noperation (to give another variable a value) or in any appropriate expression. See the illustration in \n Figure 7.5 . Here are some examples: \n int x  =  sum(5,6,8); \n int y  =  sum(8,9,10) * 2; \n int z  =  sum(x,y,40); \n line(100,100,110,sum(x,y,z)); \n I hate to bring up playing catch in the park again, but you \ncan think of it as follows. You ( the main program ) throw a \nball to your friend ( a function ). After your friend catches \nthat ball, he or she thinks for a moment, puts a number \ninside the ball ( the return value ) and passes it back to you. \n Functions that return values are traditionally used to perform complex calculations that may need to be \nperformed multiple times throughout the course of the program. One example is calculating the distance \nbetween two points: ( x 1, y 1) and ( x 2, y 2). Th e distance between pixels is a very useful piece of information in \ninteractive applications.  Processing , in fact, has a built-in distance function that we can use. It is called  dist( ) . \n float d  =  dist(100, 100, mouseX, mouseY); \n Th is line of code calculates the distance between the mouse location and the point (100,100). For the \nmoment, let’s pretend  Processing did not include this function in its library. Without it, we would have to \ncalculate the distance manually, using the Pythagorean Th eorem, as shown in  Figure 7.6 . \na2 \u0002 b2 \u0005 c2\na\nc\nb\nc \u0005 √a2 \u0002 b2\nmouseX\nmouseX \u0003 100\nmouseY\nmouseY \u0003 100\ndistance\n(100,100)\n(mouseX\nmouseX, mouseY\nmouseY)\ndx\ndy\ndistance \u0005 √dx2 \u0002 dy2\n\u0005 sqrt (dx*dx \u0002 dy*dy);\n ﬁ g. 7.6  \nint answer = sum(5,10,32);\nint sum(int a, int b, int c) {\n  int total = a + b + c;\n  return total;\n}\ntot\nal\nis\nre\nt\nu\nr\nn\ne\nd\nt\no\nh\ne\nr\ne\n ﬁ g. 7.5  \nCalculating the distance between \n(100,100) and (mouseX,mouseY).\n float dx  =  mouseX – 100; \n float dy  =  mouseY – 100; \n float d  =  sqrt(dx*dx  +  dy*dy); \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 860
  },
  {
    "chunk_full": " If we wanted to perform this calculation many times over the course of a program, it would be easier to \nmove it into a function that returns the value  d . \n float distance(float x1, float y1, float x2, float y2)  { \n float dx  =  x1 –  x2; \n float dy  =  y1 –  y2; \n float d  =  sqrt(dx*dx  +  dy*dy); \n return d; \n } \n Note the use of the return type  ﬂ oat. Again, we do not have to write this function because  Processing \nsupplies it for us. But since we did, we can now look at an example that makes use of this function. \n Example 7-4: Using a function that returns a value, distance \n void setup()  { \n size(200,200); \n } \n void draw()  { \n background(0); \n stroke(0); \n // Top left square \n fill(distance(0,0,mouseX,mouseY)); \n rect(0,0,width/2 – 1,height/2 – 1); \n // Top right square \n fill(distance(width,0,mouseX,mouseY)); \n rect(width/2,0,width/2 – 1,height/2 – 1); \n // Bottom left square \n fill(distance(0,height,mouseX,mouseY)); \n rect(0,height/2,width/2 – 1,height/2 – 1); \n // Bottom right square \n fill(distance(width,height,mouseX,mouseY)); \n rect(width/2,height/2,width/2 – 1,height/2 – 1); \n } \n float distance(float x1, float y1, float x2, float y2) \n { \n float dx  =  x1 –  x2; \n float dy  =  y1 –  y2; \n float d  =  sqrt(dx*dx +  dy*dy); \n return d; \n } \n ﬁ g. 7.7  \nOur version of Processing’s \ndist() function.\nOur distance function \nis used to calculate a \nbrightness value for \neach quadrant. We could \nuse the built-in function \ndist() instead, but we are \nlearning how to write our \nown functions.\n116\nLearning Processing\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 861
  },
  {
    "chunk_full": "Functions\n 117\n 7.8  Zoog Reorganization \n Zoog is now ready for a fairly major overhaul. \n •  Reorganize Zoog with two functions:  drawZoog( ) and  jiggleZoog( ) . Just for variety, we are going to \nhave Zoog jiggle (move randomly in both the  x and  y directions) instead of bouncing back and forth. \n •  Incorporate arguments so that Zoog’s jiggliness is determined by the  mouseX position and Zoog’s \neye color is determined by Zoog’s distance to the mouse. \n Example 7-5: Zoog with functions \n float x  =  100; \n float y  =  100; \n float w  =  60; \n float h  =  60; \n float eyeSize  =  16; \n void setup()  { \n size(200,200);  \n smooth();  \n } \n void draw()  { \n background(255);  // Draw a black background \n // mouseX position determines speed factor for moveZoog function \n // float factor  =  constrain(mouseX/10,0,5); \n jiggleZoog(factor); \n // pass in a color to drawZoog \n// function for eye's color \n float d  =  dist(x,y,mouseX,mouseY); \n color c  =  color(d); \n drawZoog(c); \n } \n ﬁ g. 7.8  \n Exercise 7-8: Write a function that takes one argument—F for Fahrenheit—and computes \nthe result of the following equation (converting the temperature to Celsius). \nC  \u0005  (F  \u0003 32) * (5/9) \n______ tempConverter(float ________)  { \n  ______ _______  =  _______________ \n  ______________________________ \n } \nThe code for changing the variables \nassociated with Zoog and displaying Zoog is \nmoved outside of draw() and into functions \ncalled here. The functions are given \narguments, such as “Jiggle Zoog by the \nfollowing factor” and “draw Zoog with the \nfollowing eye color.”\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 862
  },
  {
    "chunk_full": " void jiggleZoog(float speed)  { \n // Change the x and y location of Zoog randomly \n x  =  x  +  random( - 1,1)*speed; \n y  =  y  +  random( - 1,1)*speed; \n // Constrain Zoog to window \n x  =  constrain(x,0,width); \n y  =  constrain(y,0,height); \n } \n void drawZoog(color eyeColor)  { \n // Set ellipses and rects to CENTER mode \n ellipseMode(CENTER); \n rectMode(CENTER); \n // Draw Zoog's arms with a for loop \n for (float i  =  y - h/3; i  <  y  +  h/2; i + =  10)  { \n stroke(0); \n line(x - w/4,i,x + w/4,i); \n } \n // Draw Zoog's body \n stroke(0); \n fill(175); \n rect(x,y,w/6,h); \n // Draw Zoog's head \n stroke(0); \n fill(255); \n ellipse(x,y - h,w,h); \n // Draw Zoog's eyes \n fill(eyeColor); \n ellipse(x - w/3,y - h,eyeSize,eyeSize*2); \n ellipse(x + w/3,y - h,eyeSize,eyeSize*2); \n // Draw Zoog's legs \n stroke(0); \n line(x - w/12,y + h/2,x - w/4,y + h/2 + 10); \n line(x + w/12,y + h/2,x + w/4,y + h/2 + 10); \n } \n Exercise 7-9: Following is a version of Example 6-11 ( “ multiple Zoogs ” ) that calls a function to draw \nZoog. Write the function deﬁ nition that completes this sketch. Feel free to redesign Zoog in the process. \n void setup()  { \n size(400,200);  // Set the size of the window \n smooth();  \n// Enables Anti-Aliasing (smooth edges on \nshapes)\n } \n118\nLearning Processing\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 863
  },
  {
    "chunk_full": "Functions\n 119\n void draw()  { \n background(0);  // Draw a black background \n int y  =  height/2; \n // Multiple versions of Zoog are displayed by using a for loop \n for (int x  =  80; x  <  width; x  + = 80) { \n drawZoog(x,100,60,60,16); \n } \n } \n _____________________________________________________________________ \n _____________________________________________________________________ \n _____________________________________________________________________ \n _____________________________________________________________________ \n _____________________________________________________________________ \n _____________________________________________________________________ \n _____________________________________________________________________ \n _____________________________________________________________________ \n Exercise 7-10: Rewrite your Lesson Two Project using functions. Still 10! A copy was sent into \nnewnum so num has not changed. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 864
  },
  {
    "chunk_full": "This page intentionally left blank\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 865
  },
  {
    "chunk_full": "Objects\n 121\n  8  Objects \n “ No object is so beautiful that, under certain conditions, it will not look ugly. ” \n —Oscar Wilde \n In this chapter: \n –  Data and functionality, together at last. \n –  What is an object? \n–  What is a class? \n –  Writing your own classes. \n –  Creating your own objects .\n –  Processing  “ tabs. ” \n 8.1  I’m down with OOP. \n Before we begin examining the details of how object-oriented programming (OOP) works in  Processing , \nlet’s embark on a short conceptual discussion of  “ objects ” themselves. It is important to understand that \nwe are not introducing any new programming fundamentals: objects use everything we have already \nlearned: variables, conditional statements, loops, functions, and so on. What is entirely new, however, is a \nway of thinking, a way of structuring and organizing everything we have already learned. \n Imagine you were not programming in  Processing , but were instead writing out a program for your day, a \nlist of instructions, if you will. It might start out something like: \n •  Wake up. \n •  Drink coffee (or tea). \n •  Eat breakfast: cereal, blueberries, and soy milk. \n •  Ride the subway. \n What is involved here? Speciﬁ cally, what  things are involved? First, although it may not be immediately \napparent from how we wrote the above instructions, the main thing is  you , a human being, a person. You \nexhibit certain properties. You look a certain way; perhaps you have brown hair, wear glasses, and appear \nslightly nerdy. You also have the ability to do stuﬀ , such as wake up (presumably you can also sleep), eat, \nor ride the subway. An object is just like you, a thing that has properties and can do stuﬀ . \n So how does this relate to programming? Th e properties of an object are variables; and the stuﬀ  an object \ncan do are functions. Object-oriented programming is the marriage of everything we have learned in \nChapters 1 through 7, data and functionality, all rolled into one  thing . \n Let’s map out the data and functions for a very simple human object: \n Human data \n •  Height. \n •  Weight. \n •  Gender .\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 866
  },
  {
    "chunk_full": "122\nLearning Processing\n 8.2  Using an Object \n Before we look at the actual writing of a  class itself, let’s brieﬂ y look at how using objects in our main \nprogram (i.e.,  setup( ) and  draw( ) ) makes the world a better place. \n Returning to the car example from Chapter 7, you may recall that the pseudocode for the sketch looked \nsomething like this: \n Data (Global Variables): \n Car color. \n Car  x location. \n Car  y location. \n Car  x speed. \n •  Eye color. \n •  Hair color. \n Human functions \n •  Sleep .\n •  Wake up. \n •  Eat .\n •  Ride some form of transportation . \n Now, before we get too much further, we need to embark on a brief metaphysical digression. Th e \nabove structure is not a human being itself; it simply describes the idea, or the concept, behind a \nhuman being. It describes what it is to be human. To be human is to have height, hair, to sleep, to \neat, and so on. Th is is a crucial distinction for programming objects. Th is human being template is \nknown as a  class . A  class is diﬀ erent from an  object . You are an object. I am an object. Th at guy on the \nsubway is an object. Albert Einstein is an object. We are all people, real world  instances of the idea of a \nhuman being. \n Th ink of a cookie cutter. A cookie cutter makes cookies, but it is not a cookie itself. Th e cookie cutter is \nthe  class , the cookies are the  objects . \n Exercise 8-1: Consider a car as an object. What data would a car have? What functions \nwould it have?\n  Car data \n Car functions \n _________________________________  _________________________________ \n _________________________________  _________________________________ \n _________________________________  _________________________________ \n _________________________________  _________________________________ \n _________________________________  _________________________________ \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 867
  },
  {
    "chunk_full": "Objects\n 123\nSetup: \n Initialize car color. \n Initialize car location to starting point. \n Initialize car speed. \nDraw: \n Fill background. \n Display car at location with color. \n Increment car’s location by speed. \n In Chapter 7, we deﬁ ned global variables at the top of the program, initialized them in  setup( ) , and called \nfunctions to move and display the car in  draw( ) . \n Object-oriented programming allows us to take all of the variables and functions out of the main \nprogram and store them inside a car object. A car object will know about its data— color ,  location ,  speed . \nTh at is part one. Part two of the car object is the stuﬀ  it can do, the methods (functions inside an object). \nTh e car can  move and it can be  displayed . \n Using object-oriented design, the pseudocode improves to look something like this: \nData (Global Variables): \n Car object. \nSetup: \n Initialize car object. \nDraw: \n Fill background. \n Display car object. \n Move car object. \n Notice we removed all of the global variables from the ﬁ rst example. Instead of having separate variables for \ncar color, car location, and car speed, we now have only one variable, a  Car variable! And instead of initializing \nthose three variables, we initialize one thing, the Car object. Where did those variables go? Th ey still exist, only \nnow they live inside of the Car object (and will be deﬁ ned in the Car class, which we will get to in a moment). \n Moving beyond pseudocode, the actual body of the sketch might look like: \n Car myCar; \n void setup()  { \n myCar  =  new Car(); \n } \n void draw()  { \n background(0); \n myCar.move(); \n myCar.display(); \n } \n We are going to get into the details regarding the previous code in a moment, but before we do so, let’s \ntake a look at how the Car  class itself is written. \nAn object in Processing.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 868
  },
  {
    "chunk_full": "124\nLearning Processing\n 8.3  Writing the Cookie Cutter \n Th e simple Car example above demonstrates how the use of object in  Processing makes for clean, readable \ncode. Th e hard work goes into writing the object template, that is the  class itself. When you are ﬁ rst \nlearning about object-oriented programming, it is often a useful exercise to take a program written \nwithout objects and, not changing the functionality at all, rewrite it using objects. We will do exactly this \nwith the car example from Chapter 7, recreating exactly the same look and behavior in an object-oriented \nmanner. And at the end of the chapter, we will remake Zoog as an object. \n All classes must include four elements:  name ,  data ,  constructor , and  methods . (Technically, the only actual required \nelement is the class name, but the point of doing object-oriented programming is to include all of these.) \n Here is how we can take the elements from a simple non-object-oriented sketch (a simpliﬁ ed version of \nthe solution to Exercise 7-6) and place them into a Car class, from which we will then be able to make \nCar objects.\n}\ncolor c;\nint xpos;\nint ypos;\nint xspeed;\nvoid display () {\n rectMode(CENTER);\n fill(c);\n rect \n(xpos,ypos,20,10);\n}\nvoid drive () {\n xpos = xpos + xspeed;\n if (xpos > width) {\n  xpos = 0;\n }\n}\nvoid draw() {\n background(0);\n display();\n drive();\n}\n color c;\n float xpos;\n float ypos;\n float xspeed;\nclass Car {\nCar() {\n  c = color(255);\n  xpos = width/2;\n  ypos = height/2;\n  xspeed = 1;\n}\n void display() {\n  rectMode(CENTER);\n  fill(c);\n  rect(xpos,ypos,20,10);\n }\nvoid drive() {\n  xpos = xpos + xspeed;\n  if (xpos > width){ \n  xpos = 0;\n  }\n }\nvoid setup() {\n size(200,200);\n c = color(255);\n xpos = width/2;\n ypos = height/2;\n xspeed = 1;\n}\nThe class name\nData\nConstructor\nFunctionality\n// Simple non OOP Car\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 869
  },
  {
    "chunk_full": "Objects\n 125\n •  The Class Name—The name is specified by  “ class WhateverNameYouChoose ” . We then enclose \nall of the code for the class inside curly brackets after the name declaration. Class names are \ntraditionally capitalized (to distinguish them from variable names, which traditionally are lowercase). \n •  Data—The data for a class is a collection of variables. These variables are often referred to as  instance \nvariables since each  instance of an object contains this set of variables. \n •  A Constructor—The constructor is a special function inside of a class that creates the instance \nof the object itself. It is where you give the instructions on how to set up the object. It is just like \n Processing ’s  setup( ) function, only here it is used to create an individual object within the sketch, \nwhenever a  new object is created from this  class . It always has the same name as the class and is \ncalled by invoking the  new operator:  “ Car myCar  \u0002  new Car( ); ” . \n •  Functionality—We can add functionality to our object by writing methods. These are done in the \nsame way as described in Chapter 7, with a return type, name, arguments, and a body of code. \n Th is code for a  class exists as its own block and can be placed anywhere outside of  setup( ) and  draw( ) .\n A Class Is a New Block of Code! \n void setup()  { \n } \n void draw()  { \n } \n class Car  { \n } \n Exercise 8-2: Fill in the blanks in the following Human class deﬁ nition. Include a function \ncalled  sleep( ) or make up your own function. Follow the syntax of the Car example. (Th ere are \nno right or wrong answers in terms of the actual code itself; it is the structure that is important.) \n ________ ________ { \n   color hairColor; \n  float height; \n ________()  { \n \n________________________ \n  ________________ ________\n } \n ________________________  { \n ________________________ \n \n________________________ \n } \n } \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 870
  },
  {
    "chunk_full": "126\nLearning Processing\n 8.4  Using an Object: The Details \n In Section 8.2, we took a quick peek at how an object can greatly simplify the main parts of a  Processing \nsketch ( setup( ) and  draw( ) ). \n Car myCar; \n void setup()  { \n myCar  =  new Car(); \n } \n void draw()  { \n background(0); \n myCar.move(); \n myCar.display(); \n } \n Let’s look at the details behind the above three steps outlining how to use an object in your sketch. \nStep 1. Declaring an object variable. \n If you ﬂ ip back to Chapter 4, you may recall that a variable is declared by specifying a  type and a  name . \n // Variable Declaration \n int var;  // type name \n Th e above is an example of a variable that holds onto  a primitive , in this case an integer. As we learned \nin Chapter 4, primitive data types are singular pieces of information: an integer, a ﬂ oat, a character. \nDeclaring a variable that holds onto an object is quite similar. Th e diﬀ erence is that here the type is the \nclass name, something we will make up, in this case  “ Car. ” Objects, incidentally, are not primitives and \nare considered  complex data types. (Th is is because they store multiple pieces of information: data and \nfunctionality. Primitives only store data.) \nStep 2. Initializing an object. \n Again, you may recall from Chapter 4 that in order to initialize a variable (i.e., give it a starting value), we \nuse an assignment operation—variable equals something. \n // Variable Initialization \n var  =  10;  // var equals 10 \n Initializing an object is a bit more complex. Instead of simply assigning it a primitive value, like an integer \nor ﬂ oating point number, we have to construct the object. An object is made with the  new operator. \n // Object Initialization \n myCar  =  new Car(); \n In the above example,  “ myCar ” is the object variable name and  “ \u0005 ”  indicates we are setting it equal \nto something, that something being a  new instance of a Car object. What we are really doing here is \ninitializing a Car object. When you initialize a primitive variable, such as an integer, you just set it equal \nto a number. But an object may contain multiple pieces of data. Recalling the Car class from the previous \nsection, we see that this line of code calls the  constructor , a special function named  Car( ) that initializes all \nof the object’s variables and makes sure the Car object is ready to go. \nStep 1. Declare an object.\nStep 2. Initialize object.\nStep 3. Call methods on the object.\nThe new operator is used to make a new object.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 871
  },
  {
    "chunk_full": "Objects\n 127\n One other thing; with the primitive integer  “ var, ” if you had forgotten to initialize it (set it equal to 10), \nProcessing would have assigned it a default value, zero. An object (such as  “ myCar ” ), however, has no \ndefault value. If you forget to initialize an object,  Processing will give it the value  null. null means  nothing . \nNot zero. Not negative one. Utter nothingness. Emptiness. If you encounter an error in the message \nwindow that says  “ NullPointerException ” (and this is a pretty common error), that error is most likely \ncaused by having forgotten to initialize an object. (See the Appendix for more details.) \nStep 3. Using an object \n Once we have successfully declared and initialized an object variable, we can use it. Using an object involves \ncalling functions that are built into that object. A human object can eat, a car can drive, a dog can bark. \nFunctions that are inside of an object are technically referred to as  “ methods ” in Java so we can begin to use this \nnomenclature (see Section 7.1). Calling a method inside of an object is accomplished via dot syntax: \n variableName.objectMethod(Method Arguments); \n In the case of the car, none of the available functions has an argument so it looks like: \n myCar.draw(); \n myCar.display(); \n 8.5  Putting It Together with a Tab \n Now that we have learned how to deﬁ ne a class and use an object born from that class, we can take the \ncode from Sections 8.2 and 8.3 and put them together in one program. \n Example 8-1: A Car class and a Car object \n Car myCar; \n void setup()  { \n size(200,200); \n // Initialize Car object \n myCar  =  new Car(); \n } \n void draw()  { \n background(0); \n // Operate Car object. \n myCar.move(); \n myCar.display(); \n } \n Exercise 8-3: Assume the existence of a Human class. You want to write the code to declare a \nHuman object as well as call the function  sleep( ) on that human object. Write out the code below: \n  Declare and initialize the Human object:  ________________________________ \n Call the  sleep( ) function: \n ________________________________ \nInitialize car object in setup() by calling constructor.\nOperate the car object in draw( ) by calling object \nmethods using the dots syntax.\nDeclare car object as a globle variable.\nFunctions are called with the “dot syntax”.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 872
  },
  {
    "chunk_full": "128\nLearning Processing\n class Car {\n color c; \n float xpos; \n float ypos; \n float xspeed; \n Car()  { \n c  =  color(255); \n  xpos  =  width/2; \n  ypos  =  height/2; \n  xspeed  =  1; \n } \n void display()  { \n  // The car is just a square \n rectMode(CENTER); \n  fill(c); \n rect(xpos,ypos,20,10); \n } \n void move()  { \n \nxpos  =  xpos  +  xspeed; \n if (xpos  >  width)  { \n xpos  =  0; \n } \n } \n } \n You will notice that the code block that contains the Car class is placed below the main body of the \nprogram (under  draw( ) ). Th is spot is identical to where we placed user-deﬁ ned functions in Chapter 7. \nTechnically speaking, the order does not matter, as long as the blocks of code (contained within curly \nbrackets) remain intact. Th e Car class could go above  setup( ) or it could even go between  setup( ) and \ndraw( ) . Th ough any placement is technically correct, when programming, it is nice to place things where \nthey make the most logical sense to our human brains, the bottom of the code being a good starting \npoint. Nevertheless,  Processing oﬀ ers a useful means for separating blocks of code from each other \nthrough the use of tabs. \n In your  Processing window, look for the arrow inside a square in the top right-hand corner .  If you click \nthat button, you will see that it oﬀ ers the  “ New Tab ” option shown in  Figure 8.1 . \n Upon selecting  “ New Tab, ” you will be prompted to type in a name for the new tab, as shown in  Figure 8.2 . \n Although you can pick any name you like, it is probably a good idea to name the tab after the  class you \nintend to put there. You can then type the main body of code on one tab (entitled  “ objectExample ” in \n Figure 8.2 ) and type the code for your class in another (entitled  “ Car ” ). \n Toggling between the tabs is simple, just click on the tab name itself, as shown in  Figure 8.3 . Also, it \nshould be noted that when a new tab is created, a new .pde ﬁ le is created inside the sketch folder, as \nshown in  Figure 8.4 . Th e program has both an objectExample.pde ﬁ le and Car.pde ﬁ le. \nVariables.\nA constructor.\nFunction.\nDeﬁ ne a class below  the rest of the program.\nFunction.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 873
  },
  {
    "chunk_full": "Objects\n 129\nﬁ g. 8.1 \nﬁ g. 8.3 \nﬁ g. 8.2 \nﬁ g. 8.4 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 874
  },
  {
    "chunk_full": "130\nLearning Processing\n Exercise 8-4: Create a sketch with multiple tabs. Try to get the Car example to run without \nany errors. \n 8.6  Constructor Arguments \n In the previous examples, the car object was initialized using the  new operator followed by the  constructor \nfor the class. \n Car myCar  =  new Car(); \n Th is was a useful simpliﬁ cation while we learned the basics of OOP. Nonetheless, there is a rather serious \nproblem with the above code. What if we wanted to write a program with two car objects? \n // Creating two car objects \n Car myCar1  =  new Car(); \n Car myCar2  =  new Car(); \n Th is accomplishes our goal; the code will produce two car objects, one stored in the variable myCar1 and \none in myCar2. However, if you study the Car class, you will notice that these two cars will be identical: \neach one will be colored white, start in the middle of the screen, and have a speed of 1. In English, the \nabove reads: \n Make a new car. \n We want to instead say: \n Make a new red car, at location (0,10) with a speed of 1. \n So that we could also say: \n Make a new blue car, at location (0,100) with a speed of 2. \n We can do this by placing arguments inside of the constructor method.  \n Car myCar  =  new Car(color(255,0,0),0,100,2); \n Th e constructor must be rewritten to incorporate these arguments: \n Car(color tempC, float tempXpos, float tempYpos, float tempXspeed)  { \n c  =  tempC; \n xpos  =  tempXpos; \n ypos  =  tempYpos; \n xspeed  =  tempXspeed; \n } \n In my experience, the use of constructor arguments to initialize object variables can be somewhat \nbewildering. Please do not blame yourself. Th e code is strange-looking and can seem awfully redundant: \n “ For every single variable I want to initialize in the constructor, I have to duplicate it with a temporary \nargument to that constructor? ” \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 875
  },
  {
    "chunk_full": "Objects\n 131\n Arguments are local variables used inside the body of a function that get ﬁ lled with values when the \nfunction is called. In the examples, they have  one purpose only , to initialize the variables inside of an \nobject. Th ese are the variables that count, the car’s actual car, the car’s actual  x location, and so on. Th e \nconstructor’s arguments are just  temporary , and exist solely to pass a value from where the object is made \ninto the object itself. \n Th is allows us to make a variety of objects using the same constructor. You might also just write the \nword  temp in your argument names to remind you of what is going on (c vs. tempC). You will also see \nprogrammers use an underscore (c vs. c_) in many examples. You can name these whatever you want, of \ncourse. However, it is advisable to choose a name that makes sense to you, and also to stay consistent. \n We can now take a look at the same program with multiple object instances, each with unique properties. \n Example 8-2: Two Car objects \n Car myCar1; \n Car myCar2; \n void setup()  { \n size(200,200); \n myCar1  =  new Car(color(255,0,0),0,100,2); \n myCar2  =  new Car(color(0,0,255),0,10,1); \n } \n void draw()  { \n background(255); \n Nevertheless, this is quite an important skill to learn, and, ultimately, is one of the things that makes \nobject-oriented programming powerful. But for now, it may feel painful. Let’s brieﬂ y revisit parameter \npassing again to understand how it works in this context. See  Figure 8.5 . \nFrog f;\nvoid setup () {\n   f = new Frog (100);\n}\nclass Frog {\n   int tongueLength;\n   Frog (int tempTongueLength) {\n      tongueLength = tempTongueLength;\n   }\n}\nParameter Passing:\n100 goes into\ntempTongueLength\nTemporary local\nvariable\ntempTongueLength is used to\nassign a value to tongueLength.\nTherefore tongueLength = 100\nTranslation: Make a new frog with a tongue length of 100.\nInstance variable:\nThis is the\nvariable we care\nabout, the one that\nstores the frog’s\ntongue length!\nﬁ g. 8.5 \nTwo objects!\nParameters go inside the parentheses \nwhen the object is constructed.\nﬁ g. 8.6\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 876
  },
  {
    "chunk_full": "132\nLearning Processing\n myCar1.move(); \n myCar1.display(); \n myCar2.move(); \n myCar2.display(); \n } \n class Car { \n color c; \n float xpos; \n float ypos; \n float xspeed; \n Car(color tempC, float tempXpos, float tempYpos, float tempXspeed)  { \n c  =  tempC; \n xpos  =  tempXpos; \n ypos  =  tempYpos; \n xspeed  =  tempXspeed; \n } \n void display()  { \n stroke(0); \n fill(c); \n rectMode(CENTER); \n rect(xpos,ypos,20,10); \n } \n void move()  { \n xpos  =  xpos  +  xspeed; \n if (xpos  >  width)  { \n xpos  =  0; \n } \n } \n } \nEven though there are multiple objects, we \nstill only need one class. No matter how many \ncookies we make, only one cookie cutter is \nneeded.Isn’t object-oriented programming swell?\nThe Constructor is deﬁ ned with arguments.\n Exercise 8-5: Rewrite the gravity example from Chapter 5 using objects with a Ball class. \nInclude two instances of a Ball object. Th e original example is included here for your reference \nwith a framework to help you get started. \n _______ _______; \n Ball ball2; \n float grav  =  0.1; \n void setup()  { \n size(200,200); \n ball1  =  new _______(50,0,16); \n _________________(100,50,32); \n } \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 877
  },
  {
    "chunk_full": "Objects\n 133\n void draw()  { \n background(100); \n ball1.display(); \n __________________________ \n __________________________ \n __________________________ \n } \n _______________ { \n float x; \n __________________ \n float speed; \n float w; \n ______(______,______,______)  { \n x  =  ______; \n ___________ \n ___________ \n speed  = 0; \n } \n void ___________()  { \n _____________________________ \n _____________________________ \n _____________________________ \n }  \n ______________________________ \n ______________________________ \n ______________________________ \n ______________________________ \n ______________________________ \n ______________________________ \n } \n// Simple gravity\nfloat x = 100;     // x \nlocation\nfloat y = 0;       // y \nlocation\nfloat speed = 0;   // speed\nfloat gravity = 0.1;// gravity\nvoid setup() {\n size(200,200);\n}\nvoid draw() {\n background(100);\n // display the square\n fill(255);\n noStroke();\n rectMode(CENTER);\n rect(x,y,10,10);\n // Add speed to y location\n y = y + speed;\n // Add gravity to speed\n speed = speed + gravity;\n // If square reaches the bottom\n // Reverse speed\n if (y > height) {\n  speed = speed * -0.95;\n }\n}\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 878
  },
  {
    "chunk_full": "134\nLearning Processing\n 8.7  Objects are data types too !\n Th is is our ﬁ rst experience with object-oriented programming, so we want to take it easy. Th e examples \nin this chapter all use just one class and make, at most, two or three objects from that class. Nevertheless, \nthere are no actual limitations. A  Processing sketch can include as many classes as you feel like writing. \nIf you were programming the Space Invaders game, for example, you might create a  Spaceship class, an \nEnemy class, and a  Bullet class, using an object for each entity in your game. \n In addition, although not  primitive , classes are data types just like integers and ﬂ oats. And since classes \nare made up of data, an object can therefore contain other objects! For example, let’s assume you had just \nﬁ nished programming a  Fork and  Spoon class. Moving on to a  PlaceSetting class, you would likely include \nvariables for both  a Fork object and a  Spoon object inside that class itself. Th is is perfectly reasonable and \nquite common in object-oriented programming. \n class PlaceSetting  { \n Fork fork; \n Spoon spoon; \n PlaceSetting()  { \n   fork  =  new Fork(); \n spoon  =  new Spoon(); \n } \n } \n Objects, just like any data type, can also be passed in as arguments to a function. In the Space Invaders \ngame example, if the spaceship shoots the bullet at the enemy, we would probably want to write a \nfunction inside the Enemy class to determine if the Enemy had been hit by the bullet. \n void hit(Bullet b)  { \n // Code to determine if \n // the bullet struck the enemy \n } \n In Chapter 7, we showed how when a primitive value (integer, ﬂ oat, etc.) is passed in a function, a copy \nis made. With objects, this is not the case, and the result is a bit more intuitive. If changes are made \nto an object after it is passed into a function, those changes will aﬀ ect that object used anywhere else \nthroughout the sketch. Th is is known as  pass by reference since instead of a copy, a reference to the actual \nobject itself is passed into the function. \n As we move forward through this book and our examples become more advanced, we will begin to \nsee examples that use multiple objects, pass objects into functions, and more. Th e next chapter, in fact, \nfocuses on how to make lists of objects. And Chapter 10 walks through the development of a project that \nincludes multiple classes. For now, as we close out the chapter with Zoog, we will stick with just one class. \n 8.8  Object-Oriented Zoog \n Invariably, the question comes up:  “ When should I use object-oriented programming? ” For me, the \nanswer is  always. Objects allow you to organize the concepts inside of a software application into \nA class can include other objects among its variables.\nA function can have an object as its argument.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 879
  },
  {
    "chunk_full": "Objects\n 135\nmodular, reusable packages. You will see this again and again throughout the course of this book. \nHowever, it is not always convenient or necessary to start out every project using object-orientation, \nespecially while you are learning.  Processing makes it easy to quickly  “ sketch ” out visual ideas with non \nobject-oriented code. \n For any  Processing project you want to make, my advice is to take a step-by-step approach. You do not \nneed to start out writing classes for everything you want to try to do. Sketch out your idea ﬁ rst by \nwriting code in  setup( ) and  draw( ) . Nail down the logic of what you want to do as well as how you \nwant it to look. As your project begins to grow, take the time to reorganize your code, perhaps ﬁ rst with \nfunctions, then with objects. It is perfectly acceptable to dedicate a signiﬁ cant chunk of your time to this \nreorganization process (often referred to as  refactoring ) without making any changes to the end result, that \nis, what your sketch looks like and does on screen. \n Th is is exactly what we have been doing with cosmonaut Zoog from Chapter 1 until now. We sketched \nout Zoog’s look and experimented with some motion behaviors. Now that we have something, we can \ntake the time to  refactor by making Zoog into an object. Th is process will give us a leg up in programming \nZoog’s future life in more complex sketches. \n And so it is time to take the plunge and make a Zoog class. Our little Zoog is almost all grown up. Th e \nfollowing example is virtually identical to Example 7-5 (Zoog with functions) with one major diﬀ erence. \nAll of the variables and all of the functions from Example 7-5 are now incorporated into the Zoog class \nwith  setup( ) and  draw( ) containing barely any code.  \n Example 8-3 \n Zoog zoog; \n void setup()  { \n size(200,200); \n smooth(); \n zoog  =  new Zoog(100,125,60,60,16); \n } \n void draw()  { \n background(255); \n // mouseX position determines speed factor \n float factor  =  constrain(mouseX/10,0,5); \n zoog.jiggle(factor); \n zoog.display(); \n } \n class Zoog  { \n // Zoog's variables \n float x,y,w,h,eyeSize; \n // Zoog constructor \n Zoog(float tempX, float tempY, float tempW, float tempH, float tempEyeSize)  { \n  x  =  tempX; \n  y  =  tempY; \n  w  =  tempW; \n h  =  tempH; \n eyeSize  =  tempEyeSize; \n } \nZoog is an object!\nZoog is given initial properties via the constructor.\nZoog can do stuff with functions!\nEverything about Zoog is contained in this one class. \nZoog has properties (location, with , height, eye size) \nand Zoog has abilities (jiggle, display).\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 880
  },
  {
    "chunk_full": "136\nLearning Processing\n // Move Zoog \n void jiggle(float speed)  { \n // Change the location of Zoog randomly \n x  =  x  +  random(-1,1)*speed; \n y  =  y  +  random(-1,1)*speed; \n // Constrain Zoog to window \n x  =  constrain(x,0,width); \n y  =  constrain(y,0,height); \n } \n // Display Zoog \n void display()  { \n // Set ellipses and rects to CENTER mode \n ellipseMode(CENTER); \n rectMode(CENTER); \n // Draw Zoog's arms with a for loop \n for (float i  =  y - h/3; i  <  y  +  h/2; i + = 10)  { \n stroke(0); \n line(x-w/4,i,x + w/4,i); \n } \n  // Draw Zoog's body \n stroke(0); \n fill(175); \n rect(x,y,w/6,h); \n // Draw Zoog's head \n stroke(0); \n fill(255); \n ellipse(x,y-h,w,h); \n // Draw Zoog's eyes \n fill(0); \n ellipse(x-w/3,y-h,eyeSize,eyeSize*2); \n ellipse(x + w/3,y – h,eyeSize,eyeSize*2); \n // Draw Zoog's legs \n stroke(0); \n line(x – w/12,y + h/2,x – w/4,y + h/2 + 10); \n line(x + w/12,y + h/2,x + w/4,y + h/2 + 10); \n } \n } \n Exercise 8-6: Rewrite Example 8-3  to include two Zoogs. Can you vary their appearance? \nBehavior? Consider adding color as a Zoog variable. \nﬁ g. 8.7 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 881
  },
  {
    "chunk_full": "Objects\n 137\n Lesson Three Project \n Step 1. Take your Lesson Two Project and reorganize the code using functions. \n Step 2. Reorganize the code one step further using a class and an object variable. \n Step 3.  Add arguments to the Constructor of your class and try making two or three \nobjects with diﬀ erent variables. \n Use the space provided below to sketch designs, notes, and pseudocode for your \nproject. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 882
  },
  {
    "chunk_full": "This page intentionally left blank\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 883
  },
  {
    "chunk_full": "Lesson Four\nMore of the Same\n9 Arrays\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 884
  },
  {
    "chunk_full": "This page intentionally left blank\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 885
  },
  {
    "chunk_full": "Arrays\n 141\n 9  Arrays \n “ I might repeat to myself slowly and soothingly, a list of quotations beautiful \nfrom minds profound—if I can remember any of the damn things. ” \n — Dorothy Parker \nIn this chapter: \n –  What is an array? \n –  Declaring an array. \n –  Initialization. \n –  Array operations—using the  “ for ” loop with an array. \n –  Arrays of objects. \n 9.1  Arrays, why do we care? \n Let’s take a moment to revisit the car example from the previous chapter on object-oriented \nprogramming. You may remember we spent a great deal of eﬀ ort on developing a program that contained \nmultiple instances of a class, that is, two objects. \n Car myCar1; \n Car myCar2; \n Th is was indeed an exciting moment in the development of our lives as computer programmers. It is \nlikely you are contemplating a somewhat obvious question. How could I take this further and write a \nprogram with 100 car objects? With some clever copying and pasting, you might write a program with \nthe following beginning: \n Car myCar1 \n Car myCar2 \n Car myCar3 \n Car myCar4 \n Car myCar5 \n Car myCar6 \n Car myCar7 \n Car myCar8 \n Car myCar9 \n Car myCar10 \n Car myCar11 \n Car myCar12 \n Car myCar13 \n Car myCar14 \n Car myCar15 \n Car myCar16 \n Car myCar17 \n Car myCar18 \n Car myCar19 \n Car myCar20 \n Car myCar21 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 886
  },
  {
    "chunk_full": "142\nLearning Processing\n Car myCar22 \n Car myCar23 \n Car myCar24 \n Car myCar25 \n Car myCar26 \n Car myCar27 \n Car myCar28 \n Car myCar29 \n Car myCar30 \n Car myCar31 \n Car myCar32 \n Car myCar33 \n Car myCar34 \n Car myCar35 \n Car myCar36 \n Car myCar37 \n Car myCar38 \n Car myCar39 \n Car myCar40 \n Car myCar41 \n Car myCar42 \n Car myCar43 \n Car myCar44 \n Car myCar45 \n Car myCar46 \n Car myCar47 \n Car myCar48 \n Car myCar49 \n Car myCar50 \n Car myCar51 \n Car myCar52 \n Car myCar53 \n Car myCar54 \n Car myCar55 \n Car myCar56 \n Car myCar57 \n Car myCar58 \n Car myCar59 \n Car myCar60 \n Car myCar61 \n Car myCar62 \n Car myCar63 \n Car myCar64 \n Car myCar65 \n Car myCar66 \n Car myCar67 \n Car myCar68 \n Car myCar69 \n Car myCar70 \n Car myCar71 \n Car myCar72 \n Car myCar73 \n Car myCar74 \n Car myCar75 \n Car myCar76 \n Car myCar77 \n Car myCar78 \n Car myCar79 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 887
  },
  {
    "chunk_full": "Arrays\n 143\n Car myCar80 \n Car myCar81 \n Car myCar82 \n Car myCar83 \n Car myCar84 \n Car myCar85 \n Car myCar86 \n Car myCar87 \n Car myCar88 \n Car myCar89 \n Car myCar90 \n Car myCar91 \n Car myCar92 \n Car myCar93 \n Car myCar94 \n Car myCar95 \n Car myCar96 \n Car myCar97 \n Car myCar98 \n Car myCar99 \n Car myCar100 \n If you really want to give yourself a headache, try completing the rest of the program modeled after the \nabove start. It will not be a pleasant endeavor. I am certainly not about to leave you any workbook space \nin this book to practice. \n An array will allow us to take these 100 lines of code and put them into one line. Instead of having \n100 variables, an array is  one thing that contains a  list of variables. \n Any time a program requires multiple instances of similar data, it might be time to use an array. For \nexample, an array can be used to store the scores of four players in a game, a selection of 10 colors in a \ndesign program, or a list of ﬁ sh objects in an aquarium simulation. \n \n _______________________________________________________________ \n \n _______________________________________________________________ \n \n_______________________________________________________________\n \n _______________________________________________________________ \n \n _______________________________________________________________ \n Exercise 9-1: Looking at all of the sketches you have created so far, do any merit the use of an \narray? Why? \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 888
  },
  {
    "chunk_full": "144\nLearning Processing\n 9.2  What is an array? \n From Chapter 4, you may recall that a variable is a named pointer to a location in memory where data is \nstored. In other words, variables allow programs to keep track of information over a period of time. An \narray is exactly the same, only instead of pointing to one singular piece of information, an array points to \nmultiple pieces. See  Figure 9.1 .\n You can think of an array as a list of variables. A list, it should be noted, is useful for two important \nreasons. Number one, the list keeps track of the elements in the list themselves. Number two, the list \nkeeps track of  the order of those elements (which element is the ﬁ rst in the list, the second, the third, \netc.). Th is is a crucial point since in many programs, the order of information is just as important as the \ninformation itself. \n In an array, each element of the list has a unique  index, an integer value that designates its position in the \nlist (element #1, element #2, etc.). In all cases, the name of the array refers to the list as a whole, while \neach element is accessed via its position. \n Notice how in  Figure 9.2 , the indices range from 0 to 9. Th e array has a total of 10 elements, but the ﬁ rst \nelement number is 0 and the last element is 9. We might be tempted to stomp our feet and complain: \n “ Hey, why aren’t the elements numbered from 1 to 10? Wouldn’t that be easier? ” \n7\nVariable\n4\n8\n15\n16\n23\n42\nArray\nﬁ g. 9.1 \n0\nArray index values\n1\n2\n3\n4\n5\n6\n7\n8\n9\nﬁ g. 9.2 \n While at ﬁ rst, it might intuitively seem like we should start counting at one (and some programming \nlanguages do), we start at zero because technically the ﬁ rst element of the array is located at the start of \nthe array, a distance of zero from the beginning. Numbering the elements starting at 0 also makes many \n array operations (the process of executing a line of code for every element of the list) a great deal more \nconvenient. As we continue through several examples, you will begin to believe in the power of counting \nfrom zero. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 889
  },
  {
    "chunk_full": "Arrays\n 145\nint[] arrayOfInts = new int [42];\nThe \"new\" operator\nmeans we're making a\n\"new\" array.\nArray declaration and creation\nType\nSize of\narray\nﬁ g. 9.4 \nint [] arrayOfInts;\nType\nName\nIndicates\narray\nﬁ g. 9.3 \n 9.3  Declaring and Creating an Array \n In Chapter 4, we learned that all variables must have a name and a data type. Arrays are no diﬀ erent. \nTh e declaration statement, however, does look diﬀ erent. We denote the use of an array by placing empty \nsquare brackets ( “ [] ” ) after the type declaration. Let’s start with an array of primitive values, for example, \nintegers. (We can have arrays of any data type, and we will soon see how we can make an array of \nobjects.) See  Figure 9.3 . \n Th e declaration in  Figure 9.3 indicates that  “ arrayOf Ints ” will store a list of integers. Th e array name \n “ arrayOfInts ” can be absolutely anything you want it to be (we only include the word  “ array ” here to \nillustrate what we are learning). \n One fundamental property of arrays, however, is that they are of ﬁ xed size. Once we deﬁ ne the size for an \narray, it can never change. A list of 10 integers can never  go to 11 . But where in the above code is the size \nof the array deﬁ ned? It is not. Th e code simply declares the array; we must also make sure we  create the \nactual instance of the array with a speciﬁ ed size. \n To do this, we use the  new operator, in a similar manner as we did in calling the constructor of an object. \nIn the object’s case, we are saying  “ Make a  new Car ” or  “ Make a  new Zoog. ” With an array, we are saying \n “ Make a  new array of integers, ” or  “ Make a  new array of Car objects, ” and so on. See array declaration in \n Figure 9.4 . \n Th e array declaration in  Figure 9.4 allows us to specify the array size: how many elements we want the \narray to hold (or, technically, how much memory in the computer we are asking for to store our beloved \ndata). We write this statement as follows: the new operator, followed by the data type, followed by the \nsize of the array enclosed in brackets. Th is size must be an integer. It can be a hard-coded number, a \nvariable (of type integer), or an expression that evaluates to an integer (like 2  \u0002  2). \n Exercise 9-2: If you have an array with 1,000 elements, what is the range of index values \nfor that array? \n Answer: _______ through _______ \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 890
  },
  {
    "chunk_full": "146\nLearning Processing\n Example 9-1: Additional array declaration and creation examples \n float[] scores  =  new float[4]; \n // A list of 4 floating point numbers \n Human[] people  =  new Human[100]; \n // A list of 100 Human objects \n int num  =  50; \n Car[] cars  =  new Car[num]; \n // Using a variable to specify size \n Spaceship[] ships  = new Shapeship[num*2  + 3];  // Using an expression to \n   specify size \n Exercise 9-3: Write the declaration statements for the following arrays: \n 30 integers \n \n 100 ﬂ oating point numbers \n \n 56 Zoog objects \n \n Exercise 9-4: Which of the following array declarations are valid and which are invalid \n(and why)? \n int[] numbers  =  new int[10]; \n \n float[] numbers  =  new float[5 + 6];\n \n int num  = 5;\n \n float[] numbers  =  new int[num]; \n \n float num  =  5.2; \n \n Car[] cars  =  new Car[num]; \n \n int num  =  (5 * 6)/2; \n \n float[] numbers  =  new \nfloat[num  = 5];\n \n int num  = 5;\n \n Zoog[] zoogs  =  new Zoog[num * 10]; \n \n Th ings are looking up. Not only did we successfully declare the existence of an array, but we have given \nit a size and allocated physical memory for the stored data. A major piece is missing, however: the data \nstored in the array itself ! \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 891
  },
  {
    "chunk_full": "Arrays\n 147\n 9.4  Initializing an Array \n One way to ﬁ ll an array is to hard-code the values stored in each spot of the array. \n Example 9-2: Initializing the elements of an array one at a time \n int[] stuff  =  new int[3]; \n stuff [0]  =  8;  // The first element of the array equals 8 \n stuff [1]  =  3;  // The second element of the array equals 3 \n stuff [2]  =  1;  // The third element of the array equals 1 \n As you can see, we refer to each element of the array individually by specifying an index, starting at 0. \nTh e syntax for this is the name of the array, followed by the index value enclosed in brackets. \n arrayName[INDEX] \n A second option for initializing an array is to manually type out a list of values enclosed in curly braces \nand separated by commas. \n Example 9-3: Initializing the elements of an array all at once \n int[] arrayOfInts  =  { 1, 5, 8, 9, 4, 5 }; \n float[] floatArray  =  { 1.2, 3.5, 2.0, 3.4123, 9.9 }; \n Both of these approaches are not commonly used and you will not see them in most of the examples \nthroughout the book. In fact, neither initialization method has really solved the problem posed at the \nbeginning of the chapter. Imagine initializing each element individually with a list of 100 or (gasp) \n1,000 or (gasp gasp!) 1,000,000 elements. \n Th e solution to all of our woes involves a means for  iterating through the elements of the array. Ding ding \nding. Hopefully a loud bell is ringing in your head. Loops! (If you are lost, revisit Chapter 6.) \n Exercise 9-5: Declare an array of three Zoog objects. Initialize each spot in the array with a \nZoog object via its index. \n Zoog__ zoogs  =  new _______ [_______ ]; \n _______[_______ ]  =  _______ _______(100, 100, 50, 60, 16); \n _______[_______ ]  = _______ _______(________________); \n _______[_______ ]  = _______ _______(________________); \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 892
  },
  {
    "chunk_full": "148\nLearning Processing\n 9.5  Array Operations \n Consider, for a moment, the following problem: \n (A) Create an array of 1,000 ﬂ oating point numbers. (B) Initialize every element of that array with a \nrandom number between 0 and 10. \n Part A we already know how to do. \n float[] values  =  new float[1000]; \n What we want to avoid is having to do this for Part B: \n values[0]  =  random(0,10); \n values[1]  =  random(0,10); \n values[2]  =  random(0,10); \n values[3]  =  random(0,10); \n values[4]  =  random(0,10); \n values[5]  =  random(0,10); \n etc. etc. \n Let’s describe in English what we want to program: \n For every number  n from 0 to 99, initialize the  n th element stored in array as a random value \nbetween 0 and 10. Translating into code, we have: \n int n  =  0; \n values[n]   =  random(0,10); \n values[n + 1]  =  random(0,10); \n values[n + 2]  =  random(0,10); \n values[n + 3]  =  random(0,10); \n values[n + 4]  =  random(0,10); \n values[n + 5]  =  random(0,10); \n Unfortunately, the situation has not improved. We have, nonetheless, taken a big leap forward. By using \na variable (n) to describe an index in the array, we can now employ a  while loop to initialize every  n \nelement. \n Example 9-4: Using a while loop to initialize all elements of an array \n int n  =  0; \n while (n  <  1000)  { \n   values[n]  =  random(0,10); \n   n  =  n  +  1; \n } \n A  for loop allows us to be even more concise, as Example 9-5 shows. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 893
  },
  {
    "chunk_full": "Arrays\n 149\n Example 9-5: Using a for loop to initialize all elements of an array \n for (int n  =  0; n  <  1000; n  + + ) { \n values[n]  =  random(0,10); \n } \n What was once 1,000 lines of code is now three! \n We can exploit the same technique for any type of array operation we might like to do beyond simply \ninitializing the elements. For example, we could take the array and double the value of each element \n(we will use  i from now on instead of  n as it is more commonly used by programmers). \n Example 9-6: An array operation \n for (int i  =  0; i  <  1000; i + + ) { \n values[i]  =  values[i] * 2; \n } \n Th ere is one problem with Example 9-6: the use of the hard-coded value 1,000. Striving to be better \nprogrammers, we should always question the existence of a hard-coded number. In this case, what if \nwe wanted to change the array to have 2,000 elements? If our program was very long with many array \noperations, we would have to make this change everywhere throughout our code. Fortunately for us, \n Processing gives us a nice means for accessing the size of an array dynamically, using the dot syntax we \nlearned for objects in Chapter 8.  length is a property of every array and we can access it by saying: \n arrayName dot length \n Let’s use  length while clearing an array. Th is will involve resetting every value to 0. \n Example 9-7: An array operation using dot length \n for (int i  =  0; i  <  values.length; i + + ) { \n   values[i]  =  0; \n } \n Exercise 9-6: Assuming an array of 10 integers, that is, \n int[] nums  =  { 5,4,2,7,6,8,5,2,8,14}; \n write code to perform the following array operations (Note that the number of clues vary, \njust because a [____] is not explicitly written in does not mean there should not be brackets). \n Square each number \n for (int i ___; i  <  _____; i + + ) { \n (i.e., multiply each \n ____[i]  =  ______*_____; \n by itself) \n } \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 894
  },
  {
    "chunk_full": "150\nLearning Processing\n 9.6  Simple Array Example: The Snake \n A seemingly trivial task, programming a trail following the mouse, is not as easy as it might initially \nappear. Th e solution requires an array, which will serve to store the history of mouse locations. We will use \ntwo arrays, one to store horizontal mouse locations, and one for vertical. Let’s say, arbitrarily, that we want \nto store the last 50 mouse locations. \n First, we declare the two arrays. \n int[] xpos  =  new int[50]; \n int[] ypos  =  new int[50]; \n Second, in  setup( ) , we must initialize the arrays. Since at the start of the program there has not been any \nmouse movement, we will just ﬁ ll the arrays with 0’s. \n for (int i  =  0; i  <  xpos.length; i + + ) { \n   xpos[i]  =  0; \n   ypos[i]  =  0; \n } \n Each time through the main  draw( ) loop, we want to update the array with the current mouse location. \nLet’s choose to put the current mouse location in the last spot of the array. Th e length of the array is 50, \nmeaning index values range from 0–49. Th e the last spot is index 49, or the length of the array minus one. \n xpos[xpos.length–l]  =  mouseX; \n ypos[ypos.length–1]  =  mouseY; \n Add a random \n number between \n zero and 10 to each \n number. \n _________________________________ \n   _____  + = int(________); \n  __ \n Add to each number \n the number that \n follows in the array. \n Skip the last value \n in the array. \n for (int i  =  0; i  <  _____; i + + ) { \n  _____  + = ______ [____]; \n } \n \n Calculate the sum of \n all the numbers. \n \n \n _____ ________  =  ____; \n for (int i  =  0; i  <  nums.length; i + + )\n { \n  ______ + = ________; \n } \nThe last spot in an array is length minus one.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 895
  },
  {
    "chunk_full": "Arrays\n 151\n Now comes the hard part. We want to keep only the last 50 mouse locations. By storing the current \nmouse location at the end of the array, we are overwriting what was previously stored there. If the mouse \nis at (10,10) during one frame and (15,15) during another, we want to put (10,10) in the second to last \nspot and (15,15) in the last spot. Th e solution is to shift all of the elements of the array down one spot \nbefore updating the current location. Th is is shown in  Figure 9.5 . \n1 moves\ninto 0\nSpot 0\nis overwritten\nNew value goes\ninto 3\nNew value\n2 moves\ninto 1\n3 moves\ninto 2\n5\n42\n9\n13\n13\n8\n42\n9\nﬁ g. 9.5 \n Element index 49 moves into spot 48, 48 moves into spot 47, 47 into 46, and so on. We can do this by \nlooping through the array and setting each element index  i to the value of element  i plus one. Note we \nmust stop at the second to last value since for element 49 there is no element 50 (49 plus 1). In other \nwords, instead of having an exit condition \n i  \u0007  xpos.length; \n we must instead say: \n i  \u0007  xpos.length – 1; \n Th e full code for performing this array shift is as follows: \n for (int i  =  0; i  <  xpos.length–1; i + + )  { \n xpos[i]  =  xpos[i + 1 ]; \n ypos[i]  =  ypos[i + 1 ]; \n } \n Finally, we can use the history of mouse locations to draw a series of circles. For each element of the xpos \narray and ypos array, draw an ellipse at the corresponding values stored in the array. \n for (int i  =  0; i  <  xpos.length; i + + ) { \n noStroke(); \n ﬁll(255); \n ellipse(xpos[i],ypos[i],32,32); \n } \n Making this a bit fancier, we might choose to link the brightness of the circle as well as the size of the \ncircle to the location in the array, that is, the earlier (and therefore older) values will be bright and small \nand the later (newer) values will be darker and bigger. Th is is accomplished by using the counting variable \n i to evaluate color and size. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 896
  },
  {
    "chunk_full": "152\nLearning Processing\n for (int i  =  0; i  <  xpos.length; i + + ) { \n noStroke(); \n \n fill(255 – i*5); \n   ellipse(xpos[i],ypos[i],i,i); \n } \n Putting all of the code together, we have the following example, with the output shown in  Figure 9.6 . \n Example 9-8: A snake following the mouse \n // x and y positions \n int[] xpos  =  new int[50]; \n int[] ypos  =  new int[50]; \n void setup()  { \n size(200,200); \n smooth(); \n // Initialize \n for (int i =  0; i  <  \n + + )  \n  xpos[i]  =  0; \n \nypos[i]  =  0; \n } \n } \n void draw()  { \n background(255); \n //  Shift array values \n for (int i  =  0; i  <  xpos.length-1; i + + )  { \n xpos [i] =  xpos[i + 1]; \n ypos[i]  =  ypos[i + 1]; \n } \n //  New location \n xpos[xpos.length–1]  =  mouseX; \n ypos[ypos.length–1]  =  mouseY; \n // Draw everything \n for (int i  =  0; i  <  xpos.length; i + + ) { \n noStroke(); \n fill(255-i*5); \n ellipse(xpos[i],ypos[i],i,i); \n } \n } \nﬁ g. 9.6 \nDeclare two arrays with 50 elemets.\nInitialize all elements of each array to zero.\nShift all elements down one spot. \nxpos[0] = xpos[1], xpos[1] = xpos = [2], and so on. \nStop at the second to last element.\nUpdate the last spot in the array with the \nmouse location.\nDraw an ellipse for each element in the arrays. \nColor and size are tied to the loop’s counter: i.\nxpos.length; i \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 897
  },
  {
    "chunk_full": "Arrays\n 153\n Exercise 9-7: Rewrite the snake example in an object-oriented fashion with a Snake class. \nCan you make snakes with slightly diﬀ erent looks (diﬀ erent shapes, colors, sizes)? (For an \nadvanced problem, create a Point class that stores an x and y coordinate as part of the sketch. \nEach snake object will have an array of Point objects, instead of two separate arrays of x and \ny values. Th is involves arrays of objects, covered in the next section.) \n 9.7  Arrays of Objects \n I know, I know. I still have not fully answered the question. How can we write a program with 100 car \nobjects? \n One of the nicest features of combining object-oriented programming with arrays is the simplicity of \ntransitioning a program from one object to 10 objects to 10,000 objects. In fact, if we have been careful, \nwe will not have to change the Car  class whatsoever. A  class does not care how many objects are made \nfrom it. So, assuming we keep the identical Car class code, let’s look at how we expand the main program \nto use an array of objects instead of just one. \n Let’s revisit the main program for one Car object. \n Car myCar; \n void setup()  { \n myCar  =  new Car(color(255,0,0),0,100,2); \n } \n void draw()  { \n background(255); \n myCar.move(); \n myCar.display(); \n } \n Th ere are three steps in the above code and we need to alter each one to account for an array. \n BEFORE \n AFTER \n Declare the Car \n Car myCar; \n Declare the Car Array \n Car[] cars  =  new Car[100]; \n Initialize the Car \n myCar  =  new Car(color(255),0,100,2); \n Initialize each element of the Car Array \n for (int i  =  0; i  <  cars.length; i + + )  { \n cars[i]  =  new Car(color(i*2),0,i*2,i); \n } \n Run the Car by Calling Methods \n myCar.move(); \n myCar.display(); \n Run each element of the Car Array \n for (int i  =  0; i  <  cars.length; i + + )  { \n cars[i].move(); \n cars[i].display(); \n } \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 898
  },
  {
    "chunk_full": "154\nLearning Processing\n Th is leaves us with Example 9–9 . Note how changing the number of cars present in the program requires \nonly altering the array deﬁ nition. Nothing else anywhere has to change! \n Example 9-9: An array of Car objects \nCar[] cars  =  new Car[100] ; \n void setup()  { \n size(200,200); \n smooth(); \n for (int i  =  0; i  <  cars.length; i + + ) { \n cars[i]  =  new Car(color(i*2),0,i*2,i/20.0); \n } \n } \n void draw()  { \n background(255); \n for (int i  =  0; i <  cars.length; i + + ) { \n cars[i].move(); \n cars[i].display(); \n } \n } \n class Car  { \n color c; \n float xpos; \n float ypos; \n float xspeed; \n Car(color c_, float xpos_, float ypos_, float xspeed_)  { \n c  =  c_; \n xpos  =  xpos_; \n ypos  =  ypos_; \n   xspeed =  xspeed_; \n } \n void display()  { \n rectMode(CENTER); \n stroke(0); \n fill(c); \n rect(xpos,ypos,20,10); \n } \n void move()  { \n xpos  =  xpos  +  xspeed; \n if (xpos  >  width)  { \n xpos  =  0; \n } \n } \n } \nﬁ g. 9.7 \nAn array of 100 Car objects!\nThe Car class does not change \nwhether we are making one \ncar, 100 cars or 1,000 cars!\nInitialize each Car using a for loop.\nRun each Car using a for loop.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 899
  },
  {
    "chunk_full": "Arrays\n 155\n 9.8  Interactive Objects \n When we ﬁ rst learned about variables (Chapter 4) and conditionals (Chapter 5), we programmed a \nsimple rollover eﬀ ect. A rectangle appears in the window and is one color when the mouse is on top and \nanother color when the mouse is not. Th e following is an example that takes this simple idea and puts it \ninto a  “ Stripe ” object. Even though there are 10 stripes, each one individually responds to the mouse by \nhaving its own  rollover( ) function. \n void rollover(int mx, int my)  { \n if (mx  >  x  & & mx  <  x  +  w)  { \n mouse  =  true; \n } else { \n  mouse  =  false; \n } \n } \n Th is function checks to see if a point ( mx ,  my ) is contained within the vertical stripe. Is it greater than \nthe left edge and less than the right edge? If so, a boolean variable  “ mouse ” is set to true. When designing \nyour classes, it is often convenient to use a boolean variable to keep track of properties of an object that \nresemble a switch. For example, a Car object could be running or not running. Zoog could be happy or \nnot happy. \n Th is boolean variable is used in a conditional statement inside of the Stripe object’s  display( ) function to \ndetermine the Stripe’s color. \n void display() { \n if (mouse)  { \n   fill(255); \n } else { \n fill(255,100); \n } \n noStroke(); \n rect(x,0,w,height); \n } \n When we call the  rollover( ) function on that object, we can then pass in  mouseX and  mouseY as \narguments. \n stripes[i].rollover(mouseX,mouseY); \n Even though we could have accessed  mouseX and  mouseY directly inside of the  rollover ( ) function, it is \nbetter to use arguments. Th is allows for greater ﬂ exibility. Th e Stripe object can check and determine if \nany  x , y coordinate is contained within its rectangle. Perhaps later, we will want the Stripe to turn white \nwhen another object, rather than the mouse, is over it. \n Here is the full  “ interactive stripes ” example. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 900
  },
  {
    "chunk_full": "156\nLearning Processing\n Example 9-10: Interactive stripes \n // An array of stripes \n Stripe[] stripes  =  new Stripe[10]; \n void setup()  { \n size(200,200); \n    // Initialize all  \" stripes \" \n for (int i  =  0; i  <  stripes.length; i + + )  { \n stripes[i]  =  new Stripe(); \n } \n } \n void draw()  { \n background(100); \n // Move and display all  \" stripes \" \n for (int i  =  0; i  <  stripes.length; i + + )  { \n // Check if mouse is over the Stripe \n  stripes[i].rollover(mouseX,mouseY); \n  stripes[i].move(); \n \nstripes[i].display(); \n } \n } \n class Stripe  { \n float x;  \n// horizontal location of stripe \n float speed;  \n// speed of stripe \n float w;  \n// width of stripe \n boolean mouse; // state of stripe (mouse is over or not?) \n Stripe()  { \n x  =  0;  \n  // All stripes start at 0 \n speed  =  random(1);  // All stripes have a random positive speed \n w  =  random(10,30); \n mouse  =  false; \n } \n // Draw stripe \n void display()  { \n if (mouse)  { \n fill(255); \n }  else  { \n fill(255,100); \n } \n noStroke(); \n rect(x,0,w,height); \n } \n // Move stripe \n void move()  { \n x  + = speed; \n if (x  >  width + 20) x  = – 20; \n } \nﬁ g. 9.8 \nPassing the mouse coordinates \ninto an object.\nA boolean variable \nkeeps track of the \nobject’s state.\nBoolean variable determines \nStripe color.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 901
  },
  {
    "chunk_full": "Arrays\n 157\n // Check if point is inside of Stripe \n void rollover(int mx, int my)  { \n // Left edge is x, Right edge is x + w \n if (mx  >  x  & & mx  <  x +  w)  { \n mouse  =  true; \n } else { \n mouse  =  false; \n } \n } \n } \nCheck to see if point (mx,my) is \ninside the Stripe.\n Exercise 9-8: Write a Button class (see Example 5-5  for a non-object-oriented button). Th e button \nclass should register when a mouse is pressed over the button and change color. Create button objects \nof diﬀ erent sizes and locations using an array. Before writing the main program, sketch out the \nButton class. Assume the button is oﬀ  when it ﬁ rst appears. Here is a code framework: \n class Button { \n float x; \n float y; \n float w; \n float h; \n boolean on; \n Button(float tempX, float tempY, float tempW, float tempH)  { \n  x  =  tempX; \n \ny  =  tempY; \n  w  =  tempW; \n  h  =  tempH; \n on  = __________; \n } \n _____________________________________________________________________ \n _____________________________________________________________________ \n _____________________________________________________________________ \n _____________________________________________________________________ \n _____________________________________________________________________ \n _____________________________________________________________________ \n _____________________________________________________________________ \n _____________________________________________________________________ \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 902
  },
  {
    "chunk_full": "158\nLearning Processing\n 9.9  Processing’s Array Functions \n OK, so I have a confession to make. I lied. Well, sort of. See, earlier in this chapter, I made a very big \npoint of emphasizing that once you set the size of an array, you can never change that size. Once you have \nmade 10 Button objects, you can’t make an 11th. \n And I stand by those statements. Technically speaking, when you allocate 10 spots in an array, you have \ntold  Processing exactly how much space in memory you intend to use. You can’t expect that block of \nmemory to happen to have more space next to it so that you can expand the size of your array. \n However, there is no reason why you couldn’t just make a new array (one that has 11 spots in it), copy the \nﬁ rst 10 from your original array, and pop a new Button object in the last spot.  Processing , in fact, oﬀ ers \na set of array functions that manipulate the size of an array by managing this process for you. Th ey are: \n shorten( ), concat( ), subset( ), append( ), splice( ), and  expand( ) . In addition, there are functions for changing \nthe order in an array, such as  sort( ) and  reverse( ) . \n Details about all of these functions can be found in the reference. Let’s look at one example that uses \n append( ) to expand the size of an array. Th is example (which includes an answer to Exercise 8-5) starts \nwith an array of one object. Each time the mouse is pressed, a new object is created and appended to the \nend of the original array . \n Example 9-11: Resizing an array using append()\n Ball[] balls  =  new Ball[1]; \n float gravity  =  0.1; \n void setup()  { \n size(200,200); \n smooth(); \n frameRate(30); \n // Initialize ball index 0 \n balls[0]  =  new Ball(50,0,16); \n } \n void draw()  { \n background(100); \n // Update and display all balls \n for (int i  =  0; i  <  balls.length; i + + )  { \nﬁ g. 9.9 \n _____________________________________________________________________ \n _____________________________________________________________________ \n _____________________________________________________________________ \n _____________________________________________________________________ \n _____________________________________________________________________ \n } \nWe start with an array \nwith just one element.\nWhatever the length of \nthat array, update and \ndisplay all of the objects.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 903
  },
  {
    "chunk_full": "Arrays\n 159\n balls[i].gravity(); \n balls[i].move(); \n balls[i].display(); \n } \n } \n void mousePressed()  { \n // A new ball object \n Ball b  =  new Ball(mouseX,mouseY,10); \n // Append to array \n balls  =  (Ball[]) append(balls,b); \n } \n class Ball  { \n float x; \n float y; \n float speed; \n float w; \n \n \n x  =  tempX; \n y  =  tempY; \n w  =  tempW; \n speed  =  0; \n } \n void gravity()  { \n  // Add gravity to speed \n  speed  =  speed  +  gravity; \n } \n void move()  { \n  // Add speed to y location \n  y  =  y  +  speed; \n // If square reaches the bottom \n  // Reverse speed \n if (y  >  height)  { \n   speed  =  speed * –0.95; \n   y  =  height; \n } \n } \n void display()  { \n  // Display the circle \n  fill(255); \n  noStroke(); \n  ellipse(x,y,w,w); \n }\n \n } \n Another means of having a resizable array is through the use of a special object known as an  ArrayList , \nwhich will be covered in Chapter 23. \nMake a new object at the mouse location.\nHere, the function, append() adds an element to the \nend of the array. append() takes two arguments. \nThe ﬁ rst is the array you want to append to, and the \nsecond is the thing you want to append.\nYou have to reassign the result of the append()\nfunction to the original array. In addition, the append()\nfunction requires that you explicitly state the type of \ndata in the array again by putting the array data type \nin parentheses: “(Ball[])”. This is known as casting.\nBall(float tempX, float tempY, float tempW)  { \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 904
  },
  {
    "chunk_full": " 9.10  One Thousand and One Zoogs \n It is time to complete Zoog’s journey and look at how we move from one Zoog object to many.  In the \nsame way that we generated the Car array or Stripe array example, we can simply copy the exact Zoog \nclass created in Example 8-3 and implement an array . \n Example 9-12: 200 Zoog objects in an array \n Zoog[] zoogies  =  new Zoog[200]; \n void setup()  { \n size(400,400); \n smooth(); \n for (int i  =  0; i  <  zoogies.length; i + + )  { \n  zoogies[i]  =  new Zoog(random(width),random(height),30,30,8); \n } \n } \n void draw()  { \n background(255); // Draw a black background \n for (int i  =  0; i  <  zoogies.length; i + + )  { \n \n zoogies[i].display(); \n  zoogies[i].jiggle(); \n } \n } \n class Zoog  { \n  // Zoog's variables \n  float x,y,w,h,eyeSize; \n // Zoog constructor \n Zoog(float tempX, float tempY, float tempW, float tempH, float tempEyeSize)  { \n x  =  tempX; \n y  =  tempY; \n w  =  tempW; \n   h  =  tempH; \n eyeSize  =  tempEyeSize; \n } \n // Move Zoog \n void jiggle()  { \n // Change the location \n x  =  x  +  random(–1,1); \n y  =  y  +  random(–1,1); \n  // Constrain Zoog to window \n x  =  constrain(x,0,width); \n   y  =  constrain(y,0,height); \n } \n // Display Zoog \n void display()  { \n   // Set ellipses and rects to CENTER mode \n ellipseMode(CENTER); \n rectMode(CENTER); \nﬁ g. 9.10 \nThe only difference between this example \nand the previous chapter (Example 8-3) is \nthe use of an array for multiple Zoog objects.\nFor simplicity we have also removed the \n“speed” argument from the jiggle() function. \nTry adding it back in as an exercise.\n160\nLearning Processing\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 905
  },
  {
    "chunk_full": "Arrays\n 161\n // Draw Zoog's arms with a for loop \n for (float i  =  y-h/3; i  <  y  +  h/2; i + = 10)  { \n  stroke(0); \n line(x–w/4,i,x + w/4,i); \n } \n // Draw Zoog's body \n stroke(0); \n fill(175); \n rect(x,y,w/6,h); \n // Draw Zoog's head \n stroke(0); \n fill(255); \n ellipse(x,y-h,w,h); \n // Draw Zoog's eyes \n fill(0); \n ellipse(x–w/3,y–h,eyeSize,eyeSize*2); \n ellipse(x + w/3,y–h,eyeSize,eyeSize*2); \n // Draw Zoog's legs \n stroke(0); \n line(x–w/12,y + h/2,x-w/4,y + h/2 + 10); \n line(x + w/12,y + h/2,x + w/4,y + h/2 + 10); \n } \n } \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 906
  },
  {
    "chunk_full": " \nLesson Four Project\nStep 1.  Take the Class you made in Lesson Th ree and make an array of objects \nfrom that class.\nStep 2.  Can you make the objects react to the mouse? Try using the  dist( ) \nfunction to determine the object’s proximity to the mouse. For example, \ncould you make each object jiggle more the closer it is to the mouse?\n How many objects can you make before the sketch runs too slow? \n Use the space provided below to sketch designs, notes, and pseudocode for your \nproject.\n  \n162\nLearning Processing\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 907
  },
  {
    "chunk_full": "Lesson Five\nPutting It All Together\n10 Algorithms\n11 Debugging\n12 Libraries\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 908
  },
  {
    "chunk_full": "This page intentionally left blank\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 909
  },
  {
    "chunk_full": "Algorithms\n 165\n 10  Algorithms \n “ Lather. Rinse. Repeat. ” \n — Unknown \n 10.1  Where have we been? Where are we going? \n Our friend Zoog had a nice run. Zoog taught us the basics of the shape drawing libraries in  Processing. \nFrom there, Zoog advanced to interacting with the mouse, to moving autonomously via variables, \nchanging direction with conditionals, expanding its body with a loop, organizing its code with functions, \nencapsulating its data and functionality into an object, and ﬁ nally duplicating itself with an array. It is a \ngood story, and one that treated us well. Nonetheless, it is highly unlikely that all of the programming \nprojects you intend to do after reading this book will involve a collection of alien creatures jiggling \naround the screen (if they do, you are one lucky programmer!). What we need to do is pause for a \nmoment and consider what we have learned and how it can apply to what  you want to do. What is your \nidea and how can variables, conditionals, loops, functions, objects, and arrays help you? \n In earlier chapters we focused on straightforward  “ one feature ” programming examples. Zoog would \njiggle and only jiggle. Zoog didn’t suddenly start hopping. And Zoog was usually all alone, never \ninteracting with other alien creatures along the way. Certainly, we could have taken these early examples \nfurther, but it was important at the time to stick with basic functionality so that we could really learn the \nfundamentals. \n In the real world, software projects usually involve many moving parts. Th is chapter aims to demonstrate \nhow a larger project is created out of many smaller  “ one feature ” programs like the ones we are starting \nto feel comfortable making. You, the programmer, will start with an overall vision, but must learn how to \nbreak it down into individual parts to successfully execute that vision. \n We will start with an idea. Ideally, we would pick a sample  “ idea ” that could set the basis for any project \nyou want to create after reading this book. Sadly, there is no such thing. Programming your own software \nis terriﬁ cally exciting because of the immeasurable array of possibilities for creation. Ultimately, you will \nhave to make your own way. However, just as we picked a simple creature for learning the fundamentals, \nknowing we will not really be programming creatures all of our lives, we can attempt to make a generic \nchoice, one that will hopefully serve for learning about the process of developing larger projects. \n Our choice will be a simple game with interactivity, multiple objects, and a goal. Th e focus will not be \non good game design, but rather on good  software design. How do you go from thought to code? How \ndo you implement your own algorithm to realize your ideas? We will see how a larger project divides \ninto four mini-projects and attack them one by one, ultimately bringing all parts together to execute the \noriginal idea. \n We will continue to emphasize object-oriented programming, and each one of these parts will be  \n developed using a  class. Th e payoﬀ  will be seeing how easy it then is to create the ﬁ nal program by \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 910
  },
  {
    "chunk_full": "166\nLearning Processing\nbringing the self-contained, fully functional classes together. Before we get to the idea and its parts, let’s \nreview the concept of an  algorithm which we’ll need for steps 2a and 2b.\n Our Process \n 1.  Idea —Start with an idea. \n 2.  Parts —Break the idea down into smaller parts. \n \n a.  Algorithm Pseudocode —For each part, work out the algorithm for that part in pseudocode. \n \n b .  Algorithm Code —Implement that algorithm with code. \n \n c.  Objects —Take the data and functionality associated with that algorithm and build it into a \nclass. \n 3.  Integration —Take all the classes from Step 2 and integrate them into one larger algorithm. \n 10.2  Algorithm: Dance to the beat of your own drum. \n An algorithm is a procedure or formula for solving a problem. In computer programming, an algorithm is \nthe sequence of steps required to perform a task. Every single example we have created so far in this book \ninvolved an algorithm. \n An algorithm is not too far oﬀ  from a recipe. \n 1. \n Preheat oven to 400°F. \n 2. \n Place four boneless chicken breasts in a baking dish. \n 3. \n Spread mustard evenly over chicken. \n 4. \n Bake at 400°F for 30  min. \n Th e above is a nice algorithm for cooking mustard chicken. Clearly we are not going to write a  Processing \nprogram to cook chicken. Nevertheless, if we did, the above pseudocode might turn into the following code. \n preheatOven(400); \n placeChicken(4, \" baking dish \"167 ); \n spreadMustard(); \n bake(400,30); \n An example that uses an algorithm to solve a math problem is more relevant to our pursuits. Let’s \ndescribe an algorithm to evaluate the sum of a sequence of numbers 1 through  N . \n SUM( N )  \u0005  1 \u0002 2 \u0002 3 \u0002   …   \u0002 N \n where  N is any given whole number greater than zero. \n 1. \n Set SUM  \u0005  0 and a counter  I  \u0005  1 \n 2. \n Repeat the following steps while  I is less than or equal to  N . \n \n a.  Calculate SUM  \u0002  I and save the result in SUM. \n \n b.  Increase the value of  I by 1. \n 3. \n Th e solution is now the number saved in SUM. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 911
  },
  {
    "chunk_full": "Algorithms\n 167\n Translating the preceding algorithm into code, we have: \n int sum  = 0; \n int n  = 10; \n int i  = 0; \n while (i  < = n) { \n  sum  =  sum  +  i; \n  i + + ; \n } \n print ln(sum); \n Traditionally, programming is thought of as the process of (1) developing an idea, (2) working out an \nalgorithm to implement that idea, and (3) writing out the code to implement that algorithm. Th is is what \nwe have accomplished in both the chicken and summation examples. Some ideas, however, are too large \nto be ﬁ nished in one fell swoop. And so we are going to revise these three steps and say programming is \nthe process of (1) developing an idea, (2) breaking that idea into smaller manageable parts, (3) working \nout the algorithm for each part, (4) writing the code for each part, (5) working out the algorithm for all \nthe parts together, and (6) integrating the code for all of the parts together. \n Th is does not mean to say one shouldn’t experiment along the way, even altering the original idea \ncompletely. And certainly, once the code is ﬁ nished, there will almost always remain work to do in terms \nof cleaning up code, bug ﬁ xes, and additional features. It is this thinking process, however, that should \nguide you from idea to code. If you practice developing your projects with this strategy, creating code that \nimplements your ideas will hopefully feel less daunting. \n 10.3  From Idea to Parts \n To practice our development strategy, we will begin with the idea, a very simple game. Before we can get \nanywhere, we should describe the game in paragraph form.\n Rain Game \n Th e object of this game is to catch raindrops before they hit the ground. Every so often (depending \non the level of diﬃ  culty), a new drop falls from the top of the screen at a random horizontal \nlocation with a random vertical speed. Th e player must catch the raindrops with the mouse with \nthe goal of not letting any raindrops reach the bottom of the screen. \nStep 1. Set sum equal to 0 and counter i \u0005 0.\nStep 2. Repeat while i \u0007\u0005n.\nStep 2a. Increment sum.\nStep 2b. Increment i.\nStep 3. The solution is in sum. Print sum!\n Exercise 10.1: Write out an idea for a project you want to create. Keep it simple, just not too \nsimple. A few elements, a few behaviors will do. \n \n \n \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 912
  },
  {
    "chunk_full": "168\nLearning Processing\n Now let’s see if we can take the  “ Rain Game ” idea and break it down into smaller parts. How do we \ndo this? For one, we can start by thinking of the elements in the game: the raindrops and the catcher. \nSecondly, we should think about these elements ’ behaviors. For example, we will need a timing \nmechanism so that the drops fall  “ every so often ”. We will also need to determine when a raindrop is \n “ caught. ” Let’s organize these parts more formally. \n Part 1.  Develop a program with a circle controlled by the mouse. Th is circle will be the user-\ncontrolled  “ rain catcher. ” \n Part 2.  Write a program to test if two circles intersect. Th is will be used to determine if the rain \ncatcher has caught a raindrop. \n Part 3.  Write a timer program that executes a function every  N seconds. \n Part 4.  Write a program with circles falling from the top of the screen to the bottom. Th ese will be \nthe raindrops. \n Parts 1 through 3 are simple and each can be completed in one fell swoop. However, with Part 4, \neven though it represents one piece of the larger project, it is complex enough that we will need to \ncomplete this exact exercise by breaking it down into smaller steps and building it back up. \n Exercise 10-2: Take your idea from Exercise 10-1 and write out the individual parts. Try to \nmake the parts as simple as possible (almost to the point that it seems absurd). If the parts are \ntoo complex, break them down even further. \n Sections 10.4 to 10.7 will follow the process of Steps 2a, 2b, and 2c (see breakout box on p. 166) for each \nindividual part. For each part, we will ﬁ rst work out the algorithm in pseudocode, then in actual code, \nand ﬁ nish with an object-oriented version. If we do our job correctly, all of the functionality needed will \nbe built into a class which can then be easily copied into the ﬁ nal project itself when we get to Step 3 \n(integration of all parts). \n 10.4  Part 1: The Catcher \n Th is is the simplest part to construct and requires little beyond what we learned in Chapter 3. Having \npseudocode that is only two lines long is a good sign, indicating that this step is small enough to handle \nand does not need to be made into even smaller parts . \n Pseudocode: \n •  Erase background. \n •  Draw an ellipse at the mouse location. \n Translating it into code is easy: \n void setup()  { \n  size(400,400); \n  smooth(); \n } \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 913
  },
  {
    "chunk_full": "Algorithms\n 169\n void draw()  { \n  background(255); \n  stroke(0); \n  fill(175); \n  ellipse(mouseX,mouseY,64,64); \n } \n Th is is good step, but we are not done. As stated, our goal is to develop the rain catcher program in an \nobject-oriented manner. When we take this code and incorporate it into the ﬁ nal program, we will want \nto have it separated out into a class so that we can make a  “ catcher ” object. Our pseudocode would be \nrevised to look like the following. \n Setup: \n •  Initialize catcher object. \n Draw: \n •  Erase background. \n •  Set catcher location to mouse location. \n •  Display catcher. \n Example 10-1 shows the code rewritten assuming a Catcher object. \n Example 10-1: Catcher \n Catcher catcher; \n void setup()  { \n  size(400,400); \n  catcher =  new Catcher(32); \n  smooth(); \n } \n void draw()  { \n  background(255); \n  catcher.setLocation(mouseX,mouseY); \n  catcher.display(); \n } \n Th e Catcher class itself is rather simple, with variables for location and size, and two functions, one to set \nthe location and one to display. \n class Catcher { \n  float r; \n// radius \n  float x,y; \n// location \n  Catcher(float tempR)  { \n   r  =  tempR; \n   x  =  0; \n   y  =  0; \n  } \n ﬁ g. 10.1  \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 914
  },
  {
    "chunk_full": "170\nLearning Processing\n  void setLocation(float tempX, float tempY)  { \n   x =  tempX; \n   y  =  tempY; \n  } \n  void display()  { \n   stroke(0); \n   fill(175); \n   ellipse(x,y,r*2,r*2); \n  } \n } \n 10.5  Part 2: Intersection \n Part 2 of our list requires us to determine when the catcher and a raindrop intersect. Intersection \n functionality is what we want to focus on developing in this step. We will start with a simple bouncing \nball class (which we saw in Example 5-6) and work out how to determine when two bouncing circles \nintersect. During the  “ integration ” process, this  intersect( ) function will be incorporated into the Catcher \nclass to catch raindrops. \n Here is our algorithm for this intersection part. \n Setup: \n •  Create two ball objects. \n Draw: \n •  Move balls. \n •  If ball #1 intersects ball #2, change color of both balls to white. Otherwise, leave color gray. \n •  Display balls. \n Certainly the hard work here is the intersection test, which we will get to in a moment. First, here is what \nwe need for a simple bouncing  “ Ball ” class without an intersection test. \n Data: \n •  X and  Y location. \n •  Radius. \n •  Speed in  X and  Y directions. \n Functions: \n •  Constructor. \n  –  Set radius based on argument \n  –  Pick random location. \n  –  Pick random speed. \n •  Move. \n  –  Increment  X by speed in  X direction. \n  –  Increment  Y by speed in  Y direction. \n  –  If Ball hits any edge, reverse direction. \n •  Display. \n  –  Draw a circle at  X and  Y location. \n We are now ready to translate this into code. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 915
  },
  {
    "chunk_full": "Algorithms\n 171\n Example 10-2: Bouncing ball class \n class Ball  { \n  float r;  // radius \n  float x,y; \n// location \n  float xspeed,yspeed; // speed \n  // Constructor \n  Ball(float tempR)  { \n   r  =  tempR; \n   x  =  random(width); \n   y  =  random(height); \n   xspeed  =  random( -5,5);\n   yspeed  =  random( -5,5);\n  } \n  void move()  { \n   x  + = xspeed;  // Increment x \n   y + = yspeed;  // Increment y \n   // Check horizontal edges \n   if (x  > width | | x < 0) { \n    xspeed * =    - 1; \n   } \n   //Check vertical edges \n   if (y  > height | | y < 0) { \n    yspeed * =  – 1; \n   } \n } \n  //  Draw the ball \n  void display()  { \n   stroke(255); \n   fill(100,50); \n   ellipse(x,y,r*2,r*2); \n  } \n } \n From here, it is pretty easy to create a sketch with two ball objects. Ultimately, in the ﬁ nal sketch, we’ll \nneed an array for many raindrops, but for now, two ball variables will be simpler. \n Example 10-2 Catcher (Cont.): Two ball objects \n // Two ball variables \n Ball ball1; \n Ball ball2; \n void setup()  { \n  size(400,400); \n  smooth(); \n  // Initialize balls \n  ball1  =  new Ball(64); \n  ball2  =  new Ball(32); \n } \n void draw()  { \n  background(0); \n ﬁ g. 10.2  \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 916
  },
  {
    "chunk_full": "172\nLearning Processing\n  // Move and display balls \n  ball1.move(); \n  ball2.move(); \n  ball1.display(); \n  ball2.display(); \n } \n Now that we have set up our system for having two circles moving around the screen, we need to develop \nan algorithm for determining if the circles intersect. In  Processing , we know we can calculate the distance \nbetween two points using the  dist( ) function (see Chapter 7). We also have access to the radius of each \ncircle (the variable  r inside each object). Th e diagram in  Figure 10.3 shows how we can compare the \ndistance between the circles and the sum of the radii to determine if the circles overlap. \nR1\nR2\nDIST\nDIST > (R1 + R2)\nNOT INTERSECTING\nDIST < (R1 + R2)\nINTERSECTING\nR1\nR2\nDIST\n ﬁ g. 10.3  \n OK, so assuming the following: \n •  x 1, y 1: coordinates of circle one \n •  x 2, y 2: coordinates of circle two \n •  r 1: radius of circle one \n •  r 2: radius of circle two \n We have the statement: \n If the distance between (x1,y1 ) and (x2,y2 ) is less than the sum of r1 and r2, circle one intersects \ncircle two. \n Our job now is to write a function that returns true or false based on the above statement. \n // A function that returns true or false based on whether two circles intersect \n // If distance is less than the sum of radii the circles touch \n boolean intersect(float x1, float y1, float x2, float y2, float r1, float r2)  { \n  float distance  =  dist(x1,y2,x2,y2); // Calculate distance \n  if (distance < r1 + r2)  {    \n // Compare distance to r1  +  r2 \n   return true; \n  } else  { \n   return false; \n  } \n } \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 917
  },
  {
    "chunk_full": "Algorithms\n 173\n Now that the function is complete, we can test it with data from ball1 and ball2. \n boolean intersecting  =  intersect(ball1.x,ball1.y,ball2.x,ball2.y,ball1.r,ball2.r); \n if (intersecting)  { \n  println( \"The circles are intersecting! \"); \n } \n Th e above code is somewhat awkward and it will be useful to take the function one step further, \nincorporating it into the ball class itself. Let’s ﬁ rst look at the entire main program as it stands. \n // Two ball variables \n Ball ball1; \n Ball ball2; \n void setup()  { \n  size(400,400); \n  framerate(30); \n  smooth(); \n  // Initialize balls \n  ball1  =  new Ball(64); \n  ball2  =  new Ball(32); \n } \n void draw()  { \n  background(0); \n  // Move and display balls \n  ball1.move(); \n  ball2.move(); \n  ball1.display(); \n  ball2.display(); \n  boolean intersecting  =  intersect(ball1.x,ball1.y,ball2.x,ball2.y,ball1.r,ball2.r); \n  if (intersecting)  { \n   println( “The circles are intersecting! ”); \n  } \n } \n // A function that returns true or false based on whether two circles intersect \n // If distance is less than the sum of radii the circles touch \n boolean intersect(float x1, float y1, float x2, float y2, float r1, float r2)  { \n  float distance  =  dist(x1,y2,x2,y2);  \n// Calculate distance \n  if (distance  <  r1  +  r2)  {   \n \n// Compare distance to r1  +  r2 \n   return true; \n  } else { \n   return false; \n  } \n } \n Since we have programmed the balls in an object-oriented fashion, it is not terribly logical to suddenly \nhave an  intersect( ) function that lives outside of the ball class. A ball object should know how to test if it \nis intersecting another ball object. Our code can be improved by incorporating the intersect logic into the \nclass itself, saying  “ ball1.intersect (ball2); ” or, does Ball 1 intersect Ball 2? \n void draw()  { \n  background(0); \n  // Move and display balls \n  ball1.move(); \n  ball2.move(); \n  ball1.display(); \n  ball2.display(); \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 918
  },
  {
    "chunk_full": "174\nLearning Processing\n  boolean intersecting  =  ball1.intersect(ball2); \n  if (intersecting)  { \n   println( \" The circles are intersecting! \" ); \n  } \n } \n Following this model and the algorithm for testing intersection, here is a function for inside the ball class \nitself. Notice how the function makes use of both its own location ( x and  y ) as well as the other ball’s \nlocation ( b.x and  b.y ). \n // A function that returns true or false based on whether two Ball objects intersect \n // If distance is less than the sum of radii the circles touch \n boolean intersect(Ball b)  { \n  float distance  =  dist(x,y,b.x,b.y);  // Calculate distance \n  if (distance  <  r  +  b.r)  {   \n     // Compare distance to sum of radii \n   return true; \n  } else  { \n   return false; \n  } \n } \n Putting it all together, we have the code in Example 10-3 . \n Example 10-3: Bouncing ball with intersection \n // Two ball variables \n Ball ball1; \n Ball ball2; \n void setup()  { \n  size(400,400); \n  smooth(); \n  // Initialize balls \n  ball1  =  new Ball(64); \n  ball2  =  new Ball(32); \n } \n void draw()  { \n  background(255); \n  // Move and display balls \n  ball1.move(); \n  ball2.move(); \n  if (ball1.intersect(ball2))  { \n   ball1.highlight(); \n   ball2.highlight(); \n  } \n  ball1.display(); \n  ball2.display(); \n } \n class Ball  { \n  float r; // radius \n  float x,y; \n  float xspeed,yspeed; \n  color c  =  color(100,50); \n ﬁ g. 10.4 \nAssumes a function intersect() inside \nthe Ball class that returns true or false.\nNew! An object can have a function that takes \nanother object as an argument. This is one \nway to have objects communicate. In this case \nthey are checking to see if they intersect.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 919
  },
  {
    "chunk_full": "Algorithms\n 175\n  // Constructor \n  Ball(float tempR)  { \n   r  =  tempR; \n   x  =  random(width); \n   y  =  random(height); \n   xspeed  =  random( –5,5);\n   yspeed  =  random( –5,5);\n  } \n  void move()  { \n   x  + = xspeed;  // Increment x \n   y  + = yspeed;  // Increment y \n   // Check horizontal edges \n   if (x  >  width  | | x  <  0)  { \n    xspeed * =  – 1; \n   } \n   // Check vertical edges \n   if (y  >  height  | | y  <  0)  { \n    yspeed * =  – 1; \n   } \n  } \n  void highlight()  { \n   c  =  color(0,150); \n  } \n  // Draw the ball \n  void display()  { \n   stroke(0); \n   fill(c); \n   ellipse(x,y,r*2,r*2); \n   c  =  color(100,50); \n  } \n  // A function that returns true or false based on whether two circles intersect \n  // If distance is less than the sum of radii the circles touch \n  boolean intersect(Ball b)  { \n   float distance  =  dist(x,y,b.x,b.y);  // Calculate distance \n  if (distance  < r  + b.r) {        // Compare distance to \n   \n \n \n \n sum of radii \n    return true; \n   } else { \n    return false; \n   } \n  } \n } \n 10.6  Part 3: The Timer \n Our next task is to develop a timer that executes a function every  N seconds. Again, we will do this in two \nsteps, ﬁ rst just using the main body of a program and second, taking the logic and putting it into a Timer \nclass.  Processing has the functions  hour( ), second( ), minute( ), month( ), day( ), and  year( ) to deal with time. \nWe could conceivably use the  second( ) function to determine how much time has passed. However, this is \nnot terribly convenient, since  second( ) rolls over from 60 to 0 at the end of every minute. \nWhenever the balls are touching, this highlight()\nfunction is called and the color is darkened.\nAfter the ball is displayed, the color is reset back \nto a darker gray.\nObjects can \nbe passed into \nfunctions as \narguments too!\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 920
  },
  {
    "chunk_full": "176\nLearning Processing\n For creating a timer, the function  millis( ) is best. First of all,  millis( ) , which returns the number of \nmilliseconds since a sketch started, allows for a great deal more precision. One millisecond is one one-\nthousandth of a second (1,000 ms  \u0005  1  s). Secondly,  millis( ) never rolls back to zero, so asking for the \nmilliseconds at one moment and subtracting it from the milliseconds at a later moment will always result \nin the amount of time passed. \n Let’s say we want an applet to change the background color to red 5 seconds after it started. Five seconds \nis 5,000 ms, so it is as easy as checking if the result of the  millis( ) function is greater than 5,000. \n if (millis()  >  5000)  { \n  background(255,0,0); \n } \n Making the problem a bit more complicated, we can expand the program to change the background to a \nnew random color every 5  seconds. \n Setup: \n •  Save the time at startup (note this should always be zero, but it is useful to save it in a variable \nanyway). Call this  “ savedTime ” . \n Draw: \n •  Calculate the time passed as the current time (i.e.,  millis( ) ) minus savedTime. Save this as \n “ passedTime ” . \n •  If passedTime is greater than 5,000, fill a new random background and  reset savedTime to the current \ntime . This step will restart the timer. \n Example 10-4 translates this into code. \n Example 10-4: Implementing a timer \n int savedTime; \n int totalTime  =  5000; \n void setup()  { \n  size(200,200); \n  background(0); \n  savedTime  =  millis(); \n } \n void draw()  { \n  // Calculate how much time has passed \n  int passedTime  =  millis()  -  savedTime; \n  // Has five seconds passed? \n  if (passedTime  > totalTime)  { \n   println( \" 5 seconds have passed! \" ); \n   background(random(255));  // Color a new background \n   savedTime  =  millis();  // Save the current time to restart the timer! \n  } \n } \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 921
  },
  {
    "chunk_full": "Algorithms\n 177\n With the above logic worked out, we can now move the timer into a class. Let’s think about what data is \ninvolved in the timer. A timer must know the time at which it started ( savedTime) and how long it needs \nto run ( totalTime ). \n Data: \n •  savedTime \n •  totalTime \n Th e timer must also be able to  start as well as check and see if it  is ﬁ nished . \n Functions: \n •  start( ) \n •  isFinished( ) —returns true or false \n Taking the code from the non-object-oriented example and building it out with the above structure, we \nhave the code shown in Example 10-5. \n Example 10-5: Object-oriented timer \n Timer timer; \n void setup()  { \n  size(200,200); \n  background(0); \n  timer  =  new Timer(5000); \n  timer.start(); \n } \n void draw()  { \n  if (timer.isFinished())  { \n   background(random(255)); \n   timer.start(); \n  } \n } \n class Timer  { \n  int savedTime;  // When Timer started \n  int totalTime;  // How long Timer should last \n  Timer(int tempTotalTime)  { \n   totalTime  =  tempTotalTime; \n  } \n  // Starting the timer \n  void start()  { \n   savedTime  =  millis(); \n  } \n  boolean isFinished()  { \n   // Check how much time has passed \n   int passedTime  =  millis()- savedTime;\n   if (passedTime  >  totalTime)  { \n    return true; \n   } else { \n    return false; \n   } \n  } \n } \nWhen the timer starts it stores the current time in \nmilliseconds.\nThe function isFinished() returns \ntrue if 5,000 ms have passed. The \nwork of the timer is farmed out to \nthis method.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 922
  },
  {
    "chunk_full": "178\nLearning Processing\n 10.7  Part 4: Raindrops \n We are almost there. We have created a catcher, we know how to test for intersection, and we have \ncompleted the timer object. Th e ﬁ nal piece of the puzzle is the raindrops themselves. Ultimately, we want \nan array of Raindrop objects falling from the top of the window to the bottom. Since this step involves \ncreating an array of objects that move, it is useful to approach this fourth part as a series of even smaller \nsteps, subparts of Part 4, thinking again of the individual elements and behaviors we will need. \n Part 4 Subparts: \nPart 4.1. A single moving raindrop. \n Part 4.2. An array of raindrop objects. \nPart 4.3. Flexible number of raindrops (appearing one at a time). \nPart 4.4. Fancier raindrop appearance. \n Part 4.1, creating the motion of a raindrop (a simple circle for now) is easy—Chapter 3 easy. \n •  Increment raindrop  y value. \n •  Display raindrop. \n Translating into code we have  Part 4.1—A single moving raindrop , shown in Example 10-6. \n Example 10-6: Simple raindrop behavior \n float x,y; // Variables for drop location \n void setup()  { \n  size(400,400); \n  background(0); \n  x  =  width/2; \n  y  =  0;\n } \n void draw()  { \n  background(255); \n  // Display the drop \n  fill(50,100,150); \n  noStroke(); \n  ellipse(x,y,16,16); \n  // Move the drop \n  y + + ; \n } \n Again, however, we need to go a step further and make a Drop class—after all we will ultimately want an array \nof drops. In making the class, we can add a few more variables, such as speed and size, as well as a function to \ntest if the raindrop reaches the bottom of the screen, which will be useful later for scoring the game. \n class Drop  { \n  float x,y; \n // Variables for location of raindrop \n  float speed;  // Speed of raindrop \n  color c; \n  float r;   // Radius of raindrop \nA raindrop object has a location, \nspeed, color, and size.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 923
  },
  {
    "chunk_full": "Algorithms\n 179\n  Drop()  { \n   r  =  8;   \n// All raindrops are the same size \n   x  =  random(width);  \n// Start with a random x location \n   y  =  -r*4;           // Start a little above the window \n   speed  =  random(1,5);     // Pick a random speed \n   c  =  color(50,100,150);   // Color \n  } \n  //Move the raindrop down \n  void move()  { \n   y  + = speed;   // Increment by speed \n  } \n  // Check if it hits the bottom \n  boolean reachedBottom()  { \n   // If we go a little past the bottom \n   if (y  >  height + r*4) { \n    return true; \n   } else { \n    return false; \n   } \n  } \n  // Display the raindrop \n  void display()  { \n   // Display the drop \n   fill(50,100,150); \n   noStroke(); \n   ellipse(x,y,r*2,r*2); \n  } \n } \n Before we move on to Part 4.3, the array of drops, we should make sure that a singular Drop object functions \nproperly. As an exercise, complete the code in Exercise 10-3 that would test a single drop object. \nIncrementing y is now in the move() function.\nIn addition, we have a function that determines \nif the drop leaves the window.\n Exercise 10-3: Fill in the blanks below completing the  “ test Drop ” sketch. \n Drop drop; \n void setup()  { \n  size(200,200); \n  _________________________________; \n } \n void draw()  { \n  background(255); \n  drop. _________________; \n  _____________________________; \n } \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 924
  },
  {
    "chunk_full": "180\nLearning Processing\n Now that this is complete, the next step is to go from one drop to an array of drops— Part 4.2 . Th is is \nexactly the technique we perfected in Chapter 9. \n // An array of drops \n Drop[] drops  =  new Drop[50]; \n void setup()  { \n  size(400,400); \n  smooth(); \n  // Initialize all drops \n  for (int i  =  0; i  <  drops.length; i + + )  { \n   drops[i]  =  new Drop(); \n  } \n } \n void draw()  { \n  background(255); \n  // Move and display all drops \n  for (int i  =  0; i  <  drops.length; i + + )  { \n   drops[i].move(); \n   drops[i].display(); \n  } \n } \n Th e problem with the above code is that the raindrops appear all at once. According to the speciﬁ cations \nwe made for our game, we want to have the raindrops appear one at a time, every  N seconds—we are \nnow at  Part 4.3—Flexible number of raindrops (appearing one at a time) . We can skip worrying about the \ntimer for now and just have one new raindrop appear every frame. We should also make our array much \nlarger, allowing for many more raindrops. \n To make this work, we need a new variable to keep track of the total number of drops— “ totalDrops ” . \nMost array examples involve walking through the entire array in order to deal with the entire list. Now, \nwe want to access a portion of the list, the number stored in totalDrops. Let’s write some pseudocode to \ndescribe this process: \n Setup: \n •  Create an array of drops with 1,000 spaces in it. \n •  Set totalDrops  =  0. \n Draw: \n •  Create a new drop in the array (at the location totalDrops). Since totalDrops starts at 0, we will first \ncreate a new raindrop in the first spot of the array. \n •  Increment totalDrops (so that the next time we arrive here, we will create a drop in the next spot in \nthe array). \n •  If totalDrops exceeds the array size, reset it to zero and start over. \n •  Move and display all available drops (i.e., totalDrops). \nExample 10-7 translates the above pseudocode into code.\nInstead of one Drop object, an array of 50.\nUsing a loop to initialize all drops.\nMove and display all drops.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 925
  },
  {
    "chunk_full": "Algorithms\n 181\n Example 10-7: Drops one at a time \n // An array of drops \n Drop[] drops  =  new Drop[1000]; \n int totalDrops  =  0; \n void setup()  { \n  size(400,400); \n  smooth(); \n  background(0); \n } \n void draw()  { \n  background(255); \n  // Initialize one drop \n  drops[totalDrops]  =  new Drop(); \n  // Increment totalDrops \n  totalDrops + + ;\n  // If we hit the end of the array \n  if (totalDrops  > = drops.length) { \n  totalDrops  =  0; //Start over \n  } \n  // Move and display drops \n  for (int i  =  0; i  <  totalDrops; i + + ) { \n   drops[i].move(); \n   drops[i].display(); \n  } \n } \n We have taken the time to ﬁ gure out how we want the raindrop to move, created a class that exhibits that \nbehavior, and made an array of objects from that class. All along, however, we have just been using a circle \nto display the drop. Th e advantage to this is that we were able to delay worrying about the drawing code \nand focus on the motion behaviors and organization of data and functions. Now we can focus on how the \ndrops look— Part 4.4—Finalize raindrop appearance. \n One way to create a more  “ drop-like ” look is to draw a sequence of circles in the vertical direction, \nstarting small, and getting larger as they move down. \n Example 10-8: Fancier looking raindrop \n background(255); \n for (int i = 2; i < 8; i + + ) { \n  noStroke(); \n  fill(0); \n  ellipse(width/2,height/2 + i*4,i*2,i*2); \n } \n We can incorporate this algorithm in the raindrop class from Example 10-7, \nusing x and y for the start of the ellipse locations, and the raindrop radius \nas the maximum value for  i in the for loop. Th e output is shown in \n Figure 10.7 . \n ﬁ g. 10.5  \n ﬁ g. 10.6  \nNew variable to keep track of total \nnumber of drops we want to use!\nNew! We no longer move and display all \ndrops, but rather only the “totalDrops” \nthat are currently present in the game.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 926
  },
  {
    "chunk_full": "182\nLearning Processing\n // Display the raindrop \n void display()  { \n  // Display the drop \n  noStroke(); \n  fill(c); \n  for (int i  =  2; i  <  r; i + + )  { \n   ellipse(x,y + i*4,i*2,i*2); \n  } \n } \n 10.8  Integration: Puttin ’ on the Ritz \n It is time. Now that we have developed the individual pieces and conﬁ rmed that each one works properly, \nwe can assemble them together in one program. Th e ﬁ rst step is to create a new  Processing sketch that has \nfour tabs, one for each of our classes and one main program, as shown in  Figure 10.8 . \n ﬁ g. 10.8  \n Th e ﬁ rst step is to copy and paste the code for each class into each tab. Individually, they will not need to \nchange, so there is no need for us to revisit the code. What we do need to revisit is the main program—\nwhat goes in  setup( ) and  draw( ) . Referring back to the original game description and knowing how the \npieces were assembled, we can write the pseudocode algorithm for the entire game. \n Setup: \n •  Create Catcher object. \n •  Create array of drops. \n •  Set totalDrops equal to 0. \n •  Create Timer object. \n •  Start timer. \n Draw: \n •  Set Catcher location to mouse location. \n •  Display Catcher. \n •  Move all available Drops. \n •  Display all available Drops. \n •  If the Catcher intersects any Drop. \n  –  Remove Drop from screen. \n •  If the timer is finished: \n  –  Increase the number of drops. \n  –  Restart timer. \n ﬁ g. 10.7  \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 927
  },
  {
    "chunk_full": "Algorithms\n 183\n Notice how every single step in the above program has already been worked out previously in the chapter \nwith one exception:  “ Remove Drop from screen. ” Th is is rather common. Even with breaking the idea \ndown into parts and working them out one at a time, little bits can be missed. Fortunately, this piece of \nfunctionality is simple enough and with some ingenuity, we will see how we can slip it in during assembly. \n One way to approach assembling the above algorithm is to start by combining all of the elements into \none sketch and not worrying about how they interact. In other words, everything but having the timer \ntrigger the drops and testing for intersection. To get this going, all we need to do is copy/paste from each \npart’s global variables,  setup( ) and  draw( ) ! \n Here are the global variables: a Catcher object, an array of Drop objects, a Timer object, and an integer to \nstore the total number of drops. \n Catcher catcher; \n // One catcher object \n Timer timer;  \n// One timer object \n Drop[] drops; \n // An array of drop objects \n int totalDrops  =  0; \n // totalDrops \n In  setup( ) , the variables are initialized. Note, however, we can skip initializing the individual drops in the \narray since they will be created one at a time. We will also need to call the timer’s  start( ) function. \n void setup()  { \n  size(400,400); \n  catcher  =  new Catcher(32);  \n// Create the catcher with a radius of 32 \n  drops  =  new Drop[1000];  \n// Create 1000 spots in the array \n  timer  =  new Timer(2000);  \n// Create a timer that goes off every 2 seconds \n  timer.start();  \n// Starting the timer \n } \n In  draw( ) , the objects call their methods. Again, we are just taking the code from each part we did \nseparately earlier in this chapter and pasting in sequence. \n Example 10-9: Using all the objects in one sketch \n Catcher catcher;  \n// One catcher object \n Timer timer; \n  \n// One timer object \n Drop[] drops; \n// An array of drop objects \n int totalDrops  =  0; \n// totalDrops \n void setup()  { \n  size(400,400); \n  smooth(); \n  catcher  =  new Catcher(32); \n // Create the catcher with a radius of 32 \n  drops  =  new Drop[1000];    // Create 1000 spots in the array \n  timer  =  new Timer(2000); \n // Create a timer that goes off every 2 seconds \n  timer.start();  \n// Starting the timer \n } \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 928
  },
  {
    "chunk_full": "184\nLearning Processing\n Th e next step is to take these concepts we have developed and have them work together. For example, \nwe should only create a new raindrop whenever two  seconds have passed (as indicated by the timer’s \nisFinished( ) function). \n // Check the timer \n if (timer.isFinished())  { \n  // Deal with raindrops \n  // Initialize one drop \n  drops[totalDrops]  =  new Drop(); \n  // Increment totalDrops \n  totalDrops + + ; \n  // If we hit the end of the array \n  if (totalDrops  > = drops.length)  { \n   totalDrops  =  0; // Start over \n  } \n  timer.start(); \n } \n We also need to ﬁ nd out when the Catcher object intersects a Drop. In Section 10.5, we tested for \nintersection by calling the  intersect( ) function we wrote inside the Ball class. \n void draw()  { \n  background(255); \n catcher.setLocation(mouseX,mouseY); // Set catcher location \n catcher.display();  \n \n   // Display the catcher \nFrom Part 1. \nThe Catcher!\n // Check the timer \n if (timer.isFinished())  { \n  println( \" 2 seconds have passed! \" ); \n  timer.start(); \n } \nFrom Part 3. \nThe Timer!\n // Deal with raindrops \n // Initialize one drop \n drops[totalDrops]  =  new Drop(); \n //Increment totalDrops \n totalDrops + + ; \n // If we hit the end of the array \n if (totalDrops  > = drops.length)  { \n  totalDrops  =  0; // Start over \n } \n // Move and display all drops \n for (int i  =  0; i  <  totalDrops; i + + ) { \n  drops[i].move(); \n  drops[i].display(); \n } \nFrom Part 4. \nThe Raindrops!\nObjects working together! Here when \nthe timer “is ﬁ nished,” a Drop object is \nadded (by incrementing “totalDrops”).\n}\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 929
  },
  {
    "chunk_full": "Algorithms\n 185\n boolean intersecting  =  ball1.intersect(ball2); \n if (intersecting)  { \n  println( \"The circles are intersecting! \"); \n } \n We can do the same thing here, calling an  intersect( ) function in the Catcher class and passing \nthrough every raindrop in the system. Instead of printing out a message, we will actually want to \naﬀ ect the raindrop itself, telling it to disappear, perhaps. Th is code assumes that the  caught( ) function \nwill do the job. \n // Move and display all drops \n for (int i  =  0; i  <  totalDrops; i + + ) { \n  drops[i].move(); \n  drops[i].display(); \n if (catcher.intersect(drops[i]))  {\ndrops[i].caught();\n}\n } \n Our Catcher object did not originally contain the function  intersect( ) , nor did Drop include  caught( ) . \nSo these are some new functions we will need to write as part of the integration process. \nintersect( ) is easy to incorporate since we solved the problem already in Section 10.5 and can literally copy \nit into the Catcher class (changing the argument from a Ball object to a Drop object). \n // A function that returns true or false based if the catcher intersects a raindrop \n boolean intersect(Drop d)  { \n  // Calculate distance\n  float distance  =  dist(x,y,d.x,d.y); \n // Compare distance to sum of radii\n  if (distance  <  r  +  d.r)  {       \n   return true; \n  } else  { \n  return false; \n  } \n } \n When the drop is caught, we will set its location to somewhere oﬀ screen (so that it can’t be seen, the \nequivalent of  “ disappearing ” ) and stop it from moving by setting its speed equal to 0. Although we did \nnot work out this functionality in advance of the integration process, it is simple enough to throw in right \nnow. \n // If the drop is caught \n void caught()  { \n  speed  =  0;  \n// Stop it from moving by setting speed equal to zero \n  y  =  – 1000;  \n// Set the location to somewhere way off-screen \n } \n And we are ﬁ nished! For reference, Example 10-10 is the entire sketch. Th e timer is altered to execute \nevery 300 ms, making the game ever so slightly more diﬃ  cult . \nObjects working together! Here, the Catcher \nobject checks to see if it intersects any Drop \nobject in the drops array.\nIn addition to calling functions, we can \naccess variables inside of an object using \nthe dot syntax.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 930
  },
  {
    "chunk_full": "186\nLearning Processing\n Example 10-10: The raindrop catching game \n Catcher catcher;  \n// One catcher object \n Timer timer;  \n// One timer object \n Drop[] drops;  \n// An array of drop objects \n int totalDrops  =  0;  // totalDrops \n void setup()  { \n  size(400,400); \n  smooth(); \n  catcher  =  new Catcher(32);  // Create the catcher with a radius of 32 \n  drops  =  new Drop[1000];    // Create 1000 spots in the array \n  timer  =  new Timer(300);    // Create a timer that goes off every 2 seconds \n  timer.start();  \n// Starting the timer \n } \n void draw()  { \n  background(255); \n  catcher.setLocation(mouseX,mouseY);  // Set catcher location \n  catcher.display(); \n // Display the catcher \n  // Check the timer \n  if (timer.isFinished())  { \n   // Deal with raindrops \n   // Initialize one drop \n   drops[totalDrops]  =  new Drop(); \n   // Increment totalDrops \n   totalDrops + + ; \n   // If we hit the end of the array \n   if (totalDrops  > = drops.length)  { \n    totalDrops  =  0;  // Start over \n   } \n   timer.start(); \n  } \n  // Move and display all drops \n  for (int i  =  0; i  <  totalDrops; i + + ) { \n   drops[i].move(); \n   drops[i].display(); \n   if (catcher.intersect(drops[i]))  { \n    drops[i].caught(); \n   } \n  } \n } \n class Catcher  { \n  float r;  \n // radius \n  color col;  // color \n  float x,y;  // location \n  Catcher(float tempR)  { \n   r  =  tempR; \n   col  =  color(50,10,10,150); \n   x  =  0; \n   y  =  0; \n  } \n ﬁ g. 10.9  \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 931
  },
  {
    "chunk_full": "Algorithms\n 187\n  void setLocation(float tempX, float tempY)  { \n   x  =  tempX; \n   y  =  tempY; \n  } \n  void display()  { \n   stroke(0); \n   fill(col); \n   ellipse(x,y,r*2,r*2); \n  } \n // A function that returns true or false based if the catcher intersects a raindrop \n  boolean intersect(Drop d)  { \n   float distance  =  dist(x,y,d.x,d.y);  // Calculate distance \n   if (distance  < r  +  d.r)  {   \n  // Compare distance to sum of radii \n    return true; \n   }  else  { \n    return false; \n   } \n  } \n } \n class Drop  { \n  float x,y;   \n  // Variables for location of raindrop \n  float speed;  \n  // Speed of raindrop \n  color c; \n  float r;  \n \n  // Radius of raindrop \n  Drop()  { \n   r  =  8;   \n// All raindrops are the same size \n   x  =  random(width);  \n// Start with a random x location \n   y  =  -r*4;  \n// Start a little above the window \n   speed  =  random(1,5);  \n// Pick a random speed \n   c  =  color(50,100,150);  // Color \n  } \n  // Move the raindrop down \n  void move()  { \n   y  + = speed;  // Increment by speed \n  } \n  // Check if it hits the bottom \n  boolean reachedBottom()  { \n   if (y  >  height + r*4) {  // If we go a little beyond the bottom \n    return true; \n   }  else  { \n    return false; \n   } \n  } \n  // Display the raindrop \n  void display()  {\n   // Display the drop \n   fill(c); \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 932
  },
  {
    "chunk_full": "   noStroke(); \n   for (int i  =  2; i  <  r; i + + )  { \n    ellipse(x,y + i*4,i*2,i*2); \n   } \n  } \n  // If the drop is caught \n  void caught()  { \n   speed  =  0;  // Stop it from moving by setting speed equal to zero \n   // Set the location to somewhere way off-screen \n   y  =  – 1000; \n  } \n } \n class Timer  { \n  int savedTime;  // When Timer started \n  int totalTime;  // How long Timer should last \n  Timer(int tempTotalTime)  { \n   totalTime  =  tempTotalTime; \n  } \n  // Starting the timer \n  void start()  { \n   savedTime  =  millis(); \n  } \n  boolean isFinished()  { \n   // Check out much time has passed \n   int passedTime  =  millis()-  savedTime; \n   if (passedTime  > totalTime)  { \n    return true; \n   } else  { \n    return false; \n   } \n  } \n \n } \n Exercise 10-4: Implement a scoring system for the game. Start the player oﬀ  with 10 points. \nFor every raindrop that reaches the bottom, decrease the score by 1. If all 1,000 raindrops \nfall without the score getting to zero, a new level begins and the raindrops appear faster. If \n10 raindrops reach the bottom during any level, the player loses. Show the score onscreen as \na rectangle that decreases in size. Do not try to implement all of these features at once. Do \nthem one step at a time! \n 10.9  Getting Ready for Act II \n Th e point of this chapter is not to learn how to program a game of catching falling raindrops, rather it \nis to develop an approach to problem solving—taking an idea, breaking it down into parts, developing \npseudocode for those parts, and implementing them one very small step at a time. \n188\nLearning Processing\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 933
  },
  {
    "chunk_full": "Algorithms\n 189\n It is important to remember that getting used to this process takes time and it takes practice. Everyone \nstruggles through it when ﬁ rst learning to program. \n Before we embark on the rest of this book, let’s take a moment to consider what we have learned \nand where we are headed. In these 10 chapters, we have focused entirely on the fundamentals of \nprogramming. \n •  Data—in the form of variables and arrays. \n •  Control Flow—in the form of conditional statements and loops. \n •  Organization—in the form of functions and objects. \n Th ese concepts are not unique to  Processing and will carry you through to any and all programming \nlanguages and environments, such as C \u0002 \u0002 , Actionscript (as in Flash), and server-side programming \nlanguages such as PHP. Th e syntax may change, but the fundamental concepts will not. \n Starting with Chapter 13 the book will focus on some advanced concepts available in  Processing , such as \nthree-dimensional translation and rotation, image processing and video capture, networking, and sound. \nAlthough these concepts are certainly not unique to  Processing , the details of their implementation will be \nmore speciﬁ c to the environment we have chosen. \n Before we move on to these advanced topics we will take a quick look at basic strategies for ﬁ xing errors \nin your code (Chapter 11: Debugging) as well as how to use  Processing libraries (Chapter 12). Many of \nthese advanced topics require importing libraries that come with  Processing as well as libraries made for \nthis book or by third parties. One of the strengths of  Processing is its ability to be easily extended with \nlibraries. We will see some hints of how to create your own libraries in the ﬁ nal chapter of this book. \n Onward, ho! \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 934
  },
  {
    "chunk_full": " Lesson Five Project \n Step 1.  Develop an idea for a project that can be created with  Processing using \nsimple shape drawing and the fundamentals of programming. If you feel \nstuck, try making a game such as Pong or Tic-Tac-Toe. \n Step 2.  Follow the strategy outlined in this chapter and break the idea down \ninto smaller parts, implementing the algorithm for each one individually. \nMake sure to use object-oriented programming for each part. \n Step 3.  Bring the smaller parts together in one program. Did you forget any \nelements or features? \n Use the space provided below to sketch designs, notes, and pseudocode for your \nproject. \n190\nLearning Processing\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 935
  },
  {
    "chunk_full": "Debugging\n 191\n 11  Debugging \n “ Th e diﬀ erence between the right word and the almost right word \nis the diﬀ erence between lightning and a lightning bug. ” \n —Mark Twain \n “ L’appétit vient en mangeant. ” \n —Th e French \n Bugs happen. \n Five minutes ago, your code was working perfectly and you swear, all you did was change the color of \nsome object! But now, when the spaceship hits the asteroid, it doesn’t spin any more. But it was totally \nspinning ﬁ ve minutes ago! And your friend agrees:  “ Yeah, I saw it spin. Th at was cool. ” Th e  rotate( ) \nfunction is there. What happened? It should work. Th is makes no sense at all! Th e computer is probably \nbroken. Yeah.  Yeah . It is deﬁ nitely the computer’s fault. \n No matter how much time you spend studying computer science, reading programming books, or playing \naudio recordings of code while you sleep hoping it will soak in that way, there is just no way to avoid \ngetting stuck on a bug. \n It can be really frustrating. \n A bug is any defect in a program. Sometimes it is obvious that you have a bug; your sketch will quit (or \nnot run at all) and display an error in the message console. Th ese types of bugs can be caused by simple \ntypos, variables that were never initialized, looking for an element in an array that doesn’t exist, and so on. \nFor some additional clues on  “ error ” bugs, take a look at the Appendix on errors at the end of this book. \n Bugs can also be more sinister and mysterious. If your  Processing sketch does not function the way you \nintended it to, you have a bug. In this case, your sketch might run without producing any errors in the \nmessage console. Finding this type of bug is more diﬃ  cult since it will not necessarily be as obvious \nwhere to start looking in the code. \n In this chapter, we will discuss a few basic strategies for ﬁ xing bugs ( “ debugging ” ) with  Processing . \n 11.1  Tip #1: Take a break. \n Seriously. Go away from your computer. Sleep. Go jogging. Eat an orange. Play scrabble. Do something \nother than working on your code. I can’t tell you how many times I have stared at my code for hours \nunable to ﬁ x it, only to wake up the next morning and solve the problem in ﬁ ve minutes . \n 11.2  Tip #2: Get another human being involved. \n Talk through the problem with a friend. Th e process of showing your code to another programmer (or \nnonprogrammer, even) and walking through the logic out loud will often reveal the bug. In many cases, it \nis something obvious that you did not see because you know your code so well. Th e process of explaining \nit to someone else, however, forces you to go through the code more slowly. If you do not have a friend \nnearby, you can also do this out loud to yourself. Yes, you will look silly, but it helps. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 936
  },
  {
    "chunk_full": "192\nLearning Processing\n 11.3  Tip #3: Simplify \n Simplify. Simplify! SIMPLIFY! \n In Chapter 10, we focused on the process of incremental development. Th e more you develop your \nprojects step-by-step, in small, easy to manage pieces, the fewer errors and bugs you will end up having. \nOf course, there is no way to avoid problems completely, so when they do occur, the philosophy of \nincremental development can also be applied to debugging. Instead of building the code up piece by \npiece, debugging involves taking the code apart piece by piece. \n One way to accomplish this is to comment out large chunks of code in order to isolate a particular \nsection. Following is the main tab of an example sketch. Th e sketch has an array of Snake objects, \na Button object, and an Apple object. (Th e code for the classes is not included.) Let’s assume that \neverything about the sketch is working properly, except that the Apple is invisible. To debug the problem, \neverything is commented out except for the few lines of code that deal directly with initializing and \ndisplaying the Apple object. \n// Snake[] snakes =  new Snake[100]; \n // Button button; \n Apple apple; \n void setup()  { \n  size(200,200); \n  apple  =  new Apple(); \n  /*for (int i  =  0; i  < snakes.length; i ++ )  { \n    snakes[i]  =  new Snake(); \n  } \n  button  =  new Button(10,10,100,50); \n  smooth();*/ \n } \n void draw()  { \n  background(0); \n  apple.display(); \n  // apple.move(); \n} \n /*void mousePressed()  { \n  button.click(mouseX,mouseY); \n } */ \n /*for (int i  =  0; i  < snakes. length; i + + )  { \n  snakes[i].display(); \n  snakes[i].slither(); \n  snakes[i].eat(apple); \n } \n if (button.pressed())  { \n  applet.restart(); \n } */ \nLarge blocks of code can be \ncommented out between /*and*/\n/*All of this is \ncommented out */\nOnly the code that makes the \nApple object and displays the \nobject is left uncommented. This \nway, we can be sure that none of \nthe other code is the cause of the \nissue.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 937
  },
  {
    "chunk_full": "Debugging\n 193\n Once all the code is commented out, there are two possible outcomes. Either the apple still does not \nappear or it does. In the former, the issue is most deﬁ nitely caused by the apple itself, and the next step \nwould be to investigate the insides of the  display( ) function and look for a mistake. \n If the apple does appear, then the problem is caused by one of the other lines of code. Perhaps the \nmove( ) function sends the apple oﬀ screen so that we do not see it. Or maybe the Snake objects \ncover it up by accident. To ﬁ gure this out, I would recommend putting back lines of code, one at a time. \nEach time you add back in a line of code, run the sketch and see if the apple disappears. As soon as it \ndoes, you have found the culprit and can root out the cause. Having an object-oriented sketch as above \n(with many classes) can really help the debugging process. Another tactic you can try is to create a new \nsketch and just use one of the classes, testing its basic features. In other words, do not worry about ﬁ xing \nyour entire program just yet. First, create a new sketch that only does one thing with the relevant class \n(or classes) and reproduce the error. Let’s say that, instead of the apple, the snakes are not behaving \nproperly. To simplify and ﬁ nd the bug, we could create a sketch that just uses one snake (instead of an \narray) without the apple or the button. Without the bells and whistles, the code will be much easier to \ndeal with. \n Snake snake; \n void setup()  { \n  size(200,200); \n  snake  =  new Snake(); \n } \n void draw()  { \n  background(0); \n  snakes.display(); \n  snakes.slither(); \n  //snakes.eat(apple); \n } \n Although we have not yet looked at examples that involve external devices (we will in many of the \nchapters that follow), simplifying your sketch can also involve turning oﬀ  connections to these devices, \nsuch as a camera, microphone, or network connection and replacing them with  “ dummy ” information. \nFor example, it is much easier to ﬁ nd an image analysis problem if you just load a JPG, rather than use \na live video source. Or load a local text ﬁ le instead of connecting to a URL XML feed. If the problem \ngoes away, you can then say deﬁ nitively:  “ Aha, the web server is probably down ” or  “ My camera must be \nbroken. ” If it does not, then you can dive into your code knowing the problem is there. If you are worried \nabout worsening the problem by taking out sections of code, just make a copy of your sketch ﬁ rst before \nyou begin removing features. \n 11.4  Tip #4:  println( ) is your friend. \n Using the message window to display the values of variables can be really helpful. If an object is \ncompletely missing on the screen and you want to know why, you can print out the values of its location \nvariables. It might look something like this: \n println( \"x: \"  +  thing.x  +  \" y: \"  +  thing.y); \nSince this version does not include an Apple object, \nwe cannot use this line of code. As part of the \ndebugging process, however, we might incrementally \nadd back in the apple and uncomment this line.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 938
  },
  {
    "chunk_full": "194\nLearning Processing\n Let’s say the result is: \n x: 9000000  y:  – 900000 \n x: 9000116  y: – 901843 \n x: 9000184  y:  – 902235 \n x: 9000299  y:  – 903720 \n x: 9000682  y:  – 904903 \n It is pretty obvious that these values are not reasonable pixel coordinates. So something would be oﬀ  in \nthe way the object is calculating its ( x , y ) location. However, if the values were perfectly reasonable, then \nyou would move on. Maybe the color is the problem? \n println( \" brightness: \"  +  brightness(thing.col)  +  \" alpha:  \"  +  alpha(thing.col)); \n Resulting in: \n brightness: 150.0 alpha: 0.0 \n Well, if the alpha value of the object’s color is zero, that would explain why you can’t see it! We should \ntake a moment here to remember Tip #3: Simplify. Th is process of printing variable values will be much \nmore eﬀ ective if we are doing it in a sketch that only deals with the Th ing object. Th is way, we can be sure \nthat it is not another class which is, say, drawing over the top of the Th ing by accident. \n You may have also noticed that the above print statements concatenate actual text with the variables. \n(See Chapter 17 for more on concatenation.) It is generally a good idea to do this. Th e following line of \ncode only prints the value of  x , with no explanation. \n println(x); \n Th is can be confusing to follow in the message window, especially if you are printing diﬀ erent values in \ndiﬀ erent parts of the code. How do you know what is  x and what is  y ? If you include your own notes in \n println( ) , there can’t be any confusion: \n println( \" The x value of the thing I’m looking for is:  \"  +  x); \n In addition,  println( ) can be used to indicate whether or not a certain part of the code has been reached. \nFor example, what if in our  “ bouncing ball ” example, the ball never bounces oﬀ  of the right-hand side of \nthe window? Th e problem could be (a) you are not properly determining when it hits the edge, or (b) you \nare doing the wrong thing when it hits the edge. To know if your code correctly detects when it hits the \nedge, you could write: \n if (x  > width)  { \n  println( \" X is greater than width. This code is happening now! \" ); \n  xspeed * =  – 1; \n } \n If you run the sketch and never see the message printed, then something is probably ﬂ awed with your \nboolean expression. \n Admittedly,  println( ) is not a perfect debugging tool. It can be hard to track multiple pieces of \ninformation with the message window. It can also slow your sketch down rather signiﬁ cantly (depending \non how much printing you are doing). More advanced development environments usually oﬀ er \ndebugging tools which allow you to track speciﬁ c variables, pause the program, advance line by line in \nthe code, and so on. Th is is one of the trade-oﬀ s we get using  Processing . It is much simpler to use, but \nit does not have all of the advanced features. Still, in terms of debugging, some sleep, a little common \nsense, and  println( ) can get you pretty far. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 939
  },
  {
    "chunk_full": "Libraries\n 195\n 12  Libraries \n “ If truth is beauty, how come no one has their hair done in the library? ” \n —Lily Tomlin \n Many of the chapters that follow require the use of  Processing libraries. Th is chapter will cover how to \ndownload, install, and use these libraries. I recommend that you read the chapter for a basic sense of \nlibraries now (we will start talking about them immediately in Chapter 14: Translation and Rotation) \nand, if necessary, refer back to it when you suddenly ﬁ nd yourself downloading one (which ﬁ rst occurs in \nChapter 15: Video). \n 12.1  Libraries \n Whenever we call a  Processing function, such as  line( ) ,  background( ) ,  stroke( ) , and so on, we are calling a \nfunction that we learned about from the  Processing reference page (or perhaps even from this book!). Th at \nreference page is a list of all the available functions in the core  Processing library . In computer science, a \nlibrary refers to a collection of  “ helper ” code. A library might consist of functions, variables, and objects. \nTh e bulk of things we do are made possible by the core  Processing library. \n In most programming languages, you are required to specify which libraries you intend to use at the top \nof your code. Th is tells the compiler (see Chapter 2) where to look things up in order to translate your \nsource code into machine code. If you were to investigate the ﬁ les inside of your  Processing application \ndirectory, you would ﬁ nd a ﬁ le named  core.jar inside of the folder  lib . Th at jar ﬁ le contains the compiled \ncode for just about everything we do in  Processing . Since it is used in every program,  Processing just \nassumes that it should be imported and does not require that you explicitly write an import statement. \nHowever, if this were not the case, you would have the following line of code at the top of every single \nsketch: \n import processing.core.*; \n “ Import ” indicates we are going to make use of a library, and the library we are going to use is  “ processing.\ncore. ” Th e  “ .* ” is a wildcard, meaning we would like access to everything in the library. Th e naming of the \nlibrary using the dot syntax (processing dot core) has to do with how collections of classes are organized \ninto  “ packages ” in the Java programming language. As you get more comfortable with  Processing and \nprogramming, this is likely a topic you will want to investigate further. For now, all we need to know is \nthat  “ processing.core ” is the name of the library. \n While the  core library covers all the basics, for other more advanced functionality, you will have to import \nspeciﬁ c libraries that are not  assumed . Our ﬁ rst encounter with this will come in Chapter 14, where in \norder to make use of the OpenGL renderer, the OpenGL library will be required: \n import processing.opengl.*; \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 940
  },
  {
    "chunk_full": "196\nLearning Processing\n Many of the chapters that follow will require the explicit use of external  Processing libraries, such as video, \nnetworking, serial, and so on. Documentation for these libraries can be found on the  Processing web site \nat  http://www.processing.org/reference/libraries/ . Th ere, you will ﬁ nd a list of libraries that come with \n Processing , as well as links to third party libraries available for download on the web. \n 12.2  Built-in Libraries \n Using a built-in library is easy because there is no installation required. Th ese libraries come with your \n Processing application. Th e list of built-in libraries (full list available at above URL) is not terribly long \nand all but a few are covered in this book as listed below. \n •  Video —For capturing images from a camera, playing movie files, and recording movie files. Covered \nin Chapters 16 and 21. \n •  Serial —For sending data between  Processing and an external device via serial communication. \nCovered in Chapter 19. \n •  OpenGL —For rendering a sketch with graphics acceleration. Covered in Chapter 14. \n •  Network —For creating client and server sketches that can communicate across the internet. \nCovered in Chapter 19. \n •  PDF —For creating high resolution PDFs of graphics generated in  Processing . Covered in Chapter 21. \n •  XML —For importing data from XML documents. Covered in Chapter 18. \n Examples speciﬁ cally tailored toward using the above libraries are found in the chapters listed. Th e \n Processing web site also has superb documentation for these libraries (found on the  “ libraries ” page). Th e only \ngeneric knowledge you need regarding  Processing built-in libraries is that you must include the appropriate \nimport statement at the top of your program. Th is statement will automatically be added to the sketch if you \nselect SKETCH → IMPORT LIBRARY. Or, you can simply type the code in manually (using the import \nlibrary menu option does not do anything other than just add the text for the import statement). \n import processing.video.*; \n import processing.serial.*; \n import processing.opengl.*; \n import processing.net.*; \n import processing.pdf.*; \n import processing.xml.*; \n 12.3  Contributed Libraries \n Th e world of third party (also known as  “ contributed ” ) libraries for  Processing resembles the wild west. \nAs of the writing of this book, there are 47 contributed libraries, with capabilities ranging from sound \ngeneration and analysis, to packet sniﬃ  ng, to physics simulations, to GUI controls. Several of these \ncontributed libraries will be demonstrated over the course of the remainder of this book. Here, we will \ntake a look at the process of downloading and installing a contributed library. \n Th e ﬁ rst thing you need to do is ﬁ gure out where you installed  Processing . On a Mac, the application \nis most likely found in the  “ Applications ” directory, on a PC,  “ Program Files. ” We will make this \nassumption, but have no fear if you installed it somewhere else ( Processing can be installed in any directory \nand will work just ﬁ ne), just replace the path listed below with your own ﬁ le path! \n Once you have determined where you installed  Processing , take a look inside the  Processing folder. See \n Figure 12.1 . \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 941
  },
  {
    "chunk_full": "Libraries\n 197\n ﬁ g. 12.1  \n ﬁ g. 12.2  \n /Applications/Processing 0135/ \n or \n c:/Program Files/Processing 0135/ \n Th e libraries directory is where you will install contributed libraries. \n Th e ﬁ rst use of a third party library can be found in Chapter 18 of this book. Th e  “ simpleML ”  library, \ndesigned to make HTML and XML data retrieval simple, is available for download at the book’s web \nsite,  http://www.learningprocessing.com/libraries . If you want to get a jump start on Chapter 18, download \nthe ﬁ le simpleML.zip and follow the instructions below, and illustrated  in  Figure 12.3 . Th e process for \ninstalling other contributed libraries will be identical, with the exception of ﬁ lenames. \n Step 1.  Extract the ZIP ﬁ le. Th is can usually be accomplished by double-clicking the ﬁ le or with any \ndecompression application, such as Winzip on a PC. \n Inside the libraries directory, you will ﬁ nd folders for each of the built-in libraries, along with a  “ howto.txt ” \nﬁ le that provides tips and instructions related to making your own library (a topic beyond the scope of \nthis book). See  Figure 12.2 . \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 942
  },
  {
    "chunk_full": "198\nLearning Processing\n ﬁ g. 12.4  \n ﬁ g. 12.3  \n Step 2.  Copy the extracted ﬁ les to the  Processing libraries folder. Most libraries you download will \nautomatically unpack with the right directory structure. Th e full directory structure should \nlook like this: \n /Processing 0135/libraries/simpleML/library/simpleML.jar \n More generically: \n /Processing 0135/libraries/libraryName/library/libraryName.jar \n Some libraries may include additional ﬁ les in the  “ library ” folder, as well as the source code \n(which is commonly stored one directory up, in the  “ libraryName ” folder). If the library does not \nautomatically unpack itself with the above directory structure, you can manually create these folders \n(using the ﬁ nder or explorer) and place the libraryName.jar ﬁ le in the appropriate location yourself. \n Step 3.  Restart  Processing. If  Processing was running while you performed Step 2, you will need to \nquit  Processing and restart it in order for the library to be recognized. Once you have restarted, \nif everything has gone according to plan, the library will appear under the  “ Sketch → Import \nLibrary ” option shown in  Figure 12.4 . \n Th e newly installed library will now appear in the list! What to do once you have installed the library \nreally depends on which library you have installed. Examples that make use in code of a contributed \nlibrary can be found in Chapter 18 (simpleML, Yahoo API) and Chapter 20 (Sonia, Minim). \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 943
  },
  {
    "chunk_full": "Lesson Six\nThe World Revolves Around You\n13 Mathematics\n14 Translation and Rotation (in 3D!)\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 944
  },
  {
    "chunk_full": "This page intentionally left blank\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 945
  },
  {
    "chunk_full": "Mathematics\n 201\n 13  Mathematics \n “ If people do not believe that mathematics is simple, it is only because they do not realize how complicated \nlife is. ” \n—John von Neumann \n “ If you were cosine squared, I’d be sine squared, because together we’d be one. ” \n—Anonymous \n In this chapter: \n –  Probability. \n –  Perlin noise. \n –  Trigonometry. \n–  Recursion. \n Here we are. Th e fundamentals are ﬁ nished and we are going to start looking at some more sophisticated \ntopics in  Processing . You may ﬁ nd there is less of a story to follow from chapter to chapter. Nonetheless, \nalthough the concepts do not necessarily build on each other as ﬂ uidly as they did previously, the chapters \nare ordered with a step-by-step learning approach in mind. \n Everything we do from here on out will still employ the same ﬂ ow structure of  setup( ) and  draw( ) . We \nwill continue to use functions from the  Processing library and algorithms made of conditional statements \nand loops, and organize sketches with an object-oriented approach in mind. At this point, however, the \ndescriptions will assume a knowledge of these essential topics and I encourage you to return to earlier \nchapters to review as needed. \n 13.1  Mathematics and Programming \n Did you ever start to feel the sweat beading on your forehead the moment your teacher called you up to \nthe board to write out the solution to the latest algebra assignment? Does the mere mention of the word \n “ calculus ” cause a trembling sensation in your extremities? \n Relax, there is no need to be afraid. Th ere is nothing to fear, but the fear of mathematics itself. Perhaps at \nthe beginning of reading this book, you feared computer programming. I certainly hope that, by now, any \nterriﬁ ed sensations associated with code have been replaced with feelings of serenity. Th is chapter aims to \ntake a relaxed and friendly approach to a few useful topics from mathematics that will help us along the \njourney of developing  Processing sketches. \n You know, we have been using math all along. \n For example, we have likely had an algebraic expression on almost every single page since learning variables. \n x  =  x  +  1; \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 946
  },
  {
    "chunk_full": "202\nLearning Processing\n And most recently, in Chapter 10, we tested intersection using the Pythagorean Th eorem. \n float d  =  dist(x1,x2,y1,y2); \n Th ese are just a few examples we have seen so far and as you get more and more advanced, you may even \nﬁ nd yourself online, late at night, googling  “ Sinusoidal Spiral Inverse Curve. ” For now, we will start with a \nselection of useful mathematical topics. \n 13.2  Modulus \n We begin with a discussion of the  modulo operator , written as a percent sign, in  Processing. Modulus is a \nvery simple concept (one that you learned without referring to it by name when you ﬁ rst studied division) \nthat is incredibly useful for keeping a number within a certain boundary (a shape on the screen, an index \nvalue within the range of an array, etc.) Th e modulo operator calculates the remainder when one number \nis divided by another. It works with both integers and ﬂ oats. \n 20 divided by 6 equals 3 remainder 2. (In other words: 6*3  \u0003  2  \u0002  18  \u0003  2  \u0002  20.) \n therefore: \n 20 modulo 6 equals 2 \nor \n20 % 6  \u0002  2 \n Here are a few more, with some blanks for you to ﬁ ll in. \n 17 divided by 4 equals 4 remainder 1 \n 17 % 4  \u0005  1 \n 3 divided by 5 equals 0 remainder 3 \n 3 % 5  \u0005  3 \n 10 divided by 3.75 equals 2 remainder 2.5 \n 10.0 % 3.75 \u0005  2.5 \n 100 divided by 50 equals ___________ remainder ______ _________ \n 100 % 40  \u0005  ____________ \n 9.25 divided by 0.5 equals ___________ remainder _______________ \n 9.25 % 0.5  \u0005  ______ _____\n You will notice that if  A  \u0005  B %  C ,  A can never be larger than  C . Th e remainder can never be larger than \nthe divisor. \n 0 % 3  \u0005  0 \n 1 % 3  \u0005  1 \n 2 % 3  \u0005  2 \n 3 % 3  \u0005  0 \n 4 % 3  \u0005  1 \n etc . \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 947
  },
  {
    "chunk_full": "Mathematics\n 203\n Th erefore, modulo can be used whenever you need to cycle a counter variable back to zero. Th e following \nlines of code: \n x  =  x  +  1; \n if (x  > = limit) { \n   x  =  0; \n } \n can be replaced by: \n x  =  (x  +  1) % limit; \n Th is is very useful if you want to count through the elements of an array one at a time, always returning to \n0 when you get to the length of the array. \n Example 13-1: Modulo \n // 4 random numbers \n float[] randoms  =  new float[4]; \n int index  =  0; // Which number are we using \n void setup()  { \n  size(200,200); \n  // Fill array with random values \n  for (int i  =  0; i  <  randoms.length; i + + ) { \n   randoms[i]  =  random(0,256); \n  } \n  frameRate(1); \n } \n void draw()  { \n  // Every frame we access one element of the array \n  background(randoms[index]); \n  // And then go on to the next one \n  index  =  (index  +  1) % randoms.length; \n \n }  \n 13.3  Random Numbers \n In Chapter 4, we were introduced to the  random( ) function, which allowed us to randomly ﬁ ll variables. \nProcessing’s random number generator produces what is known as a  “ uniform ” distribution of numbers. For \nexample, if we ask for a random number between 0 and 9, 0 will come up 10% of the time, 1 will come \nup 10% of the time, 2 will come up 10% of the time, and so on. We could write a simple sketch using an \narray to prove this fact. See  Example 13-2 .\n Pseudo-Random Numbers \n Th e random numbers we get from the  random( ) function are not truly random and are known as \n “ pseudo-random. ”  Th ey are the result of a mathematical function that simulates randomness. Th is \nfunction would yield a pattern over time, but that time period is so long that for us, it is just as \ngood as pure randomness! \nUsing the modulo operator \nto cycle a counter back to 0.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 948
  },
  {
    "chunk_full": "204\nLearning Processing\n Example 13-2: Random number distribution \n // An array to keep track of how often random numbers are picked. \nfloat[] randomCounts; \n void setup()  { \n  size(200,200); \n  randomCounts  =  new float[20]; \n } \n void draw()  { \n  background(255); \n  // Pick a random number and increase the count \n int index  =  int(random(randomCounts.length)); \n  randomCounts[index] + + ; \n  // Draw a rectangle to graph results \n  stroke(0); \n  fill(175); \n  for (int x  =  0; x  <  randomCounts.length; x + + )  { \n   rect(x*10,0,9,randomCounts[x]); \n  } \n } \n With a few tricks, we can change the way we use  random( ) to produce a nonuniform distribution of \nrandom numbers and generate  probabilities for certain events to occur. For example, what if we wanted \nto create a sketch where the background color had a 10% chance of being green and a 90% chance of \nbeing blue? \n 13.4  Probability Review \n Let’s review the basic principles of probability, ﬁ rst looking at single event probability, that is, the \nlikelihood of something to occur. \n Given a system with a certain number of possible outcomes, the probability of any given event occurring \nis the number of outcomes which qualify as that event divided by total number of possible outcomes. Th e \nsimplest example is a coin toss. Th ere are a total of two possible outcomes (heads or tails). Th ere is only \none way to ﬂ ip heads, therefore the probability of heads is one divided by two, that is, 1/2 or 50%. \n Consider a deck of 52 cards. Th e probability of drawing an ace from that deck is: \n number of aces/number of cards  \u0002  4/52  \u0002  0.077  \u0002  \u0003 8% \n Th e probability of drawing a diamond is: \n number of diamonds/number of cards  \u0002  13/52  \u0002  0.25  \u0002  25% \n We can also calculate the probability of multiple events occurring in sequence as the product of the \nindividual probabilities of each event. \n ﬁ g. 13.1 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 949
  },
  {
    "chunk_full": "Mathematics\n 205\n Th e probability of a coin ﬂ ipping up heads three times in a row is: \n (1/2) * (1/2) * (1/2)  \u0002  1/8 (or 0.125). \n In other words, a coin will land heads three times in a row one out of eight times (with each  “ time ” being \nthree tosses). \n 13.5  Event Probability in Code \n Th ere are few diﬀ erent techniques for using the  random( ) function with probability in code. For example, \nif we ﬁ ll an array with a selection of numbers (some repeated), we can randomly pick from that array and \ngenerate events based on what we select. \n int[] stuff  =  new int[5]; \n stuff[0]  =  1; \n stuff[1]  =  1; \n stuff[2]  =  2; \n stuff[3]  =  3; \n stuff[4]  =  3; \n int index  =  int(random(stuff.length)); \n if (stuff[index]  == 1) { \n // do something\n}\n If you run this code, there will be a 40% chance of selecting the value 1, a 20% chance of selecting the \nvalue 2, and a 40% chance of selecting the value 3. \n Another strategy is to ask for a random number (for simplicity, we consider random ﬂ oating point values \nbetween 0 and 1) and only allow the event to happen if the random number we pick is within a certain \nrange. For example: \n float prob  =  0.10; \n // A probability of 10% \n float r  =  random(l); \n // A random floating point value between 0 and 1 \n if (r  <  prob)  {\n// If our random is less than .1 \n   /*INSTIGATE THE EVENT HERE*/ \n } \n Th is same technique can also be applied to multiple outcomes. \n Outcome A — 60% | Outcome B — 10% | Outcome C — 30% \n ______________________________________ \n Exercise 13-1: What is the probability of drawing two aces in a row from the deck of cards? \nThis code will only be executed 10% of \nthe time.\nPicking a random element from an array.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 950
  },
  {
    "chunk_full": "206\nLearning Processing\n To implement this in code, we pick one random ﬂ oat and check where it falls. \n •  Between 0.00 and 0.60 (10%)  → outcome A. \n •  Between 0.60 and 0.70 (60%)  → outcome B. \n •  Between 0.70 and 1.00 (30%)  → outcome C . \n Example 13-3 draws a circle with a three diﬀ erent colors, each with the above probability (red: 60%, \ngreen: 10%, blue: 30%). Th is example is displayed in  Figure 13.2 . \n Example 13-3: Probabilities \n void setup()  { \n  size(200,200); \n  background(255); \n  smooth(); \n  noStroke(); \n } \n void draw()  { \n  // Probabilities for 3 different cases \n  // These need to add up to 100%! \n  float red_prob  =  0.60; \n // 60% chance of red color \n  float green_prob  =  0.10;  // 10% chance of green color \n  float blue_prob  =  0.30;  // 30% chance of blue color \n  float num  =  random(1); \n // pick a random number between 0 and 1 \n  // If random number is less than .6 \n  if (num  <  red_prob)  { \n   fill(255,53,2,150); \n  // If random number is between .6 and .7 \n  } else if (num  <  green_prob  +  red_prob)  { \n   fill(156,255,28,150); \n  // All other cases (i.e. between .7 and 1.0) \n  } else  { \n   fill(10,52,178,150); \n  } \n  ellipse(random(width),random(height),64,64); \n } \n ﬁ g. 13.2 \n float y  =  100; \n void setup()  { \n  size(200,200); \n  smooth(); \n } \n Exercise 13-2: Fill in the blanks in the following code so that the circle has a 10% chance of \nmoving up, a 20% chance of moving down, and a 70% chance of doing nothing. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 951
  },
  {
    "chunk_full": "Mathematics\n 207\n 13.6  Perlin Noise \n One of the qualities of a good random number generator is that the numbers produced appear to have no \nrelationship. If they exhibit no discernible pattern, they are considered  random . \n In programming behaviors that have an organic, almost lifelife quality, a little bit of randomness is a good \nthing. However, we do not want too much randomness. Th is is the approach taken by Ken Perlin, who \ndeveloped a function in the early 1980’s entitled  “ Perlin noise ” that produces a naturally ordered (i.e., \n “ smooth ” ) sequence of pseudo-random numbers. It was originally designed to create procedural textures, \nfor which Ken Perlin won an Academy Award for Technical Achievement. Perlin noise can be used to \ngenerate a variety of interesting eﬀ ects including clouds, landscapes, marble textures, and so on. \n Figure 13.3 shows two graphs,—a graph of Perlin noise over time (the  x -axis represents time; note how \nthe curve is smooth) compared to a graph of pure random numbers over time. (Visit this book’s web site \nfor the code that generated these graphs.)\nPerlin Noise\nRandom\n ﬁ g. 13.3  \n void draw()  { \n \n background(0); \n  float r  =  random(1); \n  ____________________________________________________ \n  ____________________________________________________ \n  ____________________________________________________ \n  ____________________________________________________ \n ____________________________________________________ \n  ____________________________________________________ \n  ellipse(width/2,y,16,16); \n } \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 952
  },
  {
    "chunk_full": "208\nLearning Processing\nProcessing has a built-in implementation of the Perlin noise algorithm with the function  noise( ) . Th e \nnoise( ) function takes one, two, or three arguments (referring to the  “ space ” in which noise is computed: \none, two, or three dimensions). Th is chapter will look at one-dimensional noise only. Visit the  Processing \nweb site for further information about two-dimensional and three-dimensional noise. \n One-dimensional Perlin noise produces as a linear sequence of values over time. For example: \n 0.364, 0.363, 0.363, 0.364, 0.365 \n Note how the numbers move up or down randomly, but stay close to the value of their predecessor. Now, \nin order to get these numbers out of  Processing , we have to do two things: (1) call the function  noise( ) , and \n(2) pass in as an argument the current  “ time. ” We would typically start at time  t  \u0005  0 and therefore call the \nfunction like so:  “ noise(t); ” \n float t  =  0.0; \n float noisevalue  =  noise(t); // Noise at time 0 \n We can also take the above code and run it looping in  draw( ) . \n float t  =  0.0; \n void draw()  { \n   float noisevalue  =  noise(t); \n   println(noisevalue); \n } \n Th e above code results in the same value printed over and over. Th is is because we are asking for the \nresult of the  noise( ) function at the same point in  “ time ” —0.0—over and over. If we increment the  “ time ” \nvariable  t, however, we will get a diﬀ erent result. \n float t  =  0.0; \n void draw()  { \n   float noisevalue  =  noise(t); \n   println(noisevalue); \n   t  + = 0.01; \n } \n Noise Detail \n If you visit the  Processing.org noise reference, you will ﬁ nd that noise is calculated over several \n “ octaves. ”  You can change the number of octaves and their relative importance by calling \nthe  noiseDetail( ) function. Th is, in turn, can change how the noise function behaves. \nSee  http://processing.org/reference/noiseDetail_.html. \n You can read more about how noise works from Ken Perlin himself: \n http://www.noisemachine.com/talk1/. \nTime moves forward!\nOutput:\n0.28515625\n0.28515625\n0.28515625\n0.28515625\nOutput:\n0.12609221\n0.12697512\n0.12972163\n0.13423012\n0.1403218\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 953
  },
  {
    "chunk_full": "Mathematics\n 209\n How quickly we increment  t also aﬀ ects the smoothness of the noise. Try running the code several times, \nincrementing  t by 0.01, 0.02, 0.05, 0.1, 0.0001, and so on. \n By now, you may have noticed that  noise( ) always returns a ﬂ oating point value between 0 and 1. Th is \ndetail cannot be overlooked, as it aﬀ ects how we use Perlin noise in a  Processing sketch. Example 13-4 \nassigns the result of the  noise( ) function to the size of a circle. Th e noise value is scaled by multiplying \nby the width of the window. If the width is 200, and the range of  noise( ) is between 0.0 and 1.0, the \nrange of  noise( ) multiplied by the width is 0.0 to 200.0. Th is is illustrated by the table below and by \nExample 13-4 . \n Noise Value \n Multiplied by \n Equals \n 0 \n 200 \n 0 \n 0.12 \n 200 \n 24 \n 0.57 \n 200 \n 114 \n 0.89 \n 200 \n 178 \n 1 \n 200 \n 200 \n Example 13-4: Perlin noise \n float time  =  0.0; \n float increment  =  0.01; \n void setup()  { \n  size(200,200); \n  smooth();  { \n void draw()  { \n  background(255); \n  float n  =  noise(time)*width; \n  // With each cycle, increment the  \"time\" \n  time  + = increment; \n  // Draw the ellipse with size determined by Perlin noise \n  fill(0); \n  ellipse(width/2,height/2,n,n); \n } \n ﬁ g. 13.4  \nGet a noise value at “time” and scale \nit according to the window’s width.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 954
  },
  {
    "chunk_full": "210\nLearning Processing\n90°\n0°\n45°\n180°\n360°\n ﬁ g. 13.5 \n // Noise  \" time \" variables \n float xtime  =  0.0; \n float ytime  =  100.0; \n float increment  =  0.01; \n void setup()  { \n  size(200,200); \n  smooth(); \n } \n void draw()  { \n  background(0); \n  float x  =  ____________________________________; \n  float y  =  ____________________________________; \n  ____________________________________; \n  ____________________________________; \n  // Draw the ellipse with size determined by Perlin noise \n  fill(200); \n  ellipse(__________,__________,__________,__________); \n } \n Exercise 13-3: Complete the following code which uses Perlin noise to set the location of \na circle. Run the code. Does the circle appear to be moving  “ naturally ” ? \n 13.7  Angles \n Some of the examples in this book will require a basic understanding of how angles are deﬁ ned in \nProcessing. In Chapter 14 , for example, we will need to know about angles in order to feel comfortable \nusing the  rotate( ) function to rotate and spin objects. \n In order to get ready for these upcoming examples, we need to learn about  radians and  degrees . It is likely \nyou are familiar with the concept of an angle in degrees. A full rotation goes from zero to 360 ° . An angle \nof 90 ° (a right angle) is one-fourth of 360 ° , shown in  Figure 13.5 as two perpendicular lines. \nIn this sketch, we want to use noise for \ntwo different values. So that the output \nof the noise function is not identical, \nwe start at two different points in time.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 955
  },
  {
    "chunk_full": "Mathematics\n 211\n It is fairly intuitive for us to think angles in terms of degrees. For \nexample, the rectangle in  Figure 13.6 is rotated 45 ° around its center. \n Processing , however, requires angles to be speciﬁ ed in  radians . A radian is a \nunit of measurement for angles deﬁ ned by the ratio of the length of the arc \nof a circle to the radius of that circle. One radian is the angle at which that \nratio equals one (see  Figure 13.7 ). An angle of 180°  \u0005  PI radians. An angle \nof 360 °  \u0005  2*PI radians, and 90 °  \u0005  PI/2 radians, and so on. \n ﬁ g. 13.6  \narc length \u0005 radius\nradius\nangle \u0005 1 radian\n ﬁ g. 13.7  \n PI, What Is It? \n Th e mathematical constant PI (or  π ) is a real number deﬁ ned as the ratio of a circle’s circumference \n(the distance around the perimeter) to its diameter (a straight line that passes through the circle \ncenter). It is equal to approximately 3.14159. \n Th e formula to convert from degrees to radians is: \n Radians  \u0005  2 * PI * (degrees/360) \n Fortunately for us, if we prefer to think in degrees but code with radians,  Processing makes this easy. Th e \n radians( ) function will automatically convert values from degrees to radians. In addition, the constants PI \nand TWO_PI are available for convenient access to these commonly used numbers (equivalent to 180 ° \nand 360 ° , respectively). Th e following code, for example, will rotate shapes by 60 ° (rotation will be fully \nexplored in the next chapter). \n float angle  =  radians(60); \n rotate(angle); \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 956
  },
  {
    "chunk_full": "212\nLearning Processing\nangle\nadjacent\nopposite\nright angle \u0005 90° \u0005 π/2 radians\nhypotenuse\n ﬁ g. 13.8  \n 13.8  Trigonometry \n Sohcahtoa. Strangely enough, this seemingly nonsense word,  sohcahtoa , is the foundation for a lot of \ncomputer graphics work. Any time you need to calculate an angle, determine the distance between \npoints, deal with circles, arcs, lines, and so on, you will ﬁ nd that a basic understanding of trigonometry is \nessential. \n Trigonometry is the study of the relationships between the sides and angles of triangles and  sohcahtoa \nis a mnemonic device for remembering the deﬁ nitions of the trigonometric functions, sine, cosine, and \ntangent. See  Figure 13.8 . \n •  soh : sine  \n\u0005  opposite/hypotenuse \n •  cah : cosine  \u0005  adjacent/hypotenuse \n •  toa : tangent  \u0005  opposite/adjacent \nDegrees: _____________________  Radians: _____________________\n Exercise 13-4: A dancer spins around two full rotations. How many degrees did the dancer \nrotate? How many radians? \n Any time we display a shape in  Processing , we have to specify a pixel location, given as  x and  y coordinates. \nTh ese coordinates are known as Cartesian coordinates, named for the French mathematician René \nDescartes who developed the ideas behind Cartesian space. \n Another useful coordinate system, known as  polar coordinates , describes a point in space as an angle of \nrotation around the origin and a radius from the origin. We can’t use polar coordinates as arguments to \na function in  Processing . However, the trigonometric formulas allow us to convert those coordinates \nto Cartesian, which can then be used to draw a shape. See  Figure 13.9 . \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 957
  },
  {
    "chunk_full": "Mathematics\n 213\nθ\nr\ny\nsin(θ) = y/r\ncos(θ) = x/r\nx\ny-axis\nPolar coordinate (r,θ)\nCartesian coordinate (x,y)\nx-axis\n ﬁ g. 13.9  \n sine(theta)     \u0005  y/r  → y  \u0005  r * sine(theta) \ncosine(theta)  \u0005  x/r  → x  \u0005  r * cosine(theta) \n For example, if  r is 75 and theta is 45 ° (or PI/4 radians), we can calculate  x and  y as follows. Th e functions \nfor sine and cosine in  Processing are  sin( ) and  cos( ) , respectively. Th ey each take one argument, a ﬂ oating \npoint angle measured in radians. \n float r  =  75; \n float theta  =  PI / 4; // We could also say: float theta  =  radians(45); \n float x  =  r * cos(theta); \n float y  =  r * sin(theta); \n Th is type of conversion can be useful in certain applications. For example, how would you move a shape \nalong a circular path using Cartesian coordinates? It would be tough. Using polar coordinates, however, \nthis task is easy. Simply increment the angle! \n Here is how it is done with global variables  r and  theta . \n Example 13-5: Polar to Cartesian \n // A Polar coordinate \n float r  =  75; \n float theta  =  0; \n void setup()  { \n  size(200,200); \n  background(255); \n  smooth(); \n } \n void draw()  { \n  // Polar to Cartesian conversion \n  float x  =  r * cos(theta); \n  float y  =  r * sin(theta); \n ﬁ g. 13.10 \nThe Greek letter θ (theta) is often \nused as a symbol for an angle.\nPolar coordinates \n(r, theta) are \nconverted to \nCartesian (x,y)\nfor use in the \nellipse() function.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 958
  },
  {
    "chunk_full": "214\nLearning Processing\n4\n2\n\u00032\n\u00034\n0\n0\n1π\n\u00031π\n2π\nx\ny\n ﬁ g. 13.11 \n 13.9  Oscillation \n Trigonometric functions can be used for more than geometric calculations associated with right triangles. \nLet’s take a look at Figure 13.11, a graph of the sine function where  y  \u0005  sin( x ). \n Exercise 13-5: Using Example 13-5, draw a spiral path. Start in the center and move \noutward. Note that this can be done by changing only one line of code and adding one line \nof code!  \n  // Draw an ellipse at x,y \n  noStroke(); \n  fill(0); \n  ellipse(x + width/2, y + height/2, 16, 16); // Adjust for center of window \n  // Increment the angle \n  theta  + = 0.01; \n } \n You will notice that the output of sine is a smooth curve alternating between –1 and 1 . Th is type of \nbehavior is known as  oscillation , a periodic movement between two points. A swinging pendulum, for \nexample, oscillates. \n We can simulate oscillation in a  Processing sketch by assigning the output of the sine function to an \nobject’s location. Th is is similar to how we used  noise( ) to control the size of a circle (see Example 13-4), \nonly with  sin( ) controlling a location. Note that while  noise( ) produces a number between 0 and 1.0,  sin( ) \noutputs a range between –1 and 1. Example 13-6 shows the code for an oscillating pendulum . \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 959
  },
  {
    "chunk_full": "Mathematics\n 215\n class Oscillator { \n  float xtheta; \n  float ytheta; \n  ___________________________________________ \n  Oscillator()  { \n   xtheta  = 0;\n   ytheta  = 0;\n   __________________________________________ \n  } \n  void oscillate()  { \n   __________________________________________ \n   __________________________________________ \n  } \n void display()  { \n   float x  =  ____________________________________________ \n   float y  =  ____________________________________________ \n   ellipse(x,y,16,16); \n  } \n } \n Example 13-6: Oscillation \n float theta  =  0.0; \n void setup()  { \n  size(200,200); \n  smooth(); \n } \n void draw()  { \n  background(255); \n  // Get the result of the sine function \n  // Scale so that values oscillate between 0 and width \n  float x  =  (sin(theta)  +  1) * width/2; \n  // With each cycle, increment theta \n  theta  + = 0.05; \n  // Draw the ellipse at the value produced by sine \n  fill(0); \n  stroke(0); \n  line(width/2,0,x,height/2); \n  ellipse(x,height/2,16,16);  \n } \n ﬁ g. 13.12 \n Exercise 13-6: Encapsulate the above functionality into an Oscillator object. Create an array \nof Oscillators, each moving at diﬀ erent rates along the x and y axes. Here is some code for the \nOscillator class to help you get started. \nThe output of the sin() function \noscillates smoothly between \u00031\nand 1. By adding 1 we get values \nbetween 0 and 2. By multiplying \nby 100, we get values between 0 \nand 200 which can be used as the \nellipse’s x location.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 960
  },
  {
    "chunk_full": "216\nLearning Processing\n Exercise 13-7: Use the sine function to create a  “ breathing ” shape, that is, one whose size oscillates. \n We can also produce some interesting results by drawing a sequence of shapes along the path of the sine \nfunction. See  Example 13–7 . \n Example 13-7: Wave \n // Starting angle \n float theta  =  0.0; \n void setup()  { \n  size(200,200); \n  smooth(); \n } \n void draw()  { \n  background(255); \n  // Increment theta (try different values for  \" angular velocity \" here) \n  theta  + = 0.02; \n  noStroke(); \n  fill(0); \n  float x  =  theta; \n  // A simple way to draw the wave with an ellipse at each location \n  for (int i  =  0; i  < = 20; i + + )  { \n   // Calculate y value based off of sine function \n   float y  =  sin(x)*height/2; \n   // Draw an ellipse \n   ellipse(i*10,y + height/2,16,16); \n   // Move along x-axis \n   x  + = 0.2; \n  } \n } \n Exercise 13-8: Rewrite the above example to use the  noise( ) function instead of  sin( ) . \n 13.10  Recursion \n ﬁ g. 13.14  The Mandelbrot set:\n http://processing.org/learning/topics/mandelbrot.html\n ﬁ g. 13.13 \nA for loop is used to draw all the points along a sine \nwave (scaled to the pixel dimension of the window).\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 961
  },
  {
    "chunk_full": "Mathematics\n 217\n In 1975, Benoit Mandelbrot coined the term  fractal to describe self-similar shapes found in nature. \nMuch of the stuﬀ  we encounter in our physical world can be described by idealized geometrical forms—a \npostcard has a rectangular shape, a ping-pong ball is spherical, and so on. However, many naturally \noccurring structures cannot be described by such simple means. Some examples are snowﬂ akes, trees, \ncoastlines, and mountains. Fractals provide a geometry for describing and simulating these types of \nself-similar shapes (by  “ self-similar ” we mean no matter how  “ zoomed out ” or  “ zoomed in, ” the shape \nultimately appears the same). One process for generating these shapes is known as recursion. \n We know that a function can call another function. We do this whenever we call any function inside \nof the  draw( ) function. But can a function call itself? Can  draw( ) call  draw( ) ? In fact, it can (although \ncalling  draw( ) from within  draw( ) is a terrible example, since it would result in an inﬁ nite loop). \n Functions that call themselves are  recursive and are appropriate for solving diﬀ erent types of problems. \nTh is occurs in mathematical calculations; the most common example of this is  “ factorial. ” \n Th e factorial of any number  n , usually written as  n !, is deﬁ ned as: \n n !  \u0005  n *  n – 1 * . . . . * 3 * 2 * 1 \n 0!  \u0005  1 \n We could write a function to calculate factorial using a  for loop in  Processing : \n int factorial(int n)  { \n int f  =  1; \n for (int i  =  0; i  <  n; i + + ) { \n    f  =  f * (i + 1); \n } \n return f; \n } \n If you look closely at how factorial works, however, you will notice something interesting. Let’s examine \n4! and 3! \n 4!  \u0005  4 * 3 * 2 * 1 \n 3!  \u0005  3 * 2 * 1 \n therefore. . . 4!  \u0005  4 * 3! \n We can describe this in more general terms. For any positive integer  n : \n n !  \u0005  n * ( n – 1)! \n 1!  \u0005  1 \n Written in English: \n Th e  factorial of  N is deﬁ ned as  N times the  factorial of  N – 1. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 962
  },
  {
    "chunk_full": "218\nLearning Processing\n Th e same principle can be applied to graphics with interesting results. Take a look at the following \nrecursive function. Th e results are shown in  Figure 13.16 . \n void drawCircle(int x, int y, float radius)  { \n   ellipse(x, y, radius, radius); \n   if(radius  >  2)  { \n     radius * =  0.75f; \n     drawCircle(x, y, radius); \n   } \n } \n What does  drawCircle( ) do? It draws an ellipse based on a set of parameters received as arguments, and \nthen calls itself with the same parameters (adjusting them slightly). Th e result is a series of circles each \ndrawn inside the previous circle. \n Notice that the above function only recursively calls itself if the radius is greater than two. Th is is a crucial \npoint.  All recursive functions must have an exit condition! Th is is identical to iteration. In Chapter 6, we \nlearned that all  for and  while loops must include a boolean test that eventually evaluates to false, thus \nexiting the loop. Without one, the program would crash, caught inside an inﬁ nite loop. Th e same can be \n Th e deﬁ nition of  factorial includes  factorial  ?! It is kind of like saying  “ tired ” is deﬁ ned as  “ the feeling you \nget when you are tired. ”  Th is concept of self-reference in functions is known as  recursion . And we can use \nrecursion to write a function for factorial that calls itself. \n int factorial(int n)  { \n   if (n  == 1)  { \n     return 1; \n   } else  { \n     return n * factorial(n-1); \n   } \n } \n Crazy, I know. But it works.  Figure 13.15 walks through the steps that happen when  factorial(4) is called. \nbecomes 24\nfactorial(4)\nreturn 4 * factorial(3)\nreturn 3 * factorial(2)\nreturn 2 * factorial(1)\nreturn 1\nbecomes 6\nbecomes 2\nbecomes 1\n ﬁ g. 13.15  \n ﬁ g. 13.16 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 963
  },
  {
    "chunk_full": "Mathematics\n 219\nsaid about recursion. If a recursive function calls itself forever and ever, you will most likely be treated to a \nnice frozen screen. \n Th e preceding circles example is rather trivial, since it could easily be achieved through simple iteration. \nHowever, in more complex scenarios where a method calls itself more than once, recursion becomes \nwonderfully elegant. \n Let’s revise  drawCircle( ) to be a bit more complex. For every circle displayed, draw a circle half its size to \nthe left and right of that circle. See Example 13–8 . \n Example 13-8: Recursion \n void setup()  { \n  size(200,200); \n  smooth(); \n } \n void draw()  { \n  background(255); \n  stroke(0); \n  noFill(); \n  drawCircle(width/2,height/2,100); \n } \n void drawCircle(float x, float y, float radius)  { \n  ellipse(x, y, radius, radius); \n  if(radius  >  2)  { \n   drawCircle(x  +  radius/2, y, radius/2); \n   drawCircle(x – radius/2, y, radius/2); \n  } \n } \n With a teeny bit more code, we could add a circle above and below.  Th is result is shown in  Figure 13.18 . \n void drawCircle(float x, float y, float radius)  { \n ellipse(x, y, radius, radius); \n if(radius  >  8)  { \n     drawCircle(x  +  radius/2, y, radius/2); \n drawCircle(x – radius/2, y, radius/2); \n     drawCircle(x, y  +  radius/2, radius/2); \n     drawCircle(x, y – radius/2, radius/2); \n } \n } \n Just try recreating this sketch with iteration instead of recursion! I dare you! \n ﬁ g. 13.17  \n ﬁ g. 13.18 \ndrawCircle() calls itself twice, creating a \nbranching effect. For every circle, a smaller \ncircle is drawn to the left and right.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 964
  },
  {
    "chunk_full": "220\nLearning Processing\n Exercise 13-9: Complete the code which generates the following pattern (Note: the solution \nuses lines, although it would also be possible to create the image using rotated rectangles, \nwhich we will learn how to do in Chapter 14).   \n 13.11  Two-Dimensional Arrays \n In Chapter 9, we learned that an array keeps track of multiple pieces of information in linear order, a \none-dimensional list. However, the data associated with certain systems (a digital image, a board game, \netc.) lives in two dimensions. To visualize this data, we need a multi-dimensional data structure, that is, \na multi-dimensional array. \n void setup()  { \n  size(400,200); \n } \n void draw()  { \n  background(255); \n  stroke(0); \n  branch(width/2,height,100); \n } \n void branch(float x, float y, float h)  { \n  ________________________________________; \n  ________________________________________; \n  if (__________________)  { \n  ________________________________________; \n  ________________________________________; \n  } \n } \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 965
  },
  {
    "chunk_full": "Mathematics\n 221\n A two-dimensional array is really nothing more than an array of arrays (a three-dimensional array is an \narray of arrays of arrays). Th ink of your dinner. You could have a one-dimensional list of everything you eat: \n (lettuce, tomatoes, salad dressing, steak, mashed potatoes, string beans, cake, ice cream, coﬀ ee) \n Or you could have a two-dimensional list of three courses, each containing three things you eat: \n (lettuce, tomatoes, salad dressing) and (steak, mashed potatoes, string beans) and (cake, ice cream, coﬀ ee) \n In the case of an array, our old-fashioned one-dimensional array looks like this: \n int[] myArray  =  { 0,1,2,3}; \n And a two-dimensional array looks like this: \n int[][] myArray  =  { { 0,1,2,3},{3,2,1,0},{3,5,6,1},{3,8,3,4} } ; \n For our purposes, it is better to think of the two-dimensional array as a matrix. A matrix can be thought \nof as a grid of numbers, arranged in rows and columns, kind of like a bingo board. We might write the \ntwo-dimensional array out as follows to illustrate this point: \n int[][] myArray  =  { {0, 1, 2, 3 },\n { 3, 2, 1, 0 }, \n { 3, 5, 6, 1 }, \n { 3, 8, 3, 4 } }; \n We can use this type of data structure to encode information about an image. \nFor example, the grayscale image in  Figure 13.19 could be represented by the \nfollowing array: \n int[][] myArray  =  { {236, 189, 189,   0},\n { 236,  80, 189, 189 }, \n { 236,   0, 189,   80}, \n { 236, 189, 189,   80} }; \n To walk through every element of a one-dimensional array, we use a  for loop, that is :\n int[] myArray  =  new int[10]; \n for (int i  =  0; i  <  myArray.length; i + + ) { \n myArray[i]  =  0; \n } \n For a two-dimensional array, in order to reference every element, we must use two nested loops. Th is gives \nus a counter variable for every column and every row in the matrix. See  Figure 13.20 . \n int cols  =  10; \n int rows  =  10; \n int[][] myArray  =  new int[cols][rows]; \n ﬁ g. 13.19 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 966
  },
  {
    "chunk_full": "222\nLearning Processing\n for (int i  =  0; i  <  cols; i + + )  { \n for (int j  =  0; j  <  rows; j + + )  { \n myArray[i][j]  =  0; \n } \n } \n For example, we might write a program using a two-dimensional array to draw a grayscale image as in \nExample 13–9 . \n Example 13-9: Two-dimensional array \n // Set up dimensions \n size(200,200); \n int cols  =  width; \n int rows  =  height; \n // Declare 2D array \n int[][] myArray  =  new int[cols][rows]; \n // Initialize 2D array values \n for (int i  =  0; i  <  cols; i + + )  { \n  for (int j  =  0; j  <  rows; j + + )  { \n   myArray[i][j]  =  int(random(255)); \n  } \n } \n // Draw points \n for (int i  =  0; i  <  cols; i + + )  { \n  for (int j  =  0; j  <  rows; j + + )  { \n   stroke(myArray[i][j]); \n   point(i,j); \n  } \n } \n A two-dimensional array can also be used to store objects, which is especially convenient for \nprogramming sketches that involve some sort of  “ grid ” or  “ board. ” Example 13-10 displays a grid of Cell \nobjects stored in a two-dimensional array. Each cell is a rectangle whose brightness oscillates from 0–255 \nwith a sine function . \n ﬁ g. 13.21  \ncolumns\nrows\nfor every column i\n&\nfor every row j\n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n ﬁ g. 13.20  \nTwo nested loops allow us to visit \nevery spot in a two-dimensional array. \nFor every column i, visit every row j.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 967
  },
  {
    "chunk_full": " Example 13-10: Two-dimensional array of objects \n // 2D Array of objects \n Cell[][] grid; \n // Number of columns and rows in the grid \n int cols  =  10; \n int rows  =  10; \n void setup()  { \n  size(200,200); \n  grid  =  new Cell[cols][rows]; \n  for (int i  =  0; i  <  cols; i + + ) { \n   for (int j  =  0; j  <  rows; j + + ) { \n    // Initialize each object \n    grid[i][j]  =  new Cell(i*20,j*20,20,20,i + j); \n   } \n  } \n } \n void draw()  { \n  background(0); \n  for (int i  =  0; i  <  cols; i + + ) { \n   for (int j  =  0; j  <  rows; j + + ) { \n    // Oscillate and display each object \n    grid[i][j].oscillate(); \n    grid[i][j].display(); \n   } \n  } \n } \n // A Cell object \n class Cell  { \n  float x,y; \n // x,y location \n  float w,h; \n // width and height \n  float angle;  // angle for oscillating brightness \n // Cell Constructor \n Cell(float tempX, float tempY, float tempW, float tempH, float tempAngle)  { \n   x  =  tempX; \n   y  =  tempY; \n   w  =  tempW; \n   h  =  tempH; \n   angle  =  tempAngle; \n  } \n  // Oscillation means increase angle \n  void oscillate()  { \n   angle  + = 0.02; \n  } \n  void display()  { \n   stroke(255); \n   // Color calculated using sine wave \n   fill(127 + 127*sin(angle)); \n   rect(x,y,w,h); \n  } \n } \n ﬁ g. 13.22 \nA two-dimensional array can \nbe used to store objects.\nThe counter variables i and j are also \nthe column and row numbers, and are \nused as arguments to the constructor \nfor each object in the grid.\nA cell object knows about its location \nin the grid as well as its size with the \nvariables x, y, w, h.\nMathematics\n 223\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 968
  },
  {
    "chunk_full": " Exercise 13-10: Develop the beginnings of a Tic-Tac-Toe game. Create a Cell object that \ncan exist in one of two states: O  or nothing. When you click on the cell, its state changes from \nnothing to  “ O ” . Here is a framework to get you started. \n Cell[][] board; \n int cols  = 3;\n int rows  = 3;\n void setup()  { \n // FILL IN \n } \n void draw()  { \n  background(0); \n  for (int i  =  0; i  <  cols; i + + ) { \n   for (int j  =  0; j  <  rows; j + + ) { \n    board[i][j].display(); \n   } \n  } \n } \n void mousePressed()  { \n   // FILL IN \n } \n // A Cell object \n class Cell  { \n  float x,y; \n  float w,h; \n  int state; \n  // Cell Constructor \n Cell(float tempX, float tempY, float tempW, float tempH) { \n   // FILL IN \n  } \n  void click(int mx, int my)  { \n   // FILL IN \n  } \n224\nLearning Processing\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 969
  },
  {
    "chunk_full": " Exercise 13-11: If you are feeling saucy, go ahead and complete the Tic-Tac-Toe game \nadding X and alternating player turns with mouse clicks. \n  void display()  { \n   // FILL IN \n  } \n } \nMathematics\n 225\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 970
  },
  {
    "chunk_full": "This page intentionally left blank\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 971
  },
  {
    "chunk_full": "Translation and Rotation (in 3D!)\n 227\n   14  Translation and Rotation (in 3D!) \n “ What is the Matrix? ” \n — Neo \nIn this chapter: \n–  2D and 3D translation. \n –  Using P3D and OPENGL. \n –  Vertex shapes. \n –  2D and 3D rotation. \n –  Saving the transformation state in the stack:  pushMatrix() and popMatrix() . \n 14.1  The Z-Axis\n As we have seen throughout this book, pixels in a two-dimensional window are described using Cartesian \ncoordinates: an  X (horizontal) and a  Y (vertical) point. Th is concept dates all the way back to Chapter 1, \nwhen we began thinking of the screen as a digital piece of graph paper. \n In three-dimensional space (such as the actual, real-world space where you are reading this book), a \nthird axis (commonly referred to as the  Z -axis) refers to the depth of any given point. In a  Processing \nsketch’s window, a coordinate along this  Z -axis indicates how far in front or behind the window a pixel \nlives. Scratching your head is a perfectly reasonable response here. After all, a computer window is only \ntwo dimensional. Th ere are no pixels ﬂ oating in the air in front of or behind your LCD monitor! In this \nchapter, we will examine how using the theoretical  Z -axis will create the  illusion of three-dimensional \nspace in your  Processing window. \n We can, in fact, create a three-dimensional illusion with what we have learned so far. For example, if you \nwere to draw a rectangle in the middle of the window and slowly increase its width and height, it might \nappear as if it is moving toward you. See Example 14-1. \n Example 14-1: A growing rectangle, or a rectangle moving toward you? \n float r  =  8; \n void setup()  { \n  size(200,200); \n } \n void draw()  { \n  background(255); \n  // Display a rectangle in the middle of the screen \n  stroke(0); \n  fill(175); \n  rectMode(CENTER); \n  rect(width/2,height/2,r,r); \n  // Increase the rectangle size \n  r + + ;\n } \nﬁ g. 14.1  \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 972
  },
  {
    "chunk_full": "228\nLearning Processing\n Is this rectangle ﬂ ying oﬀ  of the computer screen about to bump into your nose? Technically, this is \nof course not the case. It is simply a rectangle growing in size. But we have created the  illusion of the \nrectangle moving toward you. \n Fortunately for us, if we choose to use 3D coordinates,  Processing will create the illusion for us. While the \nidea of a third dimension on a ﬂ at computer monitor may seem imaginary, it is quite real for  Processing. \nProcessing knows about perspective, and selects the appropriate two-dimensional pixels in order to create \nthe three-dimensional eﬀ ect. We should recognize, however, that as soon as we enter the world of 3D \npixel coordinates, a certain amount of control must be relinquished to the  Processing renderer. You can no \nlonger control exact pixel locations as you might with 2D shapes, because  XY locations will be adjusted to \naccount for 3D perspective. \n In order to specify points in three dimensions, the coordinates are speciﬁ ed in the order you would expect: \n x ,  y ,  z . Cartesian 3D systems can be described as  “ left-handed ” or  “ right-handed. ” If you use your right \nhand to point your index ﬁ nger in the positive  y direction (up) and your thumb in the positive  x direction \n(to the right), the rest of your ﬁ ngers will point toward the positive  z direction. It is left-handed if you use \nyour left hand and do the same. In  Processing, the system is left-handed, as shown in  Figure 14.2 . \n–Z\n+X\n+Y\n+Y\n(0,0)\n(0,0)\n+X\n ﬁ g. 14.2  \n Our ﬁ rst goal is to rewrite Example 14-1 using the 3D capabilities of  Processing. Assume the following \nvariables: \n int x  =  width/2; \n int y  =  height/2; \n int z  =  0; \n int r  =  10; \n In order to specify the location for a rectangle, the  rect( ) function takes four arguments: an  x location, \na  y location, a width, and a height. \n rect(x,y,w,h); \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 973
  },
  {
    "chunk_full": "Translation and Rotation (in 3D!)\n 229\n Our ﬁ rst instinct might be to add another argument to the  rect( ) function. \n rect(x,y, z ,w,h); \nTh e  Processing reference page for  rect( ) , however, does not allow for this possibility. In order to specify 3D \ncoordinates for shapes in the  Processing world, we must learn to use a new function, called  translate( ) . \n Th e  translate( ) function is not exclusive to 3D sketches,  so let’s return to two dimensions to see how it \nworks. \n Th e function  translate( ) moves the origin point—(0,0)—relative to its previous state. We know that when \na sketch ﬁ rst starts, the origin point lives on the top left of the window. If we were to call the function \n translate( ) with the arguments (50,50), the result would be as shown in  Figure 14.3 .\nBefore\n(100,100)\n(50,50)\n(0,0)\nAfter\n(-50,-50)\n(0,0)\n⇒ translate (50,50)⇒\n(50,50)\nﬁ g. 14.3  \n Where is the origin? \n Th e  “ origin ” in a  Processing sketch is the point (0,0) in two dimensions or (0,0,0) in three \ndimensions. It is always at the top left corner of the window unless you move it using  translate( ) . \n You can think of it as moving a pen around the screen, where the pen indicates the origin point. \n In addition, the origin always resets itself back to the top left corner at the beginning of  draw( ) . Any calls \nto  translate( ) only apply to the current cycle through the  draw( ) loop. See Example 14-2.  \nIncorrect! We cannot use an (x,y,z) coordinate in Processing’s \nshape functions such as rect(), ellipse(), line(), and so on. \nOther functions in Processing can take three arguments for \nx,y,z and we will see this later in the chapter.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 974
  },
  {
    "chunk_full": "230\nLearning Processing\n Example 14-2: Multiple translations \n void setup()  { \n  size(200,200); \n  smooth(); \n } \n void draw()  { \n  background(255); \n  stroke(0); \n  fill(175); \n  // Grab mouse coordinates, constrained to window \n  int mx  =  constrain(mouseX,0,width); \n  int my  =  constrain(mouseY,0,height); \n  // Translate to the mouse location \n  translate(mx,my); \n  ellipse(0,0,8,8); \n  // Translate 100 pixels to the right \n  translate(100,0); \n  ellipse(0,0,8,8); \n  // Translate 100 pixels down \n  translate(0,100); \n  ellipse(0,0,8,8); \n  // Translate 100 pixels left \n  translate(–100,0); \n  ellipse(0,0,8,8); \n } \n Now that we understand how  translate( ) works, we can return to the original problem of specifying 3D \ncoordinates.  translate( ) , unlike  rect( ), ellipse( ) , and other shape functions, can accept a third argument for \na  Z coordinate. \n // Translation along the z-axis \n translate(0,0,50); \n rectMode(CENTER); \n rect(100,100,8,8); \n Th e above code translates 50 units along the  Z -axis, and then draws a rectangle at (100,100). While the \nabove is technically correct, when using  translate( ) , it is a good habit to specify the ( x , y ) location as part \nof the translation, that is: \n // Translation along the z-axis II \n translate(100,100,50); \n rectMode(CENTER); \n rect(0,0,8,8); \n Finally, we can use a variable for the  Z location and animate the shape moving toward us. \n ﬁ g. 14.4  \nWhen using translate(), the rectangle’s location \nis (0,0) since translate() moved us to the location \nfor the rectangle.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 975
  },
  {
    "chunk_full": "Translation and Rotation (in 3D!)\n 231\n Example 14-3: A rectangle moving along the z-axis\n float z  =  0; // a variable for the Z (depth) coordinate \n void setup()  { \n  size(200,200,P3D); \n } \n void draw()  { \n  background(0); \n  stroke(255); \n  fill(100); \n  // Translate to a point before displaying a shape there \n  translate(width/2,height/2,z); \n  rectMode(CENTER); \n  rect(0,0,8,8); \n  z + + ; // Increment Z (i.e. move the shape toward the viewer) \n } \n Although the result does not  look diﬀ erent from Example 14-1, it is quite diﬀ erent conceptually as we have \nopened the door to creating a variety of three-dimensional eﬀ ects on the screen with  Processing’s 3D engine. \n size(200,200); \n background(0);\n stroke(255); \n fill(255,100); \ntranslate(_______,_______);\n rect(0,0,100,100); \n translate(_______,_______); \n rect(0,0,100,100); \n translate(_______,_______); \n line(0,0,-50,50); \n Exercise 14-1: Fill in the appropriate  translate( ) functions to create this pattern. Once you are \nﬁ nished, try adding a third argument to  translate( ) to move the pattern into three dimensions. \nWhen using (x,y,z) coordinates, we must tell \nProcessing we want a 3D sketch. This is done \nby adding a third argument “P3D” to the size()\nfunction. See Section 14.2 for more details.\n Th e  translate( ) function is particularly useful when you are drawing a collection of shapes relative to a \ngiven centerpoint. Harking back to a Zoog from the ﬁ rst 10 chapters of this book, we saw code like this: \n void display()  { \n // Draw Zoog's body \n fill(150); \n rect( x,y ,w/6,h*2); \n // Draw Zoog's head \n fill(255); \n   ellipse( x,y-h/2 ,w,h); \n } \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 976
  },
  {
    "chunk_full": "232\nLearning Processing\n Th e  display( ) function above draws all of Zoog’s parts (body and head, etc.) relative to Zoog’s  x , y location. \nIt requires that  x and  y be used in both  rect( ) and  ellipse( ). translate( ) allows us to simply set  Processing’s \norigin (0,0) at Zoog’s ( x , y ) location and therefore draw the shapes relative to (0,0). \n void display()  { \n   // Move origin (0,0) to (x,y) \n   translate(x,y); \n   // Draw Zoog's body \n   fill(150); \n   rect( 0,0 ,w/6,h*2); \n   // Draw Zoog's head \n   fill(255); \n   ellipse(0,-h/2,w,h); \n } \n 14.2  P3D vs. OPENGL \n If you look closely at Example 14-3, you will notice that we have added a third argument to the  size( ) \nfunction. Traditionally,  size( ) has served one purpose: to specify the width and height of our  Processing \nwindow. Th e  size( ) function, however, also accepts a third parameter indicating a drawing mode. \nTh e mode tells  Processing what to do behind the scenes when rendering the display window. Th e default \nmode (when none is speciﬁ ed) is  “ JAVA2D, ” which employs existing Java 2D libraries to draw shapes, set \ncolors, and so on. We do not have to worry about how this works. Th e creators of  Processing took care of \nthe details. \n If we want to employ 3D translation (or rotation as we will see later in this chapter), the JAVA2D mode \nwill no longer suﬃ  ce. Running the example in the default mode results in the following error: \n “ translate(x, y, z) can only be used with OPENGL or P3D, use translate(x, y) instead. ” \n Instead of switching to  translate(x,y) , we want to select a diﬀ erent mode. Th ere are two options: \n •  P3D —P3D is a 3D renderer developed by the creators of  Processing . It should also be noted that \nanti-aliasing (enabled with the  smooth( ) function) is not available with P3D. \n •  OPENGL —OPENGL is a 3D renderer that employs hardware acceleration. If you have an \nOpenGL compatible graphics card installed on your computer (which is pretty much every \ncomputer), you can use this mode. Although at the time of the writing of this book, there are still \na few, minor kinks to be worked out with this mode (you may find things look slightly different \nbetween P3D and OPENGL), it may prove exceptionally useful in terms of speed. If you are \nplanning to display large numbers of shapes onscreen in a high-resolution window, this mode will \nlikely have the best performance. \n To specify a mode, add a third argument in all caps to the  size( ) function. \n size(200,200);  \n// using the default JAVA2D mode \n size(200,200,P3D);  \n// using P3D \n size(200,200,OPENGL); // using OPENGL \ntranslate() can be used to draw a collection \nof shapes relative to a given point.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 977
  },
  {
    "chunk_full": "Translation and Rotation (in 3D!)\n 233\n 14.3  Vertex Shapes \n Up until now, our ability to draw to the screen has been limited to a small list of primitive two-\ndimensional shapes: rectangles, ellipses, triangles, lines, and points. For some projects, however, creating \nyour own custom shapes is desirable. Th is can be done through the use of the functions  beginShape( ) , \n endShape( ) , and  vertex( ) . \n Consider a rectangle. A rectangle in  Processing is deﬁ ned as a reference point, as well as a width and height. \n rect(50,50,100,100); \n But we could also consider a rectangle to be a polygon (a closed shape bounded by line segments) \nmade up of four points. Th e points of a polygon are called vertices (plural) or vertex (singular). Th e \nfollowing code draws exactly the same shape as the  rect( ) function by setting the vertices of the rectangle \nindividually. See  Figure 14.5 . \n beginShape(); \n vertex(50,50); \n vertex(150,50); \n vertex(150,150); \n vertex(50,150); \n endShape(CLOSE); \n beginShape( ) indicates that we are going to create a custom shape made up of some \nnumber of vertex points: a single  polygon.  vertex( ) speciﬁ es the points for each vertex in \nthe polygon and  endShape( ) indicates that we are ﬁ nished adding vertices. Th e argument  “ CLOSE ” inside \nof  endShape(CLOSE) declares that the shape should be closed, that is, that the last vertex point should \nconnect to the ﬁ rst. \n Th e nice thing about using a custom shape over a simple rectangle is ﬂ exibility. For example, the sides are \nnot required to be perpendicular. See  Figure 14.6 . \n stroke(0); \n fill(175); \n beginShape(); \n vertex(50,50); \n vertex(150,25); \n vertex(150,175); \n vertex(25,150); \n endShape(CLOSE); \n When using the OPENGL mode, you must also import the OPENGL library. \n Th is can be done by selecting the SKETCH  ➝ IMPORT LIBRARY menu option or by manually \nadding the following line of code to the top of your sketch (see Chapter 12 for a detailed explanation \non libraries): \n import processing.opengl.*; \n ﬁ g. 14.5  \n Exercise 14-2: Run any Processing sketch in P3D, then switch to OPENGL. Notice any \ndiﬀ erence? \n ﬁ g. 14.6  \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 978
  },
  {
    "chunk_full": "234\nLearning Processing\n We also have the option of creating more than one shape, for example, in a loop, as shown in  Figure 14.7 . \n stroke(0); \n for (int i  =  0; i  <  10; i + + )  { \n   beginShape(); \n   fill(175); \n   vertex(i*20,10-i); \n   vertex(i*20 + 15,10 + i); \n   vertex(i*20 + 15,180 + i); \n   vertex(i*20,180-i); \n   endShape(CLOSE); \n } \n You can also add an argument to  beginShape( ) specifying exactly what type of shape you want to \nmake. Th is is particularly useful if you want to make more than one polygon. For example, if you \ncreate six vertex points, there is no way for  Processing to know that you really want to draw two \ntriangles (as opposed to one hexagon) unless you say  beginShape(TRIANGLES) . If you do not want \nto make a polygon at all, but want to draw points or lines, you can by saying  beginShape(POINTS) or \n beginShape(LINES) . See  Figure 14.8 . \n stroke(0); \n beginShape(LINES); \n for (int i  =  10; i  <  width; i + = 20)  { \n   vertex(i,10); \n   vertex(i,height–10); \n } \n endShape(); \n Note that LINES is meant for drawing a series of individual lines, not a continous loop. For a continuous \nloop, do not use any argument. Instead, simply specify all the vertex points you need and include  noFill( ) . \nSee  Figure 14.9 . \n noFill(); \n stroke(0); \n beginShape(); \n for (int i  =  10; i  <  width; i + = 20)  { \n   vertex(i,10); \n   vertex(i,height–10); \n } \n endShape(); \n Th e full list of possible arguments for  beginShape( ) is available in the  Processing reference \n http://processing.org/reference/beginShape_.html \n POINTS, LINES, TRIANGLES, TRIANGLE_FAN, TRIANGLE_STRIP, QUADS, \nQUAD_STRIP \n ﬁ g. 14.8  \n ﬁ g. 14.9  \n ﬁ g. 14.7  \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 979
  },
  {
    "chunk_full": "Translation and Rotation (in 3D!)\n 235\n In addition,  vertex( ) can be replaced with  curveVertex( ) to join the points with curves instead of straight \nlines. With  curveVertex( ) , note how the ﬁ rst and last points are not displayed. Th is is because they are \nrequired to deﬁ ne the curvature of the line as it begins at the second point and ends at the second to last \npoint. See  Figure 14.10 . \n noFill(); \n stroke(0); \n beginShape(); \n for (int i  =  10; i  <  width; i + = 20)  { \n curveVertex(i,10); \n curveVertex(i,height-10); \n } \n endShape(); \n ﬁ g. 14.10  \n 14.4  Custom 3D Shapes \n Th ree-dimensional shapes can be created using  beginShape( ) ,  endShape( ) , and  vertex( ) by placing \nmultiple polygons side by side in the proper conﬁ guration. Let’s say we want to draw a four-sided \npyramid made up of four triangles, all connected to one point (the apex) and a ﬂ at plane (the base). If \nyour shape is simple enough, you might be able to get by with just writing out the code. In most cases, \nhowever, it is best to start sketching it out with pencil and paper to determine the location of all the \nvertices. One example for our pyramid is shown in  Figure 14.11 . \n Example 14-4 takes the vertices from  Figure 14.11 and puts them in a function that allows us to draw the \npyramid with any size. (As an exercise, try making the pyramid into an object.) \n size(200,200);\n background(255); \n stroke(0); \n fill(175); \n beginShape(); \n vertex(20, 20); \n vertex(_______,_______); \n vertex(_______,_______); \n vertex(_______,_______); \n vertex(_______,_______); \n endShape(_______); \n Exercise 14-3: Complete the vertices for the shape pictured. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 980
  },
  {
    "chunk_full": "236\nLearning Processing\n Example 14-4: Pyramid using beginShape(TRIANGLES)\n void setup()  { \n  size(200,200,P3D); \n } \n void draw()  { \n  background(255); \n  translate(100,100,0); \n  drawPyramid(150); \n } \n void drawPyramid(int t)  { \n  stroke(0); \n  // this pyramid has 4 sides, each drawn as a separate triangle \n  // each side has 3 vertices, making up a triangle shape \n  // the parameter  \" t \" determines the size of the pyramid \n  beginShape(TRIANGLES); \n  fill(255,150); \n  vertex(–t,–t,–t); \n  vertex( t,-t,–t); \n  vertex( 0, 0, t); \n  fill(150,150); \n  vertex( t,–t,–t); \n  vertex( t, t,–t); \n  vertex( 0, 0, t); \n  fill(255,150); \n  vertex( t, t,–t); \n  vertex(–t, t,–t); \n  vertex( 0, 0, t); \n ﬁ g. 14.12  \n ﬁ g. 14.11  \n(0,0,10)\n(10,\u000310,\u000310)\n(\u000310,\u000310,\u000310)\n(\u000310,10,\u000310)\nBASE\nat\nz = \u000310\nAPEX\nat\nz = 10\nConnected to\n(10,10,\u000310)\nx\ny\nvertex(–10,–10,–10);  vertex(10,–10,–10);  vertex(  10,10,–10);  vertex( –10, 10,–10);\nvertex( 10,–10,–10);  vertex(10,  10,–10);  vertex(–10,10,–10);  vertex(–10,–10,–10);\nvertex( 0,\n0,  10);  vertex( 0,  0, 10);  vertex(  0,  0,  10);  vertex(  0,  0, 10);\nSince the pyramid’s vertices are drawn relative to \na centerpoint, we must call translate() to place the \npyramid properly in the window.\nThe function sets the vertices for the pyramid around \nthe centerpoint at a ﬂ exible distance, depending on the \nnumber passed in as an argument.\nNote that each polygon \ncan have its own color.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 981
  },
  {
    "chunk_full": "Translation and Rotation (in 3D!)\n 237\n  fill(150,150); \n  vertex(–t, t,–t); \n  vertex(–t,–t,–t); \n  vertex( 0, 0, t); \n  endShape(); \n } \n Exercise 14-4: Create a pyramid with only three sides. Include the base (for a total of four \ntriangles). Use the space below to sketch out the vertex locations as in  Figure 14.11 . \n \n Exercise 14-5: Create a three-dimensional cube using eight quads— beginShape(QUADS) . \n(Note that a simpler way to make a cube in Processing is with the  box( ) function.) \n 14.5  Simple Rotation \n Th ere is nothing particularly three dimensional about the visual result of the pyramid example. Th e image \nlooks more like a ﬂ at rectangle with two lines connected diagonally from end to end. Again, we have \nto remind ourselves that we are only creating a three-dimensional  illusion , and it is not a particularly \neﬀ ective one without animating the pyramid structure within the virtual space. One way for us to \ndemonstrate the diﬀ erence would be to rotate the pyramid. So let’s learn about rotation. \n For us, in our physical world, rotation is a pretty simple and intuitive concept. Grab a baton, twirl it, and \nyou have a sense of what it means to rotate an object. \n Programming rotation, unfortunately, is not so simple. All sorts of questions come up. Around what axis \nshould you rotate? At what angle? Around what origin point?  Processing oﬀ ers several functions related to \nrotation, which we will explore slowly, step by step. Our goal will be to program a solar system simulation \nwith multiple planets rotating around a star at diﬀ erent rates (as well as to rotate our pyramid in order to \nbetter experience its three dimensionality). \n But ﬁ rst, let’s try something simple and attempt to rotate one rectangle around its center. We should be \nable to get rotation going with the following three principles: \n 1. \n Shapes are rotated in  Processing with the  rotate( ) function. \n 2. \n Th e  rotate( ) function takes one argument, an angle measured in radians. \n 3. \n rotate( ) will rotate the shape in the  clockwise direction (to the right) .\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 982
  },
  {
    "chunk_full": "238\nLearning Processing\n OK, armed with this knowledge, we should be able to just call the  rotate( ) function and pass in an angle. \nSay, 45° (or PI/4 radians) in  Processing . Here is our ﬁ rst (albeit ﬂ awed) attempt, with the output shown in \n Figure 14.13 . \n rotate(radians(45)); \n rectMode(CENTER); \n rect(width/2,height/2,100,100); \n Shoot. What went wrong? Th e rectangle looks rotated, but it is in the wrong place! \n Th e single most important fact to remember about rotation in  Processing is that \nshapes always rotate around the point of origin . Where is the point of origin in this example? Th e top left \ncorner! Th e origin has not been translated. Th e rectangle therefore will not spin around its own center. \nInstead, it rotates around the top left corner. See  Figure 14.14 . \n ﬁ g. 14.13  \norigin\nrectangle rotating around\ntop left origin\n45° rotation\nfrom origin\n ﬁ g. 14.14  \n Sure, there may come a day when all you want to do is rotate shapes around the top left corner, but until \nthat day comes, you will always need to ﬁ rst move the origin to the proper location before rotating, and \nthen display the rectangle.  translate( ) to the rescue! \n translate(width/2,height/2); \n rotate(radians(45)); \n rectMode(CENTER); \n rect(0,0,100,100); \n We can expand the above code using the  mouseX location to calculate an angle of rotation and thus animate \nthe rectangle, allowing it to spin. See Example 14-5 . \nBecause we translated in order to \nrotate, the rectangle now lives at the \npoint (0,0).\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 983
  },
  {
    "chunk_full": "Translation and Rotation (in 3D!)\n 239\n Example 14-5: Rectangle rotating around center \n void setup()  { \n  size(200,200); \n } \n void draw()  { \n  background(255); \n  stroke(0); \n  fill(175); \n  // Translate origin to center \n  translate(width/2,height/2); \n  // theta is a common name of a variable to store an angle \n  float theta  =  PI*mouseX / width; \n  // Rotate by the angle theta \n  rotate(theta); \n  // Display rectangle with CENTER mode \n  rectMode(CENTER); \n  rect(0,0,100,100); \n } \n ﬁ g. 14.15  \nThe angle ranges from 0 to PI, based on the ratio \nof mouseX location to the sketch’s width.\n Exercise 14-6: Create a line that spins around its center (like twirling a baton). Draw a \ncircle at both endpoints. \n ﬁ g. 14.16  \nZ-axis\nProcessing window\n 14.6  Rotation Around Different Axes \n Now that we have basic rotation out of the way, we can begin \nto ask the next important rotation question: \nAround what axis do we want to rotate? \n In the previous section, our square rotated around the  Z -axis. \nTh is is the default axis for two-dimensional rotation. See \n Figure 14.16 . \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 984
  },
  {
    "chunk_full": "240\nLearning Processing\n Th e rotate functions can also be used in combination. Th e results of Example 14-9 are shown in  Figure 14.20 . \n Example 14-9: Rotate around more than one axis \n void setup()  { \n  size(200,200,P3D); \n } \n void draw()  { \n  background(255); \n  stroke(0); \n  fill(175); \n  translate(width/2,height/2); \n  rotateX(PI*mouseY/height); \n  rotateY(PI*mouseX/width); \n  rectMode(CENTER); \n  rect(0,0,100,100); \n } \n Processing will also allow for rotation around the  x or  y -axis with the functions  rotateX( ) and  rotateY( ) , \nwhich each require P3D or OPENGL mode. Th e function  rotateZ( ) also exists and is the equivalent of \n rotate( ). See Examples 14-6, 14-7 and 14-8. \n ﬁ g. 14.20  \n Example 14-6: rotateZ\n Example 14-7: rotateX\n Example 14-8: rotateY\n float theta  =  0.0; \n void setup()  { \n size(200,200,P3D); \n } \n void draw()  { \n background(255); \n stroke(0); \n fill(175); \n translate(width/2,\n  height/2); \n rotateZ(theta); \n rectMode(CENTER); \n rect(0,0,100,100); \n theta  + = 0.02; \n } \n float theta  =  0.0; \n void setup()  { \n size(200,200,P3D); \n } \n void draw()  { \n background(255); \n stroke(0); \n fill(175); \n translate(width/2,\n height/2); \n rotateX(theta); \n rectMode(CENTER); \n rect(0,0,100,100); \n theta  + = 0.02; \n } \n float theta =  0.0; \n void setup()  { \n size(200,200,P3D); \n } \n void draw()  { \n background(255); \n stroke(0); \n fill(175); \n translate(width/2,\n height/2); \n rotateY(theta); \n rectMode(CENTER); \n rect(0,0,100,100); \n theta  + = 0.02; \n } \nﬁ g. 14.17  \n ﬁ g. 14.19  \n ﬁ g. 14.18  \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 985
  },
  {
    "chunk_full": "Translation and Rotation (in 3D!)\n 241\n Returning to the pyramid example, we will see how rotating makes the three-dimensional quality of \nthe shape more apparent. Th e example is also expanded to include a second pyramid that is oﬀ set from \nthe ﬁ rst pyramid using translate. Note, however, that it rotates around the same origin point as the ﬁ rst \npyramid (since  rotateX( ) and  rotateY( ) are called before the second  translate( ) ). \n Example 14-10: Pyramid \n float theta  =  0.0; \n void setup()  { \n  size(200,200,P3D); \n } \n void draw()  { \n  background(144); \n  theta  + = 0.01; \n  translate(100,100,0); \n  rotateX(theta); \n  rotateY(theta); \n  drawPyramid(50); \n  // translate the scene again \n  translate(50,50,20); \n  // call the pyramid drawing function \n  drawPyramid(10); \n } \n void drawPyramid(int t)  { \n  stroke(0); \n  // this pyramid has 4 sides, each drawn as a separate triangle \n  // each side has 3 vertices, making up a triangle shape \n  // the parameter  \"t\" determines the size of the pyramid \n  fill(150,0,0,127); \n  beginShape(TRIANGLES); \n  vertex(–t,–t,–t); \n  vertex( t,–t,–t); \n  vertex( 0, 0, t); \n  fill(0,150,0,127); \n  vertex( t,–t,–t); \n  vertex( t, t,–t); \n  vertex( 0, 0, t); \n  fill(0,0,150,127); \n  vertex( t, t,–t); \n  vertex(–t, t,–t); \n  vertex( 0, 0, t); \n  fill(150,0,150,127); \n  vertex(–t, t,–t); \n  vertex(–t,–t,–t); \n  vertex( 0, 0, t); \n  endShape(); \n } \n ﬁ g. 14.21  \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 986
  },
  {
    "chunk_full": "242\nLearning Processing\n Exercise 14-7: Rotate the 3D cube you made in Exercise 14-5. Can you rotate it around the \ncorner or center? You can also use the Processing function  box( ) to make the cube. \n Exercise 14-8: Make a Pyramid class. \n 14.7  Scale \n In addition to  translate( ) and  rotate( ) , there is one more function,  scale( ) , that aﬀ ects the way shapes \nare oriented and drawn onscreen.  scale( ) increases or decreases the size of objects onscreen. Just as with \nrotate( ) , the scaling eﬀ ect is performed relative to the origin’s location. \nscale( ) takes a ﬂ oating point value, a percentage at which to scale: 1.0 is 100%. For example,  scale(0.5) \ndraws an object at 50% of its size and  scale(3.0) increases the object’s size to 300%. \n Following is a re-creation of Example 14-1 (the growing square) using  scale( ) . \n Example 14-11: A growing rectangle, using scale()\n float r  =  0.0; \n void setup()  { \n  size(200,200); \n } \n void draw()  { \n  background(0); \n  // Translate to center of window \n  translate(width/2,height/2); \n  // Scale any shapes according to value of r \n  scale(r); \n  // Display a rectangle in the middle of the screen \n  stroke(255); \n  fill(100); \n  rectMode(CENTER); \n  rect(0,0,10,10); \n  // Increase the scale variable \n  r  + = 0.02; \n } \nscale( ) can also take two arguments (for scaling along the  x and  y -axes with diﬀ erent values) or three \narguments (for the  x -,  y -, and  z -axes). \n 14.8  The Matrix: Pushing and Popping \n What is the matrix? \n In order to keep track of rotations and translations and how to display the shapes according to diﬀ erent \ntransformations,  Processing (and just about any computer graphics software) uses a matrix. \n ﬁ g. 14.22  \nscale() increases the dimensions \nof an object relative to the origin \nby a percentage (1.0 \u0005 100%). \nNotice how in this example the \nscaling effect causes the outline \nof the shape to become thicker.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 987
  },
  {
    "chunk_full": "Translation and Rotation (in 3D!)\n 243\n Th is concept is best illustrated with an example. Let’s give ourselves an assignment: Create a  Processing \nsketch where two rectangles rotate at diﬀ erent speeds in diﬀ erent directions around their respective \ncenterpoints. \n As we start developing this example, we will see where the problems arise and how we will need to \nimplement the functions  pushMatrix( ) and  popMatrix( ) . \n Starting with essentially the same code from Section 14.4, we can rotate a square around the  Z -axis in \nthe top left corner of the window. See Example 14-12. \n Example 14-12: Rotating one square \n float theta1  =  0; \n void setup()  { \n  size(200,200,P3D); \n } \n void draw()  { \n  background (255); \n  stroke(0); \n  fill(175); \n  rectMode(CENTER); \n  translate(50,50); \n  rotateZ(theta1); \n  rect(0,0,60,60); \n  theta1  + = 0.02; \n } \n How matrix transformations work is beyond the scope of this book; however, it is useful to simply know \nthat the information related to the coordinate system is stored in what is known as a  transformation \nmatrix. When a translation or rotation is applied, the transformation matrix changes. From time to time, \nit is useful to save the current state of the matrix to be restored later. Th is will ultimately allow us to move \nand rotate individual shapes without them aﬀ ecting others.\n ﬁ g. 14.23  \n What is the matrix? \n A matrix is a table of numbers with rows and columns. In  Processing , a  transformation matrix is used \nto describe the window  orientation —is it translated or rotated? You can view the current matrix at \nany time by calling the function  printMatrix( ) . Th is is what the matrix looks like in its  “ normal ” \nstate, with no calls to  translate( ) or  rotate( ) . \n 1.0000  0.0000  0.0000 \n 0.0000  1.0000  0.0000 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 988
  },
  {
    "chunk_full": "244\nLearning Processing\n Making some minor adjustments, we now implement a rotating square in the bottom right-hand corner . \n Example 14-13: Rotating another square \n float theta2  =  0; \n void setup()  { \n  size(200,200,P3D); \n } \n void draw()  { \n  background (255); \n  stroke(0); \n  fill(175); \n  rectMode(CENTER); \n  translate(150,150); \n  rotateY(theta2); \n  rect(0,0,60,60); \n  theta2  + = 0.02; \n } \n Without careful consideration, we might think to simply combine the two programs. Th e  setup( ) function \nwould stay the same, we would incorporate two globals, theta1 and theta2, and call the appropriate \ntranslation and rotation for each rectangle. We would also adjust translation for the second square from \ntranslate(150,150) to  translate(100,100) , since we have already translated to  (50,50) with the ﬁ rst square . \n float theta1  =  0; \n float theta2  =  0; \n void setup()  { \n size(200,200,P3D); \n } \n void draw()  { \n background(255); \n stroke(0); \n fill(175); \n rectMode(CENTER); \n translate(50,50); \n rotateZ(theta1); \n rect(0,0,60,60);\n theta1  + = 0.02; \n translate(100,100); \n rotateY(theta2); \n rect(0,0,60,60); \n theta2  + = 0.02; \n } \n ﬁ g. 14.24  \n ﬁ g. 14.25  \nThis ﬁ rst call to rotateZ() affects \nall shapes drawn afterward. Both \nsquares rotate around the center \nof the ﬁ rst square.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 989
  },
  {
    "chunk_full": "Translation and Rotation (in 3D!)\n 245\n Running this example will quickly reveal a problem. Th e ﬁ rst (top left) square rotates around its center . \nHowever, while the second square does rotate around its center, it also rotates around the ﬁ rst square! \nRemember, all calls to translate and rotate are relative to the coordinate system’s previous state. We need a \nway to restore the matrix to its original state so that individual shapes can act independently. \n Saving and restoring the rotation/translation state is accomplished with the functions  pushMatrix( ) and \npopMatrix( ) . To get started, let’s think of them as  saveMatrix( ) and  restoreMatrix( ) . (Note there are no \nsuch functions.) Push  \u0005  save. Pop  \u0005  restore. \n For each square to rotate on its own, we can write the following algorithm (with the new parts bolded). \n1.  Save the current transformation matrix. Th is is where we started, with (0,0) in the top left corner of \nthe window and no rotation. \n 2. \n Translate and rotate the ﬁ rst rectangle. \n 3. \n Display the ﬁ rst rectangle. \n4.  Restore matrix from Step 1 so that it isn’t aﬀ ected by Steps 2 and 3! \n 5. \n Translate and rotate the second rectangle. \n 6. \n Display the second rectangle. \n Rewriting our code in Example 14-14 gives the correct result as shown in  Figure 14.26 . \n Example 14-14: Rotating both squares \n float theta1  =  0; \n float theta2  =  0; \n void setup()  { \n  size(200,200,P3D); \n } \n void draw()  { \n  background(255); \n  stroke(0); \n  fill(175); \n  rectMode(CENTER); \n  pushMatrix(); \n  translate(50,50); \n  rotateZ(theta1); \n  rect(0,0,60,60); \n  popMatrix(); \n  pushMatrix(); \n  translate(150,150); \n  rotateY(theta2); \n  rect(0,0,60,60); \n  popMatrix(); \n  theta1  + = 0.02; \n  theta2  + = 0.02; \n } \n ﬁ g. 14.26  \n1\n2\n4\n5\n6\n3\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 990
  },
  {
    "chunk_full": "246\nLearning Processing\n Although technically not required, it is a good habit to place  pushMatrix( ) and  popMatrix( ) around \nthe second rectangle as well (in case we were to add more to this code). A nice rule of thumb when \nstarting is to use  pushMatrix( ) and  popMatrix( ) before and after translation and rotation for all shapes \nso that they can be treated as individual entities. In fact, this example should really be object oriented, \nwith every object making its own calls to  pushMatrix( ), translate( ), rotate( ) , and  popMatrix( ) . \nSee  Example 14-5 . \n Example 14-15: Rotating many things using objects \n // An array of Rotater objects \n Rotater[] rotaters; \n void setup()  { \n  size(200,200); \n  rotaters  =  new Rotater[20]; \n  // Rotaters are made randomly \n  for (int i  =  0; i  <  rotaters.length; i + + )  { \n   rotaters[i]  = new Rotater(random(width),random(height),random(–0.1,0.1),random(48)); \n  } \n } \n void draw()  { \n  background(255); \n  // All Rotaters spin and are displayed \n  for (int i  =  0; i  <  rotaters.length; i + + )  { \n   rotaters[i].spin(); \n   rotaters[i].display(); \n  } \n } \n // A Rotater class \n class Rotater  { \n  float x,y;  // x,y location \n  float theta; // angle of rotation \n  float speed; // speed of rotation \n  float w; \n// size of rectangle \n  Rotater(float tempX, float tempY, float tempSpeed, float tempW)  { \n   x  =  tempX; \n   y  =  tempY; \n   theta  =  0; \n// Angle is always initialized to 0 \n   speed  =  tempSpeed; \n   w  =  tempW; \n  } \n  // Increment angle \n  void spin()  { \n   theta  + = speed; \n  } \n  // Display rectangle \n  void display()  { \n   rectMode(CENTER); \n   stroke(0); \n ﬁ g. 14.27  \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 991
  },
  {
    "chunk_full": "Translation and Rotation (in 3D!)\n 247\n   fill(0,100); \n   // Note the use of pushMatrix() \n   // and popMatrix() inside the object's \n   // display method! \n   pushMatrix(); \n   translate(x,y); \n   rotate(theta); \n   rect(0,0,w,w); \n   popMatrix(); \n  } \n } \n Interesting results can also be produced from  nesting multiple calls to  pushMatrix( ) and  popMatrix( ).\nTh ere must always be an equal amount of calls to  both pushMatrix( ) and popMatrix( ), but they do not \nalways have to come one right after the other. \n To understand how this works, let’s take a closer look at the meaning of  “ push ” and  “ pop. ”  “ Push ” and \n “ pop ” refer to a concept in computer science known as a  stack. Knowledge of how a stack works will help \nyou use  pushMatrix( ) and  popMatrix( ) properly. \n A stack is exactly that: a stack. Consider an English teacher getting settled in for a night of grading \npapers stored in a pile on a desk, a stack of papers. Th e teacher piles them up one by one and reads them \nin reverse order of the pile. Th e ﬁ rst paper placed on the stack is the last one read. Th e last paper added \nis the ﬁ rst one read. Note this is the exact opposite of a queue. If you are waiting in line to buy tickets \nto a movie, the ﬁ rst person in line is the ﬁ rst person to get to buy tickets, the last person is the last. See \n Figure 14.28 . \nINBOX\nSTACK\nFirst one\nout\nFirst one\nin\nQUEUE\nFirst one in & out\nTickets\n ﬁ g. 14.28  \nPushing refers to the process of putting something in the stack,  popping to taking something out. Th is \nis why you must always have an equal number of  pushMatrix( ) and  popMatrix( ) calls. You can’t pop \nsomething if it does not exist! (If you have an incorrect number of pushes and pops,  Processing will say: \n “ Too many calls to popMatrix() (and not enough to pushMatrix). ” \n Using the rotating squares program as a foundation, we can see how nesting  pushMatrix( ) and \npopMatrix( ) is useful. Th e following sketch has one circle in the center (let’s call it the sun) with another \ncircle rotating it (let’s call it earth) and another two rotating around it (let’s call them moon #1 and \nmoon #2). \npushMatrix() and popMatrix() are called \ninside the class’ display() method. This \nway, every Rotater object is rendered \nwith its own independent translation \nand rotation!\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 992
  },
  {
    "chunk_full": "248\nLearning Processing\n Example 14-16: Simple solar system \n // Angle of rotation around sun and planets \n float theta  =  0; \n void setup()  { \n  size(200,200); \n  smooth(); \n } \n void draw()  { \n  background(255); \n  stroke(0); \n  // Translate to center of window \n  // to draw the sun. \n  translate(width/2,height/2); \n  fill(255,200,50); \n  ellipse(0,0,20,20); \n  // The earth rotates around the sun \n  pushMatrix(); \n  rotate(theta); \n  translate(50,0); \n  fill(50,200,255); \n  ellipse(0,0,10,10); \n  // Moon #1 rotates around the earth \n  pushMatrix(); \n  rotate(–theta*4); \n  translate(15,0); \n  fill(50,255,200); \n  ellipse(0,0,6,6); \n  popMatrix(); \n  // Moon #2 also rotates around the earth \n  pushMatrix(); \n  rotate(theta*2); \n  translate(25,0); \n  fill(50,255,200); \n  ellipse(0,0,6,6); \n  popMatrix(); \n  popMatrix(); \n  theta  + = 0.01; \n } \npushMatrix( ) and  popMatrix( ) can also be nested inside  for or  while loops with rather unique and \ninteresting results. Th e following example is a bit of a brainteaser, but I encourage you to play around \nwith it . \n ﬁ g. 14.29  \npushMatrix() is called to save the transformation \nstate before drawing moon #1. This way we can \npop and return to earth before drawing moon #2. \nBoth moons rotate around the earth (which itself \nis rotating around the sun).\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 993
  },
  {
    "chunk_full": "Translation and Rotation (in 3D!)\n 249\n Example 14-17: Nested push and pop \n // Global angle for rotation \n float theta  =  0; \n void setup() { \n  size(200, 200); \n  smooth(); \n } \n void draw() { \n  background(100); \n  stroke(255); \n  // Translate to center of window \n  translate(width/2,height/2); \n  // Loop from 0 to 360 degrees (2*PI radians) \n  for(float i = 0; i  <  TWO_PI; i + = 0.2)  { \n   // Push, rotate and draw a line! \n   pushMatrix(); \n   rotate(theta + i); \n   line(0,0,100,0); \n   // Loop from 0 to 360 degrees (2*PI radians) \n   for(float j = 0; j  <  TWO_PI; j + = 0.5)  { \n    // Push, translate, rotate and draw a line! \n    pushMatrix(); \n    translate(100,0); \n    rotate(–theta–j); \n    line(0,0,50,0); \n    // We're done with the inside loop, pop! \n    popMatrix(); \n   } \n   // We're done with the outside loop, pop! \n   popMatrix(); \n  } \n  endShape(); \n  // Increment theta \n  theta + = 0.01; \n } \n Exercise 14-9: Take either your pyramid or your cube shape and make it into a class. Have \neach object make its own call to  pushMatrix( ) and  popMatrix( ) . Can you make an array \nof objects all rotating independently in 3D? \n 14.9  A Processing Solar System \n Using all the translation, rotation, pushing, and popping techniques in this chapter, we are ready to build \na  Processing solar system. Th is example will be an updated version of Example 14-16 in the previous \nsection (without any moons), with two major changes: \n •  Every planet will be an object, a member of a Planet class. \n •  An array of planets will orbit the sun. \n ﬁ g. 14.30  \nThe transformation state is saved \nat the beginning of each cycle \nthrough the for loop and restored \nat the end. Try commenting out \nthese lines to see the difference!\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 994
  },
  {
    "chunk_full": "250\nLearning Processing\n Example 14-18: Object-oriented solar system \n // An array of 8 planet objects \n Planet[] planets  =  new Planet[8]; \n void setup()  { \n  size(200,200); \n  smooth(); \n  // The planet objects are initialized using the counter variable \n  for (int i  =  0; i  <  planets.length; i + + )  { \n   planets[i]  =  new Planet(20 + i*10,i + 8); \n  } \n } \n void draw()  { \n  background(255); \n  // Drawing the Sun \n  pushMatrix(); \n  translate(width/2,height/2); \n  stroke(0); \n  fill(255); \n  ellipse(0,0,20,20); \n  // Drawing all Planets \n  for (int i =  0; i  <  planets.length; i + + )  { \n   planets[i].update(); \n   planets[i].display(); \n  } \n  popMatrix(); \n } \n class Planet  { \n  float theta;  \n// Rotation around sun \n  float diameter;  // Size of planet \n  float distance;  // Distance from sun \n  float orbitspeed; // Orbit speed \n  Planet(float distance_, float diameter_)  { \n   distance  =  distance_; \n   diameter  =  diameter_; \n   theta  =  0; \n   orbitspeed  =  random(0.01,0.03); \n  } \n  void update()  { \n   // Increment the angle to rotate \n   theta  + = orbitspeed; \n  } \n  void display()  { \n   pushMatrix(); \n   rotate(theta); \n// rotate orbit \n   translate(distance,0); // translate out distance \n ﬁ g. 14.31  \nEach planet object keeps track \nof its own angle of rotation.\nBefore rotation and translation, \nthe state of the matrix is saved \nwith pushMatrix().\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 995
  },
  {
    "chunk_full": "Translation and Rotation (in 3D!)\n 251\n   stroke(0); \n   fill(175); \n   ellipse(0,0,diameter,diameter); \n   // Afer we are done, restore matrix! \n   popMatrix(); \n  } \n } \n Exercise 14-10: How would you add moons to the planets? Hint: Write a Moon class that \nis virtually identical to the Planet. Th en, incorporate a Moon variable into the Planet class. \n(In Chapter 22, we will see how this could be made more eﬃ  cient with advanced OOP \ntechniques.) \n Exercise 14-11: Extend the solar system example into three dimensions. Try using  sphere( )\nor  box( ) instead of  ellipse( ) . Note  sphere( ) takes one argument, the sphere’s radius.  box( ) can \ntake one argument (size, in the case of a cube) or three arguments (width, height, and depth.) \nOnce the planet is drawn, the matrix \nis restored with popMatrix() so that \nthe next planet is not affected.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 996
  },
  {
    "chunk_full": "252\nLearning Processing\n Lesson Six Project \n Create a virtual ecosystem. Make a class for each  “ creature ” in your world. Using \nthe techniques from Chapters 13 and 14, attempt to infuse your creatures with \npersonality. Some possibilities: \n •  Use Perlin noise to control the movements of creatures. \n •  Make the creatures look like they are breathing with oscillation. \n •  Design the creatures using recursion. \n •  Design the custom polygons using  beginShape( ) . \n •  Use rotation in the creatures ’ behaviors. \n Use the space provided below to sketch designs, notes, and pseudocode for your \nproject. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 997
  },
  {
    "chunk_full": "Lesson Seven\nPixels Under a Microscope\n15 Images\n16 Video\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 998
  },
  {
    "chunk_full": "This page intentionally left blank\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 999
  },
  {
    "chunk_full": "Images\n 255\n 15  Images \n “ Politics will eventually be replaced by imagery. Th e politician will be only too happy to abdicate in favor \nof his image, because the image will be much more powerful than he could ever be. ” \n —Marshall McLuhan \n “ When it comes to pixels, I think I’ve had my ﬁ ll. Th ere are enough pixels in my ﬁ ngers and brains that \nI probably need a few decades to digest all of them. ” \n —John Maeda \n In this chapter: \n –  The PImage class. \n –  Displaying images. \n – Changing image color. \n –  The pixels of an image. \n – Simple image processing. \n – Interactive image processing. \n A digital image is nothing more than data—numbers indicating variations of red, green, and blue at \na particular location on a grid of pixels. Most of the time, we view these pixels as miniature rectangles \nsandwiched together on a computer screen. With a little creative thinking and some lower level \nmanipulation of pixels with code, however, we can display that information in a myriad of ways. Th is \nchapter is dedicated to breaking out of simple shape drawing in  Processing and using images (and their \npixels) as the building blocks of  Processing graphics. \n 15.1  Getting Started with Images \n By now, we are quite comfortable with the idea of data types. We specify them often—a ﬂ oat variable \ncalled  speed , an int named  x , perhaps even a char entitled  letterGrade . Th ese are all  primitive data types, \nbits sitting in the computer’s memory ready for our use. Th ough perhaps a bit trickier, we are also \nbeginning to feel at ease with objects,  complex data types that store multiple pieces of data (along with \nfunctionality)—our Zoog class, for example, included ﬂ oating point variables for location, size, and \nspeed as well as methods to move, display itself, and so on. Zoog, \nof course, is a user-deﬁ ned class; we brought Zoog into this \nprogramming world, deﬁ ning what it means to be a Zoog, and \ndeﬁ ning the data and functions associated with a Zoog object. \n In addition to user-deﬁ ned objects,  Processing has a bunch of \nhandy classes all ready to go without us writing any code. (Later, \nin Chapter 23, we will ﬁ nd out that we also have access to a vast \nlibrary of Java classes.) Th e ﬁ rst  Processing- deﬁ ned class we will \nexamine is PImage, a class for loading and displaying an image such \nas the one shown in  Figure 15.1 . \nﬁ g. 15.1 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1000
  },
  {
    "chunk_full": "256\nLearning Processing\n Example 15-1:  “ Hello World ” images \n // Declaring a variable of type PImage \n PImage img; \n void setup()  { \n  size(320,240); \n  // Make a new instance of a PImage by loading an image file \n  img  =  loadImage( \" mysummervacation.jpg \" ); \n } \n void draw()  { \n  background(0); \n  image(img,0,0); \n } \n Using an instance of a PImage object is no diﬀ erent than using a  user-deﬁ ned class. First, a variable of \ntype PImage , named  “ img, ” is declared. Second, a new instance of a PImage object is created via the \nloadImage( ) method.  loadImage( ) takes one argument, a  String ( Strings are explored in greater detail in \nChapter 17) indicating a ﬁ le name, and loads the that ﬁ le into memory.  loadImage( ) looks for image ﬁ les \nstored in your  Processing sketch’s data folder.\nTh e Data Folder: How do I get there?\nImages can be added to the data folder \nautomatically via:\nSketch → Add File…\nor manually:\nSketch → Show Sketch Folder\nTh is will open up the sketch folder as shown in \nFigure 15.2. If there is no data directory, create \none. Otherwise, place your image ﬁ les inside. \nProcessing accepts the following ﬁ le formats for \nimages: GIF, JPG, TGA, and PNG.\nﬁ g. 15.2 \n In Example 15-1, it may seem a bit peculiar that we never called a  “ constructor ” to instantiate the PImage \nobject, saying  “ new PImage( ) ” . After all, in all the object-related examples to date, a constructor is a must \nfor producing an object instance. \n Spaceship ss  =  new Spaceship(); \n Flower flr  =  new Flower(25); \nDeclaring a variable of type PImage, a class \navailable to us from the Processing core library.\nThe image() function displays the image at a location—in \nthis case the point (0,0).\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1001
  },
  {
    "chunk_full": "Images\n 257\n And yet: \n PImage img  =  loadImage( \"ﬁle.jpg\"); \n In fact, the  loadImage( ) function performs the work of a constructor, returning a brand new instance of \na PImage object generated from the speciﬁ ed ﬁ lename. We can think of it as the PImage constructor for \nloading images from a ﬁ le. For creating a blank image, the  createImage( ) function is used. \n // Create a blank image, 200 X 200 pixels with RGB color \n PImage img  =  createImage(200,200,RGB); \n We should also note that the process of loading the image from the hard drive into memory is a slow one, \nand we should make sure our program only has to do it once, in  setup( ) . Loading images in  draw( ) may \nresult in slow performance, as well as  “ Out of Memory ” errors. \n Once the image is loaded, it is displayed with the  image( ) function. Th e  image( ) function must include \nthree arguments—the image to be displayed, the  x location, and the  y location. Optionally, two arguments \ncan be added to resize the image to a certain width and height. \n image(img,10,20,90,60); \n Exercise 15-1: Load and display an image. Control the image’s width and height with \nthe mouse. \n 15.2  Animation with an Image \n From here, it is easy to see how you can use images to further develop examples from previous chapters. \n Example 15-2: Image  “ sprite ” \n PImage head; // A variable for the image file \n float x,y;  // Variables for image location \n float rot;  // A variable for image rotation \n void setup()  { \n  size(200,200); \n  // load image, initialize variables \n  head  =  loadImage( \"face.jpg\");\n  x  =  0.0f; \n  y  =  width/2.0f; \n  rot  =  0.0f; \n } \n void draw()  { \n  background(255); \n  // Translate and rotate \n  translate(x,y); \n  rotate(rot); \n  image(head,0,0); // Draw image \nﬁ g. 15.3 \nImages can be animated just like regular shapes \nusing variables, translate(), rotate(), and so on.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1002
  },
  {
    "chunk_full": "258\nLearning Processing\n class Head  { \n  ________ // A variable for the image file \n  ________ // Variables for image location \n  ________ // A variable for image rotation \n  Head(String filename, ________, ________) {\n   // Load image, initialize variables \n   ________  =  loadImage(________); \n   __________________________________ \n   __________________________________ \n   __________________________________ \n } \n  void display()  { \n   __________________________________ \n   __________________________________ \n   __________________________________ \n } \n  void move()  { \n   __________________________________ \n   __________________________________ \n   __________________________________ \n   __________________________________ \n   __________________________________ \n   __________________________________ \n  } \n } \n  //  Adjust variables to create animation \n  x  + = 1.0; \n  rot  + = 0.01; \n  if (x  >  width)  { \n   x  =  0; \n  } \n } \n Exercise 15-2: Rewrite this example in an object-oriented fashion where the data for the \nimage, location, size, rotation, and so on is contained in a class. Can you have the class swap \nimages when it hits the edge of the screen? \nString is also a class \nwe get for free and \nwill be explored \nfurther in Chapter 17.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1003
  },
  {
    "chunk_full": "Images\n 259\n If  tint( ) receives one argument, only the brightness of the image is aﬀ ected. \n tint(255); \n image(sunflower,0,0); \n tint(100); \n image(sunflower,0,0); \n A second argument will change the image’s alpha transparency. \n tint(255,127); \n image(sunflower,0,0); \n Th ree arguments aﬀ ect the brightness of the red, green, and blue components of each color. \n tint(0,200,255) \n image(sunflower,0,0); \n Finally, adding a fourth argument to the method manipulates the alpha (same as with two arguments). \nIncidentally, the range of values for  tint( ) can be speciﬁ ed with  colorMode( ) (see Chapter 1). \n tint(255,0,0,100); \n image(sunflower,0,0); \nA\nB\nC\nD\nE\nﬁ g. 15.4 \n15.3  My Very First Image Processing Filter \n Every now and then, when displaying an image, we choose to alter its appearance. Perhaps we would like \nthe image to appear darker, transparent, bluish, and so on. Th is type of simple image ﬁ ltering is achieved \nwith  Processing ’ s  tint( ) function.  tint( ) is essentially the image equivalent of shape’s  ﬁ ll( ) , setting the color \nand alpha transparency for displaying an image on screen. An image, nevertheless, is not usually all one \ncolor. Th e arguments for  tint( ) simply specify how much of a given color to use for every pixel of that \nimage, as well as how transparent those pixels should appear. \n For the following examples, we will assume that two images (a sunﬂ ower and a dog) have been loaded \nand the dog is displayed as the background (which will allow us to demonstrate transparency). See  Figure \n15.4 . For color versions of these images visit:  http://www.learningprocessing.com ) \n PImage sunﬂower  =  loadImage( \"sunﬂower.jpg\"); \n PImage dog  =  loadImage( \"dog.jpg\"); \n background(dog); \nA The image retains its original state.\nB The image appears darker.\nC The image is at 50% opacity.\nD None of it is red, most of it is green, and all of it is blue.\nE The image is tinted red and transparent.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1004
  },
  {
    "chunk_full": "260\nLearning Processing\n Exercise 15-3: Display an image using  tint( ) . Use the mouse location to control the amount \nof red, green, and blue tint. Also try using the distance of the mouse from the corners or center. \n Exercise 15-4: Using  tint( ) , create a montage of blended images. What happens when you \nlayer a large number of images, each with diﬀ erent alpha transparency, on top of each other? \nCan you make it interactive so that diﬀ erent images fade in and out? \n 15.4  An Array of Images \n One image is nice, a good place to start. It will not be long, however, until the temptation of using many \nimages takes over. Yes, we could keep track of multiple images with multiple variables, but here is a \nmagniﬁ cent opportunity to rediscover the power of the array. Let’s assume we have ﬁ ve images and want \nto display a new background image each time the user clicks the mouse. \n First, we set up an array of images, as a global variable. \n // Image Array \n PImage[] images  =  new PImage[5]; \n Second, we load each image ﬁ le into the appropriate location in the array. Th is happens in  setup( ) . \n // Loading Images into an Array \n images[0]  =  loadImage( \" cat.jpg \" ); \n images[1]  =  loadImage( \" mouse.jpg \" ); \n images[2]  =  loadImage( \" dog.jpg \" ); \n images[3]  =  loadImage( \" kangaroo.jpg \" ); \n images[4]  =  loadImage( \" porcupine.jpg \" ); \n Of course, this is somewhat awkward. Loading each image individually is not terribly elegant. With ﬁ ve \nimages, sure, it is manageable, but imagine writing the above code with 100 images. One solution is to \nstore the ﬁ lenames in a  String array and use a  for statement to initialize all the array elements. \n // Loading Images into an Array from an array of ﬁ lenames \n String[] ﬁ lenames  =  { \"cat.jpg \" , \" mouse.jpg\" , \" dog.jpg \" , \" kangaroo.jpg \" , \" porcupine.jpg \" ); \n for (int i  =  0; i  <  ﬁ lenames.length; i + + )  { \n  images[i]  =  loadImage(ﬁ lenames[i]); \n } \nConcatenation: A New Kind of Addition\nUsually, a plus sign (\u0002) means, add. 2 \u0002 2 \u0005 4, right?\nWith text (as stored in a String, enclosed in quotes), \u0002 means concatenate, that is, join two Strings \ntogether.\n“Happy” \u0002 “ Trails” \u0005 “Happy Trails”\n“2” \u0002 “2” \u0005 “22”\nSee more about Strings in Chapter 17.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1005
  },
  {
    "chunk_full": "Images\n 261\n Even better, if we just took a little time out of our hectic schedules to plan ahead, numbering the image \nﬁ les ( “ animal1.jpg ” ,  “ animal2.jpg ” ,  “ animal3.jpg ” , etc.), we can really simplify the code: \n // Loading images with numbered ﬁles \n for (int i  =  0; i  <  images.length; i + + ) { \n  images[i]  =  loadImage( \"animal\"  +  i + \".jpg\"); \n } \n Once the images are loaded, it’s on to  draw( ) . Th ere, we choose to display one particular image, picking \nfrom the array by referencing an index ( “ 0 ” below). \n image(images[0],0,0); \n Of course, hard-coding the index value is foolish. We need a variable in order to dynamically display a \ndiﬀ erent image at any given moment in time. \n image(images[imageindex],0,0); \n Th e  “ imageindex ” variable should be declared as a global variable (of type integer). Its value can be \nchanged throughout the course of the program. Th e full version is shown in Example 15-3. \n Example 15-3: Swapping images \n int maxImages  =  10; // Total # of images \n int imageIndex  =  0; // Initial image to be displayed is the ﬁrst\n PImage[] images  =  new PImage[maxImages]; // The image array \n void setup()  { \n  size(200,200); \n  // Loading the images into the array \n  // Don't forget to put the JPG ﬁles in the data folder! \n  for (int i  =  0; i  <  images.length; i + + ) { \n   images[i]  =  loadImage( \"animal\"  +  i + \".jpg\");\n  } \n } \n void draw()  { \n  image(images[imageIndex],0,0); // Displaying one image \n } \n void mousePressed()  { \n  // A new image is picked randomly when the mouse is clicked \n  // Note the index to the array must be an integer! \n  imageIndex  =  int(random(images.length)); \n } \n To play the images in sequence as an animation, follow Example 15-4. \n Example 15-4: Image sequence \n void draw()  { \n  background(0); \n  image(images[imageIndex],0,0); \n  // increment image index by one each cycle \n  // use modulo  \"%\" to return to 0 once the size \n //of the array is reached \n  imageIndex  =  (imageIndex  +  1) % images.length; \n } \nDisplaying one image \nfrom the array.\nDeclaring an array of \nimages.\nLoading an array of \nimages.\nPicking a new image \nto display by changing \nthe index variable!\nRemember modulus? The % sign? \nIt allows us to cycle a counter back \nto 0. See Chapter 13 for a review.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1006
  },
  {
    "chunk_full": "262\nLearning Processing\n Take the following example. Th is sketch sets each pixel in a window to a random grayscale value. Th e \npixels array is just like an other array, the only diﬀ erence is that we do not have to declare it since it is a \nProcessing built-in variable.  \n Example 15-5: Setting pixels \n size(200,200); \n//  Before we deal with pixels \n loadPixels(); \n// Loop through every pixel \n for (int i  =  0; i  <  pixels.length; i + + )  { \n  // Pick a random number, 0 to 255 \n  float rand  =  random(255); \n Exercise 15-5: Create multiple instances of an image sequence onscreen. Have them start \nat diﬀ erent times within the sequence so that they are out of sync. Hint: Use object-oriented \nprogramming to place the image sequence in a class. \n 15.5  Pixels, Pixels, and More Pixels \n If you have been diligently reading this book in precisely the prescribed order, you will notice that so \nfar, the only oﬀ ered means for drawing to the screen is through a function call.  “ Draw a line between \nthese points ” or  “ Fill an ellipse with red ” or  “ load this JPG image and place it on the screen here. ” But \nsomewhere, somehow, someone had to write code that translates these function calls into setting the \nindividual pixels on the screen to reﬂ ect the requested shape. A line does not appear because we say  line( ) , \nit appears because we color all the pixels along a linear path between two points. Fortunately, we do not \nhave to manage this lower-level-pixel-setting on a day-to-day basis. We have the developers of  Processing \n(and Java) to thank for the many drawing functions that take care of this business. \n Nevertheless, from time to time, we do want to break out of our mundane shape drawing existence and \ndeal with the pixels on the screen directly.  Processing provides this functionality via the  pixels array. \n We are familiar with the idea of each pixel on the screen having an  X and  Y position in a two-\ndimensional window. However, the array  pixels has only one dimension, storing color values in linear \nsequence. See  Figure 15.5 . \n0\n1\n2\n3\n4\nHow the pixels look\nHow the pixels\nare stored.\n5\n6\n7\n8\n9\n10 11 12 13 14\n15 16 17 18 19\n20 21 22 23 24\n0 1 2 3 4 5 6 7 8 9 .\n. .\nﬁ g. 15.5 \nﬁ g. 15.6 \nWe can get the length of \nthe pixels array just like \nwith any array.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1007
  },
  {
    "chunk_full": "Images\n 263\n Th is may remind you of two-dimensional arrays in Chapter 13. In fact, we will need to use the same \nnested  for loop technique. Th e diﬀ erence is that, although we want to use  for loops to think about the \npixels in two dimensions, when we go to actually access the pixels, they live in a one-dimensional array, \nand we have to apply the formula from  Figure 15.7 . \n Let’s look at how it is done, completing the even/odd column problem. See  Figure 15.8 . \n  // Create a grayscale color based on random number \n  color c  =  color(rand); \n  // Set pixel at that location to random color \n  pixels[i]  =  c; \n } \n // When we are finished dealing with pixels \n updatePixels(); \n First, we should point out something important in the above example. Whenever you are accessing the pixels of \na  Processing window, you must alert  Processing to this activity. Th is is accomplished with two functions: \n •  loadPixels( ) —This function is called  before you access the pixel array, saying  “ load the pixels, I would \nlike to speak with them! ” \n •  updatePixels( ) —This function is called  after you finish with the pixel array, saying  “ Go ahead and \nupdate the pixels, I’m all done! ” \n In Example 15-5, because the colors are set randomly, we did not have to worry about where the pixels \nare onscreen as we access them, since we are simply setting all the pixels with no regard to their relative \nlocation. However, in many image processing applications, the  XY location of the pixels themselves is \ncrucial information. A simple example of this might be, set every even column of pixels to white and \nevery odd to black. How could you do this with a one-dimensional pixel array? How do you know what \ncolumn or row any given pixel is in? \n When programming with pixels, we need to be able to think of every pixel as living in a two-dimensional \nworld, but continue to access the data in one dimension (since that is how it is made available to us). We \ncan do this via the following formula: \n 1. \n Assume a window or image with a given WIDTH and HEIGHT. \n 2. \n We then know the pixel array has a total number of elements equaling WIDTH * HEIGHT. \n 3.  For any given  X ,  Y point in the window, the location in our one-dimensional pixel array is: \n LOCATION  \u0005  X  \u0002  Y * WIDTH \n0\n1\n2\n3\n4\n0\n1\n2\n3\n4\nColumns\n5\n6\n7\n8\n9\n10 11 12 13 14\n15 16 17 18 19\n20 21 22 23 24\n0\n1\n2\n3\n4\nPixel 13 is in Column 3, row 2.\nwidth = 5\nx + y * width\n3 + 2 * 5\n3 + 10\n13\nrows\nﬁ g. 15.7 \nWe can access individual elements of \nthe pixels array via an index, just like \nwith any other array.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1008
  },
  {
    "chunk_full": "264\nLearning Processing\n Exercise 15-6: Complete the code to match the corresponding screenshots. \n Example 15-6: Setting pixels according to their 2D location \n size(200,200); \n loadPixels(); \n // Loop through every pixel column \n for (int x  =  0; x  <  width; x + + )  { \n  // Loop through every pixel row \n  for (int y  =  0; y  <  height; y + + ) {\n   // Use the formula to find the 1D location \n   int loc  =  x  +  y * width; \n  if (x % 2  = = 0) { // If we are an even column \n    pixels[loc]  =  color(255); \n   }   else  {  \n// If we are an odd column \n    pixels[loc]  =  color(0); \n   } \n  } \n } \n updatePixels(); \nﬁ g. 15.8 \nThe location in the pixel array is \ncalculated via our formula: 1D pixel \nlocation \u0005 x \u0002 y * width\n  \nsize(255,255);\n ___________________; \n for (int x  =  0; x  <  width; x + + ) { \n  for (int y  =  0; y  <  height; y + + ) { \n   int loc  =  ___________________; \n   float distance  =  ___________________); \n   pixels[loc]  =  ___________________; \n  } \n } \n ___________________; \n size(255,255); \n ___________________; \n for (int x  =  0; x  <  width; x + + ) { \n  for (int y  =  0; y  <  height; y + + ) { \n   ___________________; \n   if (___________________)  { \n  \n ___________________; \n   } else { \n  \n  ___________________; \n   } \n  } \n } \n ___________________; \nTwo loops allow us to \nvisit every column (x)\nand every row (y).\nWe use the column number (x) to \ndetermine whether the color should be \nblack or white.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1009
  },
  {
    "chunk_full": "Images\n 265\n 15.6  Intro to Image Processing \n Th e previous section looked at examples that set pixel values according to an arbitrary calculation. We will \nnow look at how we might set pixels according to those found in an existing PImage object. Here is some \npseudocode. \n1. \n Load the image ﬁ le into a PImage object. \n2. \n For each pixel in the PImage, retrieve the pixel’s color and set the display pixel to that color. \n Th e PImage class includes some useful ﬁ elds that store data related to the image—width, height, and \npixels. Just as with our user-deﬁ ned classes, we can access these ﬁ elds via the dot syntax. \n PImage img  =  createImage(320,240,RGB); // Make a PImage object \n println(img.width);\n// Yields 320 \n println(img.height); // Yields 240 \n img.pixels[0]  =  color(255,0,0); // Sets the first pixel of the image to red \n Access to these ﬁ elds allows us to loop through all the pixels of an image and display them onscreen. \n Example 15-7: Displaying the pixels of an image \n PImage img; \n void setup()  { \n  size(200,200); \n  img  =  loadImage( \"sunflower.jpg\");\n } \n void draw()  { \n  loadPixels(); \n  // Since we are going to access the image's pixels too \n  img.loadPixels(); \n  for (int y  =  0; y  <  height; y + + ) { \n   for (int x  =  0; x  <  width; x + + ) { \n    int loc  =  x  +  y*width; \n    // Image Processing Algorithm would go here \n   float r  =  red  (img.pixels [loc]); \n    float g  =  green(img.pixels[loc]); \n    float b  =  blue (imq.pixels[loc]; \n   // Image Processing would go here \n  \n // Set the display pixel to the image pixel \n   pixels[loc]  =  color(r,g,b); \n   } \n  } \n  updatePixels(); \n } \n Now, we could certainly come up with simpliﬁ cations in order to merely display the image (e.g., the \nnested loop is not required, not to mention that using the  image( ) function would allow us to skip all this \nﬁ g. 15.9 \nWe must also call loadPixels()\non the PImage since we are \ngoing to read its pixels.\nThe functions red(), green(),\nand blue() pull out the three \ncolor components from a pixel.\nIf we were to change the RGB \nvalues, we would do it here, \nbefore setting the pixel in the \ndisplay window.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1010
  },
  {
    "chunk_full": "266\nLearning Processing\npixel work entirely). However, Example 15-7 provides a basic framework for getting the red, green, and \nblue values for each pixel based on its spatial orientation ( XY location); ultimately, this will allow us to \ndevelop more advanced image processing algorithms. \n Before we move on, I should stress that this example works because the display area has the same \ndimensions as the source image. If this were not the case, you would simply need to have two pixel \nlocation calculations, one for the source image and one for the display area. \n int imageLoc  =  x  +  y*img.width; \n int displayLoc  =  x  +  y*width; \n Exercise 15-7: Using Example 15-7, change the values of r, g, and b before displaying them. \n 15.7  Our Second Image  Processing Filter, Making Our Own Tint( )\n Just a few paragraphs ago, we were enjoying a relaxing coding session, colorizing images and adding alpha \ntransparency with the friendly  tint( ) method. For basic ﬁ ltering, this method did the trick. Th e pixel \nby pixel method, however, will allow us to develop custom algorithms for mathematically altering the \ncolors of an image. Consider brightness—brighter colors have higher values for their red, green, and blue \ncomponents. It follows naturally that we can alter the brightness of an image by increasing or decreasing \nthe color components of each pixel. In the next example, we dynamically increase or decrease those values \nbased on the mouse’s horizontal location. (Note that the next two examples include only the image \nprocessing loop itself, the rest of the code is assumed.) \n Example 15-8: Adjusting image brightness \n for (int x  =  0; x  <  img.width; x + + ) { \n  for (int y  =  0; y  <  img.height; y + + ) { \n   // Calculate the 1D pixel location \n   int loc  =  x  +  y*img.width; \n   // Get the R,G,B values from image \n   float r  = red (img.pixels[loc]); \n   float g  =  green (img.pixels[loc]); \n   float b  =  blue (img.pixels[loc]); \n   //  Change brightness according to the mouse here \n  float adjustBrightness  = ((float) mouseX / width) * 8.0; \n   r * = adjustBrightness; \n   g * = adjustBrightness; \n   b * = adjustBrightness; \n   // Constrain RGB to between 0-255 \n   r  =  constrain(r,0,255); \n   g  =  constrain(g,0,255); \n   b  =  constrain(b,0,255); \n   // Make a new color and set pixel in the window \n   color c  =  color(r,g,b); \n   pixels[loc]  =  c; \n  } \n } \nﬁ g. 15.10 \nWe calculate a multiplier \nranging from 0.0 to 8.0 \nbased on mouseX position. \nThat multiplier changes the \nRGB value of each pixel.\nThe RGB values are \nconstrained between 0 and \n255 before being set as a \nnew color.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1011
  },
  {
    "chunk_full": "Images\n 267\n Since we are altering the image on a per pixel basis, all pixels need not be treated equally. For example, we \ncan alter the brightness of each pixel according to its distance from the mouse. \n Example 15-9: Adjusting image brightness based on pixel location \n for (int x  =  0; x  <  img.width; x + + ) { \n  for (int y  =  0; y  <  img.height; y + + ) { \n   // Calculate the 1D pixel location \n   int loc  =  x  +  y*img.width; \n   // Get the R,G,B values from image \n   float r  =  red   (img.pixels[loc]); \n   float g  =  green (img.pixels[loc]); \n   float b  =  blue  (img.pixels[loc]); \n   // Calculate an amount to change brightness \n   // based on proximity to the mouse \n   float distance  =  dist(x,y,mouseX,mouseY); \n   float adjustBrightness  =  (50-distance)/50; \n   r * = adjustBrightness; \n   g * = adjustBrightness; \n   b * = adjustBrightness; \n   // Constrain RGB to between 0-255 \n   r  =  constrain(r,0,255); \n   g  =  constrain(g,0,255); \n   b  =  constrain(b,o,255); \n   // Make a new color and set pixel in the window \n   color c  =  color(r,g,b); \n   pixels[loc]  =  c; \n  } \n } \n Exercise 15-8: Adjust the brightness of the red, green, and blue color components separately \naccording to mouse interaction. For example, let  mouseX control red,  mouseY green, distance \nblue, and so on. \n 15.8  Writing to Another PImage Object’s Pixels \n All of our image processing examples have read every pixel from a source image and written a new pixel \nto the  Processing window directly. However, it is often more convenient to write the new pixels to a \ndestination image (that you then display using the  image( ) function). We will demonstrate this technique \nwhile looking at another simple pixel operation:  threshold . \n A  threshold ﬁ lter displays each pixel of an image in only one of two states, black or white. Th at state is set \naccording to a particular threshold value. If the pixel’s brightness is greater than the threshold, we color the pixel \nwhite, less than, black. Example 15-10 uses an arbitrary threshold of 100 . \nﬁ g. 15.11 \nﬁ g. 15.12 \nThe closer the pixel is to the mouse, the \nlower the value of “distance” is. We want \ncloser pixels to be brighter, however, so we \ninvert the value with the formula:\nadjustBrightness \u0005 (50-distance)/50\nPixels with a distance of 50 (or greater) \nhave a brightness of 0.0 (or negative which \nis equivalent to 0 here) and pixels with a \ndistance of 0 have a brightness of 1.0.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1012
  },
  {
    "chunk_full": "268\nLearning Processing\n Example 15-10: Brightness threshold \n PImage source;    // Source image \n PImage destination; // Destination image \n void setup()  { \n  size(200,200); \n  source  =  loadImage( \" sunflower.jpg \" ); \n  destination  =  \n } \n void draw()  { \n  float threshold  =  127; \n  // We are going to look at both image's pixels \n  source.loadPixels(); \n  destination.loadPixels(); \n for (int x  =  0; x  <  source.width; x + + )  { \n   for (int y  =  0; y  <  source.height; y + + )  { \n    int loc  =  x  +  y*source.width; \n    // Test the brightness against the threshold \n    if (brightness(source.pixels[loc])  >  threshold){ \n     destination.pixels[loc]  =  color(255); // White \n  \n } else  { \n    destination.pixels[loc]  = color(0);   // Black \n   } \n  } \n } \n // We changed the pixels in destination \n destination.updatePixels(); \n // Display the destination \n image(destination,0,0); \n } \n Exercise 15-9: Tie the threshold to mouse location. \n Th is particular functionality is available without per pixel processing as part of  Processing ’ s  ﬁ lter( ) \nfunction. Understanding the lower level code, however, is crucial if you want to implement your own \nimage processing algorithms, not available with  ﬁ lter( ) . \nIf all you want to do is threshold, Example 15-11 is much simpler. \n Example 15-11: Brightness threshold with ﬁ lter \n // Draw the image \n image(img,0,0); \n // Filter the window with a threshold effect \n // 0.5 means threshold is 50% brightness \n filter(THRESHOLD,0.5); \nWe need two images, a source (original \nﬁ le) and destination (to be displayed) \nimage.\nThe destination image is created as a \nblank image the same size as the source.\nWriting to the destination \nimage’s pixels.\nbrightness( ) returns a value \nbetween 0 and 255, the overall \nbrightness of the pixel’s color. If \nit is more than 100, make it white, \nless than 100, make it black.\nWe have to display the destination image!\ncreateImage(source.width, source.height, RGB); \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1013
  },
  {
    "chunk_full": "Images\n 269\n 15.9  Level II: Pixel Group Processing \n In previous examples, we have seen a one-to-one relationship between source pixels and destination \npixels. To increase an image’s brightness, we take one pixel from the source image, increase the RGB \nvalues, and display one pixel in the output window. In order to perform more advanced image processing \nfunctions, however, we must move beyond the one-to-one pixel paradigm into  pixel group processing . \n Let’s start by creating a new pixel out of two pixels from a source image—a pixel and its neighbor to the left. \n If we know the pixel is located at ( x , y ): \n int loc  =  x  +  y*img.width; \n color pix  =  img.pixels[loc]; \n Then its left neighbor is located at ( x \u0003  1, y ): \n int leftLoc  =  (x-1)  +  y*img.width; \n color leftPix  =  img.pixels[leftLoc]; \n We could then make a new color out of the difference between the pixel and its neighbor to the left. \n float diff  =  abs(brightness(pix) - brightness(leftPix)); \n pixels[loc]  =  color(diff); \n Example 15-12 shows the full algorithm, with the results shown in  Figure 15.13 . \n Example 15-12: Pixel neighbor differences (edges) \n // Since we are looking at left neighbors \n // We skip the first column \n for (int x  =  1; x  <  width; x + + ) { \n  for (int y  =  0; y  <  height; y + + ) { \n   // Pixel location and color \n   int loc  =  x  +  y*img.width; \n   color pix  =  img.pixels[loc]; \n   // Pixel to the left location and color \n   int leftLoc  =  (x –1)  +  y*img.width; \n   color leftPix  =  img.pixels[leftLoc]; \nﬁ g. 15.13 \nMore on ﬁ lter( ):\nﬁ lter(mode);\nﬁ lter(mode,level);\nTh e ﬁ lter( ) function oﬀ ers a set of prepackaged ﬁ lters for the display window. It is not necessary \nto use a PImage, the ﬁ lter will alter the look of whatever is drawn in the window at the time it is \nexecuted. Other available modes besides THRESHOLD are GRAY, INVERT, POSTERIZE, \nBLUR, OPAQUE, ERODE, and DILATE. See the Processing reference \n( http://processing.org/reference/ﬁ lter_.html ) for examples of each.\nReading the pixel to the left.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1014
  },
  {
    "chunk_full": "270\nLearning Processing\n Th ese image processing algorithms are often referred to as a  “ spatial convolution. ”  Th e process uses a \n weighted average of an input pixel and its neighbors to calculate an output pixel. In other words, that new \npixel is a function of an area of pixels. Neighboring areas of diﬀ erent sizes can be employed, such as a \n3  \u0004  3 matrix, 5  \u0004  5, and so on. \n Diﬀ erent combinations of weights for each pixel result in various eﬀ ects. For example, we  “ sharpen ” \nan image by subtracting the neighboring pixel values and increasing the centerpoint pixel. A blur is \nachieved by taking the average of all neighboring pixels. (Note that the values in the convolution matrix \nadd up to 1.) \n For example, \n Sharpen: \n  – 1   – 1   – 1 \n  – 1   9  – 1 \n  – 1  – 1  – 1 \n Blur: \n 1/9  1/9  1/9 \n 1/9  1/9  1/9 \n 1/9  1/9  1/9 \n   //  New color is difference between pixel and left neighbor \n   float diff  =  abs(brightness(pix) - brightness(leftPix)); \n   pixels[loc]  =  color(diff); \n  } \n } \n Example 15-12 is a simple vertical edge detection algorithm. When pixels diﬀ er greatly from their \nneighbors, they are most likely  “ edge ” pixels. For example, think of a picture of a white piece of paper \non a black tabletop. Th e edges of that paper are where the colors are most diﬀ erent, where white \nmeets black. \n In Example 15-12, we look at two pixels to ﬁ nd edges. More sophisticated algorithms, however, usually \ninvolve looking at many more neighboring pixels. After all, each pixel has eight immediate neighbors: top \nleft, top, top right, right, bottom right, bottom, bottom left, and left. See  Figure 15.14 . \nits neighbor\n(x + 1, y + 1)\nits neighbor\n(x \u0003 1, y)\na pixel\nat\nx, y\nA pixel and its Friendly Neighbors\nﬁ g. 15.14 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1015
  },
  {
    "chunk_full": "Images\n 271\n Example 15-13 performs a convolution using a 2D array (see Chapter 13 for a review of 2D arrays) to \nstore the pixel weights of a 3  \u0004 3 matrix. Th is example is probably the most advanced example we have \nencountered in this book so far, since it involves so many elements (nested loops, 2D arrays, PImage \npixels, etc.). \n Example 15-13: Sharpen with convolution \n PImage img; \n int w  =  80; \n // It's possible to perform a convolution \n // the image with different matrices \n float[][] matrix  =  { {   – 1,  – 1,  – 1  },\n   \n {  – 1,  9, –1 },\n   \n {  – 1,  – 1, –1 }\n;\n void setup()  { \n  size(200,200); \n  img  =  loadImage( \"sunflower.jpg\");\n } \n void draw()  {\n  // We're only going to process a portion of the image \n  // so let's set the whole image as the background first \n  image(img,0,0); \n  // Where is the small rectangle we will process \n  int xstart  =  constrain(mouseX-w/2,0,img.width); \n  int ystart  =  constrain(mouseY-w/2,0,img.height); \n  int xend  =  constrain(mouseX + w/2,0,img.width); \n  int yend  =  constrain(mouseY + w/2,0,img.height); \n  int matrixsize  =  3; \n  loadPixels(); \n  // Begin our loop for every pixel \n  for (int x  =  xstart; x  <  xend; x + + ) { \n   for (int y  =  ystart; y  <  yend; y + + ) { \n      color c  = convolution(x,y,matrix,matrixsize,img); \n      int loc  =  x  +  y*img.width; \n      pixels[loc]  =  c; \n  } \n } \n updatePixels(); \n stroke(0); \n noFill(); \n rect(xstart,ystart,w,w); \n } \n color convolution(int x, int y, float[][] matrix, int matrixsize, PImage img)  { \n  float rtotal  =  0.0; \n  float gtotal  =  0.0; \n  float btotal  =  0.0; \n  int offset  =  matrixsize / 2; \n  // Loop through convolution matrix \n  for (int i  =  0; i  <  matrixsize; i + + ) { \n   for (int j = 0; j  <  matrixsize; j + + ) { \n  \n // What pixel are we testing \nﬁ g. 15.15 \nThe convolution matrix \nfor a “sharpen” effect \nstored as a 3 \u0004 3 two-\ndimensional array.\nIn this example we are only \nprocessing a section of the \nimage—an 80 \u0004 80 rectangle \naround the mouse location.\nEach pixel location (x,y) gets \npassed into a function called \nconvolution( ) which returns \na new color value to be \ndisplayed.\n  } \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1016
  },
  {
    "chunk_full": "272\nLearning Processing\n  \n int xloc  =  x + i-offset; \n    int yloc  =  y + j-offset; \n    int loc  =  xloc  +  img.width*yloc; \n    // Make sure we haven't walked off the edge of the pixel array \n    loc  =  constrain(loc,0,img.pixels.length-1); \n    // Calculate the convolution \n    rtotal  += (red(img.pixels[loc]) * matrix[i][j]); \n    gtotal  += (green(img.pixels[loc]) * matrix[i][j]); \n    btotal  += (blue(img.pixels[loc]) * matrix[i][j]); \n  } \n } \n // Make sure RGB is within range \n  rtotal  =  constrain(rtotal,0,255); \n  gtotal  =  constrain(gtotal,0,255); \n btotal  =  constrain(btotal,0,255); \n // Return the resulting color \n  return color(rtotal,gtotal,btotal); \n } \n}\nExercise 15-10: Try diﬀ erent values for the convolution matrix.\nExercise 15-11: Using the framework established by our image processing examples, create \na ﬁ lter that takes two images as input and generates one output image. In other words, each \npixel displayed should be a function of the color values from two pixels, one from one image \nand one from another. For example, can you write the code to blend two images together \n(without using  tint( ) )?\n 15.10  Creative Visualization \n You may be thinking:  “ Gosh, this is all very interesting, but seriously, when I want to blur an image or \nchange its brightness, do I really need to write code? I mean, can’t I use  Photoshop? ” Indeed, what we have \nachieved here is merely an introductory understanding of what highly skilled programmers at Adobe do. Th e \npower of  Processing, however, is the potential for real-time, interactive graphics applications. Th ere is no need \nfor us to live within the conﬁ nes of  “ pixel point ” and  “ pixel group ” processing. \n Following are two examples of algorithms for drawing  Processing shapes. Instead of coloring the shapes \nrandomly or with hard-coded values as we have in the past, we select colors from the pixels of a PImage \nobject. Th e image itself is never displayed; rather, it serves as a database of information that we can exploit \nfor our own creative pursuits. \n In this ﬁ rst example, for every cycle through  draw( ) , we ﬁ ll one ellipse at a random location onscreen \nwith a color taken from its corresponding location in the source image. Th e result is a  “ pointillist-like ” \neﬀ ect. See  Figure 15.16 . \nIt is often good when looking at \nneighboring pixels to make sure \nwe have not gone off the edge \nof the pixel array by accident.\nWe sum all the neighboring pixels multiplied by \nthe values in the convolution matrix.\nAfter the sums are constrained within a range of \n0–255, a new color is made and returned.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1017
  },
  {
    "chunk_full": "Images\n 273\n Example 15-14:  “ Pointillism ” \n PImage img; \n int pointillize  =  16; \n void setup()  { \n  size(200,200); \n  img  =  loadImage( \"sunﬂower.jpg\");\n  background(0); \n  smooth(); \n } \n void draw()  { \n  // Pick a random point \n  int x  =  int(random(img.width)); \n  int y  =  int(random(img.height)); \n  int loc  =  x  +  y*img.width; \n  // Look up the RGB color in the source image \n  loadPixels(); \n  float r  =  red(img.pixels[loc]); \n  float g  =  green(img.pixels[loc]); \n  float b  =  blue(img.pixels[loc]); \n  noStroke(); \n  // Draw an ellipse at that location with that color \n  fill(r,g,b,100); \n  ellipse(x,y,pointillize,pointillize); \n } \n In this next example, we take the data from a two-dimensional image and, using the 3D translation \ntechniques described in Chapter 14, render a rectangle for each pixel in three-dimensional space. Th e \nz location is determined by the brightness of the color. Brighter colors appear closer to the viewer and \ndarker ones further away.  \nﬁ g. 15.17  \nﬁ g. 15.16 \n Example 15-15: 2D image mapped to 3D \n PImage img;     // The source image \n int cellsize  =  2; // Dimensions of each cell in the grid \n int cols, rows;  // Number of columns and rows in our system \n void setup()  { \n  size(200,200,P3D); \nBack to shapes! Instead of setting a pixel, we \nuse the color from a pixel to draw a circle.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1018
  },
  {
    "chunk_full": "274\nLearning Processing\n  img  =  loadImage( \" sunflower.jpg \" ); // Load the image \n  cols  = width/cellsize;         // Calculate # of columns \n  rows  = height/cellsize;       // Calculate # of rows \n } \n void draw()  { \n  background(0); \n loadPixels(); \n // Begin loop for columns \n for (int i  =  0; i  <  cols; i + + )  { \n // Begin loop for rows \n for (int j  =  0; j  <  rows; j + + )  { \n int x  =  i*cellsize  +  cellsize/2; // x position \n int y  =  j*cellsize  +  cellsize/2; // y position \n int loc  =  x  +  y*width;       // Pixel array location \n color c  =  img.pixels[loc];     // Grab the color \n // Calculate a z position as a function of mouseX and pixel brightness \n float z  =  (mouseX/(float)width) * brightness(img.pixels[loc])- 100.0; \n // Translate to the location, set fill and stroke, and draw the rect \n pushMatrix(); \n   translate(x,y,z); \n   fill(c); \n   noStroke(); \n   rectMode(CENTER); \n   rect(0,0,cellsize,cellsize); \n   popMatrix(); \n   } \n  } \n } \n Exercise 15-12: Create a sketch that uses shapes to display a pattern that covers an entire \nwindow. Load an image and color the shapes according to the pixels of that image. \nTh e following image, for example, uses triangles. \nA z value for 3D translation is calculated as a function \nof the pixel’s brightness as well as mouse location.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1019
  },
  {
    "chunk_full": "Video\n 275\n 16  Video \n “ I have no memory. It’s like looking in a mirror and seeing nothing but mirror. ” \n —Alfred Hitchcock \n In this chapter: \n–  Displaying live video. \n–  Displaying recorded video. \n–  Creating a software mirror. \n–  How to use a video camera as a sensor. \n 16.1  Before Processing \n Now that we have explored static images in  Processing , we are ready to move on to moving images, \nspeciﬁ cally from a live camera (and later, from a recorded movie). Using a digital video camera connected \nto a PC or Mac requires a few simple steps before any code can be written. \n On a Mac: \n •  Attach a camera to your computer. \n •  Make sure any necessary software and drivers for the camera are installed. \n •  Test the camera in another program, such as iChat, to make sure it is working. \n On a PC: \n •  Attach a camera to your computer. \n •  Make sure any necessary software and drivers for the camera are installed. \n •  Test the camera. (Use whatever software that came with your camera that allows you to view the \nvideo stream.) \n •  Install QuickTime (version 7 or higher). If you are using a previous version of QuickTime, you must \nmake sure you choose  “ custom ” installation and select  “ QuickTime for Java. ” \n •  You will also need to install a vdig (video digitizer) that allows QuickTime applications (what we \nare creating) to capture video in Windows. The vdig situation is in flux so I recommend you check \nthis book’s web site for updates. Although no longer being developed, a free vdig is available at \nthis site:  http://eden.net.nz/7/20071008/ . You can also consider using Abstract Plane’s vdig \n( http://www.abstractplane.com.au/products/vdig.jsp ), which costs a small fee, but has more advanced \nfeatures. \n Admittedly, the process is a bit less complicated on a Mac. Th is is because  Processing uses the \nQuickTime libraries in Java to handle video. On Apple computers, QuickTime comes preinstalled \n(although sometimes software updates can cause issues), whereas on Windows, we have to make sure we \nhave taken the steps to install and properly conﬁ gure QuickTime. At the end of this chapter, we will see \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1020
  },
  {
    "chunk_full": "276\nLearning Processing\nthat there are few third party libraries available in  Processing that do not require QuickTime for video \ncapture on Windows. \n Exercise 16-1: Hook a camera up to your computer. Does it work in another program (not \nProcessing)? If you are on a PC, install a vdig and test. \n 16.2  Live Video 101 \n Once you have made sure you have a working camera connected to your machine, you can start \nwriting  Processing code to capture and display the image. We begin by walking through the basic \nsteps of importing the video library and using the Capture class to display live video. \n Step 1. Import the  Processing video library. \n If you skipped Chapter 12 on  Processing libraries, you might want to go back and review the details. \nTh ere is not much to it here, however, since the video library comes with the  Processing application. \nAll you need to do is import the library. Th is is done by selecting the menu option Sketch → Import \nLibrary → video, or by typing the following line of code (which should go at the very top of your \nsketch): \n import processing.video.*; \n Using the  “ Import Library ” menu option does nothing other than automatically insert that line into your \ncode, so manual typing is entirely equivalent. \n Step 2. Declare a Capture object \n We learned in Chapter 12 how to create objects from classes built into the  Processing language. For \nexample, we made PImage objects from the  Processing PImage class. PImage, it should be noted, is part of \nthe  processing.core library and, therefore, no import statement was required. Th e  processing.video library has \ntwo useful classes inside of it—Capture, for live video, and Movie, for recorded video. We will start with \ndeclaring a Capture object. \n Capture video; \n Step 3. Initialize the Capture object. \n Th e Capture object  “ video ” is just like any other object. As we learned in Chapter 8, to construct an object, \nwe use the  new operator followed by the constructor. With a Capture object, this code typically appears \nin  setup( ) , assuming you want to start capturing video when the sketch begins. \n video  =  new Capture(); \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1021
  },
  {
    "chunk_full": "Video\n 277\n Th e above line of code is missing the appropriate arguments for the constructor. Remember, this is not \na class we wrote ourselves so there is no way for us to know what is required between the parentheses \nwithout consulting the reference. Th e online reference for the Capture constructor can be found on the \n Processing web site at: \n http://www.processing.org/reference/libraries/video/Capture.html \n Th e reference will show there are several ways to call the constructor (see  overloading in Chapter 23 about \nmultiple constructors). A typical way to call the Capture constructor is with four arguments: \n void setup()  { \n  video  =  new Capture(this,320,240,30); \n } \n Let’s walk through the arguments used in the Capture constructor. \n •  this —If you are confused by what  this means, you are not alone. We have never seen a reference \nto  this in any of the examples in this book so far. Technically speaking,  this refers to the instance \nof a class in which the word  this appears. Unfortunately, such a definition is likely to induce head \nspinning. A nicer way to think of it is as a self-referential statement. After all, what if you needed to \nrefer to your  Processing program within your own code? You might try to say  “ me ” or  “ I. ” Well, these \nwords are not available in Java, so instead we say  “ this. ” The reason we pass  “ this ” into the Capture \nobject is we are telling it:  “ Hey listen, I want to do video capture and when the camera has a new \nimage I want you to alert  this applet. ” \n •  320 —Fortunately for us, the first argument,  this , is the only confusing one. 320 refers to the width of \nthe video captured by the camera. \n •  240 —The height of the video. \n •  30 —The desired framerate captured, in frames per second (fps). What framerate you choose \nreally depends on what you are doing. If you only intend to capture an image from the camera \nevery so often when the user clicks the mouse, for example, you would not need a high framerate \nand could bring that number down. However, if you want to display full motion video onscreen, \nthen 30 is a good bet. This, of course, is simply your desired framerate. If your computer is too \nslow or you request a very high resolution image from the camera, the result might be a slower \nframerate. \n Step 4. Read the image from the camera. \n Th ere are two strategies for reading frames from the camera. We will brieﬂ y look at both and somewhat \narbitrarily choose one for the remainder of the examples in this chapter. Both strategies, however, operate \nunder the same fundamental principle:  we only want to read an image from the camera when a new frame is \navailable to be read . \n In order to check if an image is available, we use the function  available( ) , which returns true or false \ndepending on whether something is there. If it is there, the function  read( ) is called and the frame from \nthe camera is read into memory. We do this over and over again in the  draw( ) loop, always checking to \nsee if a new image is free for us to read. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1022
  },
  {
    "chunk_full": "278\nLearning Processing\n void draw()  { \n  if (video.available())  { \n   video.read(); \n  } \n } \n Th e second strategy, the  “ event ” approach, requires a function that executes any time a certain event, \nin this case a camera event, occurs. If you recall from Chapter 3, the function  mousePressed( ) is \nexecuted whenever the mouse is pressed. With video, we have the option to implement the function \ncaptureEvent( ) , which is invoked any time a capture event occurs, that is, a new frame is available from \nthe camera. Th ese event functions ( mousePressed( ), keyPressed( ), captureEvent( ) , etc.) are sometimes \nreferred to as a  “ callback. ” And as a brief aside, if you are following closely, this is where  this ﬁ ts in. Th e \nCapture object,  “ video, ” knows to notify  this applet by invoking  captureEvent( ) because we passed it a \nreference to ourselves when creating  “ video. ” \ncaptureEvent( ) is a function and therefore needs to live in its own block, outside of  setup( ) and  draw( ) . \n void captureEvent(Capture video)  { \n  video.read(); \n } \n To summarize, we want to call the function  read( ) whenever there is something for us to read and we can \ndo so by either checking manually using  available( ) within  draw( ) or allowing a callback to handle it \nfor us— captureEvent( ) . Many other libraries that we will explore in later chapters (such as network and \nserial) will work exactly the same way. \nStep 5. Display the video image. \n Th is is, without a doubt, the easiest part. We can think of a Capture object as a PImage that changes over \ntime and, in fact, a Capture object can be utilized in an identical manner as a PImage object. \n image(video,0,0); \n All of this is put together in Example 16-1 . \n Example 16-1: Display video \n // Step 1. Import the video library \n import processing.video.*; \n // Step 2. Declare a Capture object \n Capture video; \n void setup()  { \n  size(320,240); \n  // Step 3. Initialize Capture object via Constructor \n  // video is 320 x 240, @15 fps \n  video  =  new Capture(this,320,240,15); \n } \nﬁ g. 16.1 \nStep 1. Import the video library!\nStep 2. Declare a Capture object!\nStep 3. Initialize Capture object! This starts the capturing process.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1023
  },
  {
    "chunk_full": "Video\n 279\n void draw()  { \n  // Check to see if a new frame is available \n  if (video.available())  { \n   // If so, read it. \n   video.read(); \n  } \n  // Display the video image \n  image(video,0,0); \n } \n Again, anything we can do with a PImage (resize, tint, move, etc.) we can do with a Capture object. \nAs long as we  read( ) from that object, the video image will update as we manipulate it. See  \nExample 16-2 . \n Example 16-2: Manipulate video image \n // Step 1. Import the video library \n import processing.video.*; \n Capture video; \n void setup()  { \n  size(320,240); \n  video  =  new Capture(this,320,240,15); \n } \n void draw()  { \n  if (video.available())  { \n   video.read(); \n  } \n  // Tinting using mouse location \n  tint(mouseX,mouseY,255); \n  // Width and height according to mouse \n  image(video,0,0,mouseX,mouseY); \n } \n Every single image example from Chapter 15 can be recreated with video. Following is the  “ adjusting \nbrightness ” example (15-19) with a video image . \n Example 16-3: Adjust video brightness \n // Step 1. Import the video library \n import processing.video.*; \n // Step 2. Declare a Capture object \n Capture video; \n void setup()  { \n  size(320,240); \n  // Step 3. Initialize Capture object via Constructor \n  video  =  new Capture(this,320,240,15); // video is 320 x 240, @15 fps \n  background(0); \n } \nﬁ g. 16.2 \nStep 4. Read the image from the camera.\nStep 5. Display the image.\n A video image can also be tinted \nand resized just as with a PImage. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1024
  },
  {
    "chunk_full": "280\nLearning Processing\n void draw()  { \n  // Check to see if a new frame is available \n  if (video.available())  { \n   // If so, read it. \n   video.read(); \n } \n  loadPixels(); \n  video.loadPixels(); \n  for (int x  =  0; x  \u0007  video.width; x + + ) { \n   for (int y  =  0; y  \u0007  video.height; y + + )  { \n    // calculate the 1D location from a 2D grid \n    int loc  =  x  +  y*video.width; \n    // get the R,G,B values from image \n    float r,g,b; \n    r  =  red   (video.pixels[loc]); \n    g  =  green (video.pixels[loc]); \n    b  =  blue  (video.pixels[loc]); \n    // calculate an amount to change brightness based on proximity to the mouse \n    float maxdist  =  100;// dist(0,0,width,height); \n    float d  =  dist(x,y,mouseX,mouseY); \n    float adjustbrightness  =  (maxdist-d)/maxdist; \n    r *  =  adjustbrightness; \n    g *  =  adjustbrightness; \n    b *  =  adjustbrightness; \n    // constrain RGB to make sure they are within 0-255 color range \n    r  =  constrain(r,0,255); \n    g  =  constrain(g,0,255); \n    b  =  constrain(b,0,255); \n    // make a new color and set pixel in the window \n    color c  =  color(r,g,b); \n    pixels[loc]  =  c; \n   } \n  } \n  updatePixels(); \n } \nﬁ g. 16.3 \n Exercise 16-2: Recreate Example 15-14 (pointillism) to work with live video. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1025
  },
  {
    "chunk_full": "Video\n 281\n 16.3  Recorded Video \n Displaying recorded video follows much of the same structure as live video.  Processing ’s video library \nonly accepts movies in QuickTime format. If your video ﬁ le is a diﬀ erent format, you will either have to \nconvert it or investigate using a third party library. Note that playing a recorded movie on Windows does \n not require a vdig. \n Step 1. Instead of a Capture object, declare a Movie object. \n Movie movie; \n Step 2. Initialize Movie object. \n movie  =  new Movie(this, \"testmovie.mov\"); \n Th e only necessary arguments are  this and the movie’s ﬁ lename enclosed in quotes. Th e movie ﬁ le should \nbe stored in the sketch’s data directory. \n Step 3. Start movie playing. \n Here, there are two options,  play( ) , which plays the movie once, or  loop( ) , which loops it continuously. \n movie.loop(); \n Step 4. Read frame from movie. \n Again, this is identical to capture. We can either check to see if a new frame is available, or use a callback \nfunction. \n void draw()  { \n  if (movie.available())  { \n   movie.read(); \n  } \n } \n Or: \n void movieEvent(Movie movie)  { \n  movie.read(); \n } \n Step 5. Display the movie. \n image(movie,0,0); \n Example 16-4 shows the program all put together. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1026
  },
  {
    "chunk_full": "282\nLearning Processing\n Example 16-4: Display QuickTime movie \n import processing.video.*; \n Movie movie; // Step 1. Declare Movie object \n void setup()  { \n  size(200,200); \n  // Step 2. Initialize Movie object \n  movie  =  new Movie(this, \"testmovie.mov\"); // Movie file should be in data folder \n  // Step 3. Start movie playing \n  movie.loop(); \n } \n // Step 4. Read new frames from movie \n void movieEvent(Movie movie)  { \n  movie.read(); \n } \n void draw()  { \n  // Step 5. Display movie. \n  image(movie,0,0); \n } \n Although  Processing is by no means the most sophisticated environment for dealing with displaying \nand manipulating recorded video (and it should be noted that performance with large video ﬁ les will \ntend to be fairly sluggish), there are some more advanced features available in the video library. Th ere \nare functions for obtaining the duration (length measured in seconds) of a video, for speeding it up and \nslowing it down, and for jumping to a speciﬁ c point in the video (among others). \n Following is an example that makes use of  the  jump( ) (jump to a speciﬁ c point in the video) and \nduration( ) (returns the length of movie) functions. \n Example 16-5: Scrubbing forward and backward in movie \n // If mouseX is 0, go to beginning \n // If mouseX is width, go to end \n // And everything else scrub in between \n import processing.video.*; \n Movie movie; \n void setup()  { \n  size(200,200); \n  background(0); \n  movie  =  new Movie(this, \"testmovie.mov\"); \n } \n void draw()  { \n  // Ratio of mouse X over width \n  float ratio  =  mouseX / (float) width; \n  // Jump to place in movie based on duration \n  movie.jump(ratio*movie.duration()); \n  movie.read(); \n// read frame \n  image(movie,0,0);  // display frame \n } \nThe jump( ) function allows you to jump immediately \nto a point of time within the video. duration( )\nreturns the total length of the movie in seconds.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1027
  },
  {
    "chunk_full": "Video\n 283\n Exercise 16-3: Using the  speed( ) method in the Movie class, write a program where the \nuser can control the playback speed of a movie with the mouse. Note  speed( ) takes one \nargument and multiplies the movie playback rate by that value. Multiplying by 0.5 will \ncause the movie to play half as fast, by 2, twice as fast, by   \u0003 2, twice as fast in reverse, \nand so on. \n 16.4  Software Mirrors \n With small video cameras attached to more and more personal computers, developing software that \nmanipulates an image in real-time is becoming increasingly popular. Th ese types of applications are \nsometimes referred to as  “ mirrors, ” as they provide a digital reﬂ ection of a viewer’s image.  Processing ’s \nextensive library of functions for graphics and its ability to capture from a camera in real-time make it an \nexcellent environment for prototyping and experimenting with software mirrors. \n As we saw earlier in this chapter, we can apply basic image processing techniques to video images, reading \nand replacing the pixels one by one. Taking this idea one step further, we can read the pixels and apply the \ncolors to shapes drawn onscreen. \n We will begin with an example that captures a video at 80  \u0004 60 pixels and renders it on a 640  \u0004 480 \nwindow. For each pixel in the video, we will draw a rectangle 8 pixels wide and 8 pixels tall. \n Let’s ﬁ rst just write the program that displays the grid of rectangles. See  Figure 16.4 . \nﬁ g. 16.4 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1028
  },
  {
    "chunk_full": "284\nLearning Processing\n Example 16-6: Drawing a grid of 8  \u0004 8 squares \n // Size of each cell in the grid, ratio of window size to video size \n int videoScale  =  8; \n // Number of columns and rows in our system \n int cols, rows; \n void setup() { \n  size(640,480); \n  // Initialize columns and rows \n  cols  =  width/videoScale; \n  rows  =  height/videoScale; \n } \n void draw() { \n  // Begin loop for columns \n  for (int i  =  0; i  \u0007  cols; i + + )  { \n   // Begin loop for rows \n   for (int j  =  0; j  \u0007  rows; j + + )  { \n    // Scaling up to draw a rectangle at (x,y) \n    int x  =  i*videoScale; \n    int y  =  j*videoScale; \n    fill(255); \n    stroke(0); \n    rect(x,y,videoScale,videoScale); \n   } \n  } \n } \n Knowing that we want to have squares 8 pixels wide by 8 pixels high, we can calculate the number of \ncolumns as the width divided by eight and the number of rows as the height divided by eight. \n •  640/8  \u0005  80 columns \n •  480/8 \u0005  60 rows \n We can now capture a video image that is 80  \u0004 60. Th is is useful because capturing a 640  \u0004 480 video \nfrom a camera can be slow compared to 80  \u0004 60. We will only want to capture the color information at \nthe resolution required for our sketch. \nﬁ g. 16.5 \nThe videoScale variable tells us \nthe ratio of the window’s pixel size \nto the grid’s size.\n80 * 8 \u0005 640\n60 * 8 \u0005 480\nFor every column and row, a \nrectangle is drawn at an (x,y)\nlocation scaled and sized by \nvideoScale.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1029
  },
  {
    "chunk_full": "Video\n 285\n For every square at column  i and row  j , we look up the color at pixel ( i , j ) in the video image and color it \naccordingly.  See Example 16-7 (new parts in bold).\n Example 16-7: Video pixelation \n // Size of each cell in the grid, ratio of window size to video size \n int videoScale  =  8; \n // Number of columns and rows in our system \n int cols, rows; \n // Variable to hold onto Capture object \n Capture video; \n void setup()  { \n  size(640,480); \n  // Initialize columns and rows \n  cols  =  width/videoScale; \n  rows  =  height/videoScale; \n  background(0); \n  video  =  new Capture(this,cols,rows,30); \n } \n void draw()  { \n  // Read image from the camera \n  if (video.available())  { \n   video.read(); \n } \n  video.loadPixels(); \n  // Begin loop for columns \n  for (int i  =  0; i  \u0007  cols; i + + ) { \n   // Begin loop for rows \n   for (int j  =  0; j  \u0007  rows; j + + ) { \n    // Where are we, pixel-wise? \n    int x  =  i*videoScale; \n    int y  =  j*videoScale; \n   // Looking up the appropriate color in the pixel array \n    color c  =  video.pixels[i + j*video.width]; \n    fill(c); \n    stroke(0); \n    rect(x,y,videoScale,videoScale); \n   } \n  } \n } \n As you can see, expanding the simple grid system to include colors from video only requires a few \nadditions. We have to declare and initialize the Capture object, read from it, and pull colors from the \npixel array. \n Less literal mappings of pixel colors to shapes in the grid can also be applied. In the following example, \nonly the colors black and white are used. Squares are larger where brighter pixels in the video appear, and \nsmaller for darker pixels. See  Figure 16.6 . \nThe color for each square is pulled \nfrom the Capture object’s pixel array.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1030
  },
  {
    "chunk_full": "286\nLearning Processing\n Example 16-8: Brightness mirror \n // Each pixel from the video source is drawn as a \n // rectangle with size based on brightness. \n import processing.video.*; \n // Size of each cell in the grid \n int videoScale  =  10; \n // Number of columns and rows in our system \n int cols, rows; \n // Variable for capture device \n Capture video; \n void setup()  { \n  size(640,480); \n  // Initialize columns and rows \n  cols  =  width/videoScale; \n  rows  =  height/videoScale; \n  smooth(); \n  // Construct the Capture object \n  video  =  new Capture(this,cols,rows,15); \n } \n void draw()  { \n  if (video.available())  { \n \n video.read(); \n  } \n background(0); \n video.loadPixels(); \n // Begin loop for columns \n for (int i  =  0; i  \u0007  cols; i + + )  { \n  // Begin loop for rows \n     for (int j  =  0; j  \u0007  rows; j + + )  { \n    // Where are we, pixel-wise? \n     int x  =  i*videoScale; \n     int y  =  j*videoScale; \n    // Reversing x to mirror the image \n    int loc  =  (video.width  – i  –  1)  + j*video.width; \nﬁ g. 16.6 \nIn order to mirror the image, the column \nis reversed with the following formula:\nmirrored column \u0005 width – column – 1\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1031
  },
  {
    "chunk_full": "Video\n 287\n    // Each rect is colored white with a size determined by brightness \n    color c  =  video.pixels[loc]; \n    float sz  =  (brightness(c)/255.0)*videoScale; \n    rectMode(CENTER); \n    fill(255); \n    noStroke(); \n    rect(x  +  videoScale/2,y + videoScale/2,sz,sz); \n    } \n  } \n } \n It is often useful to think of developing software mirrors in two steps. Th is will also help you think \nbeyond the more obvious mapping of pixels to shapes on a grid. \nStep 1. Develop an interesting pattern that covers an entire window. \nStep 2. Use a video’s pixels as a look-up table for coloring that pattern. \n For example, say for Step 1, we write a program that scribbles a random line around the window. Here is \nour algorithm, written in pseudocode . \n •  Start with  x and  y as coordinates at the center of the screen. \n •  Repeat forever the following: \n — Pick a new  x and  y (staying within the edges). \n — Draw a line from the old ( x , y ) to the new ( x , y ). \n — Save the new ( x , y ). \n Example 16-9: The scribbler \n // Two global variables \n float x; \n float y; \n void setup()  { \n  size(320,240); \n  smooth(); \n  background(255); \n  // Start x and y in the center \n  x  =  width/2; \n  y  =  height/2; \n } \n void draw()  { \n  // Pick a new x and y \n  float newx  =  constrain(x  +  random( –20,20),0,width);\n  float newy  =  constrain(y  +  random( –20,20),0,height);\n  // Draw a line from x,y to the newx,newy \n  stroke(0); \n  strokeWeight(4); \n  line(x,y,newx,newy); \n \n  x  =  newx; \n  y  =  newy; \n } \nA rectangle size is calculated as a \nfunction of the pixel’s brightness. A \nbright pixel is a large rectangle, and \na dark pixel is a small one.\nﬁ g. 16.7 \nA new x,y location is picked as \nthe current (x,y) plus or minus \na random value. The new \nlocation is constrained  within \nthe window’s pixels.\nWe save the new location in (x,y) in \norder to start the process over again.\n// Save newx, newy in x,y \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1032
  },
  {
    "chunk_full": "288\nLearning Processing\n Now that we have ﬁ nished our pattern generating sketch, we can change  stroke( ) to set a color according \nto the video image. Note again the new lines of code added in bold in Example 16-10. \n Example 16-10: The scribbler mirror \n import processing.video.*; \n // Two global variables \n float x; \n float y; \n // Variable to hold onto Capture object \n Capture video; \n void setup()  { \n  size(320,240); \n  smooth(); \n  // framerate(30); \n  background(0); \n  // Start x and y in the center \n  x  =  width/2; \n  y  =  height/2; \n // Start the capture process \n  video  =  new Capture(this,width,height,15); \n } \n void draw()  { \n // Read image from the camera \n  if (video.available())  { \n \n video.read(); \n  } \n  video.loadPixels(); \n  // Pick a new x and y \n  float newx  =  constrain(x  +  random( \u0003 20,20),0,width-1); \n  float newy  =  constrain(y  +  random( \u0003 20,20),0,height-1); \n  // Find the midpoint of the line \n  int midx  =  int((newx  +  x) / 2); \n  int midy  =  int((newy  +  y) / 2); \n  // Pick the color from the video, reversing x \n color c  =   video.pixels[(width-1-midx)  +  midy*video.width]; \n  // Draw a line from x,y to the newx,newy \n  stroke(c); \n  strokeWeight(4); \n  line(x,y,newx,newy); \n  // Save newx, newy in x,y \n  x  =  newx; \n  y  =  newy; \n } \n Exercise 16-4: Create your own software mirror using the methodology from Examples \n16-9 and 16-1 0. Create your system without the video ﬁ rst and then incorporate using the \nvideo to determine colors, behaviors, and so on. \nﬁ g. 16.8 \nIf the window were larger (say 800 \u0004\n600), we might want to introduce a \nvideoScale variable so that we do not \nhave to capture such a large image.\nThe color for the \nscribbler is pulled \nfrom a pixel in the \nvideo image.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1033
  },
  {
    "chunk_full": "Video\n 289\n 16.5  Video as Sensor, Computer Vision \n Every example in this chapter has treated the video camera as a data source data for digital imagery \ndisplayed onscreen. Th is section will provide a simple introduction to things you can do with a video \ncamera when you do not display the image, that is,  “ computer vision. ” Computer vision is a scientiﬁ c \nﬁ eld of research dedicated to machines that  see , using the camera as a sensor. \n In order to better understand the inner workings of computer vision algorithms, we will write all of the \ncode ourselves on a pixel by pixel level. However, to explore these topics further, you might consider \ndownloading some of the third party computer vision libraries that are available for  Processing. Many of \nthese libraries have advanced features beyond what will be covered in this chapter. A brief overview of the \nlibraries will be oﬀ ered at the end of this section. \n Let’s begin with a simple example. \n Th e video camera is our friend because it provides a ton of information. A 320  \u0004 240 image is 76,800 \npixels! What if we were to boil down all of those pixels into one number: the overall brightness of a \nroom? Th is could be accomplished with a one dollar light sensor (or  “ photocell ” ), but as an exercise we \nwill make our webcam do it. \n We have seen in other examples that the brightness value of an individual pixel can be retrieved with the \nbrightness( ) function, which returns a ﬂ oating point number between 0 and 255. Th e following line of \ncode retrieves the brightness for the ﬁ rst pixel in the video image. \n float brightness  =  brightness(video.pixels[0]); \n We can then compute the overall (i.e., average) brightness by adding up all the brightness values and \ndividing by the total number of pixels. \n video.loadPixels(); \n // Start with a total of 0 \n float totalBrightness  =  0; \n // Sum the brightness of each pixel \n for (int i  =  0; i  <  video.pixels.length; i + + ) { \n  color c  =  video.pixels[i]; \n  totalBrightness  + = brightness(c); \n } \n // Compute the average \n float averageBrightness  =  \n // Display the background as average brightness \n background(averageBrightness); \n Before you start to cheer too vigorously from this accomplishment, while this example is an excellent \ndemonstration of an algorithm that analyzes data provided by a video source, it does not begin to harness \nthe power of what one can  “ see ” with a video camera. After all, a video image is not just a collection of \ncolors, but it is a collection of spatially oriented colors. By developing algorithms that search through the \npixels and recognize patterns, we can start to develop more advanced computer vision applications. \nSum all brightness values.\nAverage brightness \u0005 total \nbrightness / total pixels\ntotalBrightness / video.pixels.length; \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1034
  },
  {
    "chunk_full": "290\nLearning Processing\n Tracking the brightest color is a good ﬁ rst step. Imagine a dark room with a single moving light source. \nWith the techniques we will learn, that light source could replace the mouse as a form of interaction. \nYes, you are on your way to playing Pong with a ﬂ ashlight. \n First, we will examine how to search through an image and ﬁ nd the  x , y location of the brightest pixel. \nTh e strategy we will employ is to loop through all the pixels, looking for the  “ world record ” brightest pixel \n(using the  brightness( ) function). Initially, the world record will be held by the ﬁ rst pixel. As other pixels \nbeat that record, they will become the world record holder. At the end of the loop, whichever pixel is the \ncurrent record holder gets the  “ Brightest Pixel of the Image ” award. \n Here is the code: \n // The record is 0 when we ﬁ rst start \n float worldRecord  = 0.0; \n // Which pixel will win the prize? \n int xRecordHolder  =  0; \n int yRecordHolder  =  0; \n for (int x  =  0; x  <  video.width; x + + ) { \n  for (int y  =  0; y  <  video.height; y + + )  { \n   // What is current brightness \n   int loc  =  x + y*video.width; \n   float currentBrightness  =  brightness(video.pixels[loc]); \n   if (currentBrightness  >  worldRecord)  { \n    // Set a new record \n    worldRecord  =  currentBrightness; \n    // This pixel holds the record! \n    xRecordHolder  =  x; \n    yRecordHolder  =  y; \n   } \n  } \n } \n A natural extension of this example would be to track a speciﬁ c color, rather than simply the brightest. \nFor example, we could look for the most  “ red ” or the most  “ blue ” in a video image. In order to perform \nthis type of analysis, we will need to develop a methodology for comparing colors. Let’s create two colors, \nc 1 and  c 2. \n color c1  =  color(255,100,50); \n color c2  =  color(150,255,0); \n Colors can only be compared in terms of their red, green, and blue components, so we must ﬁ rst separate \nout these values. \n float r1  =  red(c1); \n float g1  =  green(c1); \n float b1  =  blue(c1); \n float r2  =  red(c2); \n float g2  =  green(c2); \n float b2  =  blue(c2); \nWhen we ﬁ nd the new brightest pixel, we must save the (x,y)\nlocation of that pixel in the array so that we can access it later.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1035
  },
  {
    "chunk_full": "Video\n 291\n Now, we are ready to compare the colors. One strategy is to take the sum of the absolute value \nof the diﬀ erences. Th at is a mouthful, but it is really fairly simple. Take  r 1 minus  r 2. Since we \nonly care about the magnitude of the diﬀ erence, not whether it is positive or negative, take the \nabsolute value (the positive version of the number). Do this for green and blue and add them all \ntogether. \n float diff  =  abs(r1-r2)  +  abs(g1-g2)  +  abs(b1-b2); \n While this is perfectly adequate (and a fast calculation at that), a more accurate way to compute the \ndiﬀ erence between colors is to take the  “ distance ” between colors. OK, so you may be thinking:  “ Um, \nseriously? How can a color be far away or close to another color? ” Well, we know the distance between \ntwo points is calculated via the Pythagorean Th eorem. We can think of color as a point in three-\ndimensional space, only instead of  x ,  y , and  z , we have  r ,  g , and  b . If two colors are near each other in this \ncolor space, they are similar; if they are far, they are diﬀ erent. \n float diff  =  dist(r1,g1,b1,r2,g2,b2); \n Looking for the  “ most red ” pixel in an image, for \nexample, is therefore looking for the color  “ closest ” \nto red—(255,0,0). \n By adjusting the brightness tracking code to look for the closest pixel to any given color (rather than the \nbrightest), we can put together a color tracking sketch. In the following example, the user can click the \nmouse on a color in the image to be tracked. A black circle will appear at the location that most closely \nmatches that color. See  Figure 16.9 . \n Example 16-11: Simple color tracking \n import processing.video.*; \n // Variable for capture device \n Capture video; \n color trackColor; \n void setup()  { \n  size(320,240); \n video  = new Capture(this,width,height,15); \n  // Start off tracking for red \n  trackColor  =  color(255,0,0); \n  smooth(); \n } \nAlthough more accurate, because the dist( )\nfunction involves a square root in its calculation, it \nis slower than the absolute value of the difference \nmethod. One way around this is to write your own \ncolor distance function without the square root.\ncolorDistance \u0005 (r1\u0003r 2)*(r1\u0003r2) \u0002 (g1\u0003g2)*\n(g1\u0003g2) \u0002 (b1\u0003b2)*(b1\u0003b2)\nﬁ g. 16.9 \nA variable for the color \nwe are searching for.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1036
  },
  {
    "chunk_full": "292\nLearning Processing\n void draw()  { \n  // Capture and display the video \n  if (video.available())  { \n   video.read(); \n  } \n  video.loadPixels(); \n  image(video,0,0); \n  // Closest record, we start with a high number \n  float worldRecord  = 500; \n  // XY coordinate of closest color \n  int closestX  =  0; \n  int closestY  =  0; \n  // Begin loop to walk through every pixel \n  for (int x  =  0; x  <  video.width; x + + ) { \n   for (int y  =  0; y  <  video.height; y + + )  { \n    int loc  =  x  +  y*video.width; \n    // What is current color \n    color currentColor  =  video.pixels[loc]; \n    float r1  =  red(currentColor); \n    float g1  =  green(currentColor); \n    float b1  =  blue(currentColor); \n    float r2  =  red(trackColor); \n    float g2  =  green(trackColor); \n    float b2  =  blue(trackColor); \n    // Using euclidean distance to compare colors \n    float d  =  dist(r1,g1,b1,r2,g2,b2); \n    // If current color is more similar to tracked color than \n    // closest color, save current location and current difference \n    if (d  \u0007  worldRecord)  { \n     worldRecord  =  d; \n     closestX  =  x; \n     closestY  =  y; \n  \n } \n \n } \n } \n if (worldRecord  <  10)  { \n \n // Draw a circle at the tracked pixel \n \n fill(trackColor); \n \n strokeWeight(4.0); \n \n stroke(0); \n  ellipse(closestX,closestY,16,16); \n  } \n } \n void mousePressed()  { \n  // Save color where the mouse is clicked in trackColor variable \n  int loc  =  mouseX  +  mouseY*video.width; \n  trackColor  =  video.pixels[loc]; \n } \nBefore we begin searching, the “world \nrecord” for closest color is set to a high \nnumber that is easy for the ﬁ rst pixel to beat.\nWe are using the dist( ) function \nto compare the current color with \nthe color we are tracking.\nWe only consider the color found if its color \ndistance is less than 10. This threshold of 10 \nis arbitrary and you can adjust this number \ndepending on how accurate you require \nthe tracking to be.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1037
  },
  {
    "chunk_full": "Video\n 293\n Exercise 16-5: Take any Processing sketch you previously created that involves mouse \ninteraction and replace the mouse with color tracking. Create an environment for the \ncamera that is simple and high contrast. For example, point the camera at a black tabletop \nwith a small white object. Control your sketch with the object’s, location. Th e picture shown \nillustrates the example that controls the  “ snake ” (Example 9-9) with a tracked bottlecap. \n 16.6  Background Removal \n Th e distance comparison for color proves useful in other computer vision algorithms as well, such as \nbackground removal. Let’s say you wanted to show a video of you dancing the hula, only you did not want \nto be dancing in your oﬃ  ce where you happen to be, but at the beach with waves crashing behind you. \nBackground removal is a technique that allows you to remove the background of an image (your oﬃ  ce) \nand replace it with any pixels you like (the beach), while leaving the foreground (you dancing) intact. \n Here is our algorithm. \n •  Memorize a background image. \n •  Check every pixel in the current video frame. If it is very different from the corresponding pixel \nin the background image, it is a foreground pixel. If not, it is a background pixel. Display only \nforeground pixels. \n To demonstrate the above algorithm, we will perform a reverse green screen. Th e sketch will remove the \nbackground from an image and replace it with green pixels. \n Step one is  “ memorizing ” the background. Th e background is essentially a snapshot from the video. Since \nthe video image changes over time, we must save a copy of a frame of video in a separate PImage object.  \n PImage backgroundImage; \n void setup()  { \n  backgroundImage  =  createImage(video.width,video.height,RGB); \n } \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1038
  },
  {
    "chunk_full": "294\nLearning Processing\n When backgroundImage is created, it is a blank image, with the same dimensions as the video. It is not \nparticularly useful in this form, so we need to copy an image from the camera into the background image \nwhen we want to memorize the background. Let’s do this when the mouse is pressed. \n void mousePressed()  { \n  // Copying the current frame of video into the backgroundImage object \n  // Note copy takes 5 arguments: \n  // The source image \n  //  x,y,width, and height of region to be copied from the source \n  // x,y,width, and height of copy destination \n  \n \n  backgroundImage.updatePixels(); \n } \n Once we have the background image saved, we can loop through all the pixels in the current frame and \ncompare them to the background using the distance calculation. For any given pixel ( x , y ), we use the \nfollowing code: \n int loc  =  x  +  y*video.width;  \n// Step 1, what is the 1D pixel location \n color fgColor  =  video.pixels[loc];  \n// Step 2, what is the foreground color \n color bgColor  =  backgroundImage.pixels[loc]; // Step 3, what is the background color \n // Step 4, compare the foreground and background color \n float r1  =  red(fgColor); float g1  =  green(fgColor); float b1  =  blue(fgColor); \n float r2  =  red(bgColor); float g2  =  green(bgColor); float b2  =  blue(bgColor); \n float diff  = dist(r1,g1,b1,r2,g2,b2); \n // Step 5, Is the foreground color different from the background color \n if (diff  >  threshold)  { \n  // If so, display the foreground color \n pixels[loc]  =  fgColor; \n } else  { \n // If not, display green \n pixels[loc]  = color(0,255,0); \n } \n Th e above code assumes a variable named  “ threshold. ” Th e lower the threshold, the  easier it is for a pixel \nto be in the foreground. It does not have to be very diﬀ erent from the background pixel. Here is the full \nexample with threshold as a global variable. \n Example 16-12: Simple background removal \n // Click the mouse to memorize a current background image \n import processing.video.*; \n // Variable for capture device \n Capture video; \n // Saved background \n PImage backgroundImage; \n // How different must a pixel be to be a foreground pixel \n float threshold  =  20; \n ﬁ g. 16.10  \ncopy( ) allows you to copy pixels from one \nimage to another. Note that updatePixels( )\nshould be called after new pixels are copied!\nbackgroundImage.copy(video,0,0,video.width,video.height,0,0,video.width,video.height);\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1039
  },
  {
    "chunk_full": "Video\n 295\n void setup()  { \n  size(320,240); \n  video  =  new Capture(this, width, height, 30); \n  // Create an empty image the same size as the video \n  backgroundImage  =  createImage(video.width,video.height,RGB); \n } \n void draw()  { \n  // Capture video \n  if (video.available())  { \n \n video.read(); \n  } \n loadPixels(); \n video.loadPixels(); \n backgroundImage.loadPixels(); \n // Draw the video image on the background \n image(video,0,0); \n // Begin loop to walk through every pixel \n for (int x  =  0; x  <  video.width; x + + ) { \n  for (int y  =  0; y  <  video.height; y + + ) { \n  int loc  =  x  +  y*video.width; // Step 1, what is the 1D pixel location \n  color fgColor  =  video.pixels[loc]; // Step 2, what is the foreground color \n  // Step 3, what is the background color \n  color bgColor  =  backgroundImage.pixels[loc]; \n  // Step 4, compare the foreground and background color \n  float r1  =  red(fgColor); \n  float g1  =  green(fgColor); \n  float b1  =  blue(fgColor); \n  float r2  =  red(bgColor); \n  float g2  =  green(bgColor); \n  float b2  =  blue(bgColor); \n  float diff  =  dist(r1,g1,b1,r2,g2,b2); \n  // Step 5, Is the foreground color different from the background color \n  if (diff  >  threshold)  { \n \n // If so, display the foreground color \n \n pixels[loc]  = fgColor; \n   } else { \n \n // If not, display green \n \n pixels[loc]  =  color(0,255,0); \n  } \n } \n } \n updatePixels(); \n } \n void mousePressed()  { \n  // Copying the current frame of video into the backgroundImage object \n  // Note copy takes 5 arguments: \n  // The source image \n  // x,y,width, and height of region to be copied from the source \n  // x,y,width, and height of copy destination \n  backgroundImage.copy(video,0,0,video.width,video.height,0,0,video.width,video.\nheight);\n  backgroundImage.updatePixels(); \n } \nWe are looking at the video’s pixels, \nthe memorized backgroundImage’s \npixels, as well as accessing the display \npixels. So we must loadPixels() for all!\nWe could choose to replace the \nbackground pixels with something \nother than the color green!\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1040
  },
  {
    "chunk_full": "296\nLearning Processing\n When you ultimately get to running this example, step out of the frame, click the mouse to memorize \nthe background without you in it, and then step back into the frame; you will see the result as seen in \nFigure 16.10.\n If this sketch does not seem to work for you at all, check and see what  “ automatic ” features are \nenabled on your camera. For example, if your camera is set to automatically adjust brightness or \nwhite balance, you have a problem. Even though the background image is memorized, once the \nentire image becomes brighter or changes hue, this sketch will think all the pixels have changed \nand are therefore part of the foreground! For best results, disable all automatic features on your \ncamera. \n Exercise 16-6: Instead of replacing the background with green pixels, replace it with another \nimage. What values work well for threshold and what values do not work at all? Try \ncontrolling the threshold variable with the mouse. \n 16.7  Motion Detection \n Today is a happy day. Why? Because all of the work we did to learn how to remove the background \nfrom a video gets us motion detection for free. In the background removal example, we examined each \npixel’s relationship to a stored background image. Motion in a video image occurs when a pixel color \ndiﬀ ers greatly from what it used to be one frame earlier. In other words, motion detection is exactly the \nsame algorithm, only instead of saving a background image once, we save the previous frame of video \nconstantly! \n Th e following example is identical to the background removal example with only one important change—\nthe previous frame of video is always saved whenever a new frame is available. \n // Capture video \n if (video.available())  { \n  // Save previous frame for motion detection!! \n  prevFrame.copy(video,0,0,video.width,video.height,0,0,video.width,video.height); \n  video.read(); \n } \n (Th e colors displayed are also changed to black and white and some of the variable names are diﬀ erent, \nbut these are trivial changes.) \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1041
  },
  {
    "chunk_full": "Video\n 297\n Example 16-13: Simple motion detection \n import processing.video.*; \n // Variable for capture device \n Capture video; \n // Previous Frame \n PImage prevFrame; \n // How different must a pixel be to be a \"motion\" pixel \n float threshold  =  50; \n void setup()  { \n  size(320,240); \n  video  =  new Capture(this, width, height, 30); \n  // Create an empty image the same size as the video \n  prevFrame  =  createImage(video.width,video.height,RGB); \n } \n void draw()  { \n  // Capture video \n  if (video.available())  { \n   // Save previous frame for motion detection!! \n   prevFrame.copy(video,0,0,video.width,video.height,0,0,video.width,video.height); \n   prevFrame.updatePixels(); \n   video.read(); \n  } \n  loadPixels(); \n video.loadPixels();\n  prevFrame.loadPixels(); \n  // Begin loop to walk through every pixel \n  for (int x  =  0; x  <  video.width; x + + ) { \n   for (int y  =  0; y  <  video.height; y + + ) { \n    int loc  =  x  +  y*video.width; // Step 1, what is the 1D pixel location \n    color current  =  video.pixels[loc]; // Step 2, what is the current color \n    color previous  =  prevFrame.pixels[loc]; // Step 3, what is the previous color \n    // Step 4, compare colors (previous vs. current) \n    float r1  =  red(current); float g1  =  green(current); float b1  =  blue(current); \n   float r2  = red(previous); float g2  = green(previous); float b2  = blue(previous);\n    float diff  =  dist(r1,g1,b1,r2,g2,b2); \n    // Step 5, How different are the colors? \n    if (diff  >  threshold)  { \n     // If motion, display black \n     pixels[loc]  =  color(0); \n    } else { \n     // If not, display white \n     pixels[loc]  = color(255); \n    } \n   } \n  } \n  updatePixels(); \n } \n What if we want to just know the  “ overall ” motion in a room? At the start of section 16.5 , we calculated \nthe average brightness of an image by taking the sum of each pixel’s brightness and dividing it by the total \nnumber of pixels. \n ﬁ g. 16.11  \nBefore we read the new frame, we always \nsave the previous frame for comparison!\nIf the color at that pixel has changed, then \nthere is “motion” at that pixel.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1042
  },
  {
    "chunk_full": "298\nLearning Processing\n Average Brightness  =  Total Brightness / Total Number of Pixels \n We can calculate the average motion the same way: \n Average Motion  =  Total Motion / Total Number of Pixels \n Th e following example displays a circle that changes color and size based on the average amount of \nmotion. Note again that you do not need to  display the video in order to analyze it! \n Example 16-14: Overall motion \n import processing.video.*; \n // Variable for capture device \n Capture video; \n // Previous Frame \n PImage prevFrame; \n // How different must a pixel be to be a \"motion\" pixel \n float threshold  =  50; \n void setup()  { \n  size(320,240); \n  // Using the default capture device \n  video  =  new Capture(this, width, height, 15); \n  // Create an empty image the same size as the video \n  prevFrame  =  createImage(video.width,video.height,RGB); \n } \n void draw()  { \n  background(0); \n  // If you want to display the videoY \n  // You don't need to display it to analyze it! \n  image(video,0,0); \n  // Capture video \n  if (video.available())  { \n   // Save previous frame for motion detection!! \n   prevFrame.copy(video,0,0,video.width,video.height,0,0,video.width,video.height); \n   prevFrame.updatePixels(); \n   video.read(); \n  } \n  loadPixels(); \n  video.loadPixels(); \n  prevFrame.loadPixels(); \n  // Begin loop to walk through every pixel \n  // Start with a total of 0 \n  float totalMotion  =  0;\n  // Sum the brightness of each pixel \n  for (int i  =  0; i  <  video.pixels.length; i + + )  { \n   color current  =  video.pixels[i]; \n  // Step 2, what is the current color \n   color previous  =  prevFrame.pixels[i]; \n  // Step 3, what is the previous color \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1043
  },
  {
    "chunk_full": "Video\n 299\n   // Step 4, compare colors (previous vs. current) \n   float r1  =  red(current); float g1  = green(current); \n  float b1  =  blue(current); \n   float r2  =  red(previous); float g2  =  \n  float b2  =  blue(previous); \n   float diff  =  dist(r1,g1,b1,r2,g2,b2); \n   totalMotion  + =  diff; \n } \n float avgMotion  =  totalMotion / video.pixels.length; \n // Draw a circle based on average motion \n smooth(); \n noStroke(); \n fill(100  +  avgMotion*3,100,100); \n float r  = avgMotion*2; \n ellipse(width/2,height/2,r,r); \n } \n Exercise 16-7: Create a sketch that looks for the average location of motion. Can you have an \nellipse follow your waving hand? \n 16.8  Computer Vision Libraries \n Th ere are several computer vision libraries already available for  Processing (and there will inevitably be \nmore). Th e nice thing about writing your own computer vision code is that you can control the vision \nalgorithm at the lowest level, performing an analysis that conforms precisely to your needs. Th e beneﬁ t \nto using a third party library is that since there has been a great deal of research in solving common \ncomputer vision problems (detecting edges, blobs, motion, tracking color, etc.), you do not need to do all \nof the hard work yourself! Here is a brief overview of three libraries currently available. \nJMyron (WebCamXtra) by Josh Nimoy et al.\nhttp://webcamxtra.sourceforge.net/\n One advantage of using JMyron is its freedom from needing a vdig on Windows. It also includes many \nbuilt-in functions to perform some of the tasks explained in this chapter: motion detection and color \ntracking. It will also search for groups of similar pixels (known as blobs or globs). \nLibCV by Karsten Schmidt\nhttp://toxi.co.uk/p5/libcv/\n Much like JMyron, LibCV does not require QuickTime or WinVDIG for Windows machines. Instead \nof using native code, however, it uses the Java Media Framework (JMF) to connect to and capture images \nfrom a digital video camera. LibCV also includes functions not available in some of the other computer \nvision libraries, such as  “ background learning, background subtraction, diﬀ erence images, and keystoning \n(perspective correction). ” \ntotalMotion is the sum of all color differences.\nMotion for an individual pixel is the difference \nbetween the previous color and current color.\naverageMotion is total motion \ndivided by the number of pixels \nanalyzed.\ngreen(previous);\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1044
  },
  {
    "chunk_full": "300\nLearning Processing\n BlobDetection by Julien “v3ga” Gachadoat \n http://www.v3ga.net/processing/BlobDetection/ \n Th is library, as made obvious by its name, is speciﬁ cally designed for detecting blobs in an image. Blobs \nare deﬁ ned as areas of pixels whose brightness is above or below a certain threshold. Th e library takes any \nimage as input and returns an array of Blob objects, each of which can tell you about its edge points and \nbounding box. \n 16.9  The Sandbox \n Up until now, every single sketch we have created in this book could be published online. Perhaps you \nhave already got a web site full of your  Processing work. Once we start working with a video camera, \nhowever, we run into a problem. Th ere are certain security restrictions with web applets and this is \nsomething we will see here and there throughout the rest of the book. A web applet, for example, cannot \nconnect to a video camera on a user’s computer. For the most part, applets are not allowed to connect to \nany local devices. \n It makes sense that there are security requirements. If there weren’t, a programmer could make an applet \nthat connects to your hard drive and deletes all your ﬁ les, send an e-mail out to all of his or her friends \nand say:  “ Check out this really cool link! ” Applications do not have security requirements. After all, you \ncan go and download applications that erase and reformat hard drives. But downloading and installing an \napplication is diﬀ erent from just popping on a URL and loading an applet. Th ere is an assumed level of \ntrust with applications. \n Incidentally, whether or not a feature of  Processing will work in a web applet is listed on every single \nreference page under  “ Usage. ” If it says  “ Web ” it can be used in a web applet. \n If you must publish a camera connecting a  Processing sketch online, there are ways around this and I will \noﬀ er some tips and suggestions on this book’s website:  http://www.learningprocssing.com/sandbox/ .\n \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1045
  },
  {
    "chunk_full": "Video\n 301\nLesson Seven Project\nDevelop a software mirror that incorporates computer vision techniques. Follow \nthese steps.\nStep 1.  Design a pattern with no color. Th is could be a static pattern (such \nas a mosaic) or a moving one (such as the “scribbler” example) or a \ncombination.\nStep 2. Color that pattern according to a JPG image.\nStep 3.  Replace the JPG with images from a live camera (or recorded \nQuickTime).\nStep 4.  Using computer vision techniques, alter the behavior of the patterns’ \nelements according to the properties of the image. For example, perhaps \nbrighter pixels cause shapes to spin or pixels that change a lot cause \nshapes to ﬂ y oﬀ  the screen, and so on.\nUse the space provided below to sketch designs, notes, and pseudocode for your \nproject.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1046
  },
  {
    "chunk_full": "This page intentionally left blank\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1047
  },
  {
    "chunk_full": "Lesson Eight\nThe Outside World\n17 Text\n18 Data Input\n19 Data Streams\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1048
  },
  {
    "chunk_full": "This page intentionally left blank\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1049
  },
  {
    "chunk_full": "Text\n 305\n 17  Text \n “ I could entertain future historians by saying I think all this superstring stuﬀ  is crazy. ” \n—Richard Feynman \nIn this chapter: \n –  Storing text in a  String object. \n –  Basic  String functionality. \n –  Creating and loading fonts. \n –  Displaying text. \n 17.1  Where do  Strings come from? \n In Chapter 15, we explored a new object data type built into the  Processing environment for dealing with \nimages—PImage. In this chapter, we will introduce another new data type, another class we get for free \nwith  Processing , called  String . \n Th e  String class is not a completely new concept. We have dealt with  Strings before whenever we have \nprinted some text to the message window or loaded an image from a ﬁ le. \n println( \"printing some text to the message window! \");  // Printing a String \n PImage img  = loadImage(\"filename.jpg\"); \n // Using a String for a file name \n Nevertheless, although we have used a  String here and there, we have yet to explore them fully and \nunleash their potential. In order to understand the origins of the  String , let’s remind ourselves where \nclasses come from. We know we can create our own classes (Zoog, Car, etc.). We can use classes built \ninto the  Processing environment, such as PImage. And ﬁ nally, in the last chapter we learned that we could \nimport additional  Processing libraries to use certain classes such as Capture or Movie. \n Nevertheless, these classes come from our lives in the  Processing bubble. We have yet to venture out into \nthe great unknown, the world of thousands upon thousands of available Java classes. Before we leap over \nthe Java API cliﬀ  (which we will do in Chapter 23), it is useful to just peek over the edge and explore one \nof the most basic and fundamental Java classes out there, the  String class, which we will use to store and \nmanipulate text. \n Where do we ﬁ nd documentation for the  String class? \n In order to learn the details about built-in variables, functions, and classes, the  Processing reference has \nalways been our guide. Although technically a Java class, because the  String class is so commonly used, \n Processing includes documentation in its reference. In addition, no import statement is required. \n http://www.processing.org/reference/String.html \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1050
  },
  {
    "chunk_full": "306\nLearning Processing\n Th is page only covers a few of the available methods of the  String class. Th e full documentation can be \nfound at Sun’s Java site: \n http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html \n (Also note the URL for the entire Java API:  http://java.sun.com/j2se/1.4.2/docs/api). \n We are not going to cover how to use the Java documentation just yet (see Chapter 23 for more), but you \ncan whet your appetite by just visiting and perusing the above links. \n 17.2  What is a  String ? \n A  String , at its core, is really just a fancy way of storing an array of characters—if we did not have the \n String class, we would probably have to write some code like this: \n char[] sometext  =  { ' H ',  ' e ' ,  ' l ' ,  ' l' ,  ' o ' ,  '  ' , ' W ' ,  ' o ' ,  ' r ' , ' l ' ,  ' d ' } ; \n Clearly, this would be a royal pain in the  Processing behind. It is much simpler to do the following and \nmake a  String object: \n String sometext  =  \" How do I make a String? Type characters between quotes! \" ; \n It appears from the above that a  String is nothing more than a list of characters in between quotes. \nNevertheless, this is only the data of a  String . We must remember that a  String is an object with \nmethods (which you can ﬁ nd on the reference page). Th is is the same as how a PImage object \nstored the data associated with an image as well as had functionality in the form of methods:  copy( ) , \n loadPixels( ) , and so on. We will look more closely at  String methods in Chapter 18. However, here are a \nfew examples. \n Th e method  charAt( ) returns the individual character in the  String at a given index. Strings are just like \narrays in that the ﬁ rst character is index #0! \n Another useful method is  length( ) . Th is is easy to confuse with the  length property of an array. However, \nwhen we ask for the length of a  String object, we must use the parentheses since we are calling a function \ncalled  length( ) rather than accessing a property called length. \n String message  =  \" This String is 34 characters long. \" ; \n println(message.length()); \n String message  =  \" a bunch of text here. \" ; \n char c  =  message.charAt(3); \n println(c); \n ________\n Exercise 17-1: What is the result of the following code? \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1051
  },
  {
    "chunk_full": "Text\n 307\n Exercise 17-2: Loop through and print every character of a String one at a time. \n String message  =  \" a bunch of text here. \";\n for (int i =  0; i  < _____________ ); i + + ) { \n  char c  =  ________________ ; \n  println(c); \n } \n We can also change a String to all uppercase (or lowercase) using the  toUpperCase( ) method. \n String uppercase  =  message.toUpperCase() ; \n println(uppercase); \n You might notice something a bit odd here. Why didn’t we simply say  “ message.toUpperCase( ) ” and then \nprint the  “ message ” variable? Instead, we assigned the result of  “ message.toUpperCase( ) ” to a new variable \nwith a diﬀ erent name— “ uppercase ” . \n Th is is because a  String is a special kind of object. It is  immutable . An immutable object is one whose data \ncan never be changed. Once we create a  String , it stays the same for life. Any time we want to change the \n String , we have to create a new one. So in the case of converting to uppercase, the method  toUpperCase( ) \nreturns a copy of the  String object with all caps. \n Th e last method we will cover in this chapter is  equals( ) .  You might ﬁ rst think to compare Strings using \nthe  “ = = ” operator. \n String one  =  \" hello\"; \n String two  =  \" hello\"; \n println(one  = = two); \n Technically speaking, when  “ \u0005 \u0005 ” is used with objects, it compares the memory addresses for each object. \nEven though each string contains the same data— “ hello ” —if they are diﬀ erent object instances, then \n “ \u0005 \u0005 ” could result in a false comparison. Th e  equals( ) function ensures that we are checking to see if two \n String objects contain the exact same sequence of characters, regardless of where that data is stored in the \ncomputer’s memory. \n String one  =  \" hello\"; \n String two  =  \" hello\"; \n println(one.equals(two)); \n Although both of the above methods return the correct result, it is safer to use  equals( ) . Depending on \nhow  String objects are created in a sketch,  “ \u0005 \u0005 ” will not always work. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1052
  },
  {
    "chunk_full": "308\nLearning Processing\n One other feature of  String objects is concatenation, joining two  Strings together.  Strings are joined with \nthe  “  \u0002  ” operator. Th e plus operator ( \u0002 ), of course, usually means  add in the case of numbers. When used \nwith  Strings , it means  join . \n String helloworld  =  \" Hello \"  +  \" World \" ; \n Variables can also be brought into a  String using concatenation. \n int x  =  10; \n String message  =  \" The value of x is:  \"  +  x; \n We saw a good example of this in Chapter 15 when loading an array of images with numbered ﬁ lenames. \n Exercise 17-3: Find the duplicates in the following array of Strings. \n String words  =  { \"I\",\"love \" , \" coffee \" , \" I \" , \" love \" , \" tea \" } ; \n for (int i =  0; i  <  _______________; i + + ) { \n  for (int j =  __; j  <  _______________; j + + ) { \n   if (___________________)  { \n    println(____________  +  \" is a duplicate. \" ); \n   } \n  } \n } \n Th at rectangle is 10 pixels wide, 12 pixels tall and sitting right at (100,100). \n float w  =  10; \n float h  =  12; \n float x  =  100; \n float y  =  100; \n String message  = ____________________________________; \n println(message); \n Exercise 17-4: Concatenate a String from the variables given that outputs the following \nmessage. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1053
  },
  {
    "chunk_full": "Text\n 309\n 17.3  Displaying Text \n We will continue to explore the functions available as part of the  String class in Chapter 18, which \nfocuses on analyzing and manipulating  Strings . What we have learned so far about  Strings is enough to \nget us to the focus of this chapter:  rendering text . \n Th e easiest way to display a  String is to print it in the message window.  Th is is likely something you have \nbeen doing here and there while debugging. For example, if you needed to know the horizontal mouse \nlocation, you would write: \n println(mouseX); \n Or if you needed to determine that a certain part of the code was executed, you might print out a \ndescriptive message. \n println( \"We got here and we're printing out the mouse location!!! \"); \n While this is valuable for debugging, it is not going to help our goal of displaying text for a user. To place \ntext on screen, we have to follow a series of simple steps. \n 1. \n Choose a font by selecting  “ Tools ”  →  “ Create Font. ” Th is will create and place the font ﬁ le in your \ndata directory. Make note of the font ﬁ lename for Step 3.  Processing uses a special font format,  “ vlw, ” \nthat uses images to display each letter. Because of this, you should create the font at the size you \nintend to display. See  Figure 17.1 . \nSelect a font.\nSelect a size.\nMake note of the font ﬁlename.\n ﬁ g. 17.1  \n 2. \n Declare an object of type PFont. \n PFont f; \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1054
  },
  {
    "chunk_full": "310\nLearning Processing\n3. \n Load the font by referencing the font ﬁ le name in the function  loadFont( ). Th is should be done \nonly once, usually in  setup( ) . Just as with loading an image, the process of loading a font into memory \nis slow and would seriously aﬀ ect the sketch’s performance if placed inside  draw( ) . \n f  =  loadFont( \" ArialMT-16.vlw \" ); \n4. \n Specify the font using  textFont( ). textFont( ) takes one or two arguments, the font variable and \nthe font size, which is optional. If you do not include the font size, the font will be displayed at the \nsize originally loaded. Specifying a font size that is diﬀ erent from the font size loaded can result in \npixelated or poor quality text. \n textFont(f,36); \n5. \n Specify a color using  ﬁ ll( ) . \n fill(0); \n6. \n Call the  text( )  function to display text. (Th is function is just like shape or image drawing, it takes \nthree arguments—the text to be displayed, and the  x and  y coordinate to display that text.) \n text( \"Mmmmm... Strings...  \" ,10,100); \n All the steps together are shown in Example 17-1 . \n Example 17-1: Simple displaying text \n PFont f;   // STEP 2 Declare PFont variable \n void setup()  { \n  size(200,200); \n  f  =  loadFont( \" ArialMT-16.vlw \" ); // STEP 3 Load Font \n } \n void draw()  { \n  background(255); \n  textFont(f,16); \n // STEP 4 Specify font to be used \n  fill(0); \n // STEP 5 Specify font color \n  text ( \" Mmmmm... Strings ...  \" ,10,100); // STEP 6 Display Text \n } \n Fonts can also be created using the function  createFont( ). \n myFont  =  createFont( \" Georgia \" , 24, true); \ncreateFont( ) allows you to use a font that may be installed on your local machine, but not available as \npart of  Processing ’s font options. In addition,  createFont( ) allows the font to be scaled to any size \nwithout it looking pixelated or smushed. For more about  createFont( ) , visit the  Processing reference: \nhttp://processing.org/reference/createFont_.html . You can see all the available fonts with  “ PFont.list( ) . ” \n ﬁ g. 17.2  \nThe arguments to createFont() are font \nname, font size, and a boolean that \nenables smoothing (anti-aliasing).\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1055
  },
  {
    "chunk_full": "Text\n 311\n println(PFont.list()); \n For demonstration purposes,  createFont( ) will be used for all examples, rather than  loadFont( ) . \n 17.4  Text Animation \n Now that we understand the steps required to display text, we can apply other concepts from this book to \nanimate text in real-time. \n To get started, let’s look at two more useful  Processing functions related to displaying text: \ntextAlign( ) —speciﬁ es RIGHT, LEFT, or CENTER alignment for text . \n Example 17-2: Text align \n PFont f; \n void setup()  { \n  size(400,200); \n  f  =  createFont( \"Arial\",16,true);\n } \n void draw()  { \n  background(255); \n  stroke(175); \n  line(width/2,0,width/2,height); \n  textFont(f); \n  fill(0); \n ﬁ g. 17.3  \nPrint all fonts available to createFont() to the \nmessage window.\n \n Exercise 17-5: Take the bouncing ball example from Chapter 5. Display the X and Y \ncoordinates as text next to the ball. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1056
  },
  {
    "chunk_full": "312\nLearning Processing\n  textAlign(CENTER); \n  text( \" This text is centered. \" ,width/2,60); \n  textAlign (LEFT) ; \n  text( \" This text is left aligned. \" ,width/2,100); \n  textAlign(RIGHT); \n  text( \" This text is right aligned. \" ,width/2,140); \n } \ntextWidth( ) —Calculates and returns the width of any character or text string. \n Let’s say we want to create a news ticker, where text scrolls across the bottom of the screen from left \nto right . When the news headline leaves the window, it reappears on the right-hand side and scrolls \nagain. If we know the  x location of the beginning of the text and we know the width of that text, we can \ndetermine when it is no longer in view (see Figure 17.4).  textWidth( ) gives us that width. \n To start, we declare headline, font, and  x location variables, initializing them in  setup( ) . \n// A headline \n String headline  =  \" New study shows computer programming lowers cholesterol. \" ; \n PFont f; // Global font variable \n float x; // Horizontal location of headline \n void setup()  { \n f  =  createFont( \" Arial \" ,16,true); // Loading font \n x  =  width; // Initializing headline off-screen to the right \n } \n Th e  draw( ) function is similar to our bouncing ball example in Chapter 5. First, we display the text at the \nappropriate location. \n // Display headline at x location \n textFont(f,16); \n textAlign(LEFT); \n text(headline,x,180); \n We change  x by a speed value (in this case a negative number so that the text moves to the left.) \n // Decrement x \n x  =  x – 3; \n Now comes the more diﬃ  cult part. It was easy to test when a circle reached the left side of the screen. We \nwould simply ask: is  x less than 0? With the text, however, since it is left-aligned, when  x equals zero, it \nis still viewable on screen. Instead, the text will be invisible when  x is less than 0 minus the width of the \ntext (see  Figure 17.4 ). When that is the case, we reset  x back to the right-hand side of the window, that \nis,  width . \ntextAlign() sets the alignment \nfor displaying text. It takes one \nargument: CENTER, LEFT, or RIGHT.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1057
  },
  {
    "chunk_full": "Text\n 313\n float w  =  textWidth(headline) ; \n if (x  <  -w)  { \n x  =  width; \n } \n Example 17-3 is a full example that displays a diﬀ erent headline each time the previous headline leaves \nthe screen. Th e headlines are stored in a  String array . \n Example 17-3: Scrolling headlines \n// An array of news headlines \n String[] headlines  =  { \n  \" Processing downloads break downloading record. \",\n  \" New study shows computer programming lowers cholesterol. \",\n  } ;\n PFont f; // Global font variable \n float x;  // Horizontal location \n int index  =  0; \n void setup()  { \n  size(400,200); \n  f  =  createFont( \"Arial\",16,true);\n  // Initialize headline offscreen \n  x  =  width; \n } \n void draw()  { \n  background(255); \n  fill (0);\n  // Display headline at x location \n  textFont(f,16); \n  textAlign (LEFT ); \n  text(headlines[index],x,180); \n  // Decrement x \n  x  =  x – 3; \n  // If x is less than the negative width, \n  // then it is off the screen \n  float w  =  textWidth(headlines[index]); \n  if (x  <  -w)  { \n  \nx  =  width; \n   index  =  (index  +  1) % headlines.length; \n  } \n } \nX = 0\nX = \u000350\nSome text\nSome text\nwidth = 100 pixels\nstill on screen!\nX = \u0003100\nSome text\nall the way off screen!\n ﬁ g. 17.4  \n ﬁ g. 17.5  \nIf x is less than the negative width, then it is \ncompletely off the screen \nA speciﬁ c String from the array is \ndisplayed according to the value of the \n“index” variable.\ntextWidth() is used to calculate the width \nof the current String.\n“index“ is incremented when the current \nString has left the screen in order to \ndisplay a new String.\nMultiple Strings are \nstored in an array.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1058
  },
  {
    "chunk_full": "314\nLearning Processing\n ﬁ g. 17.6  \n In addition to  textAlign( ) and  textWidth( ), Processing also oﬀ ers the functions  textLeading( ), textMode( ) , \nand  textSize( ) for additional display functionality. Th ese functions are not necessary for the examples \ncovered in this chapter, but you can explore them on your own in the  Processing reference. \n \n Exercise 17-6: Create a stock ticker that loops over and over. As the last stock enters the \nwindow, the ﬁ rst stock appears immediately to its right. \n 17.5  Text Mosaic \n Combining what we learned in Chapters 15 and 16 about the pixel array, we can use the pixels of an \nimage to create a mosaic of characters. Th is is an extension of the video mirror code in Chapter 16. (Note \nthat in Example 17-4, new text-related code is in bold.) See  Figure 17.6 . \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1059
  },
  {
    "chunk_full": "Text\n 315\n Example 17-4: Text mirror \n import processing.video.*; \n // Size of each cell in the grid, ratio of window size to video size \n int videoScale  =  14; \n // Number of columns and rows in our system \n int cols, rows; \n // Variable to hold onto capture object \n capture video; \n// A String and Font \n String chars  =  \" helloworld\" ; \n PFont f; \n void setup()  { \n  size(640,480); \n  //set up columns and rows \n  cols  =  width/videoScale; \n  rows  =  height/videoScale; \n  video  =  new Capture(this,cols,rows,15); \n  // Load the font \n  f  =  loadFont (\" Courier-Bold-20.vlw \"); \n } \n void draw()  { \n  background(0); \n  // Read image from the camera \n  if (video.available())  { \n \n video.read(); \n  } \n  video.loadPixels(); \n  // Use a variable to count through chars in String \nint charcount  =  0; \n  // Begin loop for rows \n for (int j  =  0; j  <  rows; j + + ) { \n  // Begin loop for columns \n  for (int i  =  0; i  <  cols; i + + ) { \n  \n // Where are we, pixel-wise? \n  \n int x  =  i*videoScale; \n  \n int y  =  j*videoScale; \n  \n \n  \n color c  =  video.pixels[i + j*video.width]; \n  \n \n \n  \n // Instead of a rectangle \n  \n textFont(f); \n  \n fill(c); \n  \n text(chars.charAt(charcount),x,y); \n  \n // Go on to the next character \n  \n charcount  =  (charcount  +  1) % chars.length(); \n  } \n  } \n } \nThe source text used in the mosaic \npattern. A longer String might \nproduce more interesting results.\nUsing a “ﬁ xed-width” font. In most fonts, \nindividual characters have different \nwidths. In a ﬁ xed-width font, all characters \nhave the same width. This is useful here \nsince we intend to display the letters one \nat a time spaced out evenly. See Section \n17.7 for how to display text character by \ncharacter with a nonﬁ xed width font.\nOne character from the \nsource text is displayed \ncolored accordingly to the \npixel location. A counter \nvariable—“charcount”—is\nused to walk through \nthe source String one \ncharacter at a time.\n// Looking up the appropriate color in the pixel array \n// Displaying an individual character from the String \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1060
  },
  {
    "chunk_full": "316\nLearning Processing\n Exercise 17-7: Create a video text mosaic where each letter is colored white, but the size of \neach letter is determined by a pixel’s brightness. Th e brighter the pixel, the bigger it is. Here is \na little bit of code from the inside of the pixel loop (with some blank spots) to get you started. \n 17.6  Rotating Text \n Translation and rotation (as seen in Chapter 14) can also be applied to text. For example, to rotate text \naround its center, translate to an origin point and use  textAlign(CENTER) before displaying the text. \n Example 17-5: Rotating text \n PFont f; \n String message  =  \" this text is spinning \" ; \n float theta; \n void setup()  { \n  size(200,200); \n  f  =  createFont( \" Arial \" ,20,true); \n } \n void draw()  { \n  background(255); \n  fill (0); \n float b =  brightness(video.pixels[i + j*video.width]); \n float fontSize =  _____ * (_____ / _____); \n textSize(fontSize); \n \n ﬁ g. 17.7  \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1061
  },
  {
    "chunk_full": "Text\n 317\n  textFont(f); \n  // Set the font \n  translate(width/2,height/2);\n // Translate to the center \n  rotate(theta); \n  // Rotate by theta \n  textAlign( CENTER) ; \n  text(message,0,0); \n  theta  + = 0.05; \n  // Increase rotation \n } \n \n String info  =  \" A long long time ago\\nIn a galaxy far far away \";\n PFont f; \n float y  = 0;\n void setup()  { \n  size(400,200,P3D); \n  f  =  createFont( \"Arial\",20*4,true);\n } \n void draw()  { \n  background(255); \n  fill(0); \n  translate(__________,__________); \n  __________ (__________); \n  textFont(f); \n  textAlign(CENTER); \n  text(info, __________,__________); \n  y--; \n } \n Exercise 17-8: Display text that is centered and rotated to appear ﬂ at. Have the text scroll \noﬀ  into the distance. \nThe text is center aligned and \ndisplayed at (0,0) after translating \nand rotating. See Chapter 14 or a \nreview of translation and rotation.\n“ \\” means “new line.” In Java, \ninvisible characters can be \nincorporated into a String with an \n“escape sequence”—a backward \nslash “\\” followed by a character. \nHere are a few more.\n\\n—new line\n\\r—carriage return\n\\t—tab\n\\’—single quote\n\\”—double quote\n\\\\—backward slash\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1062
  },
  {
    "chunk_full": "318\nLearning Processing\n 17.7  Display text character by character. \n In certain graphics applications, displaying text with each character rendered individually is required. For \nexample, if each character needs to move independently, then simply saying  text( “ a bunch of letters ” ,0,0) \nwill not do. \n Th e solution is to loop through a  String , displaying each character one at a time. \n Let’s start by looking at an example that displays the text all at once. See  Figure 17.8 . \n PFont f; \n String message  =  \" Each character is not \n \nwritten individually.\" ; \n void setup()  { \n   size(400,200); \n   f  =  createFont( \" Arial \" ,20,true); \n } \n void draw()  { \n   background(255); \n   fill(0); \n   textFont(f); \n   text(message,10,height/2); \n } \n We rewrite the code to display each character in a loop, using the  charAt( ) function. See  Figure 17.9 . \n int x  =  10; \n for (int i  =  0; i  <  message.length(); i + + )  { \n   text(message.charAt(i) ,x, height/2); \n   x  + = 10; \n } \n Calling the  text( ) function for each character will allow us more ﬂ exibility in future examples (for \ncoloring, sizing, and placing characters within one  String individually). Th is example has a pretty \nmajor ﬂ aw, however. Here, the  x location is increased by 10 pixels for each character. Although this \nis approximately correct, because each character is not exactly 10 pixels wide, the spacing is oﬀ . Th e \nproper spacing can be achieved using the  textWidth( ) function as demonstrated in the following code. \nNote how this example achieves the proper spacing even with each character being a random size! \nSee  Figure 17.10 . \n int x  =  10; \n for (int i  =  0; i  <  message.length(); i + + )  { \n   textSize(random(12,36)); \n   text(message.charAt(i) ,x, height/2); \n   x  + = textWidth(message.charAt(i)); \n } \nEach character is not written individually.\nﬁ g. 17.8\nﬁ g. 17.9 (Note how the spacing is incorrect.)\nﬁ g. 17.10 (Note how the spacing is correct even \nwith differently sized characters!)\nThe ﬁ rst character is at pixel 10.\nAll characters are \nspaced 10 pixels \napart.\nEach character is displayed \none at a time with the \ncharAt() function.\ntextWidth() spaces the characters out properly.\nDisplaying a block of text all at once using text().\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1063
  },
  {
    "chunk_full": "Text\n 319\n Exercise 17-9: Using  textWidth( ) , redo Example 17-4 (the text  “ mirror ” ) to use a non-\nﬁ xed-width  font with proper character spacing. Th e following image uses Arial. \n Th is  “ letter by letter ” methodology can also be applied to a sketch where characters from a  String move \nindependently of one another. Th e following example uses object-oriented design to make each character \nfrom the original  String a  Letter object, allowing it to both be displayed in its proper location as well as \nmove about the screen individually. \n Example 17-6: Text breaking up \n PFont f; \n String message  =  \" click mouse to shake it up \";\n // An array of Letter objects \n Letter[] letters; \n void setup()  { \n  size(260,200); \n  // Load the font \n  f  =  createFont( \"Arial\",20,true);\n  textFont(f); \n  // Create the array the same size as the String \n  letters  =  new Letter[message.length()]; \n  // Initialize Letters at the correct x location \n  int x  =  16; \n  for (int i  =  0; i  <  message.length(); i + + ) { \n   letters[i]  =  new Letter(x,100,message.charAt(i)); \n   x  + = textwidth(message.charAt(i)); \n  } \n } \n \n \nﬁ g. 17.11\nLetter objects are initialized with \ntheir location within the String\nas well as what character they \nshould display.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1064
  },
  {
    "chunk_full": "320\nLearning Processing\n void draw()  { \n  background(255); \n  for (int i  =  0; i  <  letters.length; i + + )  { \n   // Display all letters \n   letters[i].display(); \n   // If the mouse is pressed the letters shake \n   // If not, they return to their original location \n   if (mousePressed)  { \n   letters[i].shake(); \n   } else  { \n   letters[i].home(); \n   } \n  } \n } \n // A class to describe a single Letter \n class Letter  { \n  char letter; \n  // The object knows its original  \" home \" location \n  float homex,homey; \n  // As well as its current location \n  float x,y; \n  Letter (float x_, float y_, char letter_)  { \n   homex  =  x =  x_; \n   homey  =  y =  y_; \n   letter  =  letter_; \n  } \n  // Display the letter \n  void display()  { \n   fill(0); \n   textAlign(LEFT); \n   text(letter,x,y); \n  } \n  // Move the letter randomly \n  void shake()  { \n   x  + = random(-2,2); \n   y  + = random(-2,2); \n  } \n  // Return the letter home \n  void home()  { \n   x  =  homex; \n   y  =  homey; \n  } \n } \n Th e character by character method also allows us to display text along a curve. Before we move on to \nletters, let’s ﬁ rst look at how we would draw a series of boxes along a curve. Th is example makes heavy use \nof the trigonometric functions covered in Chapter 13 . \nAt any point, the current location can \nbe set back to the home location by \ncalling the home() function.\nThe object knows about its original \n“home” location within the String of \ntext, as well as its current (x,y) location \nshould it move around the screen.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1065
  },
  {
    "chunk_full": "Text\n 321\n Example 17-7: Boxes along a curve \n PFont f; \n // The radius of a circle \n float r  =  100; \n // The width and height of the boxes \n float w  =  40; \n float h  =  40; \n void setup()  { \n  size(320,320); \n  smooth(); \n } \n void draw()  { \n  background(255); \n  // Start in the center and draw the circle \n  translate(width /2, height /2);\n  noFill(); \n  stroke(0); \n  ellipse(0, 0, r*2, r*2); \n  // 10 boxes along the curve \n  int totalBoxes  =  10; \n  // We must keep track of our position along the curve \n  float arclength  =  0; \n  // For every box \n  for (int i  =  0; i  <  totalBoxes; i + + ) { \n   // Each box is centered so we move half the width \n   arclength  + = w/2; \n   // Angle in radians is the arclength divided by the radius \n   float theta  =  arclength /r;\n   pushMatrix(); \n   // Polar to cartesian coordinate conversion \n   translate(r*cos(theta) , r*sin(theta)); \n   // Rotate the box \n   rotate(theta); \n   // Display the box \n   fill(0 , 100); \n   rectMode(CENTER); \n   rect(0 , 0 , w,h); \n   popMatrix(); \n   // Move halfway again \n   arclength  + = w/2; \n  } \n } \n Even if you ﬁ nd the mathematics of this example to be diﬃ  cult,  Figure 17.12 should reveal the next step. \nWhat we need to do is replace each box with a character from a  String that ﬁ ts inside the box. And since \ncharacters do not all have the same width, instead of using a variable  “ w ” that stays constant, each box will \nhave a variable width along the curve according to the  textWidth( ) function. \nﬁ g. 17.12\nOur curve is a circle with radius r in \nthe center of the window.\nWe move along \nthe curve \naccording to the \nwidth of the box.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1066
  },
  {
    "chunk_full": "322\nLearning Processing\n Example 17-8: Characters along a curve \n // The message to be displayed \n String message  =  \" text along a curve \" ; \n PFont f; \n // The radius of a circle \n float r  =  100; \n void setup()  { \n  size(320,320); \n  f  =  createFont( \" Georgia \",40,true); \n  textFont(f); \n  textAlign(CENTER); \n  smooth(); \n } \n void draw()  { \n  background(255); \n  // Start in the center and draw the circle \n  translate(width / 2, height / 2); \n  noFill(); \n  stroke(0); \n  ellipse(0, 0, r*2, r*2); \n  // We must keep track of our position along the curve \n float arclength  =  0; \n  // For every box \n  for (int i  =  0; i  <  message.length(); i + + ) { \n   // The character and its width \n   char currentChar  =  message.charAt(i); \n   float w  =  textWidth(currentChar); \n   // Each box is centered so we move half the width \n   arclength  + = w/2; \n   // Angle in radians is the arclength divided by the radius \n // Starting on the left side of the circle by adding PI \n   float theta  =  PI  +  arclength / r; \n   pushMatrix(); \n   // Polar to cartesian coordinate conversion \n   translate(r*cos(theta), r*sin(theta)); \n   // Rotate the box \n   rotate(theta + PI/2); // rotation is offset by 90 degrees \n   // Display the character \n   fill(0); \n   text(currentChar,0,0); \n   popMatrix(); \n   // Move halfway again \n   arclength  + = w/2; \n  } \n } \nﬁ g. 17.13\nThe text must be centered!\nInstead of a constant width, we \ncheck the width of each character.\nPolar to Cartesian conversion \nallows us to ﬁ nd the point along \nthe curve. See Chapter 13 for a \nreview of this concept.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1067
  },
  {
    "chunk_full": "Text\n 323\n Exercise 17-10: Create a sketch that starts with characters randomly scattered (and rotated). \nHave them slowly move back toward their  “ home ” location. Use an object-oriented approach \nas seen in Example 17-6. 1 \n \n One way to solve this is to use interpolation. Interpolation refers to the process of \ncalculating values in between two given pieces of data. In this exercise, we want to know \nthe in-between  x locations (and  y locations) from the random starting point to the target \nlocation in the  String . One interpolation method is to simply take the average. Th ink of it \nas walking to a wall by always taking a step halfway. \n x  =  (x  +  targetX) /2; \n y  =  (y  +  targetY) /2; \n Another possibility is to simply go 10% of the way there. \n x  =  0.9*x  +  0.l*targetX; \n y  =  0.9*y  +  0.l*targetY; \n Processing ’s  lerp( ) function will do interpolation for you. Visit the reference page for more \ninformation:  http://processing.org/reference/lerp_.html. \n Consider making your sketch interactive. Can you push the letters around using the mouse? \n1Th e origins of this exercise can be traced back to John Maeda’s 1995 work:  Flying Letters .\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1068
  },
  {
    "chunk_full": "This page intentionally left blank\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1069
  },
  {
    "chunk_full": "Data Input\n 325\n 18  Data Input \n “ A million monkeys were given a million typewriters. It’s called the Internet. ” \n —Simon Munnery \n In this chapter: \n –  Manipulating Strings.\n –  Reading and writing text ﬁ les. \n –  HTTP requests, parsing HTML. \n –  XML, RSS feeds. \n –  The Yahoo search API. \n –  The applet sandbox. \n Th is chapter will move beyond displaying text and examine how to use  String objects as the basis for \nreading and writing data. We will start by learning more sophisticated methods for manipulating  Strings , \nsearching in them, chopping them up, and joining them together. Afterward, we will see how these skills \nallow us to use input from data sources, such as text ﬁ les, web pages, XML feeds, and third party APIs, \nand take a step into the world of data visualization. \n 18.1  Manipulating Strings \n In Chapter 17, we touched on a few of the basic functions available in the Java  String class, such as \ncharAt( ) ,  toUpperCase( ) ,  equals( ) , and  length( ) . Th ese functions are documented on the  Processing \nreference page for  Strings. Nevertheless, in order to perform some more advanced data parsing \ntechniques, we will need to explore some additional  String manipulation functions documented in the \nJava API (more about the Java API to come in Chapter 23). \nhttp://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html \n Let’s take a closer look at the following two  String functions:  indexOf( ) and  substring( ) . \nindexOf( ) locates a sequence of characters within a  String . It takes one argument, a search  String , and \nreturns a numeric value that corresponds to the ﬁ rst occurrence of the search  String inside of the  String \nbeing searched. \n String search  =  \" def\"; \n String toBeSearched  =  \" abcdefghi\"; \n int index  =  toBeSearched.indexOf(search); \nStrings are just like arrays, in that the ﬁ rst character is index number zero and the last character is the \nlength of the  String minus one. \nThe value of index \nin this example is 3.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1070
  },
  {
    "chunk_full": "326\nLearning Processing\n Exercise 18-1: Predict the result of the code below. \n String sentence  =  \" The quick brown fox jumps over the lazy dog. \" ; \n println(sentence.indexOf( \" quick \" ));  ________ \n println(sentence.indexOf( \" fo \" ));  ________ \n println(sentence.indexOf( \" The \" ));  ________ \n println(sentence.indexOf( \" blah blah \" ));  ________ \n Exercise 18-2: Fill in the blanks to get the substring  “ fox jumps over the lazy dog ” (without \nthe period). \n String sentence  =  \" The quick brown fox jumps over the lazy dog. \" ; \n int foxIndex  =  sentence.indexOf(________); \n int periodIndex  =  sentence.indexOf( \" . \" ); \n String sub  =  ________ ·________(________,________); \n 18.2  Splitting and Joining \n In Chapter 17, we saw how  Strings can be joined together (referred to as  “ concatenation ” ) using the  “ \u0002 ” \noperator. Let’s review with an example that uses concatenation to get user input from a keyboard  . \n If you are stuck on the last line of Exercise 18-1, it is because there is no way for you to know the answer \nwithout consulting the Java reference (or making an educated guess). If the search  String cannot be found, \nindexOf( ) returns  \u0003 1.Th is is a good choice because  “  \u0003 1 ” is not a legitimate index value in the  String \nitself, and therefore can indicate  “ not found. ” Th ere are no  negative indices in a  String of characters or in an \narray. \n After ﬁ nding a search phrase within a  String , we might want to separate out part of the  String , saving \nit in a diﬀ erent variable. A part of a  String is known as s ubstring and  substrings are made with the \nsubstring( ) function which takes two arguments, a start index and an end index.  substring( ) returns the \nsubstring in between the two indices. \n String alphabet  =  \" abcdefghi \" ; \n String sub  =  alphabet.substring(3,6); \n Note that the  substring begins at the speciﬁ ed  start index (the ﬁ rst argument) and extends to the character \nat  end index (the second argument)  minus one . I know. I know. Wouldn’t it have been easier to just take the \n substring from the start index all the way to the end index? While this might initially seem true, it is actually \nquite convenient to stop at end index minus one. For example, if you ever want to make a substring that \nextends to the end of a  String , you can simply go all the way to  thestring.length( ) . In addition, with end index \nminus one marking the end, the length of the  substring is easily calculated as  end index minus begin index . \nThe String sub is now “def”.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1071
  },
  {
    "chunk_full": "Data Input\n 327\n Example 18-1: User input \n PFont f; \n // Variable to store text currently being typed\nString typing  =  \" \" ;\n // Variable to store saved text when return is hit\nString saved  =  \" \" ;\n void setup()  { \n  size(300,200); \n  f  =  createFont( \"Arial\",16,true); \n } \n void draw()  { \n  background(255); \n  int indent  =  25; \n  // Set the font and fill for text \n  textFont(f); \n  fill(0); \n  // Display everything \n  text(\"Click in this applet and type. \\nHit return to save what you typed. \",indent,40); \n  text(typing,indent,90); \n  text(saved,indent,130); \n } \n void keyPressed()  { \n  // If the return key is pressed, save the String and clear it \n  if (key  = =   '\\n') { \n   saved  =  typing; \n   typing  =  \" \" ;\n  // Otherwise, concatenate the String \n  } else { \n   typing  =  typing  +  key; \n  } \n } \n Exercise 18-3: Create a sketch that chats with the user. For example, if a user enters  “ cats ” the \nsketch might reply  “ How do cats make you feel? ” \nProcessing has two additional functions that make joining  Strings (or the reverse, splitting them up) easy. \nIn sketches that involve parsing data from a ﬁ le or the web, we will often get that data in the form of an \narray of  Strings or as one long  String . Depending on what we want to accomplish, it is useful to know \nhow to switch between these two modes of storage. Th is is where these two new functions,  split( ) and \njoin( ) , will come in handy. \n “ one long string or array of strings ”  ← →  { “ one ” ,  “ long ” ,  “ string ” ,  “ or ” , “ array ” ,  “ of  ” ,  “ strings ” } \n Let’s take a look at the  split( ) function.  split( ) separates a longer  String into an array of  Strings , based on \na split character known as the  delimiter. It takes two arguments, the  String to be split and the delimiter. \n(Th e delimiter can be a single character or a  String .) \n ﬁ g. 18.1  \nFor keyboard input, we use two \nvariables. One will store the text as \nit is being typed. Another will keep \na copy of the typed text once the \nEnter key is pressed.\nA String can be cleared by setting it equal to ““.\nEach character typed by the user is added to the \nend of the String variable.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1072
  },
  {
    "chunk_full": "328\nLearning Processing\n // Splitting a String based on spaces \n String spaceswords  =  \" The quick brown fox jumps over the lazy dog. \" ; \n String[] list  =  split(spaceswords,  \"  \" ); \n for (int i  =  0; i  <  list.length; i + + ) { \n println(list[i]  +  \"  \"  +  i); \n } \n Here is an example using a comma as the delimiter. \n // Splitting a String based on commas \n String commaswords  =  \" The,quick,brown,fox,jumps,over,the,lazy,dog. \" ; \n String[] list  =  split(commaswords,  ‘ , ’ ); \n for (int i  =  0; i  <  list.length; i + + ) { \n println(list[i]  + \"  \"  +  i); \n } \n If you want to use more than one delimiter to split up a text, you must use the  Processing function \nsplitTokens( ). splitTokens( ) works identically is  split( ) with one exception: any character that appears in \nthe  String qualiﬁ es as a delimiter. \n // Splitting a String based on multiple delimiters \n String stuff  =  \" hats  & apples, cars  +  \n\" ; \n String[] list  =  splitTokens(stuff,  \"  & , + . \" ); \n for (int i  =  0; i  <  list.length; i + + ) { \n println(list[i]  +  \"  \"  +  i); \n } \n If we are splitting numbers in a  String, the resulting array can be converted into an integer array with \nProcessing ’s  int( ) function. \n // Calculate sum of a list of numbers in a String \n String numbers  =  \" 8,67,5,309 \" ; \n // Converting the String array to an int array \n int[] list  =  int(split(numbers,  ' , ' )); \n int sum  =  0; \n for (int i  =  0; i  <  list.length; i + + ) { \n sum  =  sum  +  list[i]; \n } \n println(sum); \n Exercise 18-4: Fill in what the above code will print in the Processing message window:  \n hats_______________ \n __________________ \n __________________ \n __________________ \n __________________ \nThis period is not set as a delimeter and \ntherefore will be included in the last \nString in the array: “dog.”\nThe period is set as a delimiter and therefore will \nnot be included in the last String in the array: “dog”.\nNumbers in a String are not numbers \nand cannot be used in mathematical \noperations unless we convert them ﬁ rst.\nphones % elephants dog. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1073
  },
  {
    "chunk_full": "Data Input\n 329\n Th e reverse  of  split( ) is  join( ). join( ) takes an array  of Strings and joins them together into one long String. \n Th e  join( ) function also takes two arguments, the array to be joined and a  separator . Th e separator can \neither be a single character or a  String of characters. \n Consider the following array: \n String[] lines  =  { \" It\", \"was\", \"a\", \"dark\",\n\" and\" ,  \"stormy\", \"night.\" } ; \n Using the  \u0002  operator along with a for loop, we can join a  String together as follows: \n // Manual Concatenation \n String onelongstring  =  \" \" ; \n for (int i  =  0; i  <  lines.length; i + + ) { \n onelongstring  =  onelongstring  +  lines[i]  +  \" \"; \n } \n Th e  join( ) function, however, allows us to bypass this process, achieving the same result in only one line \nof code. \n // Using Processing’s join() \n String onelongstring  =  join(lines, \" \"); \n 18.3  Reading and Writing Text Files \n Data can come from many diﬀ erent places: web sites, news feeds, databases, and so on. When developing \nan application that involves a data source, such as a data visualization, it is important to separate out the \nlogic for what the program will ultimately do with the data from the retrieval of the data itself. \n In fact, while working out the visuals, it is especially useful to develop with  “ dummy ” or  “ fake ” data. In \nkeeping with our  one-step-at-a-time mantra, once the meat of the program is completed with dummy \ndata, you can then focus solely on how to retrieve the actual data from the real source. \n Exercise 18-5: Split the following String into an array of ﬂ oating point numbers and \ncalculate the average. \n String floats  = \" 5023.23:52.3:10.4:5.9, 901.3---2.3 \";\n float[] numbers  =  ________(________(________, \"________\"));\n float total  = 0;\n for (int i  =  0; i  <  numbers.length; i + + ) { \n  ________ += ________; \n } \n float avg  =  ____________________; \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1074
  },
  {
    "chunk_full": "330\nLearning Processing\n We are going to follow this model in this section, working with the simplest means of data retrieval: \nreading from a text ﬁ le. Text ﬁ les can be used as a very simple database (we could store settings for a \nprogram, a list of high scores, numbers for a graph, etc.) or to simulate a more complex data source. \n In order to create a text ﬁ le, you can use any simple text editor. Windows Notepad or Mac OS X \nTextEdit will do, just make sure you format the ﬁ le as  “ plain text. ” It is also advisable to name the text \nﬁ les with the  “ .txt ” extension, just to avoid any confusion. And just as with image ﬁ les in Chapter 15, \nthese text ﬁ les should be placed in the sketch’s  “ data ” directory in order for them to be recognized by the \nProcessing sketch. \n Once the text ﬁ le is in place,  Processing ’s  loadStrings( ) function is used to read the content of the ﬁ le into \na  String array. Th e individual lines of text in the ﬁ le (see Figure 18.2) each become an individual element \nin the array. \n String[] lines  =  loadStrings(\" file.txt \" ); \n println( \" there are  \"  +  lines.length  +  \" lines \"  \n for (int i = 0; i  <  lines.length; i + + ) { \n println(lines[i]); \n } \n To run the code, create a text ﬁ le called  “ ﬁ le.txt ” , type a bunch of lines in that ﬁ le, and place it in your \nsketch’s data directory. \n Exercise 18-6: Rewrite Example 17-3 so that it loads the headlines from a text ﬁ le. \n Text from a data ﬁ le can be used to generate a simple visualization. In Example 18-2, loads data ﬁ le \nshown in  Figure 18.3 . Th e results of visualizing this data are shown in  Figure 18.4 . \n ﬁ g. 18.3  Contents of “Data.txt”\n ﬁ g 18.2  \nThis code will print all the lines from the \nsource text ﬁ le. Shown in Figure 18.2.\n);\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1075
  },
  {
    "chunk_full": "Data Input\n 331\n Example 18-2: Graphing comma separated numbers from a text ﬁ le \n int[] data; \n void setup()  { \n  size(200,200); \n  // Load text file as a String \n  String[] stuff  =  loadStrings( \"data.txt\");\n  // Convert string into an array of integers \n  // using  ',' as a delimiter \n  data  =  int(split(stuff[0], ','));\n } \n void draw()  { \n  background(255); \n  stroke(0); \n  for (int i  =  0; i  <  data.length; i + + ) { \n   fill(data[i]); \n   rect(i*20,0,20,data[i]); \n  } \n  noLoop(); \n } \n We can also use the contents of a text ﬁ le to initialize objects by passing the data from the text ﬁ le into \nan object constructor. In Example 18-3, the text ﬁ le has 10 lines, each line representing one instance of an \nobject with the values for that object’s variables separated by commas. See  Figure 18.5 . \n Example 18-3: Creating objects from a text ﬁ le \n Bubble[] bubbles; \n void setup()  { \n  size(200,200); \n  smooth(); \n  // Load text file as an array of String \n  String[] data  =  loadStrings( \"data.txt\");\n  bubbles  =  new Bubble[data.length]; \n  for (int i  =  0; i  <  bubbles.length; i + + ) { \n   float[] values  =  float(split(data[i], \",\"));\n   bubbles[i]  =  new Bubble(values[0],values[1],values[2]); \n  } \n } \n void draw()  { \n  background(100); \n  // Display and move all bubbles \n  for (int i  =  0; i  <  bubbles.length; i + + ) { \n   bubbles[i].display(); \n   bubbles[i].drift(); \n  } \n } \n // A Class to describe a  \"Bubble\" \n class Bubble  { \n  float x,y; \n  float diameter; \n ﬁ g. 18.4  \nThe text from the ﬁ le is loaded into \nan array. This array has one element \nbecause the ﬁ le only has one line. That \nelement is then split into an array of ints.\nThe array of ints is used to set the \ncolor and height of each rectangle.\nThe size of the array of Bubble \nobjects is determined by the total \nnumber of lines in the text ﬁ le.\nEach line is split into an array of \nﬂ oating point numbers.\nThe values in the array are passed \ninto the Bubble class constructor.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1076
  },
  {
    "chunk_full": "332\nLearning Processing\n  float speed; \n  float r,g; \n // The constructor initializes color and size \n // Location is filled randomly \n Bubble(float r_, float g_, float diameter_)  { \n  x  =  random(width); \n  y  =  height; \n  r  =  r_; \n  g  =  g_; \n  diameter  =  diameter_; \n } \n // Display the Bubble \n void display()  { \n  stroke(255); \n  fill(r,g,255,150); \n  ellipse(x,y,diameter,diameter); \n } \n // Move the bubble \n void drift()  { \n  y  + = random(–3,–0.1); \n  x  + = random(–1,1); \n  if (y  <  -diameter*2)  { \n    y  =  height  +  diameter*2; \n   } \n  } \n } \n Now that we are comfortable with the idea of loading information from a text ﬁ le to initialize  Processing \nsketches, we are ready to ask the following question: What if we want to save information so that it can \nbe loaded the next time a program is run? For example, let’s say we want to revise Example 18-3 so that \nthe bubbles change on a mouse rollover. (We have worked on rollovers with a rectangle before in Exercise \n5-5, and Example 9-11 but this rollover example will use a circle.) See  Figure 18.6 . \ndist\nr\nr\ndist\ndist > r\nNo Rollover\ndist < r\nRollover\n ﬁ g. 18.6  \n ﬁ g. 18.5  \n boolean rollover(int mx, int my)  { \n if (dist(mx,my,x,y)  <  diameter/2)  { \n return true; \n }   else  { \n return false; \n } \n } \nThe rollover() function in the Bubble \nclass returns a boolean value (true \nor false) depending on whether the \narguments (mx,my) are inside the circle.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1077
  },
  {
    "chunk_full": "Data Input\n 333\n Th e  rollover( ) function checks to see if the distance between a given point ( mx , my ) and the bubble’s \nlocation ( x , y ) is less than the radius of the circle; the radius is deﬁ ned as the diameter divided by two (see \n Figure 18.6 ). If this is true, then that point ( mx , my ) must be inside the circle. Calling this function using \nthe mouse location as the arguments allows us to test whether the mouse is, in fact, rolling over any of the \nbubbles. \n for (int i  =  0; i  <  bubbles.length; i + + ) { \n bubbles[i].display(); \n bubbles[i].drift(); \nif (bubbles[i].rollover(mouseX,mouseY)) { \nbubbles[i].change(); \n} \n } \n Once we implement the  change( ) function to adjust the Bubble’s variables, we can save the new \ninformation in a text ﬁ le with  Processing ’s  saveStrings( ) function.  saveStrings( ) is essentially the opposite \nof  loadStrings( ) , receiving a ﬁ lename and a  String array and saving that array to the ﬁ le.  \n String[] stuff  =  { \" Each String \", \"will be saved \", \"on a \", \"separate line \" } ; \n saveStrings( \"data.txt\", stuff); \n ﬁ g. 18.7  \nsaveStrings( ) , however, does not store the text ﬁ le in the data folder, but rather places it in the local \nsketch directory. If we want the ﬁ le to be written to the data directory, we must specify the path. Also, if \nthe ﬁ le already exists, it will be overwritten. \n Knowing this, we can concoct a  saveData( ) function for the Bubbles sketch that rewrites  “ data.txt ” with \nthe properties from the objects in their current state. In this example, we will save the new data whenever \nthe mouse is pressed. \n void saveData()  { \n String[] data  =  new String[bubbles.length]; \n for (int i  =  0; i  <  bubbles.length; i + + ) { \n data[i]  =  bubbles[i].r  +  \" ,\"  +  bubbles[i].g  +  \" ,\"  +  bubbles[i].diameter; \n } \n saveStrings( \"data/data.txt\",data); \n } \n void mousePressed()  { \n saveData(); \n } \n Since the original data ﬁ le is overwritten, whenever you run the sketch again, the new values are loaded. \nHere is the entire example for reference. Figure 18-18 shows the new data ﬁ le after saveStrings( ): \nWe ﬁ rst create an array of Strings\nwith a size equal to the total number \nof Bubble objects.\nEach element of the String array is \nmade by concatenating the values \nof each Bubble object’s variables.\nThis code will create the \ntext ﬁ le in Figure 18.7.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1078
  },
  {
    "chunk_full": "334\nLearning Processing\n Example 18-4: Loading and saving data to text ﬁ le \n // An array of Bubble objects \n Bubble[] bubbles; \n void setup()  { \n  size(200,200); \n  smooth(); \n  // Load text file as a string \n  String[] data  =  loadStrings(\" data.txt \" ); \n  // Make as many objects as lines in the text file \n  bubbles  =  new Bubble[data.length]; \n  // Convert values to floats and pass into Bubble constructor \n  for (int i  =  0; i  <  bubbles.length; i + + )  { \n   float[] values  =  float(split(data[i], \" , \" )); \n   bubbles[i]  =  new Bubble(values[0],values[1],values[2]); \n  } \n } \n void draw()  { \n  background(255); \n  // Display and move all bubbles \n  for (int i  =  0; i  <  bubbles.length; i + +) { \n   bubbles[i].display(); \n   bubbles[i].drift(); \n   // Change bubbles if mouse rolls over \n   if (bubbles[i].rollover(mouseX,mouseY))  { \n    bubbles[i].change(); \n   } \n  } \n } \n // Save new Bubble data when mouse is Pressed \n void mousePressed()  { \n  saveData(); \n} \n void saveData()  { \n  // For each Bubble make one String to be saved \n  String[] data  =  new String[bubbles.length]; \n  for (int i  =  0; i  <  bubbles.length; i + +) { \n   // Concatenate bubble variables \n   data[i]  =  bubbles[i].r  +  \" , \"  +  bubbles[i].g  +  \" , \"  +  bubbles[i].diameter; \n  } \n  // Save to File \n  saveStrings( \" data/data.txt \",data); \n } \n // A Bubble class \n class Bubble  { \n  float x,y; \n  float diameter; \n  float speed; \n  float r,g; \n  Bubble(float r_,float g_, float diameter_)  { \n   x  =  random(width); \n   y  =  height; \n   r  =  r_; \n   g  =  g_; \n ﬁ g 18.8  The new data ﬁ le after save strings ( )\nBubble data is loaded in setup().\nBubble data is saved in \nmousePressed().\nThe same ﬁ le is overwritten by \nadding the “data” folder path \nto saveStrings() as shown in \nFigure 18.8.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1079
  },
  {
    "chunk_full": "Data Input\n 335\n   diameter  =  diameter_; \n  } \n  // True or False if point is inside circle \n  boolean rollover(int mx, int my)  { \n   if (dist(mx,my,x,y)  <  diameter/2)  { \n  \n return true; \n   } else { \n  \n return false; \n \n } \n } \n // Change Bubble variables \n void change()  { \n  r  =  constrain(r  +  random(–10,10),0,255); \n  g  =  constrain(g  +  random(–10,10),0,255); \n  diameter  =  constrain(diameter  +  random(–2,4),4,72); \n } \n // Display Bubble \n void display()  { \n  stroke(0); \n  fill(r,g,255,150); \n  ellipse(x,y,diameter,diameter); \n } \n // Bubble drifts upwards \n void drift()  { \n  y  + = random(–3,–0.1); \n  x  + = random(–1,1); \n  if (y  <  -diameter*2)  { \n   y  =  height  +  diameter*2; \n  } \n } \n } \n 18.4  Text Parsing \n Now that we are comfortable with how  loadStrings( ) works for text ﬁ les stored locally, we can start to \nexamine what we might do with textual data we retrieve from other sources such as a URL. \n String[] lines  =  loadStrings( \" http://www.yahoo.com \" ); \n Exercise 18-7: Create a sketch that visualizes the following data. Feel free to add to and \nchange the text. \n \n \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1080
  },
  {
    "chunk_full": "336\nLearning Processing\n When you send a URL path into  loadStrings( ) , you get back the raw HTML ( “ Hypertext Markup \nLanguage ” ) source of the requested web page. It is the same stuﬀ  that appears upon selecting  “ View \nSource ” from a browser’s menu options. You do not need to be an HTML expert to follow this section, \nbut if you are not familiar at all with HTML, you might read  http://en.wikipedia.org/wiki/HTML . \n Unlike with the comma-delimited data from a text ﬁ le that was specially formatted for use in a  Processing \nsketch, it is not practical to have the resulting raw HTML stored in an array of  Strings (each element \nrepresenting one line from the source). Converting the array into one long String can make things a bit \nsimpler. As we saw earlier in the chapter, this can be achieved using  join( ) . \n String onelongstring  =  join(lines, \"  \" ); \n When pulling raw HTML from a web page, it is likely you do not want all of the source, but just a small \npiece of it. Perhaps you are looking for weather information, a stock quote, or a news headline. We can \ntake advantage of the  String manipulation functions we learned— indexOf( ) ,  substring( ) , and  length( ) —\n to ﬁ nd pieces of data within a large block of text. We saw an early example of this in Exercise 18-2 . Take, \nfor example, the following String: \n String stuff  =  \" Number of apples:62. Boy, do I like apples or what! \" ; \n Let’s say we want to pull out the number of apples from the above text. Our algorithm would be as \nfollows: \n1. \n Find the  end of the substring  “ apples: ”. Call it start. \n2. \n Find the  ﬁ rst period after  “ apples: ” . Call it end. \n3. \n Make a  substring of the characters between start and end. \n4. \n Convert the  String to a number (if we want to use it as such). \n In code, this look’s like: \n int start  \n= stuff.indexOf( \" apples: \" )  +  8;  // STEP 1 \n int end  \n= stuff.indexOf( \" . \" ,start);  \n // STEP 2 \n String apples  = stuff.Substring(start,end);  \n// STEP 3 \n int apple_no \n = int(apples);  \n// STEP 4 \n Th e above code will do the trick, but we should be a bit more careful to make sure we do not run into \nany errors if we do not ﬁ nd the  substrings . We can add some error checking and generalize the code into a \nfunction: \n // A function that returns a substring between two substrings \n String giveMeTextBetween(String s, String startTag, String endTag)  { \n String found  =  \" \" ; \n // Find the index of the beginning tag \n int startIndex  =  s.indexOf(startTag); \n // If we don’t find anything \n if (startIndex  = = –1) return  \" \" ; \n // Move to the end of the beginning tag \n startIndex  + = startTag.length(); \nThe “end” of a String\ncan be found by \nsearching for the index\nof that String and \nadding the length to that \nindex (in this case 8).\nA function to return a String found \nbetween two Strings. If beginning \nor end “tag” is not found, the \nfunction returns an empty String.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1081
  },
  {
    "chunk_full": "Data Input\n 337\n // Find the index of the end tag \n int endIndex  =  s.indexOf(endTag, startIndex); \n //  If we don’t find the end tag, \n if (endIndex  = = –1) return \" \" ; \n // Return the text in between \n return s.substring(startIndex,endIndex); \n } \n With this technique, we are ready to connect to a web site from within  Processing and grab data to \nuse in our sketches. For example, we could read the HTML source from  http://www.nytimes.com and \nlook for today’s headlines, search  http://ﬁ nance.yahoo.com for stock quotes, count how many times the \nword  “ Flickr ” appears on your favorite blog, and so on. HTML, however, is an ugly, scary place with \ninconsistently formatted pages that are diﬃ  cult to reverse engineer and parse eﬀ ectively. Not to mention \nthe fact that companies change the source code of web pages rather often, so any example that I might \nmake while I am writing this paragraph might break by the time you read this paragrap. \n For grabbing data from the web, an XML (Extensible Markup Language) feed will prove to be more \nreliable and easier to parse. Unlike HTML (which is designed to make content viewable by a human’s \neyes) XML is designed to make content viewable by a computer and facilitate the sharing of data across \ndiﬀ erent systems. We will get into how XML works more in Section 18.17 . For now, let’s examine how we \nmight grab the weather for any given zip code from Yahoo’s XML weather feed. Information about all of \nYahoo’s XML feeds can be found here:  http://developer.yahoo.com/rss/ . Th e weather XML feed is here: \nhttp://xml.weather.yahoo.com/forecastrss?p \u0005 10025\n One way to grab the data from a weather feed is to use the  Processing XML library (which facilitates \nreading from an XML document). However, in order to demonstrate  String parsing on a lower level, \nas an exercise, we will use our  loadStrings( ) scraping techniques and search for bits of information \nembedded in the XML source manually. Admittedly, this is somewhat of a silly pursuit since XML is \ndesigned to be parsed without having to resort to this methodology. For comparison, we will look at this \nsample example using two diﬀ erent XML libraries in Sections 18.7 and 18.8. \n Looking in the XML source from the above URL, we can see that the temperature today (which happens \nto be August 1, 2007 at the time of this writing) is 88\u0002F— temp \u0005  “ 88 ” . \n  < yweather:condition text = \" Fair\" code = \" 34\" temp = \" 88\" date = \" Wed, 01 Aug 2007 \n3:51 pm EDT \"/ \u0006\n Th e temperature is variable but the XML format is not, and therefore we can deduce that the start tag for \nour search should be: \ntemp\u0005\"\nand the end tag: \n\"\n(i.e., the ﬁ rst quote after the start tag). \n Knowing the start and end tags, we can use  giveMeTextBetween( ) to pull out the temperature. \nIndexOf() can also take a second \nargument, an  integer. That second \nargument means: Find the ﬁ rst \noccurrence of the search String\nafter this speciﬁ ed index. We use \nit here to ensure that end index \nfollows start index.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1082
  },
  {
    "chunk_full": "338\nLearning Processing\n String url  =  \" http://xml.weather.yahoo.com/forecastrss?p = 10003 \" ; \n String[] lines  =  loadStrings(url); \n // Get rid of the array in order to search \n// the  whole page \n String xml  =  join(lines,  \"  \" ); \n // Searching for temperature \n String tag1  =  \" temp = \\ \" \" ; \n String tag2  =  \" \\ \" \" ; \n temp  =  int(giveMeTextBetween\n(xml,tag1,tag2)); \n println(temp); \n Example 18-5 retrieves the temperature from Yahoo’s weather XML feed and displays it onscreen. Th e \nexample also uses object-oriented programming, putting all of the  String parsing functionality into a \nWeatherGrabber class.  \n Example 18-5: Parsing Yahoo’s XML weather feed manually \n PFont f; \n String[] zips  =  { \" 10003 \", \" 21209 \", \" 90210 \" } ; \n int counter  =  0; \n // The WeatherGrabber object does the work for us! \n WeatherGrabber wg; \n void setup()  { \n  size(200,200); \n  // Make a WeatherGrabber object \n  wg  =  new WeatherGrabber(zips[counter]); \n  // Tell it to request the weather \n  wg.requestWeather(); \n  f  =  createFont( \" Georgia \" ,16,true); \n } \n void draw()  { \n  background(255); \n  textFont(f); \n  fill(0); \n  // Get the values to display \n  String weather  =  wg.getWeather(); \n  int temp  =  wg.getTemp(); \n  // Display all the stuff we want to display \n  text(zips[counter],10,160); \n  text(weather,10,90); \n  text(temp,10,40); \n  text(\" Click to change zip. \" ,10,180); \n  // Draw a little thermometer based on the temperature \n  stroke(0); \n  fill(175); \n  rect(10,50,temp*2,20); \n } \n ﬁ g. 18.9  \nA quote in Java marks the beginning or end of a String. So how \ndo we include an actual quote in a String?\nThe answer is via an “escape” sequence. (We encountered this \nin Exercise 17-8.) A quote can be included in a String using a \nbackward slash, followed by a quote. For example:\nString q = \"This String has a quote \\\"in it\";\nThe WeatherGrabber object is initialized with \na zip code. The XML data is loaded and parsed \nupon calling the requestWeather() function.\nThe weather and temperature information is \npulled from the WeatherGrabber object.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1083
  },
  {
    "chunk_full": "Data Input\n 339\n void mousePressed()  { \n  // Increment the counter and get the weather at the next zip code \n  counter  =  (counter  +  1) % zips.length; \n  wg.setZip(zips[counter]); \n  wg.requestWeather(); \n } \n // A WeatherGrabber class \n class WeatherGrabber  { \n  int temperature  =  0; \n  String weather  =  \" \" ;\n  String zip; \n  WeatherGrabber(String tempZip)  { \n   zip  =  tempZip; \n  } \n  // Set a new Zip code \n  void setZip(String tempZip)  { \n   zip  =  tempZip; \n  } \n  // Get the temperature \n  int getTemp()  { \n   return temperature; \n  } \n  // Get the weather \n  String getWeather()  { \n   return weather; \n  } \n  // Make the actual XML request \n  void requestWeather()  { \n   // Get all the HTML/XML source code into an array of  strings \n   // (each line is one element in the array) \n   String url  =  \" http://xml.weather.yahoo.com/forecastrss?p = \"  +  zip ; \n   String[] lines  =  loadStrings(url); \n   String xml  =  join(lines,  \" \" ); // Turn array into one long String \n   // Searching for weather condition \n   String lookfor  =  \"  < yweather:condition text = \\ \" \" ;\n   String end  = \" \\ \" \" ;\n   weather  =  giveMeTextBetween (xml,lookfor,end); \n   // Searching for temperature \n   lookfor  =  \" temp = \\ \" \" ;\n   temperature  =  int(giveMeTextBetween (xml,lookfor,end)); \n  } \n  // A function that returns a substring between two substrings \n  String giveMeTextBetween(String s, String before, String after)  { \n   String found  =  \" \" ;\n   int start  =  s.indexOf(before); // Find the index of the beginning tag\n   if (start  = =  – 1) return  \" \" ; // If we don’t find anything, send back a blank \n     \n \n   // String \n   start  + = before.length(); // Move to the end of the beginning tag \n   int end  =  s.indexOf(after,start); // Find the index of the end tag \n   if (end == –1) return \"\"; // If we don’t find the end tag, send back a blank String \n   return s.substring(start,end); // Return the text in between \n  } \n } \nThe data is requested again with a new zip \ncode every time the mouse is pressed.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1084
  },
  {
    "chunk_full": "340\nLearning Processing\n Exercise 18-8: Expand Example 18-5 to also search for the next day’s high and low temperature. \n Exercise 18-9: Take a look at Yahoo’s  “ Word of the Day ” XML feed available at this URL: \n http://xml.education.yahoo.com/rss/wotd/ . Use the manual parsing techniques to pull out the \nWord of the Day from the feed. \n 18.5  Text Analysis \n Loading text from a URL need not only be an exercise in parsing out small bits of information. It is \npossible with  Processing to analyze large amounts of text found on the web from news feeds, articles, and \nspeeches, to entire books. A nice source is  Project Gutenberg ( http://www.gutenberg.org/) —which makes \navailable thousands of public domain texts. Algorithms for analyzing text merits an entire book itself, but \nwe will look at one simple beginner example here. \n Example 18-6  retrieves the entire text of Shakespeare’s play  King Lear , and uses  split Tokens ( ) to make \nan array of all the words in the play. Th e sketch then displays the words one by one, along with a count of \nhow many times the word appears in the text.  \n Example 18-6: Analyzing King Lear \n PFont f; // A variable to hold onto a font \n String[] kinglear; // The array to hold all of the text \n int counter  =  0;  // Where are we in the text \n // We will use spaces and punctuation as delimiters \n String delimiters  =  \" ,.?!;: \" ; \n void setup()  { \n  size(200,200); \n  // Load the font \n  f  =  loadFont( \" Georgia-Bold-16.vlw \" ); \n  // Load King Lear into an array of strings \n  String url  =  \" http://www.gutenberg.org/dirs/etext97/1ws3310.txt \" ; \n  String[] rawtext  =  loadStrings(url); \n  // Join the big array together as one long string \n  String everything  =  join(rawtext, \"  \" ); \n  // Split the array into words using any delimiter \n  kinglear  =  splitTokens(everything,delimiters); \n  frameRate(5); \n } \n void draw()  { \n  background(255); \n  // Pick one word from King Lear \n  String theword  =  kinglear[counter]; \n  // Count how many times that word appears in King Lear \n  int total  =  0; \nAny punctuation is used as a delimiter.\nAll the lines in King Lear are \nﬁ rst joined as one big String \nand then split up into an array of \nindividual words. Note the use \nof splitTokens() since we are \nusing spaces and punctuation \nmarks all as delimiters.\nThis loop counts the \nnumber of occurrences \nof the current word being \ndisplayed.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1085
  },
  {
    "chunk_full": "Data Input\n 341\n  for (int i  =  0; i  <  kinglear.length; i + + ) { \n   if (theword.equals(kinglear[i]))  { \n    total + + ;\n   } \n  } \n  // Display the text and total times the word appears \n  textFont(f); \n  fill(0); \n  text(theword,10,90); \n  text(total,10,110); \n  stroke(0); \n  fill(175); \n  rect(10,50,total/4,20); \n  // Move onto the next word \n  counter  =  (counter  +  1) % kinglear.length; \n } \n ﬁ g. 18.10  \n Exercise 18-10: Count the number of times each letter of the alphabet appears in King Lear \nVisualize those counts. Here is one possibility (you should be more creative). Note this sketch \nwill require the use of the  charAt( ) function. \n 18.6  Asynchronous Requests \n As we have seen, the  loadStrings( ) function can be used for retrieving raw data from web pages. \nNonetheless, unless your sketch only needs to load the data once during  setup( ) , you may have a problem. \nFor example, consider a sketch that grabs the price of AAPL stock from an XML feed every 5  min.\nEach time  loadStrings( ) is called, the sketch will pause while waiting to receive the data. Any animation \nwill stutter. Th is is because  loadStrings( ) is a  “ blocking ” function, in other words, the sketch will sit and \nwait at that line of code until  loadStrings( ) completes its task. With a local text ﬁ le, this is extremely fast. \nNonetheless, a request for a web page (known as an  “ HTTP request ” ) is  asynchronous , meaning the web \nserver can take its time getting back to you with the data requested. Who knows how long  loadStrings( ) \nwill take? No one, you are at the mercy of the server! \n Th e simpleML library (available for download at this book’s web site:  http://www.learniningprocessing.\ncom/simpleML/ ) gets around this problem by executing these HTTP requests to web servers in parallel \nThe word “Lear” appears 226 \ntimes in the text of King Lear.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1086
  },
  {
    "chunk_full": "342\nLearning Processing\nwithout pausing your  Processing sketch, allowing the sketch to multitask and continue animating while \nthe data retrieval is in process. \n Th e library functions in a similar manner to the  Processing video library, which we became familiar with in \nChapter 16. To retrieve a web page, you must create an instance of an HTMLRequest object, passing in a \nreference to the the sketch itself ( this ) and the URL you want to request. \n HTMLRequest req  =  new HTMLRequest(this, \" http://www.yahoo.com \" ); \n Th e request will not begin, however, until you call makeRequest( ). \n req.makeRequest(); \n Finally, to receive the data, you must write a function called  netEvent( ) . Th is function will be invoked the \ninstant the request is ﬁ nished and data is available. \n Th is function is another example of a  callback function, the same as  captureEvent( ) (see Chapter 16) or \nmousePressed( ) . In this case, instead of an event being triggered when the user clicks the mouse or an \nimage from the camera is available, the event is triggered when the HTML request ﬁ nishes (or XML as \nwe will see in a moment). \n Th e HTML source of the web page is returned as a  String via the function  readRawSource( ) . \n void netEvent(HTMLRequest ml)  { \n String html  =  ml.readRawSource(); \n println(html); \n } \n Example 18-7 retrieves Yahoo’s homepage every ten seconds using the simpleML library. Th e \nvisualization here is arbitrary (lines are colored according to the characters in Yahoo’s HTML source); \nhowever, what is important is to notice how the animation never pauses while waiting for the data to \narrive . \n Example 18-7: Loading a URL with simpleML \n import simpleML.*; \n // A Request object, from the library \n HTMLRequest htmlRequest; \n Timer timer  =  new Timer(5000); \n String html  =  \" \" ;  // String to hold data from request \n int counter  =  0;   // Counter to animate rectangle across window \n int back  =  255;  // Background brightness \n void setup()  { \n  size(200,200); \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1087
  },
  {
    "chunk_full": "Data Input\n 343\n  // Create and make an asynchronous request \n  htmlRequest  =  new HTMLRequest(this, \" http://www.yahoo.com \" );\n  htmlRequest.makeRequest(); \n  timer.start(); \n  background(0); \n } \n void draw()  { \n  background(back); \n  // Every 5 seconds, make a new request \n  if (timer.isFinished())  { \n   htmlRequest.makeRequest(); \n   println( \"Making request! \");\n   timer.start(); \n  } \n  // Draw some lines with colors based on characters from data retrieved \n  for (int i  =  0; i  <  width; i + + ) { \n   if (i  < html.length()) { \n    int c  =  html.charAt(i); \n    stroke(c,150); \n    line(i,0,i,height); \n   } \n  } \n  // Animate rectangle and dim rectangle \n  fill(255); \n  noStroke(); \n  rect(counter,0,10,height); \n  counter  =  (counter  +  1) % width; \n  back  =  constrain(back – 1,0,255); \n } \n // When a request is finished \n void netEvent(HTMLRequest ml) { \n  html  =  ml.readRawSource();  // Read the raw data \n  back  =  255;  \n // Reset background \n  println( \"Request completed! \"); // Print message \n } \n // Timer Class from Chapter 10 \n class Timer  { \n  int savedTime; \n  boolean running  =  false; \n  int totalTime; \n  Timer(int tempTotalTime)  { \n   totalTime  =  tempTotalTime; \n  } \n  void start()  { \n   running  =  true; \n   savedTime  =  millis(); \n  } \n  boolean isFinished()  { \n   int passedTime  =  millis() – savedTime; \n   if (running  & & passedTime  >  totalTime)  { \n    running  =  false; \n ﬁ g. 18.11  \nAn HTML Request object to request \nthe source from a URL.\nA request is made every 5 s. The data is not \nreceived here, however, this is only the request.\nThe data is received in the netEvent() function \nwhich is automatically called whenever data \nis ready.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1088
  },
  {
    "chunk_full": "344\nLearning Processing\n    return true; \n   } else  { \n    return false; \n   } \n  } \n } \n 18.7  Beginner XML \n Th e examples in Section 18.4 demonstrated the process of manually searching through text for individual \npieces of data. Admittedly, manually parsing the raw XML data from  http://xml.weather.yahoo.com/\nforecastrss?p \u0005 10003 was not the most eﬃ  cient strategy. Yes, if you need information from an oddly \nformed HTML page, these manual techniques are required. However, because XML is designed to \nfacilitate the sharing of data across diﬀ erent systems, it can be parsed without manual searching, using an \nXML parsing library. \n XML organizes information in a tree structure. Let’s imagine a list of students. Each student has an id \nnumber, name, address, e-mail, and telephone number. Each student’s address has a city, state, and zip \ncode. An XML tree for this dataset might look like  Figure 18.12 . \nStudent\nStudent\nStudent\nStudent\nid\nname\nphone\ne-mail\naddress\nstreet\ncity\nstate\nzip\nStudents\n ﬁ g. 18.12  \n Th e XML source itself (with two students listed) is: \n  \u0007 ?xml version = \" 1.0 \" encoding = \" UTF-8 \" ? \u0006 \n  \u0007 students \u0006 \n \n   \u0007 student \u0006 \n \u0007 id \u0006 001 \u0007 /id \u0006 \n \u0007 name \u0006 Daniel Shiffman \u0007 /name \u0006 \n \u0007 phone \u0006 555-555-5555 \u0007 /phone \u0006 \n \u0007 email \u0006 daniel@shiffman.net \u0007 /email \u0006 \n \u0007 address \u0006 \n \u0007 street \u0006 123 Processing Way \u0007 /street \u0006 \n \u0007 city \u0006 Loops \u0007 /city \u0006 \n \u0007 state \u0006 New York \u0007 /state \u0006 \n \u0007 zip \u0006 01234 \u0007 /zip \u0006 \n \u0007 /address \u0006 \n \n\u0007 /student \u0006 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1089
  },
  {
    "chunk_full": "Data Input\n 345\n \u0007 student \u0006 \n \u0007 id \u0006 002 \u0007 /id \u0006 \n \u0007 name \u0006 Zoog \u0007 /name \u0006 \n \u0007 phone \u0006 555-555-5555 \u0007 /phone \u0006 \n \u0007 email \u0006 zoog@planetzoron.uni \u0007 /email \u0006 \n \u0007 address \u0006 \n \u0007 street \u0006 45.3 Nebula 5 \u0007 /street \u0006 \n \u0007 city \u0006 Boolean City \u0007 /city \u0006 \n \u0007 state \u0006 Booles \u0007 /state \u0006 \n \u0007 zip \u0006 12358 \u0007 /zip \u0006 \n \u0007 /address \u0006 \n \u0007 /student \u0006 \n \u0007 /students \u0006 \n Note the similarities to object-oriented programming. We could think of the XML tree in the following \nterms. Th e XML document represents an array of student objects. Each student object has multiple pieces \nof information, an id, a name, a phone number, an e-mail address, and a mailing address. Th e mailing \naddress is also an object that also has multiple pieces of data, such as street, city, state, and zip. \n \u0007 ?xml version = \"1.0\"? \u0006 \n \u0007 ________ \u0006 \n  \u0007 bubble \u0006 \n   \u0007 ________ \u0006 40  \n\u0007 /________ \u0006 \n   \u0007 ________ \u0006 100  \u0007 /________ \u0006 \n   \u0007 ________ \u0006 255  \u0007 /green \u0006 \n  \u0007________ \u0006 \n \u0007 /bubbles \u0006 \n Exercise 18-11: Revisit the  “ Bubble ” Example 18-3. Design an XML tree structure for \nBubble objects. Diagram the tree and write out the XML source. (Use the empty diagram \nand ﬁ ll in the blanks below.) \n Returning to the weather example, we can now make some sense of Yahoo’s XML data with the tree \nstructure terms of a tree. Here is the raw XML source. (Note I have edited it for simpliﬁ cation purposes.) \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1090
  },
  {
    "chunk_full": "346\nLearning Processing\n\u0007 ?xml version = \" 1.0 \" encoding = \" UTF-8 \" standalone = \" yes \" ? \u0006 \n\u0007 rss version = \" 2.0 \" xmlns:yweather = \" http://xml.weather.yahoo.com/ns/rss/1.0 \" \u0006 \n \n   \u0007 channel \u0006 \n\u0007 item \u0006 \n\u0007 title \u0006 Conditions for New York, NY at 3:51 pm EST \u0007 /title \u0006 \n\u0007 geo:lat \u0006 40.67 \u0007 /geo:lat \u0006 \n\u0007 geo:long \u0006 -73.94 \u0007 /geo:long \u0006 \n\u0007 link \u0006 http://xml.weather.yahoo.com/forecast/USNY0996_f.html \u0007 /link \u0006 \n\u0007 pubDate \u0006 Mon, 20 Feb 2006 3:51 pm EST \u0007 /pubDate \u0006 \n\u0007 yweather:condition text = \" Fair \" code = \" 34 \" temp = \" 35 \" date = \" Mon, 20 Feb 2006 \n  3:51 pm EST \" / \u0006 \n\u0007 yweather:forecast day = \" Mon \" date = \" 20 Feb 2006 \" low = \" 25 \" high = \" 37 \" \n  text = \" Clear \" code = \" 31 \" / \u0006 \n\u0007 /item \u0006 \n \n\u0007 /channel \u0006 \n\u0007 /rss \u0006 \n Th e data is mapped in the tree stucture shown in  Figure 18.13 . \nRSS\nChannel\nitem\ntitle\ngeo:lat\ngeo:long\nlink\npub Date\ny weather:\ncondition\ny weather:\nforecast\n ﬁ g. 18.13  \n You may be wondering what the top level  “ RSS ” is all about. Yahoo’s XML weather data is provided \nin RSS format. RSS stands for  “ Really Simple Syndication ” and is a standardized XML format for \nsyndicating web content (such as news articles, etc.). You can read more about RSS on wikipedia: \nhttp://en.wikipedia.org/wiki/RSS . \n Now that we have a handle on the tree structure, we should look at the speciﬁ cs inside that structure. \nWith the exception of the ﬁ rst line (which simply indicates that this page is XML formatted), this XML \ndocument contains a nested list of  elements , each with a start tag, that is,   \u0007 channel \u0006  , and an end tag, \nthat is,   \u0007 /channel \u0006  . Some of these elements have content between the tags: \n  \u0007 title \u0006 Conditions for New York, NY at 3:51 pm EST \u0007 /title \u0006  \nand some have attributes (formatted by  Attribute Name equals  Attribute Value in quotes ): \n  \u0007 yweather:forecast day  = \" Mon \" date = \" 20 Feb 2006 \" low = \" 25 \" high = \" 37 \" text = \" Clear \" \n  code = \" 31 \" / \u0006  \n Th ere are several XML Parsing libraries available for  Processing and we will explore two in this chapter. \nTh e ﬁ rst, designed for this book, is the simplest (but has the fewest features): the simpleML library. \nsimpleML can perform the following three tasks: \n •  Retrieve the text from one XML element as a  String . \n •  Retrieve the text from one attribute of an XML element as a  String . \n •  Retrieve the text from many XML elements (with the same tag) as an array of  Strings . \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1091
  },
  {
    "chunk_full": "Data Input\n 347\n Requests for XML data are made via an XMLRequest object. \n XMLRequest req  =  new XMLRequest(this, \" http://xml.weather.yahoo.\ncom/forecastrss?p = 10003 \" ); \n Again, the request will not begin until you call  makeRequest( ) . \n req.makeRequest(); \n Just as with the HTML request, to receive the data from the XML request, you must implement \nnetEvent( ) , this time with an  XMLRequest object as its argument. \n Th e function  getElementText( ) returns the content from a single XML element (the name of that \nelement must be passed into the function). For an attribute, use  getElementAttributeText( ) with the name \nof the element, followed by the name of the attribute. \n For example, with the following XML data: \n  \u0007 geo:lat \u0006 40.67 \u0007 /geo:lat \u0006 \n  \u0007 yweather:forecast day = \" Mon\" date = \" 20 Feb 2006 \" low = \" 25\" high = \" 37\"\n  text =\" Clear \" code =\" 31 \"/ \u0006 \n Th e code to grab data is: \n void netEvent(XMLRequest ml)  { \n // Getting the text of one Element \n String lat  =  ml.getElementText( \"geo:lat\"); \n // Getting the text of one Attribute from one Element \n String temperature  =  ml.getElementAttributeText( \"yweather:forecast\",\"high\"); \n println( \"Latitude is: \"  +  lat); \n println( \"The high temperature is: \n \n  \"  +  temperature); \n } \n Th e method  getElementArray( ) can also be called to retrieve \nXML elements that appear multiple times. It returns an array \nof  Strings , one  String for every element in the XML document. \nTh e following example grabs all of the headlines from Yahoo’s \nTop Stories XML Feed. \n Example 18-8: Loading XML with simpleML \n import simpleML.*; \n XMLRequest xmlRequest; \n void setup()  { \n  size(200,200); \nThe content of an XML element is \nretreived by passing in the element \nname (in this case “geo:lat”) to the \ngetElementText() function.\nThe content of an XML element’s \nattribute is retrieved by passing \nin the element name (in this case \n“yweather:forecast”) as well as the \nattribute name (in this case “high”) \nto the getElementAttrributeText() \nfunction.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1092
  },
  {
    "chunk_full": "348\nLearning Processing\n  // Creating and starting the request \n  xmlRequest  =  new XMLRequest(this, \" http://rss.news.yahoo.com/rss/topstories \" ); \n  xmlRequest.makeRequest(); \n } \n void draw()  { \n  noLoop();// Nothing to see here \n } \n // When the request is complete \n void netEvent(XMLRequest ml)  { \n  // Retrieving an array of all XML elements inside  \" \u0007 title* \u0006 \" tags \n  String[] headlines  =  ml.getElementArray( \" title \" ); \n  for (int i  =  0; i  \u0007  headlines.length; i + + )  { \n   println(headlines[i]); \n  } \n } \n Exercise 18-12: Visualize the Yahoo weather data using simpleML. Following is part of the \ncode to get you started. Th is is the XML in case you forgot:  < yweather:condition \ntext = “ Fair ” code = “ 34 ” temp = “ 35 ” date = “Mon, 20 Feb 2006 \n3:51 pm EST ” / \n import simpleML.*; \n // Variables for temperature and weather \n int temperature  = 0;\n String weather  =  \" \" ;\n void setup()  { \n // FILL THIS IN HOWEVER YOU LIKE! \n } \n void draw()  { \n  // FILL THIS IN HOWEVER YOU LIKE! \n } \n // Function that makes the weather request with a Zip Code \n void getWeather(String zip)  { \n  String url  =  \" http://xml.weather.yahoo.com/\nforecastrss?p = \" + zip ; \n  XMLRequest req  =  new XMLRequest(this,url); \n  req.makeRequest(); \n } \n void netEvent(XMLRequest ml)  { \n  // Get the speciﬁ c XML content we want \n  temperature  =  int(ml.__________( \" _________ \" , \" _________ \" ));\n  weather  =  ml.___________( \" __________ \" , \" __________ \" ); \n } \nAn array of XML elements can be retrieved \nusing getElementArray. This only works for \nelements with the same name that appear \nmultiple times in the XML document.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1093
  },
  {
    "chunk_full": "Data Input\n 349\n 18.8  Using the  Processing XML Library \n Th e functionality of the simpleML library, though easy to use, is quite limited. If you want to create your \nown XML documents, or parse multiple elements of a document with a custom algorithm, you are out of \nluck. For more sophisticated XML functionality, there are two options. Th e ﬁ rst, more advanced option is \nproXML ( http://www.texone.org/proxml/ ) created by Christian Riekoﬀ . While the learning curve is a bit \nsteeper, you have direct access to the XML tree structure and can read  and write XML documents. \n Th e second option, which we will explore in this chapter, is  Processing ’s built-in XML library. \n import processing.xml.*; \n Once the library is imported, the ﬁ rst step is to create an XMLElement object. Th is object will load the \ndata from XML documents (stored locally or on the web). Th e constructor requires two arguments,  “ this ” \nand the ﬁ lename or URL path for the XML document. \n String url  =  \" xmldocument.xml\"; \n XMLElement xml  =  new XMLElement(this,url); \n Unlike simpleML, this XML library pauses the sketch and waits for the document to load. For an \nasynchronous approach to XML parsing, you will need to use proXML. \n An XMLElement object represents one element of an XML tree. When a document is ﬁ rst loaded, that \nelement object is always the root element. simpleML did the work of traversing the tree and ﬁ nding the \nright information for us. With the  Processing XML library, we have to do this work ourselves. Although \nthis is more complex, we have more control over how we search and what we search for. \n Referring back to  Figure 18.13 , we can ﬁ nd the temperature via the following path: \n1.  Th e root element of the tree is  “ RSS. ” \n2.  “ RSS ” has a child element named  “ Channel. ” \n 3.  Th e 13th child of  “ Channel ” is  “ item. ” (Th e diagram is simpliﬁ ed to show only one child of channel.)\n4.  Th e sixth child of  “ item ” is  “ yweather:condition. ” \n5.  Th e temperature is stored in  “ yweather:condition ” as the attribute  “ temp. ” \n Th e children of an element are accessed with an index (starting at zero, same as an array) passed into the \ngetChild( ) function. Th e content of an element is retrieved with  getContent( ) and attributes are read as \neither numbers— getIntAttribute( ), getFloatAttribute( ) —or text— getStringAttribute( ) . \n // Accessing the ﬁrst child element of the root element \n XMLElement channel  =  xml.getChild(0); \n Following steps 1 through 5 outlined above through the XML tree, we have: \n XMLElement xml  =  new XMLElement(this, url); \n XMLElement channel  =  xml.getChild(0); \n XMLElement item  =  channel.getChild(12); \n XMLElement condition  =  item.getChild(5); \n temp  =  condition.getIntAttribute( \"temp\"); \nThe 13th child of an element is index #12.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1094
  },
  {
    "chunk_full": "350\nLearning Processing\n Other useful functions that can call XMLElement objects are: \n •  getChildCount( ) —returns the total number of children of an XMLElement. \n •  getChildren( ) —returns all of the children as an array of XMLElements. \n In Example 18-3 , we used a series of comma separated values in a text ﬁ le to store information related to \nBubble objects. An XML document can also be used in the same manner. Here is a possible solution to \nExercise 18-11, an XML tree of Bubble objects. (Note that this solution uses element attributes for red \nand green colors; this was not the format provided in Exercise 18-11 since we had not yet learned about \nattributes.) \n  \u0007 ?xml version = \" 1.0 \" ? \u0006 \n  \u0007 bubbles \u0006  \n\u0007 bubble \u0006 \n  \u0007 diameter \u0006 40 \u0007 /diameter \u0006 \n  \u0007 color red = \" 75 \" green = \" 255 \" / \u0006 \n\u0007 /bubble \u0006 \n\u0007 bubble \u0006 \n  \u0007 diameter \u0006 20 \u0007 /diameter \u0006 \n  \u0007 color red = \" 255 \" green = \" 75\" / \u0006 \n\u0007 /bubble \u0006 \n\u0007 bubble \u0006 \n  \u0007 diameter \u0006 80 \u0007 /diameter \u0006 \n  \u0007 color red = \" 100 \" green = \" 150 \" / \u0006 \n\u0007 /bubble \u0006 \n  \u0007 /bubbles \u0006 \n We can use  getChildren( ) to receive the array of  “ Bubble ” elements and make a Bubble object from each \none. Here is the example (which uses the identical Bubble class from earlier). Th e new elements are in bold.\n Example 18-9: Using  Processing’s XML library \n import processing.xml.*; \n // An array of Bubble objects \n Bubble[] bubbles; \n void setup()  { \n  size(200,200); \n  smooth(); \n  // Load an XML document \n  XMLElement xml  =  new XMLElement(this, \" bubbles.xml \" ); \n  // Get the total number of bubbles \n  int totalBubbles  =  xml.getChildCount(); \n  // Make an array the same size \n  bubbles  =  new Bubble[totalBubbles]; \n  // Get all the child elements \n  XMLElement[] children  =  xml.getChildren(); \n  for (int i  =  0; i  <  children.length; i + + )  { \n   // The diameter is child 0 \nThe root element is “bubbles”, which has \nthree children.\nEach child “bubble” has two children, \n“diameter” and “color.” The “color” element \nhas two attributes, “red” and “green”.\nGetting the total number of Bubble objects \nwith getChildCount().\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1095
  },
  {
    "chunk_full": "Data Input\n 351\n   XMLElement diameterElement  =  children[i].getChild(0); \n   int diameter  =  int(diameterElement.getContent()); \n   // Color is child 1 \n   XMLElement colorElement  =  children[i].getChild(1); \n   int r  =  colorElement.getIntAttribute( \"red\"); \n   int g  =  colorElement.getIntAttribute( \"green\"); \n   // Make a new Bubble object with values from XML document \n   bubbles[i]  =  new Bubble(r,g,diameter); \n  } \n } \n void draw()  { \n  background(100); \n  // Display and move all bubbles \n  for (int i  =  0; i  \u0007  bubbles.length; i + + ) { \n   bubbles[i].display(); \n   bubbles[i].drift(); \n  } \n } \n Exercise 18-13: Use the following XML document to initialize an array of objects. Design \nthe objects to use all of the values in each XML element. (Feel free to rewrite the XML \ndocument to include more or less data.) If you do not want to retype the XML, it is available \nat this book’s web site. \nThe diameter is the content of the \nﬁ rst element while red and green \nare attributes of the second.\n \u0007 ?xml version = \"1.0\"? \u0006 \n \u0007 blobs \u0006 \n  \u0007 blob \u0006 \n   \u0007 location x = \"99\" y = \" 192\"/ \u0006 \n   \u0007 speed x = \" \u0003 0.88238335 \" y = \" 2.2704291\"/ \u0006 \n   \u0007 size w = \"38\" h = \" 10\"/ \u0006 \n  \u0007 /blob \u0006 \n  \u0007 blob \u0006 \n   \u0007 location x = \"97\" y = \"14\" / \u0006 \n   \u0007 speed x = \" 2.8775783 \" y = \" 2.9483867 \"/ \u0006 \n   \u0007 size w = \"81\" h = \"43\" / \u0006 \n  \u0007 /blob \u0006 \n  \u0007 blob \u0006 \n   \u0007 location x = \" 159 \" y = \" 193 \" / \u0006 \n   \u0007 speed x = \" -1.2341062 \" y = \" 0.44016743 \" / \u0006 \n   \u0007 size w = \"19\" h = \"95\" / \u0006 \n  \u0007 /blob \u0006 \n  \u0007 blob \u0006 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1096
  },
  {
    "chunk_full": "352\nLearning Processing\n 18.9  The Yahoo API \n Loading HTML and XML documents is convenient for pulling information from the web, however, \nfor more sophisticated applications, many sites oﬀ er an API. An API (Application Programming \nInterface) is an interface through which one application can access the services of another. Th ere are \nmany APIs that can be used with  Processing and you might look through the  “ Data / Protocols ” \nsection of the  Processing libraries web page ( http:/processing.org/reference/libraries/index.html ) for some \nideas. \n In this section, we will look at an example that performs a web search, using the Yahoo API. \nAlthough you can access the Yahoo API directly, I have created a  Processing library that makes it a bit \nsimpler (as well as allowing the search to be performed asynchronously and not cause the sketch \nto pause). You will need to download both my  Processing library, as well as the Yahoo API ﬁ les (these \nare known as an SDK:  “ Software Development Kit ” ). Instructions for this can be found at the library \npage: \nhttp://www.learningprocessing.com/libraries/yahoo/ \n Once you have downloaded the ﬁ les, you must ﬁ rst get a Yahoo API key. In many cases, companies will \nrequire that you register and get a key before having access to their API. Th at way, they can track your \nusage and make sure you are not up to anything nefarious. It is a small price to pay for free programmatic \naccess to Yahoo’s features. You can register for the ID here: \nhttps://developer.yahoo.com/wsregapp/index.php \n Once you have the key, you are ready to go. Th e library works in a similar fashion to simpleML. You \nmake a YahooSearch object and call the  search( ) function. When the search is completed, it will arrive \nin an event callback:  searchEvent( ) . Th ere, you can ask for information about the search results, such as \nURLs, titles, or summaries (all available as String arrays). \n   \u0007 location x = \" 102 \" y = \"53\" / \u0006 \n   \u0007 speed x = \"0.8000488\" y = \" -2.2791147 \" / \u0006 \n   \u0007 size w = \"25\" h = \" 95 \" / \u0006 \n  \u0007 /blob \u0006 \n  \u0007 blob \u0006 \n   \u0007 location x = \"152 \" y = \" 181 \" / \u0006 \n   \u0007 speed x = \"1.9928784 \" y = \" -2.9540048 \"/ \u0006 \n   \u0007 size w = \"74\" h = \" 19 \" / \u0006 \n  \u0007 /blob\u0006 \n \u0007 /blobs \u0006  \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1097
  },
  {
    "chunk_full": "Data Input\n 353\n Example 18-10: A Yahoo search \n import pyahoo.*; \n YahooSearch yahoo; \n void setup()  { \n  size(400,400); \n  // Make a search object, pass in your key \n  yahoo  =  new YahooSearch(this, \"YOUR API KEY HERE \");\n } \n void mousePressed()  { \n  yahoo.search( \"processing.org\");\n } \n void draw()  { \n  noLoop(); \n } \n // When the search is complete \n void searchEvent(YahooSearch yahoo)  { \n  // Get Titles and URLs \n  String[] titles  =  yahoo.getTitles(); \n  String[] urls  =  yahoo.getUrls(); \n  for (int i  =  0; i  \u0007  titles.length; i + + ) { \n   println( \"___________\");\n   println(titles[i]); \n   println(urls[i]); \n  } \n } \n Th e library can be used to perform a simple visualization. Th e following example searches for ﬁ ve names \nand draws a circle for each one (with a size tied to the total number of results available).  \n Example 18-11: Yahoo search visualization \n import pyahoo.*; \n YahooSearch yahoo; \n PFont f; \n // The names to search, an array of  \"Bubble\" objects \n String[] names  =  { \" Aliki\",\"Cleopatra\",\"Penelope\",\"Daniel\",\"Peter\" } ;\n Bubble[] bubbles  =  new Bubble[names.length]; \n int searchCount  =  0; \n void setup()  { \n  size(500,300); \n  yahoo  =  new YahooSearch(this, \"YOUR APPI HERE \");\n  f  =  loadFont( \"Georgia-20.vlw\");\n  textFont(f); \n  smooth(); \n  // Search for all names \n  for (int i  =  0; i  \u0007  names.length; i + + ) { \n   yahoo.search(names[i]); \n  } \n } \nCreate a YahooSearch object. You have to \npass in the API key given to you by Yahoo.\nSearch for a String. By default you will get \nback 10 results. If you want more (or less), \nyou can request a speciﬁ c number by saying:\nyahoo.search(\"processing.\norg\", 30);\nSearch results arrive as an array of Strings.\nYou can also get the summaries with \ngetSummaries().\nThe search() function is called for each \nname in the array.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1098
  },
  {
    "chunk_full": "354\nLearning Processing\n void draw()  { \n  background(255); \n  // Show all bubbles \n  for (int i  =  0; i  \u0007  searchCount; i + + ) { \n   bubbles[i].display(); \n  } \n } \n // Searches come in one at a time \n void searchEvent(YahooSearch yahoo)  { \n  // Total # of results for each search \n  int total  =  yahoo.getTotalResultsAvailable(); \n  // Scale down the number so that it can be viewable \n  float r  =  sqrt(total)/75; \n  // Make a new bubble object \n  Bubble b  =  new Bubble(yahoo.getSearchString(), r,50 + searchCount*100,height/2); \n  bubbles[searchCount]  =  b; \n  searchCount + + ; \n } \n // Simple  \" Bubble \" class to represent each search \n class Bubble  { \n  String search; \n  float x,y,r; \n  Bubble(String search_, float r_, float x_, float y_)  { \n   search  =  search_; \n   r  =  r_; \n   x  =  x_; \n   y  =  y_; \n  } \n  void display()  { \n   stroke(0); \n   fill(0,50); \n   ellipse(x, y, r, r); \n   textAlign(CENTER); \n   fill(0); \n   text(search,x,y); \n  } \n } \n 18.10  Sandbox \n When running your program locally from within the  Processing development environment, you are free \nto reach out across ports and networks. However, when running your program as an applet within a web \nbrowser, there are certain security requirements, just as we noticed with connecting to a video camera in \nChapter 16. \n Requesting a URL on the same domain is allowed. For example, if your applet is stored on your web site: \nhttp://www.myrockindomain.com you are in the clear with: \n // Will work in the browser \n String[] lines  =  loadStrings( \" http://www.myrockindomain.com/data.html \" ); \n ﬁ g. 18.14  \ngetTotalResultsAvailable() returns \nthe total number of web pages \nthat Yahoo found containing the \nsearch phrase. These numbers \ncan be quite large so they are \nscaled down before being used as \nan ellipse size.\nThe search data is used to make a \nBubble object for the visualization.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1099
  },
  {
    "chunk_full": "Data Input\n 355\n However, if you request a URL on a diﬀ erent domain, you are out of luck. \n // Will not work in the browser \n String[] lines  =  loadStrings( \" http://www.yourkookoodomain.com \" ); \n A solution for this problem is to create a proxy script that lives on the server with your applet, connects to \nan external URL and passes that information back to the applet—in essence, you are tricking your applet \ninto thinking it is retrieving only local information. \n Another solution is to  “ sign ” your applet. Signing an applet is the process of saying  “ Hello, my name is \nDaniel Shiﬀ man and I made this applet. If you trust me say  ‘ yes ’ to let this applet access resources it might \nnot normally be allowed to access. ” \n Again, if you are just developing sketches locally on your computer in the  Processing development \nenvironment you will not have an issue. If you need to get your applet working on a web server \nand need to make requests to pages not on that server, please visit this book’s web site \n( http://www.learningprocessing.com/sandbox/ ) for an example PHP proxy script as well as tips on how \nto sign your applets. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1100
  },
  {
    "chunk_full": "This page intentionally left blank\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1101
  },
  {
    "chunk_full": "Data Streams\n 357\n 19  Data Streams \n “ I’m mad as hell and I’m not going to take this anymore! ” \n —Howard Beale, Network \n In this chapter: \n –  Sockets. \n –  Servers. \n –  Clients. \n –  Multi-user processing. \n –  Serial input. \n 19.1  Synchronous vs. Asynchronous \n In Chapter 18, we looked at how we can request the raw source of a URL using  loadStrings( ), the \nsimpleML library, or the XML library. You make the request, sit back, and await the results. You may have \nnoticed that this process does not happen instantaneously. Sometimes the program may pause for seconds \n(or even minutes) while a web page or XML document loads. Th is is due to the length of time required for \nwhat  Processing performs behind the scenes—an HTTP request. HTTP stands for  “ Hypertext Transfer \nProtocol, ” a request/response protocol for the transfer of information on the world wide web. \n Let’s consider, for a moment, what we mean by  “ request/response. ” Perhaps you wake up one morning \nand think to yourself that a vacation, say in Tuscany, is in order. You turn on your computer, launch a web \nbrowser, type  www.google.com in the address bar, and enter  “ romantic getaway Tuscany villa ” . You, the \n client , made a request, and it is the job of google, the  server , to provide a response. \n The Client :\nJust to introduce myself, I'm Firefox, the web browser, and I have a request . I was \nwondering if you might be so kind as to send me your web page about vacation villas in \nTuscany? \n [Dramatic Pause] \n The Server:\nSure, no problem, here is my  response . It's really just a whole lot of bytes, but if you \nread it as html you'll see it's a nicely formatted page about Tuscany vacation rentals. \nEnjoy! Oh, can you let me know that you received it ok? \n The Client: \nGot it, thanks! \n [The Client and the Server shake hands.] \n Th e above process is known as an  asynchronous request and response, bi-directional communication \nbetween a server and a client where the server responds at its leisure. Th e connection is established \ntemporarily in order to transfer the web page after which it is promptly closed. \n In terms of sending information along the world wide web, this methodology is perfectly adequate. \nNevertheless, imagine if you were to use asynchronous communication in a multiplayer game. It would \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1102
  },
  {
    "chunk_full": "358\nLearning Processing\nbe a disaster. Having to open and close the connection every time one player sends a message to another \nwould result in huge delays and lag between movements. For multiuser applications in  Processing where \nwe need near real-time communication, a diﬀ erent type of connection is used, a  synchronous one known as \na  socket connection. Synchronous communication is also necessary for live performance applications that \nneed real-time interaction between elements. See  Figure 19.1 . \n ﬁ g. 19.1  \nSERVER\nresponse\nresponse\nresponse\nresponse\nrequest\nrequest\nrequest\nrequest\nClient\nClient\nClient\nClient\nAsynchronous Request\n(e.g., asking for a web page)\nSERVER\nClient\nContinuous\nSocket,\nbi = 2 directional\nSocket Connection\n(e.g., chat)\n A network  socket connection is a continuous connection between two programs across a network. Sockets \nare used for multi-user applications, such as games, instant messenger, and chat (among other things). \nTh ey consist of an IP address—the numeric address of a machine on the network—and a port number—\na number used to route information from one program to another. \n We can use sockets in  Processing to write programs that can communicate with each other in real-time. \nTo do this, we will use the built-in  net library ( processing.net ) to create servers and clients connecting via \nsockets. \n 19.2  Creating a Server \n In order to create a server, we need to choose a port number. Any client that wants to connect to the \nserver will need to know this number. Port numbers range from 0 to 65,536 and any number is fair game, \nhowever, ports 0 through 1,024 are usually reserved for common services, so it is best to avoid those. If \nyou are unsure, a google search will turn up information on whether the port is likely used by another \napplication. For our purposes, we will use the port 5,204 (this is the same port used in the  Processing net \nlibrary reference that you would ﬁ nd at  processing.org ). \n To create a server, we must ﬁ rst import the library and create an instance of a  Server object. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1103
  },
  {
    "chunk_full": "Data Streams\n 359\n import processing.net.* ; \n Server server; \n Th e server is initialized via the constructor, which takes two arguments:  “ this ” (a reference to  this applet as \nexplained in Chapter 16) and an integer value for a port number. \n server  =  new Server(this, 5204); \n Th e  Server starts and waits for connections as soon as it is created. It can be closed at any time by calling \nthe  stop( ) function. \n server.stop(); \n You may recall from our discussion of video capturing in Chapter 16 that we used a  callback function \n (captureEvent( )) to handle a new frame of video available from the camera. We can ﬁ nd out if a new \nclient has connected to our server with the same technique, using the callback function  serverEvent( ).\nserverEvent( ) requires two arguments, a server (the one generating the event) and a client (that has \nconnected). We might use this function, for example, to retrieve the IP address of the connected client. \n // The serverEvent function is called whenever \n // A new client connects \n void serverEvent(Server server, Client client)  { \n println( \"A new client has connected: \"  +  client.ip()); \n } \n When a client sends a message (after having connected), a  serverEvent( ) is  not generated. Instead, we \nmust use the  available( ) function to determine if there is a new message from any client available to be \nread. If there is, a reference to the client broadcasting the method is returned and we can read the content \nusing the  readString( ) method. If nothing is available, the function will return the value  null, meaning no \nvalue (or no client object exists). \n void draw()  { \n // If a client is available, we will find out \n // If there is no client, it will be  \"null\" \n Client someClient  =  server.available(); \n // We should only proceed if the client is not null \n if (someClient!  =  null)  { \n println( \"Client says: \"  +  SomeClient.readString()); \n } \n } \n Th e function  readString( ) is useful in applications where text information is sent across the network. If \nthe data should be treated diﬀ erently, for instance, as a number (as we will see in future examples), other \nread( ) methods can be called. \n A server can also send messages out to clients, and this is done with the  write( ) method. \n server.write( \"Great, thanks for the message!\\n \"); \n Depending on what you are doing, it is often a good idea to send a  newline character at the end of your \nmessages. Th e escape sequence for adding a  newline character to a  String is  ‘ \\n ’ (for a reminder about \nescape characters see Chapter 18). \nServer events occur only \nwhen a new client connects.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1104
  },
  {
    "chunk_full": "360\nLearning Processing\n Putting all of the above together, we can write a simple chat server. Th is server replies to any message it \nreceives with the phrase  “ How does  ‘ that ’ make you feel? ” See Example 19-1, Figure 19.2 . \n Example 19-1: Simple therapy server \n // Import the net libraries \n import processing.net.*; \n // Declare a server \n Server server; \n // Used to indicate a new message has arrived \n float newMessageColor  =  255; \n PFont f; \n String incomingMessage  =  \" \" ; \n void setup()  { \n  size(400,200); \n  // Create the Server on port 5204 \n  server  =  new Server(this, 5204); \n  f  =  createFont( \" Arial \" ,16,true); \n } \n void draw()  { \n  background(newMessageColor); \n  // newMessageColor fades to white over time \n  newMessageColor  =  constrain(newMessageColor + 0.3,0,255); \n  textFont(f); \n  textAlign(CENTER); \n  fill(255); \n  text(incomingMessage,width/2,height/2); \n  // If a client is available, we will find out \n  // If there is no client, it will be  \" null \" \n  Client client  =  server.available(); \n  // We should only proceed if the client is not null \n  if (client! = null)  { \n   // Receive the message \n   incomingMessage  =  client.readString(); \n   incomingMessage  =  incomingMessage.trim(); \n   // Print to Processing message window \n   println( \" Client says:  \"  +  incomingMessage); \n   // Write message back out (note this goes to ALL clients) \n   server.write( \" How does  \"  +  incomingMessage  +  \" make you feel?\\n \" ); \n   // Reset newMessageColor to black \n   newMessageColor  =  0; \n  } \n } \n // The serverEvent function is called whenever a new client connects. \n void serverEvent(Server server, Client client)  { \n  incomingMessage  =  \" A new client has connected:  \"  +  client.ip(); \n  println(incomingMessage); \n  // Reset newMessageColor to black \n  newMessageColor  =  0; \n } \nThis sketch runs a Server on port 5204.\nThe most recent incoming message \nis displayed in the window.\nThe message is read using \nreadString(). The trim()\nfunction is used to remove \nthe extra line break that \ncomes in with the message.\nA reply is sent using write().\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1105
  },
  {
    "chunk_full": "Data Streams\n 361\n Once the server is running, we can create a client that connects to the server. Ultimately, we will look at \nan example where we write both the server and client in  Processing . However, just to demonstrate that \nthe server is in fact working, we can connect to it using any  telnet client application. Telnet is a standard \nprotocol for remote connections and all machines generally come with built-in telnet abilities. On a Mac, \nlaunch terminal, on Windows, go to the command prompt. I also recommend using PuTTY, a free telnet \nclient:  http://www.chiark.greenend.org.uk/~sgtatham/putty/ . \n Since we are connecting to the server from the same machine that the server is running on, the address \nwe telnet to is  localhost , meaning the local computer, port 5,204. We could also use the address  127.0.0.1 . \nTh is is a special address reserved for programs on a computer to speak to each other locally (i.e., on the \nsame machine) and is the equivalent of  localhost . If we were connecting from a diﬀ erent computer, we \nwould have to know the network IP address of the machine running the server. \n ﬁ g. 19.2  \n Telnet clients traditionally send messages to the server when the user types enter. Th e carriage return and \nline feed are included in the message and therefore when the server sends back the reply, you will notice \nthat  “ How does processing ” and  “ make you feel ” appear on separate lines. \n Exercise 19-1: Using String manipulation techniques from Chapter 15, ﬁ x Example 19-1 \nso that if the client sends newline characters, the server removes them before replying back to \nthe client. You will want to alter the  “ incomingMessage ” variable. \n incomingMessage  =  client.readString(); \n incomingMessage  = incomingMessage. ______ (______, ______); \n 19.3  Creating a Client \n Once we have written a server and tested it with telnet, we can then develop our own  client in  Processing. \nWe start oﬀ  the same way we did with a server, importing the net library and declaring an instance of a \nClient object. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1106
  },
  {
    "chunk_full": "362\nLearning Processing\n import processing.net.*; \nClient client;\n Th e client constructor requires three arguments— “ this ” , referring again to  this PApplet , the IP address we \nwant to connect to (as a  String), and the port number (as an integer). \n client  =  new Client(this,  \" 127.0.0.1 \" , 5204); \n If the server is running on a diﬀ erent computer than the client, you will need to know the IP address of \nthat server computer. In addition, if there is no server running at the speciﬁ ed IP and port, the  Processing\nsketch will give the error message:  “ java.net.ConnectException: Connection refused ” meaning either the \nserver rejected the client or that there is no server. \n Sending to the server is easy using the  write( ) function. \n client.write( \" Hello! \" ); \n Reading messages from the server is done with the  read( ) function. Th e  read( ) method, however, reads \nfrom the server one byte at a time. To read the entire message as a  String,  readString( ) is used. \n Before we can even contemplate reading from the server, we must be sure there is something to read. Th is \ncheck happens with  available( ). available( ) returns the number of bytes that are waiting to be read. We can \ndetermine if there is anything waiting to be read by asking if the number of bytes is greater than zero. \n if (client.available()  >  0)  { \n String message  =  client.readString(); \n } \n Using the code from Example 18-1 , (keyboard input), we can create a  Processing client that connects and \ncommunicates with our server, sending messages entered by the user. See Example 19-2. \n Example 19-2: Simple therapy client \n // Import the net libraries \n import processing.net.*; \n // Declare a client \n Client client; \n //  Used to indicate a new message \n float newMessageColor  =  0; \n // A String to hold whatever the server says \n String messageFromServer  =  \" \" ; \n // A String to hold what the user types \n String typing  =  \" \" ; \n PFont f; \n void setup()  { \n  size(400,200); \n  // Create the Client \n  client  =  new Client(this,  \" 127.0.0.1 \" , 5204); \n  f  =  createFont( \" Arial \" ,16,true); \n } \nType text and hit return to send to server.\nHow does processing make you feel?\n ﬁ g. 19.3  \nConnect to server at 127.0.0.1 \n(localhost), port 5204\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1107
  },
  {
    "chunk_full": "Data Streams\n 363\n void draw()  { \n  background(255); \n  // Display message from server \n  fill(newMessageColor); \n  textFont(f); \n  textAlign(CENTER); \n  text(messageFromServer,width/2,140); \n  // Fade message from server to white \n  newMessageColor  =  constrain(newMessageColor + 1,0,255); \n  // Display Instructions \n  fill(0); \n  text( \"Type text and hit return to send to server. \",width/2,60);\n  // Display text typed by user \n  fill(0); \n  text(typing,width/2,80); \n  // If there is information available to read \n  if (client.available()  >  0)  { \n// Read it as a String \n   messageFromServer  =  client.readString(); \n// Set brightness to 0 \n   newMessageColor  =  0;  \n  } \n } \n // Simple user keyboard input \n void keyPressed()  { \n  // If the return key is pressed, save the String and clear it \n  if (key  == '\\n') { \n   // When the user hits enter, write the sentence out to the Server \n   client.write(typing); \n   typing  =  \" \" ;\n  } else { \n   typing  =  typing  +  key; \n  } \n } \n Exercise 19-2: Create a client and server that talk to each other. Have the client send \nmessages typed by the user and the server respond autonomously. For example, you could use \nString parsing techniques to reverse the words sent by the client. Client:  “ How are you? ” \nServer:  “ You are how? ” \n 19.4  Broadcasting \n Now that we understand the basics of how clients and servers work, we can examine more practical uses \nof networked communication. In the therapist client/server examples, we treated the data sent across the \nnetwork as a  String, but this may not always be the case. In this section, we will look at writing a server \nthat broadcasts numeric data to clients. \n How is this useful? What if you wanted to continuously broadcast the temperature outside your house or \na stock quote or the amount of motion seen by a camera? You could set up a single computer running a \nThe new message fades \nto white by increasing \nthe brightness.\nWe know there is a message from \nthe Server when there are greater \nthan zero bytes available.\nWhen the user hits enter, the \nString typed is sent to the Server.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1108
  },
  {
    "chunk_full": "364\nLearning Processing\nProcessing server to process and broadcast that information. Client sketches from anywhere in the world \ncould connect to this machine to receive the information. \n To demonstrate the framework for such a program, we will write a server that broadcasts a number \nbetween 0 and 255 (we can only send one byte at time). We will then look at clients that retrieve the data \nand interpret it in their own way. \n Here is the server, which increments a number randomly and broadcasts it . \n Example 19-3: Server broadcasting a number (0–255) \n // Import the net libraries \n import processing.net.*; \n // Declare a server \n Server server; \n PFont f; \n int data  =  0; \n void setup()  { \n  size(200,200); \n  // Create the Server on port 5204 \n  server  =  new Server(this, 5204); \n  f  =  createFont( \" Arial \" ,20,true); \n } \n void draw()  { \n  background(255); \n  // Display data \n  textFont(f); \n  textAlign(CENTER); \n  fill(0); \n  text(data,width/2,height/2); \n  // Broadcast data \n  server.write(data); \n  // Arbitrarily changing the value of data randomly \n  data  =  (data  +  int(random( – 2,4))) % 256; \n } \n // The serverEvent function is called whenever a new client connects. \n void serverEvent(Server server, Client client)  { \n  println( \" A new client has connected:  \"  +  client.ip()); \n } \n Next, we will write a client that receives the number from the server and uses it to ﬁ ll a variable. Th e \nexample is written with the assumption that the server and the client are running on the same computer \n(you can open both examples and run them together in  Processing), but in a real world scenario this would \nlikely not be the case. If you choose to run the server and clients on diﬀ erent computers, the machines \n178\n ﬁ g. 19.4  \nThe number is continuously sent \nto all clients because write() is \ncalled every cycle through draw().\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1109
  },
  {
    "chunk_full": "Data Streams\n 365\nmust be networked locally (via a router or hub, ethernet or wiﬁ ) or on the internet. Th e IP address can be \nfound in the network settings of your machine. \n ﬁ g. 19.5  Examples 19-3, 19-4, and 19-5 all running together\n Example 19-4: Client reading values as background color \n // Import the net libraries \n import processing.net.*; \n // Declare a client \n Client client; \n // The data we will read from the server \n int data; \n void setup()  { \n  size(200,200); \n  // Create the Client \n  client  =  new Client(this,  \"127.0.0.1\", 5204); \n } \n void draw()  { \n  if (client.available()  >  0)  { \n   data  =  client.read(); // Read data \n  } \n  background(data); \n } \nThe incoming data is used \nto color the background.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1110
  },
  {
    "chunk_full": "366\nLearning Processing\n Example 19-5: Client reading values as rotation value \n // Import the net libraries \n import processing.net.*; \n // Declare a client \n Client client; \n // The data we will read from the server \n int data; \n void setup()  { \n  size(200,200); \n  smooth(); \n  // Create the Client \n  client  =  new Client(this,  \" 127.0.0.1 \" , 5204); \n } \n void draw()  { \n  if (client.available()  >  0)  { \n   data  =  client.read(); // Read data \n  } \n  background(255); \n  stroke(0); \n  fill(175); \n  translate(width/2,height/2); \n  float theta  =  (data/255.0) *\n  rotate(theta); \n  rectMode(CENTER); \n  rect(0,0,64,64); \n } \n Exercise 19-3: Write a client that uses the number broadcast from the server to control the \nlocation of a shape. \n 19.5  Multi-User Communication, Part 1: The Server \n Th e broadcast example demonstrates one-way communication where a server broadcasts a message and \nmany clients receive that message. Th e broadcast model, however, does not allow a client to turn around \nand send a reply back to the server. In this section, we will cover how to create a sketch that involves \ncommunication between multiple clients facilitated by a server. \n Let’s explore how a chat room works. Five clients (you and four friends) connect to a server. One client \ntypes a message:  “ Hey everyone! ” Th at message is sent to the server, which relays it back to all ﬁ ve clients. \nMost multi-user applications function in a similar fashion. A multiplayer online game, for example, \nwould likely have clients sending information related to their whereabouts and actions to a server that \nbroadcasts that data back to all other clients playing the game. \n A multi-user application can be developed in  Processing using the network library. To demonstrate, we \nwill create a networked, shared whiteboard. As a client drags its mouse around the screen, the sketch \nThe incoming data is \nused to rotate a square.\nTWO_PI;\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1111
  },
  {
    "chunk_full": "Data Streams\n 367\nwill send  X , Y coordinates to the server that passes them back to any other connected clients. Everyone \nconnected will be able to see the drawing actions of everyone else. \n In addition to learning how to communicate between multiple clients, this example will explore how to \nsend multiple values. How can a client send two values (an  X and a  Y coordinate) and have the server \nknow which one is which? \n Th e ﬁ rst step toward a solution involves developing a protocol for communication between the clients. In \nwhat format is the information sent and how is that information received and interpreted? Luckily for \nus, the time we spent learning how to create, manage, and parse  String objects in Chapters 17 and 18 will \nprovide all the tools we need. \n Assume a client wants to send the mouse location:  mouseX  \u0002  150 and  mouseY  \u0002  125. We need to format \nthat information as a  String in a way that is convenient to decipher. One possibility is as follows: \n “ Th e ﬁ rst number before the comma is the X location, the second number after the comma is 125. Our \ndata ends where an asterisk (*) appears. ” \n In code, it would appear as follows: \n String dataToSend  =  \" 100,125*\"; \n or, more generally: \n String dataToSend  =  mouseX  +  \" ,\"  +  mouseY  +  \" *\"; \n Here, we have developed a protocol for sending and receiving data. Th e integer values for  mouseX and \n mouseY are encoded as a  String during sending (number, followed by comma, followed by number, \nfollowed by asterisk). Th ey will have to be decoded upon receipt and we will get to that later. I should also \npoint out that most examples will typically use a  newline or  carriage return to mark the end of a message \n(as we saw in the ﬁ rst section of this chapter). We use an asterisk here for two reasons: (1) an asterisk is \nplainly visible when displayed whereas newline is not (especially in the context of a book) and (2) using \nan asterisk demonstrates that you can design and implement any messaging protocol you so choose as \nlong as it matches up in the client and server code.\n What is really sent? \n Data sent across a network is sent as a sequential list of individual bytes. Recalling the discussion \nof data types in Chapter 4, a byte is an 8-bit number, that is, a number made up of eight 0’s and 1’s \nor a value between 0 and 255. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1112
  },
  {
    "chunk_full": "368\nLearning Processing\n We are now ready to create a server to receive the messages from the client. It will be the client’s job to \nformat those messages with our protocol. Th e job of the server remains simple: (1) receive the data and \n(2) relay the data. Th is is similar to the approach we took in Section 19.2. \nStep 1 . Receiving data. \n Client client  =  server.available(); \n if (client ! =  null)  { \n incomingMessage  =  client. readStringUntil( ' * ' ); \n } \n What is new in this example is the function  readStringUntil( ) . Th e  readStringUntil( ) function takes \none argument, a character. Th at character is used to mark the end of the incoming data. We are simply \nfollowing the protocol established during sending. We are able to do this because we are designing both \nthe server  and the client. \n Once that data is read, we are ready to add: \nStep 2. Relaying data back out to clients. \n Client client  =  server.available(); \n if (client ! =  null)  { \n incomingMessage  =  client.readStringUntil( ' * ' ); \n server.write(incomingMessage); \n } \n Let’s assume we want to send the number 42. We have two options: \n client.write(42); // sending the byte 42 \n In the line above, we are really sending the actual byte 42. \n client.write( \" 42 \" ); // sending the String  \" 42 \" \n In the line above, we are sending a  String . Th at  String is made up of two characters, a  ‘ 4 ’ and a  ‘ 2 ’ . \nWe are sending two bytes! Th ose bytes are determined via the ASCII (American Standard Code \nfor Information Interchange) code, a standardized means for encoding characters. Th e character  ‘ A ’ \nis byte 65, the character  ‘ B ’ 66, and so on. Th e character  ‘ 4 ’ is byte 52 and  ‘ 2 ’ is 50. \n When we read the data, it is up to us to know whether we want to interpret the bytes coming in \nas literal numeric values or as ASCII codes for characters. We accomplish this by choosing the \nappropriate  read( ) function. \n int val  \u0002  client.read(); // matches up with client.write(42); \n String s  \u0002  client.readString(); // matches up with client.write( \" 42 \" ); \nint num  \u0002  int(s); // convert the String that is read into a number \nBecause we designed our own \nprotocol and are not using \nnewline/carriage return to mark \nthe end of our message, we must \nuse readStringUntil() instead of \nreadString().\nWriting the message back out to \nall clients.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1113
  },
  {
    "chunk_full": "Data Streams\n 369\n Here is the full Server with some bells and whistles. A message is displayed onscreen when new clients \nconnect as well as when the server receives data. \n Example 19-6: Multi-user server \n // Import the net libraries \n import processing.net.*; \n // Declare a server \n Server server; \n PFont f; \n String incomingMessage  =  \" \" ;\n void setup()  { \n  size(400,200); \n  // Create the Server on port 5204 \n  server  =  new Server(this, 5204); \n  f  =  createFont( \"Arial\",20,true);\n } \n void draw()  { \n  background(255); \n  // Display rectangle with new message color \n  fill(0); \n  textFont(f); \n  textAlign(CENTER); \n  text(incomingMessage,width/2,height/2); \n  // If a client is available, we will find out \n  // If there is no client, it will be  \"null\" \n  Client client  =  server.available(); \n  // We should only proceed if the client is not null \n  if (client ! =  null)  { \n   // Receive the message \n   incomingMessage  =  client.readStringUntil( '*');\n   // Print to Processing message window \n   println( \"Client says: \"  +  incomingMessage); \n  // Write message back out (note this goes to ALL clients) \n   server.write(incomingMessage); \n  } \n } \n // The serverEvent function is called whenever a new client connects. \n void serverEvent(Server server, Client client)  { \n  incomingMessage  =  \" A new client has connected: \"  +  client.ip(); \n  println(incomingMessage); \n}\n 19.6  Multi-User Communication, Part 2: The Client \n Th e client’s job is three-fold: \n1.  Send mouseX and mouseY coordinates to server. \n2.  Retrieve messages from server. \n3.  Display ellipses in the window based on server messages. \nAll messages received from \none client are immediately \nrelayed back out to all \nclients with write().\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1114
  },
  {
    "chunk_full": "370\nLearning Processing\n For Step 1, we need to adhere to the protocol we established for sending: \n mouseX comma mouseY asterisk \nString out  =  mouseX  +  \" , \"  +  mouseY  +  \" * \" ; \nclient.write(out); \n Th e question remains: when is the appropriate time to send that information? We could choose to insert \nthose two lines of code into the main  draw( ) loop, sending mouse coordinates every frame. In the case \nof a whiteboard client, however, we only need to send the coordinates when the user drags the mouse \naround the window. \n Th e  mouseDragged( ) function is an event handling function similar to  mousePressed( ) . Instead of being \ncalled when a user clicks the mouse, it is called whenever a dragging event occurs, that is, the mouse \nbutton is pressed and the mouse is moving. Note the function is called continuously as a user drags the \nmouse. Th is is where we choose to do our sending. \n void mouseDragged()  { \n String out  =  mouseX  +  \" , \"  +  mouseY  +  \" * \" ; \n // Send the String to the server \n client.write(out); \n // Print a message indicating we have sent data \n println( \" Sending:  \"  +  out); \n } \n Step 2, retrieving messages from the server, works much like the therapy client and broadcast client \nexamples. Th e only diﬀ erence is the use of  readStringUntil( ) , which follows the  “ number-comma-\nnumber-asterisk ” protocol. \n if (client.available()  >  0)  { \n // Read message as a String, all messages end with an asterisk \n String in  =  client.readStringUntil( ' * ' ); \n // Print message received \n println( \" Receiving:  \"  +  in);  \n } \n Once the data is placed into a  String object, it can be interpreted with parsing techniques from Chapter 18. \n First, the  String is split into an array of  Strings using the comma (or asterisk) as the delimiter. \n String[] splitUp  =  split(in, \" ,* \" ); \n Th e  String array is then converted into an array of integers (length: 2). \n int[] vals  =  int(splitUp); \n And those integers are used to display an ellipse. \n fill(255,100); \n noStroke(); \n ellipse(vals[0],vals[1],16,16); \nPut the String together with our \nprotocol:\nmouseX comma mouseY asterisk.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1115
  },
  {
    "chunk_full": "Data Streams\n 371\n Here is the entire client sketch: \n Example 19-7: Client for multi-user whiteboard \n // Import the net libraries \n import processing.net.*; \n // Declare a client \n Client client; \n void setup()  { \n  size(200,200); \n  // Create the Client \n  client  =  new Client(this,  \"127.0.0.1\", 5204); \n  background(255); \n  smooth(); \n } \n void draw()  { \n  // If there is information available to read from the Server \n  if (client.available()  >  0)  { \n  // Read message as a String, all messages end with an asterisk \n   String in  =  client.readStringUntil( '*');\n   // Print message received \n   println( \"Receiving: \"  +  in); \n   // Split up the String into an array of integers \n   int[] vals  =  int(splitTokens(in, \",*\"));\n   // Render an ellipse based on those values \n   fill(0,100); \n   noStroke(); \n   ellipse(vals[0],vals[1],16,16); \n  } \n } \n // Send data whenever the user drags the mouse \n void mouseDragged()  { \n   // Put the String together with our protocol: mouseX comma mouseY asterisk \n   String out  =  mouseX  +  \" ,\"  +  mouseY  +  \" *\";\n   // Send the String to the server \n   client.write(out); \n   // Print a message indicating we have sent data \n  println(\"Sending: \"  +  out); \n } \n 19.7  Multi-User Communication, Part 3: All Together Now \n When running a multi-user application, the order in which the elements are launched is important. Th e \nclient sketches will fail unless the server sketch is already running. \n You should ﬁ rst (a) identify the IP address of the server, (b) choose a port and add it to the server’s code, \nand (c) run the server. \n Afterward, you can launch the clients with the correct IP address and port. \nThe client reads messages from \nthe Server and parses them with \nsplitTokens() according to our \nprotocol.\nA message is sent whenever the \nmouse is dragged. Note that a client \nwill receive its own messages! \nNothing is drawn here!\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1116
  },
  {
    "chunk_full": "372\nLearning Processing\n If you are working on a multi-user project, you most \nlikely want to run the servers and clients on separate \ncomputers. After all, this is the point of creating multi-\nuser applications in the ﬁ rst place. However, for testing \nand development purposes, it is often convenient to run \nall the elements from one computer. In this case, the \nserver IP address will be  “ localhost ” or 127.0.0.1 (note \nthis is the IP address used in this chapter’s examples). \n As will be covered in Section 21.3,  Processing ’s  “ export to \napplication ” feature will allow you to export a stand-alone \napplication for your server, which you can then run in the \nbackground while you develop your client in  Processing . \nDetails as to how  “ export to application ” works can be \nfound in Chapter 18. You can also run multiple copies \nof a stand-alone application to simulate an environment \nwith more than one client.  Figure 19.6 shows the server \nrunning with two client instances. \n Exercise 19-4: Expand the whiteboard to allow for color. Each client should send a red, \ngreen, and blue value in addition to the XY location. You will not need to make any changes \nto the server for this to work. \n Exercise 19-5: Create a two-player game of Pong played over the network. Th is is a complex \nassignment, so build it up slowly. For instance, you should get Pong to work ﬁ rst without \nnetworking (if you are stuck, an example is provided at the book’s web site). You will also \nneed to make changes to the server; speciﬁ cally, the server will need to assign the players a \npaddle as they connect (left or right). \n 19.8  Serial Communication \n A nice reward for learning the ins and outs of networked communication is that it makes serial \ncommunication in  Processing a breeze. Serial communication involves reading bytes from the computer’s \nserial port. Th ese bytes might come from a piece of hardware you purchase (a serial joystick, for example) \nor one that you design yourself by building a circuit and programming a microcontroller. \n Th is book does not cover the external hardware side of serial communication. However, if you are \ninterested in learning more about physical computing, I recommend the book  Physical Computing: Sensing \nand Controlling the Physical World with Computers (Course Technology PTR) by Dan O’Sullivan and Tom \nIgoe as well as  Making Th ings Talk: Practical Methods for Connecting Physical Objects (Make Books) by Tom \nIgoe. Th e  Arduino ( http://www.arduino.cc/ ) and  Wiring ( http://wiring.org.co/ ) web sites are also excellent \nresources. Wiring and Arduino are two open-source physical computing platforms developed at the \nInteraction Design Institute Ivrea with a programming language modeled after  Processing . I will provide \nsome accompanying Arduino code for your reference, but the material in this book will only cover what \nto do once the data has already arrived in  Processing . \n ﬁ g. 19.6  Examples 19-6 and 19-7 running together\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1117
  },
  {
    "chunk_full": "Data Streams\n 373\n Serial communication refers to the process of sending data in sequence, one byte at a time. Th is is how \ndata was sent over the network in our client/server examples. Th e  Processing serial library is designed for \nserial communication into the computer from a local device, most likely via a USB (Universal Serial Bus) \nport. Th e term  “ serial ” refers to the serial port, designed to interface with modems, that is rarely found on \nnewer computers. \n Th e process of reading data from a serial port is virtually identical to that found in the networked client/\nserver examples, with a few exceptions. First, instead of importing the network library, we import the \nserial library and create a Serial object. \n import processing.serial.*; \n Serial port  =  new Serial(this,  \"COM1\", 9600); \n Th e Serial constructor takes three arguments. Th e ﬁ rst one is always  “ this, ” referring to  this applet (see \nChapter 16). Argument 2 is a  String representing the communications port being used. Computers label \nports with a name. On a PC, these will likely be  “ COM1, ”  “ COM2, ”  “ COM3, ” and so on. On UNIX-\nbased computers (such as MAC OS X), they will be labeled  “ /dev/tty.something ” where  “ something ” \nrepresents a terminal device. If you are using a USB device, you will probably need to install USB drivers \nbefore a working port will be available. Instructions for how to get this working with Arduino can be \nfound at the Arduino guide:  http://www.arduino.cc/en/Guide/HomePage . \n You can also print out a list of available ports using the Serial library’s  list( ) function, which returns an \narray of  String objects. \n String[] portList  =  Serial.list(); \n println(portList); \n If the port you want to use is the ﬁ rst one in the list, for example, your call to the constructor would look like: \n String[] portList  =  Serial.list(); \n Serial port  =  new Serial(this, portList[0], 9600); \n Th e third argument is the rate at which the data is transmitted serially, typically 9,600 baud. \n Bytes are sent out via the serial port using the  write( ) function. Th e following data types can be sent: byte, \nchar, int, byte array, and  String . Remember, if you are sending a  String , the actual data sent are raw ASCII \nbyte values of each character. \n port.write(65); // Sending the byte 65 \n Data can be read with the same functions found in clients and servers:  read( ) ,  readString( ) , and \n readStringUntil( ) . A callback function,  serialEvent( ) , is triggered whenever a serial event occurs, that is, \nwhenever there is data available to be read. \n void serialEvent(Serial port)  { \n int input  =  port.read(); \n println( \"Raw Input: \"  +  input); \n } \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1118
  },
  {
    "chunk_full": "374\nLearning Processing\n Th e  read( ) function will return a  \u0003 1 if there is nothing available to read, however, assuming you are \nwriting the code inside  serialEvent( ) , there will always be available data. \n Following is an example that reads data from the serial port and uses it to color the sketch’s background. \n Example 19-8: Reading from serial port \n import processing.serial.*; \n int val  =  0; // To store data from serial port, used to color background \n Serial port; // The serial port object \n void setup()  { \n  size(200,200); \n  // In case you want to see the list of available ports \n  // println(Serial.list()); \n  // Using the first available port (might be different on your computer) \n  port  =  new Serial(this, Serial.list()[0], 9600); \n } \n void draw()  { \n  // Set the background \n  background(val); \n } \n // Called whenever there is something available to read \n void serialEvent(Serial port)  { \n  // Read the data \n  val  =  port.read(); \n  // For debugging \n  // println( \" Raw Input:  \"  +  input); \n } \n For reference, if you are using Arduino, here is some corresponding code: \n int val; \n void setup()  { \n beginSerial(9600); \n pinMode(3, INPUT); \n } \n void loop()  { \n val  =  analogRead(0); \n Serial.print(val,BYTE); \n } \n 19.9  Serial communication with handshaking \n It is often advantageous to add a  handshaking component to serial communication code. If a hardware \ndevice sends bytes faster than a  Processing sketch can read, for example, there can sometimes be a logjam \nThis is not Processing code! It is Arduino \ncode. For more about Arduino, visit: \nhttp://www.arduino.cc/.\nThe serial data is used to \ncolor the background.\nData from the Serial port is read in \nserialEvent() using the read() function\nand assigned to the global variable “val.”\nInitializing the Serial object \nwith the ﬁ rst port in the list.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1119
  },
  {
    "chunk_full": "Data Streams\n 375\nof information, causing the sketch to lag. Th e sensor values may arrive late, making the interaction \nconfusing or misleading to the user. Th e process of sending information only when requested, known as \n “ handshaking, ” alleviates this lag. \n When the sketch starts up, it will send a byte to the hardware device asking for data. \n Example 19-9: Handshaking \n void setup()  { \n  size(200,200); \n  // In case you want to see the list of available ports \n  // println(Serial.list()); \n  // Using the first available port (might be different on your computer) \n  port  =  new Serial(this, Serial.list()[0], 9600); \n  // Request values from the hardware device \n  port.write(65); \n } \n After the sketch ﬁ nishes processing a byte inside of  serialEvent( ) , it asks again for a new value. \n // Called whenever there is something available to read \n void serialEvent(Serial port)  { \n // Read the data \n val  =  port.read(); \n // For debugging \n // println( \"Raw Input: \"  +  \n \n // Request a new value \n port.write(65); \n } \n As long as the hardware device is designed to only send the sensor values when requested, any possible lag \nwill be eliminated. Here is the revised Arduino code. Th is example does not care what the request byte is, \nonly that there is a byte request. A more advanced version might have diﬀ erent replies for diﬀ erent requests. \n int val; \n void setup()  { \n beginSerial(9600); \n pinMode(3, INPUT); \n } \n void loop()  { \n // Only send out if something has come in \n if (Serial.available()  >  0) { \n Serial.read(); \n val  =  analogRead(0); \n Serial.print(val,BYTE); \n } \n } \nThe byte 65 tells the serial device \nthat we want to receive data.\nAfter we receive a byte, we \nreply asking for the next one.\nThis is not Processing code! It \nis Arduino code. For more about \nArduino, visit: http://www.arduino.cc/.\ninput);\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1120
  },
  {
    "chunk_full": "376\nLearning Processing\n 19.10  Serial Communication with  Strings\n In cases where you need to retrieve multiple values from the serial port (or numbers greater than 255), \nthe  readStringUntil( ) function is handy. For example, let’s assume you want to read from three sensors, \nusing the values for the red, green, and blue components of your sketch’s background color. Here, we will \nuse the same protocol designed in the multi-user whiteboard example. We will ask the hardware device \n(where the sensors live) to send the data as follows: \n Sensor Value 1 COMMA Sensor Value 2 COMMA Sensor Value 3 ASTERISK \n For example: \n 104,5,76* \n Example 19-10: Serial communication with Strings\n import processing.serial.*; \n int r,g,b; \n // Used to color background \n Serial port;  // The serial port object \n void setup()  { \n  size(200,200); \n  // In case you want to see the list of available ports \n  // println(Serial.list()); \n  // Using the first available port (might be different on your computer) \n  port  =  new Serial(this, Serial.list()[0], 9600); \n  // Request values right off the bat \n  port.write(65); \n } \n void draw()  { \n  // Set the background \n  background(r,g,b); \n } \n // Called whenever there is something available to read \n void serialEvent(Serial port)  { \n  // Read the data \n  String input  =  port.readStringUntil( ' * ' ); \n  if (input ! = null)  { \n   // Print message received \n   println( \" Receiving:  \"  +  input); \n   // Split up the String into an array of integers \n   int[] vals  =  int(splitTokens(input, \" ,* \" )); \n   // Fill r,g,b variables \n   r  =  vals[0]; \n   g  =  vals[1]; \n   b  =  vals[2]; \n  } \n  // When finished ask for values again \n  port.write(65); \n } \nData from the Serial port is read in \nserialEvent() using the readStringUntil() \nfunction with ‘*’ as the end character.\nThe data is split into an array of \nStrings with a comma or asterisk \nas a delimiter and converted into \nan array of integers.\nThree global variables are \nﬁ lled using the input data.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1121
  },
  {
    "chunk_full": "Data Streams\n 377\n Corresponding Arduino code: \n int sensor1  =  0; \n int sensor2  =  0; \n int sensor3  =  0; \n void setup() \n { \n beginSerial(9600); \n pinMode(3, INPUT); \n } \n void loop() \n { \n if (Serial.available()  >  0) { //only send if you have hear back \n Serial.read(); \n sensor1  =  analogRead(0); \n sensor2  =  analogRead(1); \n sensor3  =  analogRead(2); \n // Send the integer out as a String using  \"DEC\" \n Serial.print(sensor1,DEC); \n // Send a comma -- ASCII code 44 \n Serial.print( \",\", BYTE); \n Serial.print(sensor2,DEC); \n Serial.print( \",\", BYTE); \n Serial.print(sensor3,DEC); \n // Send an asterisk -- ASCII code 42 \n Serial.print( \"*\", BYTE); \n } \n } \n Exercise 19-6: If you have an Arduino board, build your own interface to control a \nProcessing sketch you have already made. (Before you attempt this, you should make sure \nyou can successfully run the simple examples provided in this chapter.) \nThis is not Processing code! It \nis Arduino code. For more about \nArduino, visit: http://www.arduino.cc/.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1122
  },
  {
    "chunk_full": "378\nLearning Processing\n Lesson Eight Project \n Create a data visualization by loading external information (a local ﬁ le, web \npage, XML feed, server or serial connection) into  Processing . \n Make sure you build up the project incrementally. For example, try designing \nthe visualization ﬁ rst without any real data (use random numbers or hard-coded \nvalues). If you are loading data from the web, consider using a local ﬁ le while \nyou are developing the project. Do not be afraid to  fake the data, waiting until \nyou are ﬁ nished with aspects of the design before connecting the real data. \n Experiment with levels of abstraction. Try displaying information literally \nonscreen by writing text. Build an abstract system where the input data aﬀ ects \nthe behaviors of objects (you might even use your  “ ecosystem ” from the Lesson \nSix Project). \n Use the space provided below to sketch designs, notes, and pseudocode for your \nproject. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1123
  },
  {
    "chunk_full": "Lesson Nine\nMaking Noise\n20 Sound\n21 Exporting\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1124
  },
  {
    "chunk_full": "This page intentionally left blank\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1125
  },
  {
    "chunk_full": "Sound\n 381\n 20  Sound \n “ Check. Check. Check 1. Sibilance. Sibilance. Check. Check. Check 2. Sibilance. Sibilance. ” \n —Barry the Roadie \n In this chapter: \n –  Libraries for Sound. \n –  Simple sound playback. \n –  Playback with adjusting volume, pitch, and pan. \n –  Microphone as sound sensor. \n Processing does not have built-in support for sound. Not that there is anything wrong with sound. Not \nthat  Processing has a personal grudge against sound. Th ere is just no built-in sound. As we discussed \nin the introduction to this book,  Processing is a programming language and development environment, \nrooted in Java, designed for learning to program  in a visual context . So, if you want to develop large-scale \ninteractive applications primarily focused on sound, you should really ask yourself:  “ Is  Processing the \nright programming environment for me? ” Th is chapter will help answer that question as we explore the \npossibilities and limitations of working with sound in  Processing . \n Incorporating sound into  Processing sketches can be accomplished a number of diﬀ erent ways. Because \n Processing does not support sound in its core library, many  Processing developers choose to incorporate \nsound via a third party application geared toward sound, such as  PureData ( http://www.puredata.org/  ) \nor  Max/MSP ( http://www.cycling74.com/  ).  Processing can communicate with these applications via OSC \n( “ open sound control ” ) a protocol for network communication between computers and multimedia \ndevices. Th is can be accomplished in  Processing by using the network library (see the previous chapter) or \nwith the  oscP5 library, by Andreas Schlegel ( http://www.sojamo.de/libraries/oscP5 ) \n Visiting the  Processing web site will also reveal a list of contributed libraries for using sound directly in \n Processing : playing sound samples, analyzing sound input from a microphone, synthesizing sound, and \nsending and receiving midi information. Th is chapter will focus on two of these elements:  sound playback \nand  sound input . For playback of sound eﬀ ects we will look at the  Sonia library (by Amit Pitaru) and the \n Minim library (by Damien Di Fede). Sound input will be demonstrated with  Sonia . \n Th ese sound libraries are available at the following URLs: \n Sonia:  http://sonia.pitaru.com/ \n Minim:  http://code.compartmental.net/tools/minim/ \n For a review on how to install third party libraries, visit Chapter 12 . You will also want to visit \nhttp://www.learning processing.com  to download the sample sound ﬁ les used in these examples. \n 20.1  Really Simple Sound \n Before we look at the libraries, however, there is one simple (but extremely limited) way to play a sound \nﬁ le in a  Processing sketch without installing a third party library. Th is is through the use of the  Movie class \nwhich we learned in Chapter 16. Th e  Movie class is designed to play QuickTime movies, but can also be \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1126
  },
  {
    "chunk_full": "382\nLearning Processing\nused to play a  WAV or  AIFF ﬁ le.  WAV is an audio ﬁ le format that stands for  “ Waveform audio format ” \nand is the standard format for PCs.  AIFF stands for  “ Audio Interchange File Format ” and is commonly \nused on Macintosh computers. \n All of the functions we looked at in Chapter 16 are available for a sound ﬁ le. Th e main diﬀ erence, of \ncourse, is that we cannot use  image( ) to display the Movie object since there is no image. \n Example 20-1: Simple sound with video library \n import processing.video.*; \n Movie movie; \n void setup() { \n  size(200, 200); \n  movie  =  new Movie (this,  \" dingdong.wav \" ); \n } \n void draw() { \n  background(0); \n  noLoop(); \n } \n void mousePressed()  { \n  movie.stop(); \n  movie.play(); \n } \n Exercise 20-1: Using the bouncing ball sketch from Example 5–6, play a sound eﬀ ect every \ntime the ball bounces oﬀ  a window’s edge. \n 20.2  Getting Started with Sonia and Minim \n Th e  Movie class will do for playing simple sound eﬀ ects, but for more sophisticated playback \nfunctionality, we will need to look at libraries designed for use with sound. We will start with  Sonia \n( http://sonia.pitaru.com/ ). First things ﬁ rst, as with any contributed library, you ﬁ rst need the import \nstatement at the top of your code. \n import pitaru.sonia_v2_9.*; \nSonia is an interface to a Java sound library, entitled  Jsyn by Phil Burk. In order for it to work,  Sonia has \nto communicate with the audio playback and input hardware on your computer. Th is communication is \nachieved via  Jsyn. Before any sounds can be played, therefore, that link needs to be established, that is, the \nsound engine needs to be started. Th is is done with the following line of code, which you would place in \nsetup( ) . \nConstruct a Movie object with a WAV \n(or AIFF) ﬁ le.\nThe sound is played whenever the mouse is \npressed. Including the function stop() before \nplay() ensures that the sound ﬁ le will play \nfrom the beginning.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1127
  },
  {
    "chunk_full": "Sound\n 383\n void setup()  { \n  Sonia.start(this); \n } \n Now, it would be rather irresponsible of us to make this connection to the sound hardware, but never \nbother to close it down when we are ﬁ nished. By now, the ﬂ ow of a  Processing sketch is all too familiar, \nstart with  setup( ) , loop with  draw( ) , and stop whenever you quit the sketch. Th e thing is, we want to \nterminate the sound engine during that last step, when the sketch quits. Fortunately, there is an extra \nhidden function we can implement entitled  stop( ) that does precisely that. When a sketch quits, any \nlast minute instructions can be executed inside the  stop( ) function. Th is is where we will shut down the \nSonia engine. \n void stop() { \n Sonia.stop(); \n super.stop(); \n } \nSonia.stop( ) is the call to stop  Sonia. Th ere is also, however, the line  super.stop( ) . Th e meaning of  “ super ” \nwill be explored further in Chapter 22. For now, we can understand that line of code as saying  “ Oh, \nwhatever else you would normally do in  stop( ) , do that stuﬀ , too . ” \n All of the above applies to  Minim as well. Here is the corresponding code: \n import ddf.minim.*; \n void setup()  { \n size(200, 200); \n Minim.start(this); \n } \n void stop()  { \n super.stop(); \n } \n 20.3  Basic Sound Playback \n Once this call to the library has been made, you have the whole world (of sound) in your hands. We \nwill start by demonstrating how to play sound ﬁ les. Before a sound can be played, it must be loaded into \nmemory, much in the same way we loaded image ﬁ les before displaying them. With  Sonia , a  Sample \nobject is used to store a reference to a sound sample. \n Sample dingdong; \n Th e object is initialized by passing the sound ﬁ lename to the constructor. \n dingdong  =  new Sample( \"dingdong.wav\"); \nStart the Minim sound engine!\nWith Minim, sounds will be closed \nindividually here. We will see this \nin a moment.\nThe ﬁ le “dingdong.wav” should be placed in \nthe data directory.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1128
  },
  {
    "chunk_full": "384\nLearning Processing\n Just as with images, loading the sound ﬁ le from the hard drive is a slow process so the previous line of \ncode should be placed in  setup( ) so as to not hamper the speed of  draw( ) . \n Th e type of sound ﬁ le compatible with Sonia is somewhat limited. Only sounds that are formatted as  WAV \nor  AIFF ﬁ les (16-bit mono or stereo) are allowed. If you want to use a sound ﬁ le that is not stored in a \ncompatible format, you could download a free audio editor, such as  Audacity ( http://audacity.sourceforge.net/ ) \nand convert the ﬁ le. Most audio ﬁ les can be saved raw or with compression.  Sonia only works with raw ﬁ les. \nHowever, in the next section, we will demonstrate how compressed (MP3) ﬁ les can be played with the \nESS library. \n Once the sound is loaded, playing is easy. \n dingdong.play(); \n Th e following example plays a doorbell sound whenever the mouse is clicked on the graphical doorbell. \nTh is Doorbell class implements simple button functionality (rollover and click) and just happens to \nbe a solution for Exercise 9–8 . Th e code for the new concepts (related to sound playback) is shown in \nbold type . \n Example 20-2: Doorbell with Sonia \n // Import the Sonia library \n import pitaru.sonia_v2_9.*; \n // A sample object (for a sound) \n Sample dingdong; \n // A doorbell object (that will trigger the sound) \n Doorbell doorbell; \n void setup() { \n  size(200,200); \n  Sonia.start(this); // Start Sonia engine. \n  // Create a new sample object. \n  dingdong  =  new Sample( \" dingdong.wav \" ); \n  // Create a new doorbell \n  doorbell  =  new Doorbell(150,100,32); \n  smooth(); \n } \n void draw()  { \n  background(255); \n  // Show the doorbell \n  doorbell.display(mouseX,mouseY); \n } \n ﬁ g. 20.1  \nThe play() function plays the sound sample once.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1129
  },
  {
    "chunk_full": "Sound\n 385\n void mousePressed() { \n  // If the user clicks on the doorbell, play the sound! \n  if (doorbell.contains(mouseX,mouseY))  { \n   dingdong.play(); \n  } \n } \n // Close the sound engine \n public void stop() { \n  Sonia.stop(); \n  super.stop(); \n } \n // A Class to describe a  \"doorbell\" (really a button) \n class Doorbell  { \n  // Location and size \n  float x; \n  float y; \n  float r; \n // Create the doorbell \n Doorbell (float x_, float y_, float r_)  { \n  x  =  x_; \n  y  =  y_; \n  r  =  r_; \n } \n // Is a point inside the doorbell (used for mouse rollover, etc.) \n boolean contains(float mx, float my)  { \n  if (dist(mx,my,x,y)  <  r)  { \n   return true; \n  }  else  { \n   return false; \n  } \n } \n // Show the doorbell (hardcoded colors, could be improved) \n void display(float mx, float my)  { \n  if (contains(mx,my))  { \n \n fill(100); \n  }  else  { \n   fill(175); \n  } \n  stroke(0); \n  ellipse(x,y,r,r); \n } \n } \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1130
  },
  {
    "chunk_full": "386\nLearning Processing\n // A Class to describe a  \" doorbell \" (really a button) \n class Doorbell  { \n  // Location and size \n  float x; \n  float y; \n  float r; \n   // A sample object (for a sound) \n  _________ ____________; \n // Create the doorbell \n Doorbell (float x_, float y_, float r_, _______ filename) { \n   x  = x_;\n   y  = y_;\n   r  = r_;\n \n _________  =  new _________(_____________); \n  } \n  void ring()  { \n \n ____________________; \n  } \n  boolean contains(float mx, float my)  { \n   // same as original \n  } \n  void display(float mx, float my)  { \n \n // same as original \n  } \n } \n Exercise 20-2: Rewrite the Doorbell class to include a reference to the Sonia sample. Th is \nwill allow you to easily make multiple Doorbell objects that each play a diﬀ erent sound. \nHere is some code to get you started. \n If you run the Doorbell example and click on the doorbell many times in rapid succession, you will notice \nthat the sound restarts every time you click. It is not given a chance to ﬁ rst ﬁ nish playing. While this \nis not much of an issue for this straightforward example, stopping a sound from restarting can be very \nimportant in other, more complex, sound sketches. Th e simplest way to achieve such a result is to always \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1131
  },
  {
    "chunk_full": "Sound\n 387\ncheck and see if a sound  is playing before you call the  play( ) function. Sonia has a nice function called \nisPlaying( ) which does exactly this, returning true or false. We want to play the sound if it is  not already \nplaying, that is, \n if (!dingdong.isPlaying())  { \n dingdong.play(); \n } \n Exercise 20-3: Expand the Doorbell class to animate (perhaps moving its location and \nchanging its size randomly) only while its sound is playing. Create an array of ﬁ ve Doorbell \nobjects. Here is part of a function to add to the Doorbell class: \n void jiggle()  { \n  if (_________________))  { \n  x += ____________; \n  y += ____________; \n   _________________; \n  } \n } \n With Minim instead of Sonia, very little changes. Instead of a  Sample object, we have an  AudioPlayer \nobject. Th e following example includes the solutions for Exercises 20-2 and 20-3 (but uses the Minim \ncode, rather than Sonia). It does not implement an array, however. \n Example 20-3: Doorbell with Minim \n import ddf.minim.*; \n // A doorbell object (that will trigger the sound) \n Doorbell doorbell; \n void setup() { \n  size(200,200); \n  // start up Minim \n  Minim.start(this); \n  // Create a new doorbell \n  doorbell  =  new Doorbell(150,100,32, \"dingdong.wav\");\n  smooth(); \n } \nRemember, “!” means not!\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1132
  },
  {
    "chunk_full": "388\nLearning Processing\n void draw()  { \n  background(100,100,126); \n  // Show the doorbell \n  doorbell.display(mouseX,mouseY); \n  doorbell.jiggle(); \n } \n void mousePressed() { \n  // If the user clicks on the doorbell, play the sound! \n  if (doorbell.contains(mouseX,mouseY))  { \n   doorbell.ring(); \n  } \n } \n // Close the sound files \n public void stop() { \n  doorbell.close(); \n  super.stop(); \n } \n class Doorbell  { \n  // Location and size \n  float x; \n  float y; \n  float r; \n  // An AudioPlayer object \n  AudioPlayer dingdong; \n  // Create the doorbell \n  Doorbell (float x_, float y_, float r_, String filename)  { \n   x  =  x_; \n   y  =  y_; \n   r  =  r_; \n   // load  \" dingdong.wav \" into a new AudioPlayer \n   dingdong = Minim.loadFile(filename); \n  } \n  // If the  \" doorbell \" is ringing, the shape jiggles \n  void jiggle()  { \n   if (dingdong.isPlaying())  { \n    x + =  random( – 1,1); \n    y  + =  random( – 1,1); \n  \n r  =  constrain(r  +  random( – 2,2),10,100); \n  } \n  } \n  // The doorbell rings! \n  void ring()  { \n   if (!dingdong.isPlaying())  { \n    dingdong.rewind(); \n    dingdong.play(); \n   } \n  } \nThe doorbell object must close its sound.\nAn AudioPlayer object is used to store \nthe sound.\nThe doorbell only jiggles if the \nsound is playing.\nThe ring() function plays the \nsound, as long as it is not \nalready playing. rewind()\nensures the sound starts from \nthe beginning.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1133
  },
  {
    "chunk_full": "Sound\n 389\n  // Is a point inside the doorbell (used for mouse rollover, etc.) \n  boolean contains(float mx, float my)  { \n   if (dist(mx,my,x,y)  <  r)  { \n    return true; \n   } else { \n    return false; \n   } \n  } \n  // Show the doorbell (hardcoded colors, could be improved) \n  void display(float mx, float my)  { \n   if (contains(mx,my))  { \n    fill( 126,114,100); \n   } else { \n    fill(119,152,202); \n   } \n   stroke(202,175,142); \n   ellipse(x,y,r,r); \n  } \n  void close()  { \n   dingdong.close(); \n  } \n } \n One of the advantages of using  Minim over  Sonia is that  Minim supports MP3 ﬁ les.  MP3 (or  “ MPEG-1 \nAudio Layer 3 ” ) ﬁ les are compressed and therefore take up much less hard drive space than raw WAV or \nAIFF sound ﬁ les. \n AudioPlayer dingdong  =  Minim.loadFile( \"dingdong.mp3\"); \n 20.4  A Bit Fancier Sound Playback \n During playback, a sound sample can be manipulated in real time. Volume, pitch, and pan can all be \ncontrolled using  Sonia and  Minim . \n Let’s start with volume in  Sonia . A Sample object’s volume can be set with the  setVolume( ) function, \nwhich takes a ﬂ oating point value between 0.0 and 1.0 (0.0 being silent, 1.0 being the loudest). Th e \nfollowing snippet assumes a sample named  “ tone ” and sets the volume based on  mouseX position (by \nnormalizing it to a range between 0 and 1). \n float ratio  =  (float) mouseX /width; \n tone.setVolume(ratio); \n Pan works the same way, only the range is between  \u0003 1.0 (for left) and 1.0 (for right). \n float ratio  =  (float) mouseX /width; \n tone.setPan(ratio*2  – 1); \n Th e pitch is altered by changing the rate of playback (i.e., faster playback is higher pitch, slower \nplayback is lower pitch) using  setRate( ) . You can set the sample playback rate to anything you like, a \nThe doorbell has a close() function\nto close the AudioPlayer object.\nVolume ranges from 0.0 to 1.0.\nPan ranges from –1.0 to 1.0.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1134
  },
  {
    "chunk_full": "390\nLearning Processing\nfairly comprehensive range is from 0 (where you would not hear it at all) to 88,200 (a relatively fast \nplayback rate). \n float ratio  =  (float) mouseX / width; \n tone.setRate(ratio*88200); \n Th e following example adjusts the volume and pitch of a sound according to mouse movements. Note the \nuse of  repeat( ) instead of  play( ) , which loops the sound over and over rather than playing it one time . \n Example 20-4: Manipulating sound (with Sonia) \n // Import the Sonia library \n import pitaru.sonia_v2_9.*; \n // A Sample object (for a sound) \n Sample tone; \n void setup() { \n  size(200,200); \n  Sonia.start(this); // Start Sonia engine. \n  // Create a new sample object. \n  tone  =  new Sample( \" tone.wav \" ); \n  // Loop the sound forever \n  // (well, at least until stop() is called) \n  tone.repeat(); \n  smooth(); \n } \n void draw()  { \n  if (tone.isPlaying())  { \n   background(255); \n  } else  { \n   background(100); \n  } \n  // Set the volume to a range between 0 and 1.0 \n  float ratio  =  (float) mouseX / width; \n  tone.setVolume(ratio); \n  // Set the rate to a range between 0 and 88,200 \n  // Changing the rate alters the pitch \n  ratio  =  (float) mouseY / height; \n  tone.setRate(ratio*88200); \n  // Draw some rectangles to show what is going on \n  stroke(0); \n  fill(175); \n  rect(0,160,mouseX,20); \n  stroke(0); \n  fill(175); \n  rect(160,0,20,mouseY); \n } \n ﬁ g. 20.2 \nA reasonable range for rate (i.e., pitch) \nis between 0 and 88,200.\nThe volume is set according \nto the mouseX position.\nThe rate is set according to \nthe mouseY position.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1135
  },
  {
    "chunk_full": "Sound\n 391\n // Pressing the mouse stops and starts the sound \n void mousePressed()  { \n  if (tone.isPlaying())  { \n   tone.stop(); \n  } else  { \n   tone.repeat(); \n  } \n } \n // Close the sound engine \n public void stop() { \n  Sonia.stop(); \n  super.stop(); \n } \n Exercise 20-4: In Example 20-4, ﬂ ip the Y-axis so that the lower sound plays when the \nmouse is down rather than up. \n An  AudioPlayer object can also be manipulated with  Minim using the functions:  setVolume( ) , \nsetPan( ) , and  addEﬀ ect( ) , among others documented on the  Minim site ( http://code.compartmental.\nnet/tools/minim/ ). \n 20.5  Live input \n In Chapter 16, we looked at how serial communication allows a  Processing sketch to respond to input \nfrom an external hardware device connected to a sensor. Reading input from a microphone is a similar \npursuit. In essence, the microphone acts as a sensor. Not only can a microphone record sound, but it can \ndetermine if the sound is loud, quiet, high-pitched, low-pitched, and so on. For example, a  Processing \nsketch could determine if it is living in a crowded room based on sound levels, or whether it is listening \nto a soprano or bass singer based on pitch levels. Th is section will cover how to retrieve and use  sound \nvolume data using the  Sonia library. For analyzing sound pitch levels from a microphone, visit the  Sonia \nweb site ( http://sonia.pitaru.com ) for further examples. \n Th e previous sections used a  Sample object to play a sound. Sound input from a microphone is retrieved \nwith a  LiveInput object. Th ere is a somewhat odd distinction here in the way we will use these two \nclasses that we have yet to encounter over the course of this book. \n Consider a scenario where we have three sound ﬁ les. We would create three  Sample objects. \n Sample sample1  =  new Sample( \"file1.wav\"); \n Sample sample2  =  new Sample( \"file2.wav\"); \n Sample sample3  =  new Sample( \"file3.wav\"); \n Technically speaking, we have made three  instances of  Sample objects, born via the  Sample class. If we \nwant to play a sound, we have to refer to a speciﬁ c  Sample object. \n sample1.play(); \nThe sound can be stopped \nwith the function stop().\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1136
  },
  {
    "chunk_full": "392\nLearning Processing\n With  LiveInput , however, we are not going to make any object  instances . Since the  Sonia library only \nallows one input source, 1 there is no reason to refer to a speciﬁ c  LiveInput object. Instead, when listening \nto the microphone, we refer to the  LiveInput class as a whole: \n LiveInput.start(); // Start LiveInput \n Functions that we call from the class name itself (rather than from a speciﬁ c object instance) are known \nas  static functions. We can’t create  static functions ourselves in  Processing so it is not something we need \nto worry about too much. However, since they are part of Java, we will encounter them from time to time \nwhen using contributed libraries.  LiveInput is an example of a class with  static functions for retrieving \nthe sound and pitch levels from a microphone. \n Let’s begin by building a very simple example that ties the size of a circle to the sound level of the \nmicrophone. \n Step #1 is exactly what we just did,  start the process of listening to the computer’s microphone. \n LiveInput.start(); // Start LiveInput \n Step #2 is  reading the volume level from the microphone itself .  We can do this two ways. Because the \nmicrophone listens in stereo, we can read the volume level from the right or left channel with  getLevel( ) : \n float rightLevel  =  LiveInput.getLevel(Sonia.RIGHT); \n float leftLevel  =  LiveInput.getLevel(Sonia.LEFT); \n We can also simply listen to both channels. \n float level  =  LiveInput.getLevel(); \n Th e level returned will always range between 0.0 and 1.0. \n Putting it all together, and tying the sound level to the size of an ellipse, we have: \n Example 20-5: Live Input with Sonia \n // Import the Sonia library \n import pitaru.sonia_v2_9.*; \n void setup() { \n  size(200,200); \n  Sonia.start(this); \n  // Start listening to the microphone \n  LiveInput.start(); \n  smooth(); \n } \n1Sonia’s Live Input will listen to whatever audio source is set up as the “sound input” device on your computer. You could use a \nbuilt-in microphone, a line-in from another audio source, or even potentially the CD player on your computer. A Sample object can \nalso be treated as live input by using the function: connectLiveInput().\nWe can specify whether we \nwant to listen to the RIGHT or \nLEFT channel’s volume.\nAll functions for \nsound input are static,\nmeaning they are called \nfrom the class name \nitself, LiveInput, rather \nthan an object instance.\nWith no argument, getLevel()\nreturns the volume of both \nRIGHT and LEFT combined.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1137
  },
  {
    "chunk_full": "Sound\n 393\n 20.6  Sound Thresholding \n A common sound interaction is triggering an event when a sound is made. Consider  “ the clapper. ” Clap, \nthe lights go on. Clap again, the lights go oﬀ . A clap can be thought of as a very loud and short sound. \nTo program  “ the clapper ” in  Processing, we will need to listen for volume and instigate an event when the \nvolume is high. \n In the case of clapping, we might decide that when the overall volume is greater than 0.5, the user is \nclapping (this is not a scientiﬁ c measurement, but is good enough for this example). Th is value of 0.5 \nis known as the  threshold. Above the threshold, events are triggered, below, they are not. \n float vol  =  LiveInput.getLevel(); \n if (vol  >  0.5)  { \n  // DO SOMETHING WHEN THE VOLUME IS GREATER THAN ONE! \n } \n Example 20-6 draws rectangles in the window whenever the overall volume level is greater than 0.5. Th e \nvolume level is also displayed on the left-hand side as a bar. \n Example 20-6: Sound threshold with Sonia \n // Import the Sonia library \n import pitaru.sonia_v2_9.*; \n void setup() { \n  size(200,200); \n  Sonia.start(this); // Start Sonia engine. \n  LiveInput.start(); // Start listening to the microphone \n  smooth(); \n  background(255); \n } \n void draw()  { \n  background(255,120,0); \n  // Get the overall volume (between 0 and 1.0) \n  float level  =  LiveInput.getLevel(); \n  fill(200); \n  stroke(50); \n  // Draw an ellipse with size based on volume \n  ellipse(width/2,height/2,level*200,level*200); \n } \n // Close the sound engine \n public void stop() { \n  Sonia.stop(); \n  super.stop(); \n } \n \n \nExercise 20-5: Rewrite Example 20-5 with left and right volume levels mapped to \ndiﬀ erent circles. \nThe variable that stores the \nvolume (“level”) is used as \nthe size of an ellipse.\n ﬁ g. 20.3  \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1138
  },
  {
    "chunk_full": " void draw()  { \n  // Get the overall volume (between 0 and 1.0) \n  float vol  =  LiveInput.getLevel(); \n  // If the volume is greater than 0.5, draw a rectangle \n  if (vol  >  0.5)  { \n   stroke(0); \n   fill(0,100); \n  rect(random(width),random(height),vol*20,vol*20); \n  } \n  // Graph the overall volume \n  // First draw a background strip \n  fill(175); \n  rect(0,0,20,height); \n  // Then draw a rectangle size according to volume \n  fill(0); \n  rect(0,height-vol*height/2,20,vol*height/2); \n } \n // Close the sound engine \n public void stop() { \n  Sonia.stop(); \n  super.stop(); \n } \n Th is application works fairly well, but does not truly emulate the  clapper. Notice how each clap results in \nseveral rectangles drawn to the window. Th is is because the sound, although seemingly instantaneous to \nour human ears, occurs over a period of time. It may be a very short period of time, but it is enough to \nsustain a volume level over 0.5 for several cycles through  draw( ) .\n In order to have a clap trigger an event one and only one time, we need to rethink the logic of our \nprogram. In plain English, this is what we are trying to achieve: \n •  If the sound level is above 0.5, then you are clapping and trigger the event. However, do not trigger the \nevent if you just did a moment ago!\n Th e key here is how we deﬁ ne  “ a moment ago. ” One solution would be to implement a timer, that is, only \ntrigger the event once and then wait one second before you are allowed to trigger the event again. Th is is \na perfectly OK solution. Nonetheless, with sound, a timer is totally unnecessary since the sound itself will \ntell us when we are ﬁ nished clapping! \n •  If the sound level is less than 0.25, then it is quiet and we have finished clapping.\n OK, with these two pieces of logic, we are ready to program this  “ double-thresholded ” algorithm. Th ere \nare two thresholds, one to determine if we have started clapping, and one to determine if we have \nﬁ nished. We will need a boolean variable to tell us whether we are currently clapping or not. \n Assume  clapping \u0005 false to start. \n •  If the sound level is above 0.5 and we are not already clapping, trigger the event and set clapping  \u0005  true.\n •  If we are clapping and the sound level is less than 0.25, then it is quiet and set clapping  \u0005  false.\n394\nLearning Processing\nIf the volume is greater than 0.5 \na rectangle is drawn at a random \nlocation in the window. The louder \nthe volume, the larger the rectangle.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1139
  },
  {
    "chunk_full": "Sound\n 395\n In code, this translates to: \n // If the volume is greater than one and we are not clapping, draw a rectangle \n if (vol  >  0.5  & & !clapping) { \n // Trigger event! \n   clapping  =  true; // We are now clapping! \n } else if (clapping & & vol  <  0.25)  { // If we are ﬁnished clapping \n clapping  =  false; \n } \n Here is the full example where one and only one rectangle appears per clap. \n Example 20-7: Sound events (double threshold) with Sonia \n // Import the Sonia library \n import pitaru.sonia_v2_9.*; \n float clapLevel  =  0.5;  // How loud is a clap \n float threshold  =  0.25; // How quiet is silence \n boolean clapping  =  false; \n void setup() { \n  size(200,200); \n  Sonia.start(this); // Start Sonia engine. \n  LiveInput.start(); // Start listening to the microphone \n  smooth(); \n  background(255); \n } \n void draw()  { \n  // Get the overall volume (between 0 and 2.0) \n  float vol  =  LiveInput.getLevel(); \n  // If the volume is greater than 0.5 and \n  // we are not clapping, draw a rectangle \n  if (vol  >  clapLevel  & & !clapping) { \n   stroke(0); \n   fill(0,100); \n   rect(random(width),random(height),vol*20,vol*20); \n   clapping  =  true; // We are now clapping! \n  // If we are finished clapping \n  } else if (clapping & & vol  <  threshold)  { \n   clapping  =  false; \n  } \n  // Graph the overall volume \n  // First draw a background strip \n  noStroke(); \n  fill(200); \n  rect(0,0,20,height); \n  // Then draw a rectangle size according to volume \n  fill(100); \n  rect(0,height-vol*height/2,20,vol*height/2); \n ﬁ g. 20.4  \nIf the volume is greater \nthan 1.0, and we were not \npreviously clapping, then we \nare clapping!\nOtherwise, if we were just \nclapping and the volume \nlevel has gone down below \n0.25, then we are no longer \nclapping!\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1140
  },
  {
    "chunk_full": "  // Draw lines at the threshold levels \n  stroke(0); \n  line(0,height-clapLevel*height/2,19,height-clapLevel*height/2 ); \n  line(0,height-threshold*height/2,19,height-threshold*height/2 ); \n } \n // Close the sound engine \n public void stop() { \n  Sonia.stop(); \n  super.stop(); \n } \n Exercise 20-6: Trigger the event from Example 20-7 after a sequence of two claps. Here is \nsome code to get you started that assumes the existence of a variable named  “ clapCount ” . \n if (vol  > c lapLevel & & !clapping) { \n  clapCount___; \n  if (_______________)  { \n   ________________; \n   ________________; \n   ________________; \n  } \n  _________________; \n } else if (clapping  & & vol  <  0.5) {\n  clapping  =  false; \n } \n Exercise 20-7: Create a simple game that is controlled with volume. Suggestion: First make \nthe game work with the mouse, then replace the mouse with live input. Some examples are \nPong, where the paddle’s position is tied to volume, or Duck Hunt, where a bullet is shot \nwhenever the user claps. \n396\nLearning Processing\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1141
  },
  {
    "chunk_full": "Exporting\n 397\n 21  Exporting \n “ Wait a minute. I thought that Art wanted to give up the exporting. ” \n —Seinfeld \n In this chapter: \n –  Web applets. \n –  Stand-alone applications. \n –  High resolution PDFs. \n –  Images and image sequences. \n –  QuickTime movies. \n We have focused our energy in this book on learning to program. Nevertheless, eventually our code babies \nwill grow up and want to ﬁ nd their way out in the world. Th is chapter is dedicated to a discussion of the \nvarious publishing options available to  Processing sketches. \n 21.1  Web Applets \n Processing sketches can be exported as Java applets to run on the web. How this works is covered in \nChapter 2. We have seen, however, that because of security restrictions, applets cannot perform certain \ntasks, such as connect to a remote server or access a serial port, web camera, or other hardware device. \nIf you have a sketch that you must publish online, but uses a feature that is restricted, there are some \nsolutions. One possibility (as mentioned in Chapter 16) is to  sign your applet. Some tips on how to do \nthis are available at this book’s web site ( http://www.learningprocessing.com/sandbox ). \n 21.2  Stand-Alone Applications \n A great feature of  Processing is that sketches can \nbe published as stand-alone applications, meaning \ndouble-clickable programs that can run without the \n Processing development environment being installed. \n If you are creating a program for an installation or \nkiosk environment, this feature will allow you to \ncreate applications that easily can be launched when \na machine boots up.  Export Application is also useful \nif you need to run multiple copies of a sketch at the \nsame time (such as in the case of the client/server \nexamples in Chapter 19) . None of the applet security \nrestrictions apply to applications.\n To export as an application, go to: \n FILE  →  EXPORT APPLICATION (see  Figure 21.1 ) \n You will then notice that three new folders appear as shown in  Figure 21.2 . \n ﬁ g. 21.1  \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1142
  },
  {
    "chunk_full": "398\nLearning Processing\n Processing auto-creates applications for three operating systems, Mac OS X, Windows, and Linux. If you \n Export Application from a Windows computer, the Mac application will not work properly (instructions \nfor ﬁ xing this issue are included in a readme.txt ﬁ le that appears). To avoid this, simply  Export \nApplication on a Mac. \n Th e folder will contain all the ﬁ les you need: \n •  sketchName.exe (or named simply  sketchName on Mac and Linux). This file is the double-clickable \napplication. \n •  “ source ” directory . The application folder will include a directory containing the source files for your \nprogram. This folder is not required to run the application. \n •  “ lib ” . This folder only appears for Windows and Linux and contains required library files. It will always \ncontain  core.jar , the core processing library, as well as any others you import. On Mac OS X, the library \nfiles are visible by control-clicking the application file and selecting  “ Show Package Contents. ” \n Th e user of your application will need Java installed on his or her computer in order for the application \nto run properly. On a Mac, Java comes preinstalled with the operating system, so you should not have \nany issues as long as the end user has not messed with their Java installation. On Windows, if this is \na concern, you can include Java with the application by copying the  “ Java ” folder from the  Processing \ndirectory to the application folder (and you must be on a PC to do this). \n Th ere are a few tricks related to the  Export Application feature. For example, if you want to have your own \ntext in the title bar, you can add the following code to  setup( ) . \n frame.setTitle( \" My super-awesome application! \" ); \n In addition, although exported applications run in windowed mode (as opposed to  “ present ” mode), \nyou can set applications to run full screen by adding some code. Understanding the code requires some \nadvanced knowledge of Java and the inner workings of  Processing sketches. \n Some clues to this will be revealed in Chapter 23 , but for now this code is oﬀ ered simply to be copied: \n static public void main(String args[])  { \n PApplet.main(new String[]  { \" --present \" , \" SketchName \" } ); \n } \n ﬁ g. 21.2  \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1143
  },
  {
    "chunk_full": "Exporting\n 399\n Th is code can be inserted anywhere as its own block (above  setup( ) is a good place for it). Th e \n “ SketchName ” must match the name of your  Processing sketch. \n Exercise 21-1: Export a stand-alone application for any Processing sketch you have made \nor any example in this book. \n 21.3  High-Resolution PDFs \n We have been using  Processing primarily as a means for creating graphics programs that run on a \ncomputer screen. In fact, if you recall Chapter 3, we spent a great deal of time learning about how the \nﬂ ow of a program works over time. Nevertheless, now is a good time to return to the idea of a static \nprogram, one whose sole purpose is to create a static image. Th e  Processing PDF library allows us to take \nthese static sketches and create high-resolution images for print. (In fact, almost all of the images in this \nbook were produced with this method.) \n Following are the required steps for using the PDF library. \n Step 1. Import the library. \n import processing.pdf.*; \n Step 2. In  setup( ) , use the  size( ) function with  “ PDF ” mode and a  String ﬁ lename argument. \n size(400, 400, PDF,  \"filename.pdf\"); \n Step 3. In  draw( ) , do your magic! \n background(255); \n fill(175); \n stroke(0); \n ellipse(width/2,height/2,160,160); \n Step 4. Call the function  “ exit( ) ” . Th is is very important. Calling  exit( ) causes the PDF to ﬁ nish \nrendering. Without it, the ﬁ le will not open properly. \n exit(); // Required! \n Here is how the program looks all together: \n Example 21-1: Basic PDF \n // Import the library \n import processing.pdf.*; \n // Using  \"PDF\" mode, 4th argument is the name of the file \n size(400, 400, PDF,  \"filename.pdf\");\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1144
  },
  {
    "chunk_full": "400\nLearning Processing\n // Draw some stuff! \n background(255); \n fill(175); \n stroke(0); \n ellipse(width/2,height/2,160,160); \n // Very important, required for the PDF to render properly \n exit(); \n If you run this example, you will notice that no window appears. Once you have set the  Processing\nrendering mode to PDF, the sketch window will no longer appear. Th is is because one often uses PDF \nmode to create extremely high-resolution, complex images that cannot easily be displayed onscreen. \n However, it is possible to see the  Processing sketch window while rendering a PDF using the functions \nbeginRecord( ) and  endRecord( ) . Th is runs slower than the ﬁ rst example, but allows you to see what is \nbeing saved. \n Example 21-2: PDF using beginRecord( ) \n import processing.pdf.*; \n void setup()  { \n  size(400, 400); \n  beginRecord(PDF,  \" filename.pdf \" ); \n } \n void draw()  { \n  // Draw some stuff! \n  smooth(); \n  background(100); \n  fill(0); \n  stroke(255); \n  ellipse(width/2,height/2,160,160); \n  endRecord(); \n  noLoop(); \n } \nendRecord( ) does not have to be called on the ﬁ rst frame rendered, and therefore this mode can be used \nto generate a PDF compiled from multiple cycles through  draw( ) . Th e following example takes the \n “ Scribbler ” program from Chapter 16 and renders the result to a PDF. Here the colors are not taken from \na video stream, but are picked based on a counter variable. See  Figure 21.3 for a sample output.\n Example 21-3: Multiple frames into one PDF \n import processing.pdf.*; \n float x  \u0005  0; \n float y  \u0005  0; \nbeginRecord( ) starts the process. \nThe ﬁ rst argument should read PDF\nand the second is the ﬁ lename.\nendRecord( ) is called to ﬁ nish \nthe PDF.\nThere’s no reason to loop any more \nsince the PDF is ﬁ nished.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1145
  },
  {
    "chunk_full": "Exporting\n 401\n void setup()  { \n  size(400, 400); \n  beginRecord(PDF,  \"scribbler.pdf\");\n  background(255); \n } \n void draw()  { \n  // Pick a new x and y \n  float newx  =  constrain(x  +  random( -20,20),0,width);\n  float newy  =  constrain(y  +  random( -20,20),0,height);\n  // Draw a line from x,y to the newx,newy \n  stroke(frameCount%255,frameCount*3%255,\n  frameCount*11%255,100); \n  strokeWeight(4); \n  line(x,y,newx,newy); \n  // Save newx, newy in x,y \n  x  \u0005  newx; \n  y  \u0005  newy; \n } \n // When the mouse is pressed, we finish the PDF \n void mousePressed()  { \n  endRecord(); \n  // We can tell Processing to open the PDF \n  open(sketchPath( \"scribbler.pdf\"));\n  noLoop(); \n } \n If you are rendering 3D shapes (in P3D mode or OPENGL), you will want to use  beginRaw( )\nand  endRaw( ) instead of  beginRecord( ) and  endRecord( ) . Th is example also uses a boolean variable \n( “ recordPDF ” ) . \n Example 21-4: PDF and openGL \n // Using OPENGL \n import processing.opengl.*; \n import processing.pdf.*; \n // Cube rotation \n float yTheta  =  0.0; \n float xTheta  =  0.0; \n // To trigger recording the PDF \n boolean recordPDF  =  false; \n void setup()  { \n  size(400, 400, OPENGL); \n  smooth(); \n } \n ﬁ g. 21.3  \nbackground( ) should be in setup( ). If \nbackground( ) is placed in draw( ) the PDF \nwould accumulate a lot of graphics elements \nonly to erase them over and over again.\nIn this example, the user chooses when to ﬁ nish \nrendering the PDF by clicking the mouse.\nA boolean variable that when set to true causes \na PDF to be made.\nOPENGL or P3D mode requires the use \nof beginRaw( ) and endRaw( ) instead of \nbeginRecord( ) and endRecord( ).\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1146
  },
  {
    "chunk_full": "402\nLearning Processing\n void draw()  { \n  // Begin making the PDF \n  if (recordPDF)  { \n   beginRaw(PDF,  \" 3D.pdf \" ); \n  } \n  background(255); \n  stroke(0); \n  noFill(); \n  translate(width/2,height/2); \n  rotateX(xTheta); \n  rotateY(yTheta); \n  box(100); \n  xTheta  + = 0.02; \n  yTheta  + = 0.03; \n  // End making the PDF \n  if (recordPDF)  { \n  endRaw(); \n  recordPDF  =  false; \n  } \n } \n // Make the PDF when the mouse is pressed \n void mousePressed()  { \n  recordPDF  =  true; \n } \n Two important notes about the  PDF library. \n •  Images —If you are displaying images in the PDF, these will not necessarily look good after export. \nA 320  \u0004  240 pixel image is still a 320  \u0004  240 pixel image whether rendered into a high-resolution \nPDF or not. \n •  Text —If you are displaying text in the PDF, you will have to have the font installed in order to view \nthe PDF properly. One way around this is to include  “ textMode(SHAPE); ” after  size( ) . This will \nrender the text as a shape to the PDF and not require the font installed. \n For full documentation of the  PDF library, visit the  Processing reference page at  http://processing.org/\nreference/libraries/pdf/index.html . While the PDF library will take care of many of your needs related \nto high-resolution generation, there are two other contributed libraries that might be of interest. One \nis  proSVG by Christian Riekoﬀ  for exporting ﬁ les in the SVG ( “ Scalable Vector Graphics ” ) format: \nhttp://www.texone.org/prosvg/ . Another is  SimplePostScript by Marius Watz for writing vector ﬁ les in the \nPostScript format:  http://processing.unlekker.net/SimplePostscript/ . \n Exercise 21-2: Create a PDF from any Processing sketch you have made or any example \nin this book. \n 21.4  Images/ saveFrame( )\n High-resolution PDFs are useful for printing; however, you can also save the contents of the  Processing \nwindow as an image ﬁ le (with the same resolution as the pixel size of the window itself). Th is is \naccomplished with  save( ) or  saveFrame( ) . \n ﬁ g. 21.4  \nIf you include “####” \nin the ﬁ lename—\n“3D-####.pdf”—separate,\nnumbered PDFs will be \nmade for each frame that \nis rendered.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1147
  },
  {
    "chunk_full": "Exporting\n 403\n save( ) takes one argument, the ﬁ lename for the image you want to save.  save( ) will generate image ﬁ les \nwith the following formats: JPG, TIF, TGA, or PNG, indicated by the ﬁ le extension you include in the \nﬁ lename. If no extension is included,  Processing will default to the TIF format. \n background(255,0,0); \n save( \"file.jpg\"); \n If you call  save( ) multiple times with the same ﬁ lename, it will overwrite the previous image. However, \nif you want to save a sequence of images, the  saveFrame( ) function will auto-number the ﬁ les.  Processing \nwill look for the  String  “ #### ” in the ﬁ lename and replace it with a numbered sequence of images. See \n Figure 21.5 . \n ﬁ g. 21.5  \n void draw()  { \n background(random(255)); \n saveFrame( \"file####.jpg\"); \n } \n Th is technique is commonly used to import a numbered sequence of images into video or animation software. \n 21.5  MovieMaker \n Th e image sequence that resulted from  saveFrame( ) can be made into a movie ﬁ le, using  QuickTime Pro, \niMovie, or any number of video software packages. \n For longer movies, however, having a directory full of thousands of images can prove to be a bit unwieldy. Using \nthe  MovieMaker class makes this process easier by writing the frames directly to a movie ﬁ le. I originally \ndeveloped  MovieMaker as a contributed library, but it is now available in  Processing’s video library itself. \n import processing.video.*; \n A  MovieMaker object requires the following arguments (in order): \n •  this —Refers to the sketch that the movie will be associated with. \n •  width —An integer, typically the same width as the sketch. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1148
  },
  {
    "chunk_full": "404\nLearning Processing\n •  height —An integer, typically the same height as the sketch. \n •  filename —A String for the movie’s file name. \n •  framerate —A frame rate for the movie, typically 30. \n •  type —What compression format should the movie use. \n •  quality —The compression quality for the movie. \n An example of the constructor is as follows: \n mm  =  new MovieMaker(this, width, height,  \" test.mov \" , 30, MovieMaker.H263, \nMovieMaker.HIGH); \n Th e library oﬀ ers many options for compression codecs. Th e term codec originally comes from the term \n “ coder-decoder, ” referring to a hardware device that converts analog video to digital. Here, however, \ncodec refers to a  “ compressor-decompressor, ” software that coverts video between its raw, uncompressed \nform (for viewing) and its compressed form (for storage). Th e following are the codecs available with the \nMovieMaker library (check the reference page for any updates to this list:  http://processing.org/reference/\nlibraries/video/MovieMaker.html ) .\n ANIMATION, BASE, BMP, CINEPAK, COMPONENT, CMYK, GIF, GRAPHICS, JPEG, \nMS_VIDEO, MOTION_JPEG_A, MOTION_JPEG_B, RAW, SORENSON, VIDEO, H261, \nH263, H264 \n Selecting a codec will aﬀ ect the size of the movie ﬁ le as well as the quality.  RAW , for example, will store \nthe video in its raw uncompressed (and therefore highest quality) form, but will result in an enormous \nvideo ﬁ le. You can read more about the various codecs at Apple’s QuickTime site. \n •  QuickTime:  http://www.apple.com/quicktime/ . \n •  QuickTime Developer:  http://developer.apple.com/quicktime/ . \n Once you have selected a codec, you must then specify a codec quality, ranging from worst to lossless. \n WORST, LOW, MEDIUM, HIGH, BEST, LOSSLESS \n After the MovieMaker object is constructed, frames can be added one at a time to the movie by calling \nthe  addFrame( ) function. \n void draw()  { \n // Some cool stuff that you are drawing! \n mm.addFrame(); \n } \n Finally, in order for the movie ﬁ le to play properly it has to be  “ ﬁ nished ” with the  ﬁ nishMovie( ) function. \nIf you quit the  Processing sketch before this function is called, the movie ﬁ le will not be recognized by \nQuickTime! One solution is to ﬁ nish the movie on a mouse click. However, if you are using mouse \npresses already in your applet, you might want to consider other options, such as ﬁ nishing on a key press \nor after a timer has run out. \n public void mousePressed()  { \n mm.finishMovie(); \n } \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1149
  },
  {
    "chunk_full": "Exporting\n 405\n Example 21-5 records a movie of a mouse drawing on the screen. Th e movie is ﬁ nished when the space \nbar is pressed. \n ﬁ g. 21.6  Output of Example 21-5\n Example 21-5: Making a QuickTime movie \n import processing.video.*; \n MovieMaker mm; // Declare MovieMaker object \n void setup()  { \n  size(320, 240); \n  // Create MovieMaker object with size, filename, \n  // framerate, compression codec and quality \n  mm  =  new MovieMaker(this, width, height,  \"drawing.mov\", 30, MovieMaker.H263, \n MovieMaker.HIGH); \n  background(255); \n } \n void draw()  { \n  stroke(0); \n  strokeWeight(4); \n  if (mousePressed)  { \n   line(pmouseX, pmouseY, mouseX, mouseY); \n  } \n  mm.addFrame(); // Add window's pixels to movie \n } \n void keyPressed()  { \n  if (key  = =   ' ') { \n \n println( \"finishing movie \");\n \n mm.finish(); // Finish the movie if space bar is pressed! \n  } \n } \n Exercise 21-3: Create a movie from any Processing sketch you have made or any example \nin this book. \nThe MovieMaker class is part of \nProcessing’s video library.\nA new frame is added to the movie \nevery cycle through draw( ).\nDo not forget to ﬁ nish the movie! Otherwise, it will not play properly.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1150
  },
  {
    "chunk_full": "406\nLearning Processing\n Lesson Nine Project \n Choose one or both! \n 1.  Incorporate sound into a  Processing sketch, either by adding sound eﬀ ects \nor by controlling the sketch with live input. \n 2. \n Use  Processing to generate an output other than real-time graphics. Make a \nprint (using PDF). Make a video (using MovieMaker), and so on. \nUse the space provided below to sketch designs, notes, and pseudocode for your \nproject.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1151
  },
  {
    "chunk_full": "Lesson Ten\nBeyond Processing\n22 Advanced Object-Oriented Programming\n23 Java\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1152
  },
  {
    "chunk_full": "This page intentionally left blank\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1153
  },
  {
    "chunk_full": "Advanced Object-Oriented Programming\n 409\n 22  Advanced Object-Oriented \nProgramming\n “ Do you ever think about things that you do think about? ” \n —Henry Drummond, Inherit the Wind \n In this chapter: \n –  Encapsulation. \n –  Inheritance. \n –  Polymorphism. \n –  Overloading. \n In Chapter 8, we introduced  object-oriented programming ( “ OOP ” ). Th e driving principle of the chapter \nwas the pairing of data and functionality into one single idea, a  class . A  class is a template and from \nthat template we made  instances of  objects and stored them in variables and arrays. Although we learned \nhow to write classes and make objects, we did not delve very deeply into the core principles of OOP \nand explore its advanced features. Now that we are nearing the end of the book (and about to leap into \nthe world of Java in the next chapter), it is a good time to reﬂ ect on the past and take steps toward the \nfuture. \n Object-oriented programming in  Processing and Java is deﬁ ned by three fundamental concepts: \n encapsulation ,  inheritance , and  polymorphism . We are familiar with  encapsulation already; we just have not \nformalized our understanding of the concept and used the terminology.  Inheritance and  polymorphism \nare completely new concepts we will cover in this chapter. (At the end of this chapter, we will also take \na quick look at method  overloading , which allows objects to have more than one way of calling the \nconstructor.) \n 22.1  Encapsulation \n To understand  encapsulation , let’s return to the example of a  Car class. And let’s take that example out into \nthe world and think about a real-life Car object, operated by a real-life driver:  you . It is a nice summer day \nand you are tired of programming and opt to head to the beach for the weekend. Traﬃ  c permitting, you \nare hoping for a nice drive where you will turn the steering wheel a bunch of times, press on the gas and \nbrakes, and ﬁ ddle with dial on the radio. \n Th is car that you are driving is  encapsulated . All you have to do to drive is operate the functions:  steer( ) , \n gas( ) ,  brake( ) , and  radio( ) . Do you know what is under the hood? How the catalytic converter connects to \nthe engine or how the engine connects to the intercooler? What valves and wires and gears and belts do \nwhat? Sure, if you are an experienced auto mechanic you might be able to answer these questions, but the \npoint is you  don’t have to in order to drive the car. Th is is  encapsulation . \n Encapsulation is deﬁ ned as hiding the inner workings of an object from the user of that object. \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1154
  },
  {
    "chunk_full": "410\nLearning Processing\n In terms of object-oriented programming, the  “ inner workings ” of an object are the data (variables \nof that object) and functions. Th e  “ user ” of the object is you, the programmer, who is making object \ninstances and using them throughout your code. \n Now, why is this a good idea? Chapter 8 (and all of the OOP examples throughout the book) \nemphasized the principles of modularity and reusability. Meaning, if you already ﬁ gured out how to \nprogram a Car, why do it over and over again each time you have to make a Car? Just organize it all \ninto the Car class, and you have saved yourself a lot of headaches. \n Encapsulation goes a step further. OOP does not just help you organize your code, it  protects you from \nmaking mistakes . If you do not mess with the wiring of the car while you are driving it, you are less \nlikely to break the car. Of course, sometimes a car breaks down and you need to ﬁ x it, but this requires \nopening the hood and looking at the code inside the class itself. \n Take the following example. Let’s say you are writing a  BankAccount class which has a ﬂ oating point \nvariable for the bank account  balance . \n BankAccount account  =  new BankAccount(1000); \n You will want to encapsulate that balance and keep it hidden. Why? Let’s say you need to withdraw money \nfrom that account. So you subtract $100 from that account. \n account.balance  =  account.balance  – 100. \n But what if there is a fee to withdraw money? Say, $1.25? We are going to get ﬁ red from our bank \nprogramming job pretty quickly, having left this detail out. With encapsulation, we would keep our \njob, having written the following code instead. \n account.withdraw(100); \n If the  withdraw( ) function is written correctly, we will never forget the fee, since it will happen every \nsingle time the method is called. \n void withdraw(float amount)  { \n float fee  =  1.25; \n account  – = (amount  +  fee); \n } \n Another beneﬁ t of this strategy is that if the bank decides to raise the fee to $1.50, it can simply adjust \nthe fee variable inside the BankAccount class and everything will keep working! \n Technically speaking, in order to follow the principles of encapsulation, variables inside of a class \nshould  never be accessed directly and can only be retrieved with a method. Th is is why you will often \nsee programmers use a lot of functions known as  getters and  setters , functions that retrieve or change \nthe value of variables. Here is an example of a Point class with two variables ( x and  y ) that are accessed \nwith getters and setters. \nA bank account object with a \nstarting balance of $1,000.\nWithdrawing $100 by accessing \nthe balance variable directly.\nWithdrawing $100 by \ncalling a method!\nThis function ensures that a \nfee is also deducted whenever \nthe money is withdrawn.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1155
  },
  {
    "chunk_full": "Advanced Object-Oriented Programming\n 411\n class Point  { \n float x,y; \n Point(float tempX, float tempY)  { \n x  =  tempX; \n y  =  tempY; \n } \n // Getters \n float getX()  { \n return x; \n } \n float getY()  { \n return y; \n } \n // Setters \n float setX(float val)  { \n x  =  val; \n } \n float setY(float val)  { \n if (val  >  height) val  =  height; \n y  =  val; \n } \n } \n If we wanted to make a point and increment the  y value, we would have to do it this way: \n p.setY(p.getY()  +  1); \n Java actually allows us to mark a variable as  “ private ” to make it illegal to access it directly (in other words, \nif you try to, the program will not even run). \n class Point  { \n private float x; \n private float y; \n } \n While encapsulation is a core principle of object-oriented programming and is very important when \ndesigning large-scale applications programmed by a team of developers, sticking to the letter of the law \n(as with incrementing the  y value of the Point object above) is often rather inconvenient and almost silly \nfor a simple  Processing sketch. So, it is not the end of the world if you make a Point class and access the  x \nand  y variables directly. We have done this several times in the examples found in this book. \n However, understanding the principle of  encapsulation should be a driving force in how you design your \nobjects and manage your code. Any time you start to expose the inner workings of an object outside of \nthe class itself, you should ask yourself: Is this necessary? Could this code go inside a function inside the \nclass? In the end, you will be a happier programmer and keep that job at the bank. \nThe variables x and y are accessed \nwith getter and setter functions.\nGetters and setters allow us to protect \nthe value of variables. For example, \nhere the value of y can never be set to \ngreater than the sketch’s height.\nInstead of: \np.y = p.y + 1;\nAlthough rarely seen in Processing\nexamples, variables can be set as \nprivate, meaning only accessible \ninside the class itself. By default all \nvariables and functions in Processing\nare “public.”\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1156
  },
  {
    "chunk_full": "412\nLearning Processing\n 22.2  Inheritance \nInheritance , the second in our list of three fundamental object-oriented programming concepts, allows us \nto create new classes that are based on existing classes. \n Let’s take a look at the world of animals: dogs, cats, monkeys, pandas, wombats, and sea nettles. \nArbitrarily, let’s begin by programming a  Dog class. A Dog object will have an age variable (an integer), as \nwell as  eat( ), sleep( ), and  bark( ) functions. \n class Dog  { \n int age; \n Dog()  { \n   age  =  0; \n } \n void eat()  { \n // eating code goes here \n } \n void sleep()  { \n // sleeping code goes here \n } \n void bark()  { \n   println( \" WOOF! \" ); \n } \n } \n Finished with dogs, we can now move on to cats. \n class Cat  { \n int age; \n Cat()  { \n age  =  0; \n } \n void eat()  { \n // eating code goes here \n } \n void sleep()  { \n // sleeping code goes here \n } \n void meow()  { \n println( \" MEOW! \" ); \n } \n } \n Sadly, as we move onto ﬁ sh, horses, koala bears, and lemurs, this process will become rather tedious as \nwe rewrite the same code over and over again. What if, instead, we could develop a generic  Animal \nNotice how dogs and cats have the same \nvariables (age) and functions (eat, sleep). \nHowever, they also have a unique function \nfor barking or meowing.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1157
  },
  {
    "chunk_full": "Advanced Object-Oriented Programming\n 413\nclass to describe any type of animal? After all, all animals eat and sleep. We could then say the \nfollowing: \n •  A dog is an animal and has all the properties of animals and can do all the things animals can do. \nIn addition, a dog can bark. \n •  A cat is an animal and has all the properties of animals and can do all the things animals can do. \nIn addition, a cat can meow. \nInheritance allows us to program just this. With  inheritance , classes can inherit properties (variables) and \nfunctionality (methods) from other classes. Th e Dog class is a child (AKA a  subclass ) of the Animal class. \nChildren inherit all variables and functions automatically from their parent (AKA  superclass ). Children \ncan also include additional variables and functions not found in the parent. Inheritance follows a tree-\nstructure (much like a phylogenetic  “ tree of life ” ). Dogs can inherit from Canines which inherit from \nMammals which inherit from Animals, and so on. See  Figure 22.1 . \nAnimal\nReptile\nMammal\nCat\ndog\nlizard\nCrocodile\n ﬁ g. 22.1  \n Here is how the syntax works with inheritance. \n class Animal  { \n int age; \n Animal()  { \n age  =  0; \n } \n void eat()  { \n // eating code goes here \n } \n void sleep()  { \n // sleeping code goes here \n } \n } \n class Dog extends Animal { \n Dog()  { \n super(); \n } \n void bark()  { \n println( \"WOOF!\"); \n } \n } \nThe Animal class is the parent (or super) class.\nThe Dog class is the child (or sub) class. This \nis indicated with the code \"extends Animal \"\nThe variable age and the functions eat() and \nsleep() are inherited by Dog and Cat.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1158
  },
  {
    "chunk_full": "414\nLearning Processing\n class Cat extends Animal { \n Cat()  { \n super(); \n } \n void bark()  { \n println( \" MEOW! \" ); \n } \n } \n Th e following new terms have been introduced: \n •  extends —This keyword is used to indicate a parent class for the class being defined. Note that classes \ncan only extend  one class. However, classes can extend classes that extend other classes, that is, Dog \nextends Animal, Terrier extends Dog. Everything is inherited all the way down the line. \n •  super( ) —Super calls the constructor in the parent class. In other words, whatever you do in the \nparent constructor, do so in the child constructor as well. This is not required, but is fairly common \n(assuming you want child objects to be created in the same manner as their parents). Other code can \nbe written into the constructor in addition to  super( ) . \n A subclass can be expanded to include additional functions and properties beyond what is contained in \nthe superclass. For example, let’s assume that a Dog object has a hair color variable in addition to age, \nwhich is set randomly in the constructor. Th e class would now look like so: \n class Dog extends Animal  { \n color haircolor; \n Dog()  { \n super(); \n haircolor  =  color(random(255)); \n } \n void bark()  { \n println( \" WOOF! \" ); \n } \n } \n Note how the parent constructor is called via  super( ) , setting the age to 0, but the haircolor is set inside \nthe Dog constructor itself. Suppose a Dog object eats diﬀ erently than a generic Animal. Parent functions \ncan be  overridden by rewriting the function inside the subclass. \n class Dog extends Animal  { \n color haircolor; \n Dog()  { \n super(); \n haircolor  =  color(random(255)); \n } \n void eat()  { \n // Code for how a dog specifically eats \n } \n void bark()  { \n println( \" WOOF! \" ); \n } \n } \nA child class can introduce new \nvariables not included in the parent.\nA child can override a parent \nfunction if necessary.\nSince bark() is not part of the parent class, \nwe have to deﬁ ne it in the child class.\nsuper() means execute code found in the \nparent class.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1159
  },
  {
    "chunk_full": "Advanced Object-Oriented Programming\n 415\n But what if a Dog should eat the same way an Animal does, but with some additional functionality? \nA subclass can both run the code from a parent class and incorporate some custom code. \n class Dog extends Animal  {\n color haircolor; \n Dog()  {\n super(); \n haircolor  =  color(random(255)); \n } \n void eat()  {\n// Call eat() from Animal \nsuper.eat(); \n // Add some additional code \n // for how a dog specifically eats \n println( \"Yum!!!\"); \n } \n void bark()  {\n println( \"WOOF!\"); \n } \n } \n 22.3  An Inheritance Example: SHAPES \n Now that we have had an introduction to the theory of inheritance and its syntax, we can develop a \nworking example in  Processing . \n A typical example of inheritance involves shapes. Although a bit of a cliche, it is useful because of its \nsimplicity. We will create a generic  “ Shape ” class where all Shape objects have an  x ,  y location as well as a \nsize, and a function for display. Shapes move around the screen by  “ jiggling ” randomly. \n Exercise 22-1: Continuing with the Car example from our discussion of encapsulation, how \nwould you design a system of classes for vehicles (that is, cars, trucks, buses, and motorcycles)? \nWhat variables and functions would you include in a parent class? And what would be \nadded or overridden in the child classes? What if you wanted to include planes, trains, and \nboats in this example as well? Diagram it, modeled after Figure 22.1 . \nA child can execute a function from the \nparent while adding its own code as well.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1160
  },
  {
    "chunk_full": "416\nLearning Processing\n class Shape  { \n float x; \n float y; \n float r; \n Shape(float x_, float y_, float r_)  { \n x  =  x_; \n y  =  y_; \n r  =  r_; \n } \n void jiggle()  { \n x  + = random(–1,1); \n y  + = random(–1,1); \n } \n void display()  { \n point(x,y); \n } \n } \n Next, we create a subclass from Shape (let’s call it  “ Square ” ). It will inherit all the instance variables and \nmethods from Shape. We write a new constructor with the name  “ Square ” and execute the code from the \nparent class by calling  super( ) . \n class Square extends Shape  { \n // we could add variables for only Square here if we so desire \n Square(float x_, float y_, float r_)  { \n super(x_,y_,r_); \n } \n // Inherits jiggle() from parent \n // Add a display method \n void display()  { \n rectMode(CENTER); \n   fill(175); \n stroke(0); \n rect(x,y,r,r); \n } \n } \n Notice that if we call the parent constructor with  super( ) , we must have to include the required \narguments. Also, because we want to display the square onscreen, we override  display( ) . Even though \nwe want the square to jiggle, we do not need to write the  jiggle( ) function since it is inherited. \n What if we want a subclass of Shape to include additional functionality? Following is an example of a \nCircle class that, in addition to extending Shape, contains an instance variable to keep track of color. \n(Note this is purely to demonstrate this feature of inheritance, it would be more logical to place a color \nvariable in the parent Shape class.) It also expands the  jiggle( ) function to adjust size and incorporates a \nnew function to change color. \nA generic shape does not really \nknow how to be displayed. This will \nbe overridden in the child classes.\nIf the parent constructor takes \narguments then super() needs to \npass in those arguments.\nAha, the square overrides its \nparent for display.\nVariables are inherited from the parent.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1161
  },
  {
    "chunk_full": "Advanced Object-Oriented Programming\n 417\n class Circle extends Shape  { \n // inherits all instance variables from parent  +  adding one \n color c; \n Circle(float x_, float y_, float r_, color c_)  { \n super(x_,y_,r_);  // call the parent constructor \n c  =  c_;  \n// also deal with this new instance variable \n } \n // call the parent jiggle, but do some more stuff too \n void jiggle()  { \n super.jiggle(); \n r  + = random(-1,1); \n r  =  constrain(r,0,100); \n } \n void changeColor()  { \n c  =  color(random(255)); \n } \n void display()  { \n ellipseMode(CENTER); \n fill(c); \n stroke(0); \n ellipse(x,y,r,r); \n } \n } \n To demonstrate that inheritance is working, here is a program that makes one Square object and one \nCircle object. Th e Shape, Square, and Circle classes are not included again, but are identical to the ones \nabove. See  Example 22-1 . \n Example 22-1: Inheritance \n // Object oriented programming allows us to deﬁne classes in terms of other classes. \n // A class can be a subclass (aka  \"child\") of a super class (aka \"parent\").\n // This is a simple example demonstrating this concept, known as  \"inheritance.\" \n Square s; \n Circle c; \n void setup()  { \n  size(200,200); \n  smooth(); \n  // A square and circle \n  s  =  new Square(75,75,10); \n  c  =  new Circle(125,125,20,color(175)); \n } \n void draw()  { \n  background(255); \n  c.jiggle(); \n  s.jiggle(); \n  c.display(); \n  s.display(); \n } \n ﬁ g. 22.2  \nThe Circle jiggles its size as well as its x,y\nlocation.\nThe changeColor() function is unique to \ncircles.\nThis sketch includes one Circle object and \none Square object. No Shape object is \nmade. The Shape class just functions as \npart of our inheritance tree!\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1162
  },
  {
    "chunk_full": "418\nLearning Processing\n Exercise 22-2: Write a Line class that extends Shape and has variables for the two points of \nthe line. When the line jiggles, move both points. You will not need  “ r ” for anything in the \nline class (but what could you use it for?). \n class Line _______  { \n  float x2,y2; \n  Line(_______,_______,_______,_______)  { \n   super(_________________); \n  x2  = _______;\n y2  = _______;\n } \n  void jiggle()  { \n   ______________________ \n   ______________________ \n   ______________________ \n  } \n  void display()  { \n   stroke(255); \n   line(______________________); \n  } \n } \n Exercise 22-3: Do any of the sketches you have created merit the use of inheritance? Try to \nﬁ nd one and revise it. \n 22.4  Polymorphism \n Armed with the concepts of inheritance, we can program a diverse animal kingdom with arrays of dogs, \ncats, turtles, and kiwis frolicking about. \n Dog[] dogs  =  new Dog[100]; \n Cat[] cats  =  new Cat[101]; \n Turtle[] turtles  =  new Turtle[23]; \n Kiwi[] kiwis  =  new Kiwi[6]; \n100 dogs. 101 cats. 23 turtles. 6 kiwis.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1163
  },
  {
    "chunk_full": "Advanced Object-Oriented Programming\n 419\n for (int i  =  0; i  <  dogs.length; i + + ) { \n dogs[i]  =  new Dog(); \n } \n for (int i  =  0; i  <  cats.length; i + + ) { \n cats[i]  =  new Cat(); \n } \n for (int i  =  0; i  <  turtles.length; i + + ) { \n turtle[i]  =  new Turtle(); \n } \n for (int i  =  0; i  <  kiwis.length; i + + ) { \n kiwis[i]  =  new Kiwi(); \n } \n As the day begins, the animals are all pretty hungry and are looking to eat. So it is oﬀ  to looping time. \n for (int i  =  0; i  <  dogs.length; i + + ) { \n dogs[i].eat(); \n } \n for (int i  =  0; i  <  cats.length; i + + ) { \n cats[i].eat(); \n } \n for (int i  =  0; i  <  turtles.length; i + + ) { \n turtles[i].eat(); \n } \n for (int i  =  0; i  <  kiwis.length; i + + ) { \n kiwis[i].eat(); \n } \n Th is works great, but as our world expands to include many more animal species, we are going to get \nstuck writing a lot of individual loops. Isn’t this unnecessary? After all, the creatures are all animals, and \nthey all like to eat. Why not just have one array of Animal objects and ﬁ ll it with all diﬀ erent kinds of \nAnimals? \n Animal[] kingdom  =  new Animal[1000]; \n for (int i  =  0; i  <  kingdom.length; i + + ) { \n if (i  <  100) kingdom[i]  =  new Dog(); \n else if (i  <  400) kingdom[i]  =  new Cat(); \n else if (i  <  900) kingdom[i]  =  new Turtle(); \n else kingdom[i]  =  new Kiwi(); \n } \n for (int i  =  0; i  <  kingdom.length; i + + ) { \n kingdom[i].eat(); \n } \n Th e ability to treat a Dog object as either a member of the Dog class or the Animal class (its parent) is \nknown as  Polymorphism , the third tenet of object-oriented programming. \n Polymorphism (from the Greek,  polymorphos, meaning many forms) refers to the treatment of a single \nobject instance in multiple forms. A Dog is certainly a Dog, but since Dog  extends Animal, it can also be \nconsidered an Animal. In code, we can refer to it both ways. \n Dog rover  =  new Dog(); \n Animal spot  =  new Dog(); \nBecause the arrays are different sizes, \nwe need a separate loop for each array.\nThe array is of type Animal, but the \nelements we put in the array are \nDogs, Cats, Turtles, and Kiwis.\nWhen it is time for all the Animals to \neat, we can just loop through that one \nbig array.\nNormally, the type on the left must match the type on the \nright. With polymorphism, it is OK as long as the type on \nthe right is a child of the type on the left.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1164
  },
  {
    "chunk_full": " Although the second line of code might initially seem to violate syntax rules, both ways of declaring a \nDog object are legal. Even though we declare spot as an Animal, we are really making a Dog object and \nstoring it in the spot variable. And we can safely call all of the Animal methods on spot because the rules \nof inheritance dictate that a Dog can do anything an Animal can. \n What if the Dog class, however, overrides the  eat( ) function in the Animal class? Even if spot is declared \nas an Animal, Java will determine that its true identity is that of a Dog and run the appropriate version of \nthe  eat( ) function. \n Th is is particularly useful when we have an array. \n Let’s rewrite the Shape example from the previous section to include many Circle objects and many \nSquare objects. \n // Many Squares and many Circles \n Square[] s  =  new Square[10]; \n Circle[] c  =  new Circle[20]; \n void setup()  { \n size(200,200); \n smooth(); \n // Initialize the arrays \n for (int i  =  0; i  <  s.length; i + + )  { \n s[i]  =  new Square(100,100,10); \n } \n for (int i  =  0; i  <  c.length; i + + )  { \n c[i]  =  new Circle(100,100,10,color(random(255),100)); \n } \n } \n void draw()  { \n background(100); \n // Jiggle and display all squares \n for (int i  =  0; i  <  s.length; i + + )  { \n s[i].jiggle(); \n s[i].display(); \n } \n // Jiggle and display all circles \n for (int i  =  0; i  <  c.length; i + + )  { \n c[i].jiggle(); \n c[i].display(); \n } \n } \n Polymorphism allows us to simplify the above by just making one array of Shape objects that contains \nboth Circle objects and Square objects. We do not have to worry about which are which, this will all be \ntaken care of for us! (Also, note that the code for the classes has not changed, so we are not including it \nhere.) See  Example 22.2 . \nThe old \"non-polymorphism\" \nway with multiple arrays.\n420\nLearning Processing\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1165
  },
  {
    "chunk_full": "Advanced Object-Oriented Programming\n 421\n Example 22-2: Polymorphism \n // One array of Shapes \n Shape[] shapes  =  new Shape[30]; \n void setup()  { \n  size(200,200); \n  smooth(); \n  for (int i  =  0; i  <  shapes.length; i + + ) { \n   int r  =  int(random(2)); \n   // randomly put either circles or squares in our array \n   if (r  = = 0) { \n    shapes[i]  =  new Circle(100,100,10,color(random(255),100)); \n   } else  { \n    shapes[i]  =  new Square(100,100,10); \n   } \n  } \n } \n void draw()  { \n  background(100); \n  // Jiggle and display all shapes \n  for (int i  =  0; i  <  shapes.length; i + + ) { \n   shapes[i].jiggle(); \n   shapes[i].display(); \n  } \n } \n ﬁ g. 22.3  \n 22.5  Overloading \n In Chapter 16, we learned how to create a Capture object in order to read live images from a video \ncamera. If you looked at the  Processing reference page ( http://www.processing.org/reference/libraries/video/\nCapture.html ), you may have noticed that the Capture constructor can be called with three, four, or ﬁ ve \narguments: \n Capture(parent, width, height) \n Capture(parent, width, height, fps) \n Capture(parent, width, height, name) \n Capture(parent, width, height, name, fps) \n Functions that can take varying numbers of arguments are actually something we saw all the way back \nin Chapter 1!  ﬁ ll( ) , for example, can be called with one number (for grayscale), three (for RGB color), or \nfour (to include alpha transparency). \n Exercise 22-4: Add the Line class you created in Exercise 22-2 to Example 22-2. Randomly \nput circles, squares, and lines in the array. Notice how you barely have to change any code \n(you should only have to edit  setup( ) above). \n Exercise 22-5: Implement polymorphism in the sketch you made for Exercise 22-3. \nThe new polymorphism way with \none array that has different types \nof objects that extend Shape.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1166
  },
  {
    "chunk_full": "422\nLearning Processing\n fill(255); \n fill(255,0,255); \n fill(0,0,255,150); \n Th e ability to deﬁ ne functions with the same name (but diﬀ erent arguments) is known as  overloading . \nWith  ﬁ ll( ) , for example,  Processing does not get confused about which deﬁ nition of  ﬁ ll( ) to look up, it \nsimply ﬁ nds the one where the arguments match. A function’s name in combination with its arguments \nis known as the function’s  signature —it is what makes that function deﬁ nition unique. Let’s look at an \nexample that demonstrates how overloading can be useful. \n Let’s say you have a  Fish class. Each  Fish object has a location:  x and  y . \n class Fish  { \n float x; \n float y; \n What if, when you make a Fish object, you sometimes want to make one with a random location and \nsometimes with a speciﬁ c location. To make this possible, we could write two diﬀ erent constructors: \n  Fish()  { \n x  =  random(0,width); \n   y  =  random(0,height); \n } \n Fish(float tempX, float tempY)  { \n x  =  tempX; \n y  =  tempY; \n } \n } \n When you create a Fish object in the main program, you can do so with either constructor: \n Fish fish1  =  new Fish(); \n Fish fish2  =  new Fish(100,200);   \nOverloading allows us to deﬁ ne two \nconstructors for the same object \n(as long as these constructors take \ndifferent arguments).\nIf two constructors are deﬁ ned, \nan object can be initialized using \neither one.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1167
  },
  {
    "chunk_full": "Java\n 423\n   23  Java \n “ I love coﬀ ee, I love tea, I love the Java Jive and it loves me. ” \n —Ben Oakland and Milton Drake \nIn this chapter: \n–  Processing is really Java. \n–  If we did not have  Processing what would our code look like? \n–  Exploring the Java API. \n–  Some useful examples: ArrayList, and Rectangle. \n–  Exception (error) handling—try and catch. \n–  Beyond  Processing ? \n 23.1  Revealing the Wizard \n Perhaps, all along while reading this book, you have been thinking:  “ Gosh, this is so awesome. I love \nprogramming. I am so glad I am learning  Processing . I can’t wait to go on and learn Java! ” Th e funny thing \nis, you do not really need to  learn Java. Pulling back the curtain of  Processing , what we will discover is that \nwe have been learning Java all along. For example, in Java, you: \n •  Declare, initialize, and use variables the same way. \n •  Declare, initialize, and use arrays the same way. \n •  Employ conditional and loop statements the same way. \n •  Define and call functions the same way. \n •  Create classes the same way. \n •  Instantiate objects the same way. \n Processing , of course, gives us some extra stuﬀ  for free (and simpliﬁ es some stuﬀ  here and there) and this \nis why it is a great tool for learning and for developing interactive graphics projects. Here is a list of some \nof what  Processing oﬀ ers that is not as easily available with just plain Java. \n •  A set of functions for drawing shapes. \n •  A set of functions for loading and displaying text, images, and video. \n •  A set of functions for 3D transformations. \n •  A set of functions for mouse and keyboard interaction. \n •  A simple development environment to write your code. \n •  A friendly online community of artists, designers, and programmers! \n 23.2  If we did not have  Processing , what would our code look like? \n In Chapter 2, we discussed the compilation and execution process—this is what happens when you \npress the play button and turn your code into a window with graphics. Step 1 of this process involves \n “ translating ” your  Processing code into Java. In fact, when you export to applet, this same process \noccurs and you will notice that along with the ﬁ le  “ Sketchname.pde, ” a new ﬁ le will appear named \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1168
  },
  {
    "chunk_full": "424\nLearning Processing\n “ SketchName.java. ” Th is is your  “ translated ” code, only  translation is somewhat of a misnomer since very \nlittle changes. Let’s look at an example: \n // Randomly Growing Square \n float w  =  30.0; // Variable to keep track of size of rect \n void setup()  { \n size(200, 200); \n } \n void draw()  { \n background(100); \n rectMode(CENTER); \n fill(255); \n noStroke(); \n rect(mouseX,mouseY,w,w);  // Draw a rect at mouse location \n w  + = random( – 1,1);     // Randomly adjust size variable \n } \n Exporting the sketch, we can open up the Java ﬁ le and look at the Java source. \n // Randomly Growing Square with Java Stuff \n import processing.core.*; \n import java.applet.*; \n import java.awt.*; \n import java.awt.image.*; \n import java.awt.event.*; \n import java.io.*; \n import java.net.*; \n import java.text.*; \n import java.util.*; \n import java.util.zip.*; \n \n float w  =  30.0f; // Variable to keep track of size of rect \n public void setup()  { \n size(200, 200); \n } \n public void draw()  { \n  background(100); \n  rectMode(CENTER); \n  fill(255); \n noStroke(); \n rect(mouseX,mouseY,w,w);  // draw a rect at mouse location \n w  + = random( – 1,1);     // randomly adjust size variable \n} \n } \n It is clear that little has changed, rather, some code has been added before and after the usual  setup( ) and \ndraw( ) stuﬀ . \n •  Import Statements —At the top, there are a set of import statements allowing access to certain \nlibraries. We have seen this before when using  Processing libraries. If we were using regular Java \nWhat we are used to seeing, our \nregular old Processing code.\nThe translated Java code has \nsome new stuff at the top, but \neverything else stays the same.\npublic class JavaExample extends PApplet  { \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1169
  },
  {
    "chunk_full": "Java\n 425\ninstead of  Processing , specifying all libraries would always be required.  Processing , however, assumes a \nbase set of libraries from Java (e.g., java.applet.*) and from  Processing (e.g.,  processing.core.* ) which is \nwhy we do not see these in every sketch. \n •  public —In Java, variables, functions, and classes can be  “ public ” or  “ private. ”  This designation \nindicates what level of access should be granted to a particular piece of code. It is not something \nwe have to worry much about in the simpler  Processing environment, but it becomes an important \nconsideration when moving on to larger Java programs. As an individual programmer, you are \nmost often granting or denying access to yourself, as a means for protecting against errors. We \nencountered some examples of this in Chapter 22’s discussion about encapsulation. \n •  class JavaExample —Sound somewhat familiar? Java, it turns out, is a true object-oriented language. \nThere is nothing written in Java that is not part of a class! We are used to the idea of the  Zoog class, \n Car class,  PImage class, and so on, but it is important to note that the sketch as a whole is a class, \ntoo!  Processing fills this stuff in for us so we do not have to worry about classes when we are first \nlearning to program. \n •  extends PApplet —Well, after reading Chapter 22, we should be quite comfortable with what this \nmeans. This is just another example of inheritance. Here, the class JavaExample is a  child of the class \nPApplet (or, equivalently, PApplet is the  parent of JavaExample). PApplet is a class developed by \nthe creators of  Processing and by  extending it, our sketch has access to all of the  Processing goodies—\n setup( ), draw( ) ,  mouseX ,  mouseY , and so on.  This little bit of code is the secret behind how almost \neverything works in a  Processing sketch. \n Processing has served us so well because it eliminates the need to worry about the above four elements, all \nthe while providing access to the beneﬁ ts of the Java programming language. Th e rest of this chapter will \nshow how we can begin to make use of access to the full Java API. (We brieﬂ y began this journey when \nwe worked with String parsing in Chapters 17 and 18.) \n 23.3  Exploring the Java API \n Th e  Processing reference quickly became our best friend forever while learning to program. Th e Java API \nwill start oﬀ  more as an acquaintance we bump into from time to time. Th at acquaintance might turn into \na really excellent friend someday, but for now, small doses will be just ﬁ ne. \n We can explore the full Java documentation by visiting: \n http://java.sun.com/ \n Th ere, we can click over to API speciﬁ cations: \n http://java.sun.com/reference/api/index.html \n and ﬁ nd a selection of versions of Java. On a Mac,  Processing will run with the selected version of Java \n(run Java Preferences, found, e.g., in: /Applications/Utilities/Java/J2SE 5.0/). On a PC, the  Processing \n “ standard ” download comes with Java version 1.4.2 (the Windows expert version allows you to install \nyour own version of Java). Versions of Java will change in the future with updated info at processing.org.\n In any case, while there are diﬀ erences between the version of Java, for what we are doing, they will not \nbe terribly relevant, and we can look at the API for J2SE 1.4.2 for pretty much whatever we want to do. \nSee  Figure 23.1 . \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1170
  },
  {
    "chunk_full": "426\nLearning Processing\n ﬁ g. 23.1  http://java.sun.com/j2se/1.4.2/docs/api/ \n And so, very quickly, you will ﬁ nd yourself completely lost. And that is OK. Th e Java API is huge. \nHumongous. It is not really meant to be read or even  perused . It is really pure reference, for looking up \nspeciﬁ c classes that you know you need to look up. \n For example, you might be working on a program that requires sophisticated random number \ngeneration beyond what  random( ) can do, and you overheard a conversation about the class  “ Random ” \nand thought  “ Hey, maybe I should check that out! ” Th e reference page for a speciﬁ c class can be \nfound by scrolling down the  “ All Classes ” list or else by selecting the right  package (in this case the \npackage java.util). A package, much like a library, is a collection of classes (the API organizes \nthem by topic). Th e easiest way to ﬁ nd a class, though, is to just type the name of the class and Java \n(i.e.,  “ Java Random ” ) into google. Th e documentation page is just about always the ﬁ rst result. \nSee  Figure 23.2 . \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1171
  },
  {
    "chunk_full": "Java\n 427\n Just as with the  Processing reference, the Java page includes an explanation of what the class does, the \nConstructors for creating an object instance, and available ﬁ elds (variables) and methods (functions). Since \nRandom is part of the java.util package (which  Processing imports by assumption), we do not need to \nexplicitly write an import statement to use it. \n Here is some code that makes a  Random object and calls the function  nextBoolean( ) on it to get a \nrandom  true or  false. \n Example 23-1: Using java.util.Random instead of random()\n Random r; \n void setup()  { \n  size(200,200); \n  r  =  new Random(); \n } \n ﬁ g. 23.2  \nDeclaring a Random object and \ncalling the constructor as found \nat http://java.sun.com/j2se/1.4.2/\ndocs/api/java/util/Random.html\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1172
  },
  {
    "chunk_full": "428\nLearning Processing\n void draw()  { \n  boolean trueorfalse  =  r.nextBoolean(); \n  if (trueorfalse)  { \n   background(0); \n  } else  { \n   background(255); \n  } \n } \n Exercise 23-1: Visit the Java reference page for Random and use it to get a random integer \nbetween 0 and 9.  http://java.sun.com/j2se/1.4.2/docs/api/java/util/Random.html . \n 23.4  Other Useful Java Classes:  ArrayList\n In Chapter 6, we learned how to use an array to keep track of ordered lists of information. We created \nan array of  N objects and used a  “ for ” loop to access each element in the array. Th e size of that array was \nﬁ xed—we were limited to having  N and only  N elements. \n Th ere are alternatives. One option is to use a very large array and use a variable to track how much of the \narray to use at any given time (see Chapter 10’s rain catcher example).  Processing also oﬀ ers  expand( ) , \n contract( ), subset( ) ,  splice( ) and other methods for resizing arrays. It would be great, however, to have a \nclass that implements a ﬂ exibly sized array, allowing items to be added or removed from the beginning, \nmiddle, and end of that array. \n Th is is exactly what the Java class ArrayList, found in the java.util package, does. \n Th e reference page is here:  http://java.sun.com/j2se/1.4.2/docs/api/java/util/ArrayList.html . \n Using an ArrayList is conceptually similar to a standard array, but the syntax is diﬀ erent. Here is some \ncode (that assumes the existence of a class  “ Particle ” ) demonstrating identical results, ﬁ rst with an array, \nand second with an ArrayList. All of the methods used in this example are documented on the JavaDoc \nreference page. \n // THE STANDARD ARRAY WAY \n int MAX  =  10; \n //declaring the array \n Particle[] parray  =  new Particle[MAX]; \n // Initialize the array in setup \n void setup()  { \n for (int i  =  0; i  <  parray.length; i + + )  { \n  parray[i]  =  new Particle(); \n } \n } \n // Loop through the array to call methods in draw \n void draw()  { \n for (int i  =  0; i  <  parray.length; i + + )  { \nCalling a function found at http://java.sun.com/\nj2se/1.4.2/docs/api/java/util/Random.html\nThe Standard Array Way\nThis is what we have been \ndoing  all along, accessing \nelements of the array via \nan index and brackets—[].\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1173
  },
  {
    "chunk_full": "Java\n 429\n  Particle p  =  parray[i]; \n  p.run(); \n  p.display(); \n } \n } \n // THE NEWFANGLED ARRAYLIST WAY \n int MAX  =  10; \n // Declaring and creating the ArrayList instance \n ArrayList plist  =  new ArrayList(); \n void setup()  { \n for (int i  =  0; i  <  MAX; i + + ) { \n plist.add(new Particle()); \n } \n } \n void draw()  { \n for (int i  =  0; i  <  plist.size(); i + + ) { \n  Particle p  =  (Particle) plist.get(i); \n  p.run(); \n  p.display(); \n } \n } \n In this last  “ for ” loop, we have to cast the object as we  get it out of the ArrayList. An ArrayList does not \nkeep track of the type of objects stored inside—even though it may seem redundant, it is our job to remind \nthe program by placing the class type (i.e., Particle) in parentheses. Th is process is known as  casting . \n Of course, the above example is somewhat silly, because it does not take advantage of the ArrayList’s \nresizability, using a ﬁ xed size of 10. Following is a better example that adds one new Particle to the \nArrayList with each cycle through  draw( ) . We also make sure the ArrayList never gets larger than 100 \nparticles. See  Figure 23.3 . \nThe New ArrayList Way\nElements of an ArrayList are added and accessed \nwith functions (rather than brackets)—add() and \nget(). All of these functions are documented in the \nJava reference: http://java.sun.com/j2se/1.4.2/docs/\napi/java/util/ArrayList.html.\nThe term “particle system” was coined in 1983 by William T. Reeves as he developed the “Genesis” \neffect for the end of the movie, Star Trek II: The Wrath of Khan.\nA particle system is typically a collection of independent objects, usually represented by a simple shape \nor dot. It can be used to model types of natural phenomena, such as explosions, ﬁ re, smoke, sparks, \nwaterfalls, clouds, fog, petals, grass, bubbles, and so on.\n Example 23-2: Simple particle system with ArrayList \n ArrayList particles; \n void setup()  { \n  size(200,200); \n  particles  =  new ArrayList(); \n  smooth(); \n } \nAn object is added to an ArrayList with add().\nThe size of the ArrayList is returned by size().\nAn object is accessed from the ArrayList with get(). You must “cast” \nwhatever comes out of the ArrayList with a type, that is (Particle). \nCasting is discussed in Chapter 4.\nﬁ g. 23.3\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1174
  },
  {
    "chunk_full": "430\nLearning Processing\n void draw()  { \n  particles.add(new Particle()); \n  background(255); \n  // Iterate through our ArrayList and get each Particle \n  for (int i  =  0; i  <  particles.size(); i + + )  { \n   Particle p  =  (Particle) particles.get(i); \n   p.run(); \n   p.gravity(); \n   p.display(); \n  } \n  // Remove the first particle when the list gets over 100. \n  if (particles.size()  >  100)  { \n   particles.remove(0); \n  } \n } \n // A simple Particle class \n class Particle  { \n  float x; \n  float y; \n  float xspeed; \n  float yspeed; \n  Particle()  { \n   x  =  mouseX; \n   y  =  mouseY; \n   xspeed  =  random(–1,1); \n   yspeed  =  random(–2,0);  } \n  void run()  { \n   x  =  x  +  xspeed; \n   y  =  y  +  yspeed; \n  } \n  void gravity()  { \n   yspeed  + = 0.1; \n  } \n  void display()  { \n   stroke(0); \n   fill(0,75); \n   ellipse(x,y,10,10); \n  } \n } \nA new Particle object is added to the \nArrayList every cycle through draw().\nThe ArrayList keeps track of how many \nelements it is storing and we iterate \nthrough them all.\nIf the ArrayList has more than 100 elements \nin it, we delete the ﬁ rst element, using \nremove().\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1175
  },
  {
    "chunk_full": "Java\n 431\nParticle\nA\nParticle\nB\nParticle\nC\nParticle\nD\nParticle\nE\nC is removed....\nArrayList particles\n0\n1\n2\nsize = 5\nsize = 4\n3\n4\nParticle\nA\nParticle\nB\nParticle\nD\nParticle\nE\n0\n1\n2\n3\n ﬁ g. 23.4  \n Hint: Add a function that returns a boolean in the Particle class. \n _______ finished() { \n  if (_______)  { \n   return _______; \n  } else { \n   return false; \n  } \n } \n Hint: In order for this to work properly, you must iterate through elements of the ArrayList \nbackward! Why? Because when an element is removed, all subsequent elements are shifted to the \nleft (see  Figure 23.4 ). \n for (int i  =  _______; i _______; i_______)  { \n  Particle p  =  (Particle) particles.get(i); \n  p.run(); \n  p.gravity(); \n  p.render(); \n  if (_______)  { \n  _______;\n  } \n } \n Exercise 23-2 : Rewrite Example 23-2 so that particles are removed from the list whenever \nthey leave the window (i.e., their y location is greater than height). \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1176
  },
  {
    "chunk_full": "432\nLearning Processing\n 23.5  Other Useful Java Classes:  Rectangle\n Th e second helpful Java class we will examine is the Rectangle class: \nhttp://java.sun.com/j2se/1.4.2/docs/api/java/awt/Rectangle.html . \n A Java Rectangle speciﬁ es an area in a coordinate space that is enclosed by the Rectangle object’s top-left point \n( x ,  y ), its width, and its height. Sound familiar? Of course, the  Processing function  rect( ) draws a rectangle with \nprecisely the same parameters. Th e  Rectangle class encapsulates the idea of a rectangle into an object. \n A Java Rectangle has useful methods, for instance,  contains( ). contains( ) oﬀ ers a simple way of checking if \na point or rectangle is located inside that rectangle, by receiving an  x and  y coordinate and returning true \nor false, based on whether the point is inside the rectangle or not. \n Here is a simple rollover implemented with a Rectangle object and  contains( ) . See  Example 23.3 . \n Example 23-3: Using a java.awt.Rectangle object \n Rectangle rect1, rect2; \n void setup()  { \n  size(200,200); \n  rect1  =  new Rectangle(25,25,50,50); \n  rect2  =  new Rectangle(125,75,50,75); \n } \n void draw()  { \n  background(255); \n  stroke(0); \n  if (rect1.contains(mouseX,mouseY))  { \n   fill(200); \n  }   else  { \n   fill(100); \n  } \n  rect(rect1.x, rect1.y, rect1.width,rect1.height); \n  // Repeat for the second Rectangle \n  // (of course, we could use an array or ArrayList here!) \n  if (rect2.contains(mouseX,mouseY))  { \n   fill(200); \n  }   else  { \n   fill(100); \n  } \n  rect(rect2.x, rect2.y, rect2.width,rect2.height); \n } \n Let’s have some fun and combine the ArrayList  “ particle ” example with the Rectangle  “ rollover. ” In \nExample 23-4, particles are made every frame and pulled down by gravity toward the bottom of the \nwindow. If they run into a rectangle, however, they are caught. Th e particles are stored in an ArrayList \nand a Rectangle object determines if they have been caught or not. (Th is example contains answers to \nExercise 23-2.) \n ﬁ g. 23.5  \nThis sketch uses two \nRectangle objects. \nThe arguments for \nthe constructor \n(x,y,width,height) are \ndocumented in the Java \nreference: http://java.sun.\ncom/j2se/1.4.2/docs/api/\njava/awt/Rectangle.html.\nA Rectangle object only \nknows about the variables \nassociated with a rectangle. \nIt cannot display one. So \nwe use Processing’s rect()\nfunction in combination with \nthe Rectangle’s data.\nThe contains() function is used to determine \nif the mouse is located inside the rectangle.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1177
  },
  {
    "chunk_full": "Java\n 433\n Example 23-4: Super fancy ArrayList and rectangle particle system \n // Declaring a global variable of type ArrayList \n ArrayList particles; \n // A  \"Rectangle\" will suck up particles \n Rectangle blackhole; \n void setup()  { \n  size(200,200); \n  blackhole  =  new Rectangle(50,150,100,25); \n  particles  =  new ArrayList(); \n  smooth(); \n } \n void draw()  { \n  background(255); \n  // Displaying the Rectangle \n  stroke(0); \n  fill(175); \n  rect(blackhole.x, blackhole.y, blackhole.width,blackhole.height); \n  // Add a new particle at mouse location \n  particles.add(new Particle(mouseX,mouseY)); \n  // Loop through all Particles \n  for (int i  =  particles.size() – 1; i  > = 0; i – – ) {\n   Particle p  =  (Particle) particles.get(i); \n   p.run(); \n   p.gravity(); \n   p.display(); \n  if (blackhole.contains(p.x,p.y)) { \n   p.stop(); \n   } \n   if (p.finished())  { \n    particles.remove(i); \n   } \n  } \n } \n // A simple Particle Class \n class Particle  { \n  float x; \n  float y; \n  float xspeed; \n  float yspeed; \n  float life; \n  // Make the Particle \n  Particle(float tempX, float tempY)  { \n   x  =  tempX; \n   y  =  tempY; \n   xspeed  =  random(–1,1); \n   yspeed  =  random(–2,0); \n   life  =  255; \n  } \n ﬁ g. 23.6  \nIf the Rectangle contains the location of the \nParticle, stop the Particle from moving.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1178
  },
  {
    "chunk_full": "434\nLearning Processing\n  // Move \n  void run()  { \n   x  =  x  +  xspeed; \n   y  =  y  +  yspeed; \n  } \n  // Fall down \n  void gravity()  { \n   yspeed  + = 0.1; \n  } \n  // Stop moving \n  void stop()  { \n   xspeed  =  0; \n   yspeed  =  0; \n  } \n  // Ready for deletion \n  boolean finished()  { \n   life  – = 2.0; \n   if (life  <  0) return true; \n   else return false; \n  } \n  // Show \n  void display()  { \n   stroke(0); \n   fill(0,life); \n   ellipse(x,y,10,10); \n  } \n } \n Exercise 23-3: Write a Button class that includes a Rectangle object to determine if the \nmouse has clicked inside the button’s area. (Th is is an extension of Exercise 9-8 .) \n 23.6  Exception (Error) Handling \n In addition to a very large library of useful classes, the Java programming language includes some features \nbeyond what we have covered while learning  Processing . We will explore one of those features now: \nexception handling . \n Programming mistakes happen. We have all seen them. \n java.lang.ArrayIndexOutOfBoundsException \n java.io.IOException: openStream() could not open file.jpg \n java.lang.NullPointerException \nThe Particle has a “life” variable which \ndecreases. When it reaches 0 the Particle \ncan be removed from the ArrayList.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1179
  },
  {
    "chunk_full": "Java\n 435\n It is sad when these errors occur. Really, it is. Th e error message prints out and the program sputters to a \nhalt, never to continue running again. Perhaps you have developed some techniques for protecting against \nthese error messages. For example: \n if (index  <  somearray.length)  { \n somearray[index]  =  random(0,100); \n } \n Th e above is a form of  “ error checking. ” Th e code uses a conditional to check that the index is valid \nbefore an element at that index is accessed. Th e above code is quite conscientious and we should all aspire \nto be so careful. \n Not all situations are as simple to avoid, however, and this is where  exception handling comes into play. \nException handling refers to the process of handling  exceptions , out of the ordinary events (i.e., errors) \nthat occur during the execution of a program. \n Th e code structure for exception handling in Java is known as  try catch . In other words,  “ Try to run some \ncode. If you run into a problem, however,  catch the error and run some other code. ” If an error is caught \nusing try catch, the program is allowed to continue. Let’s look at how we might rewrite the array index \nerror checking code  try catch style. \n try  { \n somearray[index]  =  200; \n } catch (Exception e) { \n println( \"Hey, that’s not a valid index! \"); \n } \n Th e above code catches any possible exception that might occur. Th e type of error caught is the generic \n Exception. However, if you want to execute certain code based on a speciﬁ c exception, you can, as the \nfollowing code demonstrates. \n try  { \n somearray[index]  =  200; \n } catch (ArrayIndexOutOfBoundsException e) { \n println ( \"Hey, that’s not a valid index! \"); \n } catch (NullPointerException e) { \n println( \"I think you forgot to create the array! \"); \n } catch (Exception e) { \n println( \"Hmmm, I dunno, something weird happened! \"); \n e.printStackTrace(); \n } \n Th e above code, nevertheless, does nothing more than print out custom error messages. Th ere are \nsituations where we want more than just an explanation. For example, take the examples from Chapter 18 \nwhere we loaded data from a URL path. What if our sketch had failed to connect to the URL? It would \nhave crashed and quit. With exception handling, we can catch that error and ﬁ ll the array with  Strings \nmanually so that the sketch can continue running. \nThe code that might produce an error \ngoes within the “try” section. The \ncode that should happen if an error \noccurs goes in the “catch” section.\nDifferent “catch” sections \ncatch different types of \nexceptions. In addition, each \nexception is an object and \ncan therefore have methods \ncalled on it. For example: \ne.printStackTrace(); \ndisplays more detailed \ninformation about the \nexception.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1180
  },
  {
    "chunk_full": "436\nLearning Processing\n String[] lines; \n String url  =  \" http://wwww.rockinurl.com \" ; \n try  { \n lines  =  loadStrings(url); \n } catch (Exception e)  { \n lines  =  new String[3]; \n lines[0]  =  \" I could not connect to  \"  +  url  +  \" !!! \" ; \n lines[1]  =  \" But here is some stuff to work with \" ; \n lines[2]  =  \" anyway. \" ; \n } \n println(lines); \n 23.7  Java Outside of Processing\n Here we are, the very last section of this book. You can can take a break now if you want. Maybe go \noutside and have a walk. A little jog around the block even. It will be good for you. \n OK, back now? Great, let’s go on. \n As we close out this chapter and the book, we will cover one ﬁ nal topic: what to do if and when you \ndecide you want to start coding outside of  Processing . \nBut why would I ever want to do this?\n One instance that would merit another programming environment is in the case of making an application \nthat does not involve any graphics! Perhaps you need to write a program that takes all of your ﬁ nancial \ninfo from spreadsheets and logs it in a database. Or a chat server that runs in the background on your \ncomputer. While both of these could be written in the  Processing environment, they do not necessarily \nneed any of the features of  Processing to run. \n In the case of developing larger and larger projects that involve many classes, the  Processing environment \ncan become a bit diﬃ  cult to use. For example, what if your project involves, say, 20 classes. Creating a \nProcessing sketch with 20 tabs (and what if it were 40? or 100?) can be hard to manage, let alone ﬁ t on \nthe screen. In this case, a development environment designed for large-scale Java projects would be better. \nSince  Processing is Java, you can still use all of the functions available in  Processing in other development \nenvironments by importing the core libraries. \n So, what do you do? First, I would say do not rush. Enjoy  Processing and take the time to feel comfortable \nwith your own coding process and style before getting yourself wrapped up in the myriad of issues and \nquestions that come along with programming in Java. \n If you feel ready, a good ﬁ rst step is to just take some time browsing the Java web site: \nhttp://java.sun.com/\n Start with one of the tutorials: \nhttp://java.sun.com/docs/books/tutorial/ \nIf a problem occurs connecting \nto the URL, we will just ﬁ ll the \narray with dummy text so that \nthe sketch can still run.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1181
  },
  {
    "chunk_full": "Java\n 437\n Th e tutorials will cover the same material found in this book, but from a pure Java perspective. \n Th e next step would be to just try compiling and running a  “ Hello World ” Java program. \n public class HelloWorld  { \n public static void main(String[] args)  { \n System.out.println( \"Hello World. I miss you Processing. \"); \n } \n } \n Th e Java site has tutorials which explain all the elements in a Hello World program, as well as provide \ninstructions on how to compile and run it on the  “ command line. ” \n http://java.sun.com/docs/books/tutorial/getStarted/index.html \n Finally, if you are feeling ambitious, go and download Eclipse: \n http://www.eclipse.org/ \n ﬁ g. 23.7  A Processing sketch in Eclipse\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1182
  },
  {
    "chunk_full": "438\nLearning Processing\n Eclipse is a development environment for Java with many advanced features. Some of those features will \ngive you a headache and some will make you wonder how you ever programmed without Eclipse. Just \nremember, when you started with  Processing in Chapter 2, you were probably up and running with your \nﬁ rst sketch in less than ﬁ ve  minutes. With something like  Eclipse , you could need a much longer time to \nget started. See  Figure 23.7 . \n Visit this book’s web site for links and tutorials about how to run a  Processing sketch within the Eclipse \nenvironment. \n Th anks for reading. Feedback is encouraged and appreciated, so come on down to http://www.\nlearningprocessing.com and sound oﬀ  !\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1183
  },
  {
    "chunk_full": "Appendix\n 439\n Appendix: Common Errors \n Th is appendix oﬀ ers a brief overview of common errors that occur in  Processing , what those errors mean \nand why they occur. Th e language of error messages can often be cryptic and confusing, mostly due to \ntheir origins in the Java programming language. \n For these error messages, we will use the following conventions: \n Variables in the error messages will be named  “ myVar ” . \n Arrays in the error messages will be named  “ myArray ” . \n If the error is speciﬁ cally related to an object variable, the variable will be named  “ myObject ” . \n If the error is related to a class, the class will be named  “ Th ing ” . \n If the error is related to a function, the function will be named  “ function ” . \n \n ERROR \n PAGE NO. \n unexpected token: _____ \n 440 \n Found one too many  { characters without a  } to match it. \n 440 \n No accessible ﬁ eld named  “ myVar ” was found in type  “ Temporary_####_#### ” \n 441 \n Th e variable  “ myVar ” may be accessed here before having been deﬁ nitely assigned a \nvalue. \n 442 \n java.lang.NullPointerException \n 442 \n Type  “ Th ing ” was not found. \n 444 \n Perhaps you wanted the overloaded version  “ type function (type $1, type $2,  … ); ” \ninstead? \n 445 \n No method named  “ fnction ” was found in type  “ Temporary_####_#### ” . However, \nthere is an accessible method  “ function ” whose name closely matches the name \n “ fnction ” . \n 445 \n No accessible method with signature  “ function (type, type,  … ) ” was found in type \n “ Temporary_3018_2848 ” . \n 445 \n java.lang.ArrayIndexOutOfBoundsException \n 446 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1184
  },
  {
    "chunk_full": "Error: \nunexpected token: something \nTranslation: \nI’m expecting a piece of code here that you forgot, most likely some punctuation, like a semicolon, \nparenthesis, curly bracket, and so on. \n Th is error is pretty much always caused by a typo. Unfortunately, the line of code that the error points to \ncan be misleading.   Th e  “ something ” is sometimes correct and the actual error is caused by line before or \nafter. Any time you forget or include an improper comma, semicolon, quote, parenthesis, bracket, and so \non, you will get this error. Here are some examples:\n ERROR\n CORRECTED\n void setup()  {\n  for (int i  =  0; i  <  10; i + + )  { \n  if (i  >  5)  { \n  \n line(0,i,i,0); \n \n println( \" \n\" ); \n }\n } \n void setup()  { \n for (int i  =  0; i  <  10; i + + )  { \n  if (i  >  5)  { \n   line(0,i,i,0); \n  println( \" i is greater than 5 \" ); \n  }  \n }\n } \nError: \nFound one too many  { characters without a  } to match it. \nTranslation: \nYou forgot to close a block of code, such as an if statement, a loop, a function, a class, and so on. \n Any time you have an open curly bracket in your code ( “ { ” ), you must have a matching close curly bracket \n( “ } ” ). And since blocks of code are often nested inside each other, it is easy to forget one by accident, \nresulting in this error. \n440\nLearning Processing\n ERROR \n CORRECTED \n int val  =  5 \n int val =  5; \n if (x  <  5  { \n ellipse(0,0,10,10); \n} \n if (x <  5)  { \n ellipse (0,0,10,10); \n} \n for (int i  =  0, i <  5,i + + )  { \n println(i); \n} \n for (int i =  0; i  < 5; i + +)\n println(i);{ \nMissing semicolon.\nMissing close parenthesis.\nFor loop should be separated \nby semicolons, not commans.\nMissing a close curly bracket!\ni is greater than 5 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1185
  },
  {
    "chunk_full": "Appendix\n 441\nError: \nNo accessible ﬁ eld named  “ myVar ” was found in type  “ Temporary_7665_1082 ” \nTranslation: \nI do not know about the variable  “ myVar. ” It is not declared anywhere I can see. \n Th is error will happen if you do not declare a variable. Remember, you can’t use a variable until you have \nsaid what type it should be. You will get the error if you write: \n myVar  =  10; \n instead of: \n int myVar  =  10; \n Of course, you should only declare the variable once, otherwise you can run into trouble. So this is \nperfectly OK: \n int myVar  =  10; \n myVar  =  20; \n Th is error can also occur if you try to use a local variable outside of the block of code where it was \ndeclared. For example: \n if (mousePressed)  { \nint myVar  =  10; \n } \n ellipse(myVar,10,10,10); \n Here is a corrected version: \n int myVar  =  0; \n if (mousePressed)  { \n myVar  =  10; \n } \n ellipse(myVar,10,10,10); \n Or if you have declared a variable in  setup( ) , but try to use it in  draw( ) . \n void setup()  { \n int myVar  =  10; \n } \n void draw()  { \n ellipse(myVar,10,10,10); \n } \n Corrected: \n int myVar  =  0; \n void setup()  { \n myVar  =  10; \n } \nERROR! myVar is local to the if statement so \nit cannot be accessed here.\nOK! The variable was declared.\nOK! The variable is declared outside of the \nif statement.\nERROR! myVar is local to the setup() so it \ncannot be accessed here.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1186
  },
  {
    "chunk_full": "442\nLearning Processing\n void draw()  { \n ellipse(myVar,10,10,10); \n } \n Th e same error will occur if you use an array in any of the above scenarios. \nmyArray[0]  =  10;\nError:\n Th e variable  “ myVar ” may be accessed here before having been deﬁ nitely assigned a value. \nTranslation:\n You declared the variable  “ myVar ” , but you did not initialize it. You should give it a value ﬁ rst. \n Th is is a pretty simple error to ﬁ x. Most likely, you just forgot to give your variable its default starting \nvalue.   Th is error only occurs for local variables (with global variables  Processing will either not care, and \nassume the value is zero, or else throw a  NullPointerException ). \n int myVar; \n line(0, myVar,0,0); \n int myVar  =  10; \n line(0, myVar,0,0); \n Th is error can also occur if you try to use an array before allocating its size properly. \n int[] myArray; \n myArray[0]  =  10; \n int[] myArray  =  new int[3]; \n myArray[0]  =  10; \nError:\njava.lang.NullPointerException\nTranslation:\nI have encountered a variable whose value is null. I can’t work with this.\n Th e  NullPointerException error can be one of the most diﬃ  cult errors to ﬁ x. It is most commonly caused by \nforgetting to initialize an object. As mentioned in Chapter 8, when you declare a variable that is an object, \nit is ﬁ rst given the value of  null , meaning nothing. (Th is does not apply to primitives, such as integers and \nﬂ oats.) If you attempt to then use that variable without having initialized it (by calling the Constructor), \nthis error will occur. Here are a few examples (that assume the existence of a class called  “ Th ing ” ). \n Thing thing; \n void setup()  { \n } \nERROR! No array was declared.\nOK! The variable is global.\nERROR! myVar does not have a value.\nOK! myVar equals ten.\nERROR! myArray was not created properly.\nOK! myArray is an array of three integers.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1187
  },
  {
    "chunk_full": "Appendix\n 443\n void draw()  { \n thing.display(); \n } \n Corrected: \n Thing thing; \n void setup()  { \n thing  =  new Thing(); \n } \n void draw()  { \n thing.display(); \n } \n Sometimes, the same error can occur if you do initialize the object, but as a local variable by accident. \n Thing thing; \n void setup()  { \n Thing thing  =  new Thing(); \n } \n void draw()  { \n thing.display(); \n } \n Th e same goes for an array as well. If you forget to initialize the elements, you will get this error. \n Thing[] things  =  new Thing[10]; \n for (int i  =  0; i  <  things.length; i ++ )  { \n things[i].display(); \n } \n Corrected: \n Thing[] things  =  new Thing[10]; \n for (int i  =  0; i  <  things.length; i ++ )  { \n things[i]  =  new Thing(); \n } \n for (int i  =  0; i  <  things.length; i ++ )  { \n things[i].display(); \n } \n Finally, if you forget to allocate space for an array, you can also end up with this error. \n int[] myArray; \n void setup()  { \n myArray[0]  =  5; \n } \nERROR! “thing” was never initialized and \ntherefore has the value null.\nOK! “thing” is not null because it was initialized \nwith the constructor.\nERROR! This line of code declares and initializes \na different “thing” variable (even though it has \nthe same name). It is a local variable for only \nsetup(). The global “thing” is still null!\nERROR! All the elements on the array are null!\nOK! The ﬁ rst loop initialized the elements of the array.\nERROR! myArray is null because you never \ncreated it and gave it a size.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1188
  },
  {
    "chunk_full": "444\nLearning Processing\n Corrected: \n int[] myArray  =  new int[3]; \n void setup()  { \n myArray[0]  =  5; \n } \nError: \nType  “ Th ing ” was not found. \nTranslation: \nYou are trying to declare a variable of type Th ing, but I do not know what a Th ing is. \n Th is error occurs because you either (a) forgot to deﬁ ne a class called  “ Th ing ” or (b) made a typo in the \nvariable type. \n A typo is pretty common: \n intt myVar  =  10; \n Or maybe you want to create an object of type Th ing, but forgot to deﬁ ne the thing class. \n Thing myThing  =  new Thing(); \n Th is will work, of course, if you write: \n void setup()  { \n Thing myThing  =  new Thing(); \n } \n class Thing  { \n Thing()  { \n } \n } \n Finally, the error will also occur if you try to use an object from a library, but forget to import the library. \n void setup()  { \n Capture video  =  new Capture(this,320,240,30); \n } \n Corrected: \n import processing.video.*; \n void setup()  { \n Capture video  =  new Capture(this,320,240,30); \n } \nOK! myArray is an array of three integers.\nERROR! You probably meant to type “int” not “intt.”\nERROR! If you did not deﬁ ne a class called “Thing.”\nOK! You did declare a class called “Thing.”\nERROR! You forgot to import \nthe video library.\nOK! You imported the library.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1189
  },
  {
    "chunk_full": "Appendix\n 445\nError: \nPerhaps you wanted the overloaded version  “ type function (type $1, type $2,  … ); ” instead? \nTranslation: \nYou are calling a function incorrectly, but I think I know what you mean to say. Did you want call \nthis function with these arguments? \n Th is error occurs most often when you call a function with the incorrect number of arguments. For \nexample, to draw an ellipse, you need an  x location,  y location, width, and height. But if you write: \nellipse(100,100,50); \n You will get the error:  “ Perhaps you wanted the overloaded version ‘void ellipse(ﬂ oat $1, ﬂ oat $2, ﬂ oat $3, \nﬂ oat $4);’ instead? ”   Th e error lists the function deﬁ nition for you, indicating you need four arguments, all of \nﬂ oating point. Th e same error will also occur if you have the right number of arguments, but the wrong type. \n ellipse(100,100,50, \"Wrong Type of Argument \"); \nError: \nNo method named  “ fnction ” was found in type  “ Temporar y_9938_7597 ” .   However, there is an \naccessible method  “ function ” whose name closely matches the name  “ fnction ” . \nTranslation: \nYou are calling a function I have never heard of, however, I think I know what you want to say \nsince there is a function I have heard of that is really similar. \n Th is is a similar error and pretty much only happens when you make a typo in a function’s name. \n elipse(100,100,50,50); \nError: \nNo accessible method with signature  “ function (type, type,  … ) ” was found in type \n “ Temporary_3018_2848 ” . \nTranslation: \nYou are calling a function that I have never heard of. I have no idea what you are talking about! \n Th is error occurs if you call a function that just plain does not exist, and  Processing can’t make any guess as \nto what you meant to say. \n functionCompletelyMadeUp(200); \nERROR! ellipse() requires four arguments.\nERROR! ellipse() can not take a String!\nERROR! You have the right number of arguments, \nbut you spelled “ellipse” incorrectly.\nERROR! Unless you have deﬁ ned this function, \nProcessing has no way of knowing what it is.\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1190
  },
  {
    "chunk_full": "446\nLearning Processing\n Same goes for a function that is called on an object. \n Capture video  =  new Capture(this,320,240,30); \n video.turnPurple(); \nError: \njava.lang.ArrayIndexOutOfBoundsException: ## \nTranslation: \nYou tried to access an element of an array that does not exist. \n Th is error will happen when the index value of any array is invalid. For example, if your array is of length \n10, the only valid indices are zero through nine. Anything less than zero or greater than nine will produce \nthis error. \n int[] myArray  =  new int[10]; \n myArray[-1]  =  0 \n myArray[0]  =  0; \n myArray[5]  =  0; \n myArray[10]  =  0; \n myArray[20]  =  0; \n Th is error can be a bit harder to debug when you are using a variable for the index. \n int[] myArray  =  new int[100]; \n myArray[mouseX]  =  0; \n int index  =  \n \n myArray[index]  =  0; \n A loop can also be the source of the problem. \n for (int i  =  0; i  <  200; i + + \n \n  myArray[i]  =  0; \n } \n for (int i  =  0; i  <  myArray.length; i + + )  { \n  myArray[i]  =  0; \n } \n for (int i  =  0; i  <  200; i + + )   \n  if (i  <  myArray.length)  { \n  myArray[i]  =  0; \n  } \n } \nERROR! There is no function called turnPurple() in the \nCapture class.\nERROR! –1 is not a valid index.\nOK! 0 and 5 are valid indices.\nERROR! 10 is not a valid index.\nERROR! 20 is not a valid index.\nERROR! mouseX could be bigger than 99.\nOK! mouseX is constrained between 0 and 99 ﬁ rst.\nERROR! i loops past 99.\nOK! If your loop really needs to go to 200, then you could build \nin an if statement inside the loop.\nOK! Using the length property of the array as the exit condition for the loop.\n{\n)  { \nconstrain(mouseX,0,myArray.length-1);\n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1191
  },
  {
    "chunk_full": "Index\n 447\n Index\n AIFF (Audio Interchange File Format)  380 ,  382 \n Algorithms  165 \n Act II, getting ready for  188–9 \n catcher,  168–70 \n from ideas to parts  167–8 \n intersection  170–5 \n project  189 \n puttin ’ on the Ritz  182–8 \n raindrops  178–82 \n timer  176–8 \n Alpha transparency  14 \n Angles  210–11 \n Animation: \n with image  255–6 \n of text  309–12 \n API (Application Programming Interface)  349 \n Append( ) function  157 ,  158 \n Apple Computers  273 \n Applets  20 \n Arc( )  8 ,  9 \n Arduino web sites  369 \n Arguments  25 ,  108–13 \n ArrayList  426–9 \n ArrayOfInts  145 \n Arrays  141 \n concepts  144–5 \n declaration and creation of  145–6 \n of images  258–9 \n initialization  146–7 \n interactive objects  154–7 \n of objects  152–4 \n operations  144 ,  147–9 \n processing’s array functions  157–9 \n snake  150–2 \n Zoogs in  159–60 \n ASCII (American Standard Code for Information \nInterchange) code  364 ,  370 \n Asterisk  363 \n Asynchronous requests  339–42 \n vs. synchronous requests  353–4 \n Audacity  382 \n Available( ) function  275 ,  355 \n Background removal  292–4 \n Background( ) function  11 ,  36 ,  195 \n BeginRecord( ) function  398 \n BeginShape( ) function  231 ,  233 \n Bit  10 \n BlobDetection  298 \n Blobs  298 \n Block of code  32 \n Boolean expressions  61 \n Boolean variables  71–4 \n Bouncing ball  74–8 \n Box( ) function  235 \n Brightness mirror  284–6 \n Brightness( ) function  288 \n Broadcasting  360–2 \n Bubble class constructor  329 \n Bug  191 \n Built-in libraries  196 \n Byte  10 \n Callback function  276 ,  340 \n Capture constructor  275 \n Capture object  274–5 \n CaptureEvent( ) function  276 ,  340 ,  355 \n Cartesian coordinates  212 \n Casting  57 ,  427 \n Catcher  168–70 \n Caught( ) function  185 \n “ CENTER ” mode  6 ,  7 \n Change( ) function  331 \n Characters  47 \n CharAt( ) function  304 ,  316 ,  323 \n Charcount  313 \n Clapper  390 \n Class  122 ,  407 \n Class JavaExample  423 \n Class name  125 \n Client: \n creation  358–9 \n multi-user communication  366–7 \n Codec  402 \n Coding, in processing  20–3 \n Color selector  13 \n Color transparency  14–15 \n ColorMode( ) function  15 ,  257 \n Compilation  26 \n Computer vision  287–91 \n libraries  297–8 \n Concat( ) function  157 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1192
  },
  {
    "chunk_full": "448\nIndex\n Concatenation  258 ,  306 ,  324 \n Conditionals: \n boolean expressions  61 \n boolean variables  71–4 \n bouncing ball  74–8 \n description  65–7 \n if, else, else if  62–4 \n logical operators  67–9 \n multiple rollovers  69–70 \n physics  101 ,  79–81 \n Constrain( ) function  65 ,  66 ,  89 \n Constructor  125 \n arguments  131–4 \n Contains( ) function  429 ,  430 \n Contributed libraries  196–8 \n Control structure  84 \n Convolution( ) function  269 \n Copy( )  292 ,  304 \n “ CORNER ” mode  6 ,  7 \n Cos( ) function  213 \n Cosine  212 ,  213 \n CreateFont( ) function  308 \n CreateImage( ) function  255 \n Curve vertex  233 \n Curve( )  8 ,  9 \n Custom color ranges  15–16 \n Dampening eﬀ ect  80 \n Data  125 \n types  47 \n Data input  323 \n asynchronous requests  339–42 \n sandbox  352 \n splitting and joining  324–7 \n string manipulation  323–4 \n text analysis  338–9 \n text ﬁ les, reading and writing  327–33 \n text parsing  333–8 \n XML  342–6 \n XML library, processing  346–9 \n Yahoo API  349–52 \n Data streams  353 \n broadcasting  360–2 \n client creation  358–9 \n multi-user communication  362 \n client  366–7 \n server  362–5 \n server and client  368 \n serial communication  368–71 \n with handshaking  371–2 \n with strings  372–4 \n server creation  354–7 \n synchronous vs. asynchronous request  353–4 \n Debugging  191 \n human being, involvement of  191 \n println( )  193–4 \n simplify  192–3 \n taking a break  191 \n Decimal numbers  47 \n Delimiter  325 \n Descartes, René  212 \n Display( ) function  107 ,  108 ,  155 ,  193 ,  230 ,  245 \n Displaying text  306–9 ,  315–21 \n Dist( ) function  116 ,  117 ,  172 \n Do-while loop  85 \n Doorbell  382 \n with Minim  385–6 \n with Sonia  382–4 \n Dot syntax  195 ,  127 \n Double-buﬀ ering process  36 \n Double-threshold algorithm  391 \n Draw( ) function  32–4 ,  36 ,  37 ,  38 ,  72 ,  75 ,  90 ,  93 ,  94 ,  96 , \n   103 ,  105 ,  107 ,  110 ,  114 ,  123 ,  179 ,  183 ,  227 ,  255 , \n    307 ,  310 \n Draw( ) loop  51 ,  150 ,  275 \n DrawBlackCircle( ) function  105 ,  109 \n DrawCircle( )  218 \n DrawSpaceShip( ) function  104 \n DrawZoog( ) function  118 \n Duration( ) function  281 \n Eclipse  434 ,  435 \n Ellipse  5 \n with variables  55 \n Ellipse( ) function  24 ,  109 ,  227 ,  230 \n Encapsulation  407–40 \n EndRaw( ) function  399 \n EndRecord( ) function  398 ,  399 \n EndShape( ) function  231 ,  233 \n Equals( ) function  305 ,  323 \n Error  23–4 \n exception handling, in Java  432–3 \n messages  437–44 \n Exit conditions  88–90 \n Expand( ) function  157 \n Export Application  395–6 \n Exporting  395 \n high-resolution PDFs  397–400 \n images/saveFrame( )  400–1 \n MovieMaker  401–3 \n stand-alone applications  395–7 \n web applets  395 \n Extends PApplet  423 \n Factorial  217 \n Fil( ) function  104 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1193
  },
  {
    "chunk_full": "Index\n 449\n Fill( ) function  10 ,  11 ,  256 ,  308 \n Filter( ) function  266 \n FinishMovies( ) function  402 \n Flow  31–2 \n “ For ” loop  90–3 \n Fractals  217 \n FrameRate( ) function  40 \n Functionality, of objects  125 \n Functions  103 \n arguments  108–13 \n deﬁ nition  105–6 \n passing a copy  113–14 \n return type  114–17 \n simple modularity  106–8 \n splitting of  103–4 \n user deﬁ ned  104 \n Zoog reorganization  118–19 \n Function’s signature  419 \n GetChild( ) function  347 \n GetChildCount( ) function  347 ,  348 \n GetChildren( ) function  347 \n GetContent( )  347 \n GetElementArray  346 \n GetElementAttributeText( )  345 \n GetElementText( ) function  345 \n GetFloatAttribute( )  347 \n GetIntAttribute( )  347 \n GetStringAttribute( )  347 \n GetSummaries( )  350 \n Getters  408 \n GetTotalResultsAvailable( )  351 \n Global variable  93–5 \n Globs  see  Blobs \n Good friends  32–4 \n Graph paper  3–4 \n Graphical user interface (GUI)  71 \n Grayscale color  10–12 \n Grayscale image  221 ,  222 \n Handshaking, serial communication with  371–2 \n High-resolution PDFs  397–400 \n Highlight( ) function  175 \n Home( ) function  318 \n HTML  333 ,  335 \n HTMLRequest object  340 ,  341 \n Hypertext Transfer Protocol (HTTP)  353 \n If, else, else if conditionals  62–4 \n Image( ) function  254 ,  255 ,  263 \n Imageindex  259 \n Images  253 \n adjusting brightness  264–5 \n animation with  255–6 \n array of  258–9 \n creative visualization  270–2 \n getting started  253–5 \n group processing  267–70 \n image ﬁ ltering  256–7 \n pixels  260 \n displaying of  263 \n PImage object  265–6 \n setting of  260 ,  261–2 \n processing of  262–4 \n sequence  259 \n swapping of  259 \n tint( )  264–5 \n Images/saveFrame( )  400–1 \n Immutable object  305 \n Import statements  195 ,  422–3 \n Increment/decrement operators  91 \n Index variable  311 \n IndexOf( ) function  323 ,  334 \n Inﬁ nite loops  88 ,  89 \n Inheritance  410–13 \n Int( ) function  57 \n Integration  83–5 \n deﬁ nition  85 \n Interaction  31 \n ﬂ ow  31–2 \n good friends  32–4 \n mouse, variation with  34–8 \n mouse clicks and key presses  38–40 \n Interactive strips  155–6 \n Interactive Zoog  40 \n Intersect( ) function  170 ,  174 ,  184 ,  185 \n Invisible Line of Code  35–6 \n IsFinished( ) function  178 \n IsPlaying( ) function  384 \n JAR ﬁ le  26 \n Java  421 \n API, exploring  423–6 \n code, translation  421–3 \n coding outside of processing  433–5 \n exception (error) handling  432–3 \n Java classes  426 \n ArrayList  426–9 \n Rectangle  429–32 \n wizard, revealing  421 \n Java 2D  230 \n Java byte code  26 \n Java Virtual Machine  26 \n Jiggle( ) function  414 \n JiggleZoog( ) function  118 \n JMyron  298 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1194
  },
  {
    "chunk_full": "450\nIndex\n Join( ) function  325 ,  326 ,  327 \n Jump( ) function  281 \n Key presses  38–40 \n KeyPressed( ) function  39 ,  93 \n Keywords  see  Reserved words \n Length, of array  149 \n Length( ) function  304 ,  323 ,  334 \n Lerp( ) function  321 \n Lib  396 \n LibCV  298 \n Libraries: \n built-in libraries  196 \n contributed libraries  196–8 \n deﬁ nition  195 \n Line( ) function  24 ,  104 ,  195 ,  227 ,  260 \n Live video  101 ,  274 \n LiveInput  388–90 \n LoadFont( ) function  307 \n LoadImage( ) function  254 ,  255 \n LoadPixels( ) function  261 ,  263 ,  304 \n LoadStrings( ) function  327 ,  339 \n Local variable  93–5 \n “ Logical and ”  68 \n Logical operators  67–9 \n “ Logical or ”  68 \n Loop( ) function  114 ,  279–80 \n Loops  83 \n exit conditions  88–90 \n “ for ” loop  90–3 \n global variable  93–5 \n iteration  83–5 \n local variable  93–5 \n loop inside the main loop  95–7 \n “ while ” loop  85–8 \n Zoog grows arms  97–9 \n MakeRequest( )  345 \n Mandelbrot set  216 \n Mathematics  201 \n angles  210–11 \n event probability, in code  205–7 \n modulus  202–3 \n oscillation  214–16 \n Perlin noise  207–10 \n probability review  204–5 \n and programming  201–2 \n random numbers  203–4 \n recursion  216–20 \n trigonometry  212–14 \n two-dimensional arrays  220–4 \n Matrix, deﬁ nition of  241 \n Methods  see  Functions \n Microphone, as sound sensor  388 \n Millis( ) function  176 \n Minim library  379 ,  381 \n Mirrors  281 \n Modulo operator  202–3 \n Mosaic  312–14 \n Motion detection  294–7 \n Mouse, variation with  34–8 \n Mouse clicks  38–40 \n MouseDragged( ) function  366 \n MousePressed( ) function  39 ,  66 ,  67 ,  68 ,  72 ,  93 ,  340 \n Move( ) function  109 ,  179 ,  193 \n Movie object  279–81 \n MovieMaker  401–3 \n MP3 ﬁ les  386 \n Multiple rollovers  69–70 \n Multi-user communication  362 \n client  366–7 \n server  362–5 \n server and client  368 \n MyVar, error messages of  438–9 \n NetEvent( ) function  340 ,  341 ,  345 \n New PImage( )  254 \n Newline character  355–6 \n NewTab option  128 ,  129 \n NoFill( ) function  11 ,  232 \n Noise( ) function  208 \n NoLoop( ) function  114 \n NoSmooth( ) function  27 \n NoStroke( ) function  11 \n NullPointerException error  127 ,  440–1 \n Object-oriented programming (OOP)  121 ,  407 \n encapsulation  407–9 \n inheritance  410–13 \n overloading  419 \n polymorphism  416–18 \n shapes  413–16 \n Object-oriented Zoog  135–7 \n Objects  122 \n arrays of  152–4 \n constructor arguments  131–4 \n cookie cutter, writing  124–5 \n data types  135 \n object-oriented Zoog  135–7 \n with OOP  121–2 \n usage  122–4 \n details  125–7 \n with tab  127–31 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1195
  },
  {
    "chunk_full": "Index\n 451\n One-dimensional Perlin noise  208 \n OPENGL  230–1 \n Origin, deﬁ nition of  227 \n OSC (open sound control)  379 \n Oscillation  214–16 \n Overloading  419 \n P3D  230–1 \n PApplet  423 \n Particle system  427 \n Pass by reference  135 \n Pass by value  113 \n Passing parameters  111 \n Pde ﬁ le  20 ,  128 ,  131 \n Perlin noise  207–10 \n PFont.list( )  308 \n Physics  101 ,  79–81 \n PI, deﬁ nition of  211 \n Pixel point  270 \n Pixels  3 ,  260–2 \n color transparency  14–15 \n custom color ranges  15–16 \n graph paper  3–4 \n grayscale color  10–12 \n PImage object  265–6 \n pixel group processing  267–70 \n RGB color  12–14 \n simple shapes  5–9 \n Play( ) function  279 ,  380 ,  384 ,  387 \n Pointillism  270–1 \n Polar coordinates  212 \n to Cartesian  213 \n Polymorphism  416–18 \n PopMatrix( ) function  241 ,  243 ,  244 ,  245 ,  246 ,  249 \n Port numbers  354 \n Present mode  19 \n Primitive data types  113 ,  253 \n Primitive shapes  5 \n Primitive values  47 \n Println  193–4 \n Println( ) function  22 \n PrintMatrix( ) function  241 \n Probability review  204–5 \n event probability, in code  205–7 \n Procedures  see  Functions \n Processing ﬁ lter  256–7 \n Processing graphics  253 \n Processing library  350 \n Processing software  17 \n application of  18–20 \n coding  20–3 ,  26–8 \n errors  23–4 \n play button  26 \n publishing, as Java applet  28–9 \n reference  24–6 \n sketchbook  20 \n ProSVG  400 \n Pseudocode  168 \n Pseudo-random numbers  203 \n Public/private classes, in Java  423 \n Publishing, as Java applet  28–9 \n Pushing and popping, matrix  240–7 \n PushMatrix( ) function  241 ,  243 ,  244 ,  245 ,  246 ,  248 \n Puttin ’ on the Ritz  182–8 \n Quad( )  8 ,  9 \n QuickTime libraries  273 \n QuickTime movies  401–3 \n Radians, deﬁ nition of  210–11 \n Radians( ) function  211 \n Raindrops  178–82 \n Random numbers  203–4 \n distribution  204 \n Random( ) function  55 ,  56 ,  57 ,  66 ,  115 ,  203 \n Randomizer( ) function  113 \n Read( ) function  275 \n ReadRawSource( ) function  340 \n ReadString( ) function  355 \n ReadStringUntil( ) function  364 \n Really Simple Syndication (RSS)  344 \n Recorded video  279–81 \n Rect( ) function  24 ,  87 ,  104 ,  227 ,  230 ,  429 \n Rectangle class  429–32 \n Recursion  216–20 \n Reference, in processing  24–6 \n RequestWeather( ) function  336 \n Reserved words  22 \n RestoreMatrix( )  243 \n Return statement  115 \n Return type  114–17 \n Reverse( ) function  157 \n RGB color  12–14 \n Rollover( ) function  154 ,  330 \n Rotate( ) function  210 ,  235 ,  236 ,  238 ,  256 \n RotateZ( ) function  242 ,  244 \n Rotation, around axes  237–40 \n Sandbox  298 ,  352 \n SaveData( ) function  331 \n SaveFrame( )  400–1 \n SaveMatrix( )  243 \n SaveString( ) function  331 ,  332 \n Scale  240 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1196
  },
  {
    "chunk_full": "452\nIndex\n Scribbler mirror  286–7 \n Search( ) function  350 ,  351 \n SearchEvent( )  350 \n Serial communication  368 \n with handshaking  371–2 \n with strings  372–4 \n SerialEvent( ) function  370 \n Server: \n creation  354–7 \n for multi-user communication  362–5 \n ServerEvent( ) function  355 \n SetRate( ) function  387 \n Setters  408 \n Setup( ) functions  32–4 ,  38 ,  75 ,  93 ,  103 ,  105 ,  123 ,  150 , \n 182 ,  183 ,  242 ,  255 ,  307 \n SetVolume( ) function  386 \n Shapes  413–16 \n Shorten( ) function  157 \n Simple background removal  293–4 \n Simple color tracking  290–1 \n Simple modularity  106–8 \n Simple rotation  235–7 \n Simple shapes  5–9 \n SimpleML library  197 ,  339 ,  340–2 \n SimplePostScript  400 \n Sin( ) function  213 \n Sine  212 ,  213 ,  216 \n Size( ) function  21 ,  229 ,  230 ,  231 \n Sketchbook  20 \n Sketches  18 ,  20 \n SketchName.exe  396 \n Smooth( ) function  27 \n Socket connection  354 \n Software mirrors  281–7 \n Sohcahtoa  212 \n Solar system, processing  247 \n object-oriented  248–9 \n Sonia library  379 ,  380–1 \n Sonia.stop( ) function  381 \n Sort( ) function  157 \n Sound  379 \n libraries for  380–1 \n LiveInput  388–90 \n playback  381–6 \n volume, pitch, and pan control  386–8 \n thresholding  390–3 \n Sound events, with Sonia  392–3 \n Source directory  396 \n Spatial convolution  268 \n Splice( ) function  157 \n Split( ) function  325 ,  326 \n Stand-alone applications  395–7 \n Start( ) function  183 \n State variable  78 \n Static functions  389 \n Strings  303–6 \n manipulation  323–4 \n serial communication with  372–4 \n Stripe object  154–5 \n Stroke( ) function  10 ,  11 ,  24 ,  195 \n Subroutines  see  Functions \n Subset( ) function  157 \n Substring( ) function  323 ,  324 ,  334 \n Super( )  412 ,  414 \n SVG (Scalable Vector Graphics)  400 \n Synchronous vs. asynchronous requests  353–4 \n System variables  54–5 \n Tangent  212 \n Telnet client  357 \n Text  303 \n analysis  338–9 \n animation  309–12 \n character by character, displaying  315–21 \n displaying  306–9 \n mosaic  312–14 \n parsing  333–8 \n rotating  314–15 \n strings  303–6 \n Text ﬁ les, reading and writing of  327–33 \n creating objects  329 \n loading and saving data  331–3 \n Text( ) function  316 \n TextAlign( ) function  309 \n TextFont( ) function  308 \n TextLeading( ) function  311 \n TextMode( ) function  311 \n TextSize( ) function  311 \n TextWidth( )  310 ,  311 ,  316 \n Th estring.length( )  324 \n “ Th ing ” class, error messages of  442 \n Th ird party library  197 \n Th reshold ﬁ lter  265 \n Timer  176–8 \n Tint( ) function  256 ,  257 ,  264–5 \n ToUpperCase( ) function  323 \n Transformation matrix  241 \n Translate( ) function  227 ,  228 ,  229 ,  230 ,  236 ,  244 ,  256 \n Translation and rotation, in3D  225 \n custom 3D shapes  233–5 \n diﬀ erent axes, of rotation  237–40 \n OPENGL  230–1 \n P3D  230–1 \n pushing and popping  240–7 \n scale  240 \n simple rotation  235–7 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1197
  },
  {
    "chunk_full": "Index\n 453\n solar system, processing  247–9 \n vertex shapes  231–3 \n z-axis  225–30 \n Triangle( )  8 ,  9 \n Trigonometry  212–14 \n Trim( ) function  356 \n Try catch  432 \n Two-dimensional arrays  220–4 \n of objects  223–4 \n Type, deﬁ nition of  47 \n UpdatePixels( ) function  261 ,  292 \n UpperCase( ) method  305 \n USB (Universal Serial Bus)  369 \n User deﬁ ned functions  104 \n Variable names, tips for  48–9 \n Variable scope  93–5 \n Variable Zoog  57–9 \n Variables  45 \n declaration and initialization  47–9 \n many variables  52–3 \n system variables  54–5 \n usage  49–52 \n variable Zoog  57–9 \n variety, spice of life  55–7 \n Variety, spice of life  55–7 \n Vertex( ) function  231 ,  233 \n Vertex shapes  231–3 \n Video  273 \n before processing  273 \n background removal  292–4 \n computer vision  287–91 \n libraries  297–8 \n image manipulation  277–8 \n live video  101 ,  274–8 \n motion detection  294–7 \n pixelation  283–4 \n recorded video  279–81 \n sandbox  298 \n as sensor  287–91 \n software mirrors  281–7 \n Visualization  270–2 \n Volume, pitch, and pan control  386–8 \n WAV (Waveform audio format)  380 \n Web applets  395 \n “ While ” loop  85–8 \n Whole numbers  47 \n Wiring web sites  369 \n Withdraw( ) function  408 \n XML  335 ,  342–6 \n XML library, processing  346–9 \n XMLElement object  347 \n XMLRequest( )  345 \n Yahoo API  349–52 \n Z-axis, in 3D space  225–30 \n Zoog  16 ,  97–9 \n in arrays  159–60 \n as dynamic sketch  34 \n with variation  36 \n OOP  135–7 \n reorganization  118–19 \n",
    "book_id": "learning_processing",
    "book_title": "Learning Processing: A Beginner's Guide to Programming Images, Animation, and Interaction (Morgan Kaufmann Series in Computer Graphics)",
    "book_author": "Daniel Shiffman",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1198
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1199
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1200
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1201
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1202
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1203
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1204
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1205
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1206
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1207
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1208
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1209
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1210
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1211
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1212
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1213
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1214
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1215
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1216
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1217
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1218
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1219
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1220
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1221
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1222
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1223
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1224
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1225
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1226
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1227
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1228
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1229
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1230
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1231
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1232
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1233
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1234
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1235
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1236
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1237
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1238
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1239
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1240
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1241
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1242
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1243
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1244
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1245
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1246
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1247
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1248
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1249
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1250
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1251
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1252
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1253
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1254
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1255
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1256
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1257
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1258
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1259
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1260
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1261
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1262
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1263
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1264
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1265
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1266
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1267
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1268
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1269
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1270
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1271
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1272
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1273
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1274
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1275
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1276
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1277
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1278
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1279
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1280
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1281
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1282
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1283
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1284
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1285
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1286
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1287
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1288
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1289
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1290
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1291
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1292
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1293
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1294
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1295
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1296
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1297
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1298
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1299
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1300
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1301
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1302
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1303
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1304
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1305
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1306
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1307
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1308
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1309
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1310
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1311
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1312
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1313
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1314
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1315
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1316
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1317
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1318
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1319
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1320
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1321
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1322
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1323
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1324
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1325
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1326
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1327
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1328
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1329
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1330
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1331
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1332
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1333
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1334
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1335
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1336
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1337
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1338
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1339
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1340
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1341
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1342
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1343
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1344
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1345
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1346
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1347
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1348
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1349
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1350
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1351
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1352
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1353
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1354
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1355
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1356
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1357
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1358
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1359
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1360
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1361
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1362
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1363
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1364
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1365
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1366
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1367
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1368
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1369
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1370
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1371
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1372
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1373
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1374
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1375
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1376
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1377
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1378
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1379
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1380
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1381
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1382
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1383
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1384
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1385
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1386
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1387
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1388
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1389
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1390
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1391
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1392
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1393
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1394
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1395
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1396
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1397
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1398
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1399
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1400
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1401
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1402
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1403
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1404
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1405
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1406
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1407
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1408
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1409
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1410
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1411
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1412
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1413
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1414
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1415
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1416
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1417
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1418
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1419
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1420
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1421
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1422
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1423
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1424
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1425
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1426
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1427
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1428
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1429
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1430
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1431
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1432
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1433
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1434
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1435
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1436
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1437
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1438
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1439
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1440
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1441
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1442
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1443
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1444
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1445
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1446
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1447
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1448
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1449
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1450
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1451
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1452
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1453
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1454
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1455
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1456
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1457
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1458
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1459
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1460
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1461
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1462
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1463
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1464
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1465
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1466
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1467
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1468
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1469
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1470
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1471
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1472
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1473
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1474
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1475
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1476
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1477
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1478
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1479
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1480
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1481
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1482
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1483
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1484
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1485
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1486
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1487
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1488
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1489
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1490
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1491
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1492
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1493
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1494
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1495
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1496
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1497
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1498
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1499
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1500
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1501
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1502
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1503
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1504
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1505
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1506
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1507
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1508
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1509
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1510
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1511
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1512
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1513
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1514
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1515
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1516
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1517
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1518
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1519
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1520
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1521
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1522
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1523
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1524
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1525
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1526
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1527
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1528
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1529
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1530
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1531
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1532
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1533
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1534
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1535
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1536
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1537
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1538
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1539
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1540
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1541
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1542
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1543
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1544
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1545
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1546
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1547
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1548
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1549
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1550
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1551
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1552
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1553
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1554
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1555
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1556
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1557
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1558
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1559
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1560
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1561
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1562
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1563
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1564
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1565
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1566
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1567
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1568
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1569
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1570
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1571
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1572
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1573
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1574
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1575
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1576
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1577
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1578
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1579
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1580
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1581
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1582
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1583
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1584
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1585
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1586
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1587
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1588
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1589
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1590
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1591
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1592
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1593
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1594
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1595
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1596
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1597
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1598
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1599
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1600
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1601
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1602
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1603
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1604
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1605
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1606
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1607
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1608
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1609
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1610
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1611
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1612
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1613
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1614
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1615
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1616
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1617
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1618
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1619
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1620
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1621
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1622
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1623
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1624
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1625
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1626
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1627
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1628
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1629
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1630
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1631
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1632
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1633
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1634
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1635
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1636
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1637
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1638
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1639
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1640
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1641
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1642
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1643
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1644
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1645
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1646
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1647
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1648
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1649
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1650
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1651
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1652
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1653
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1654
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1655
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1656
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1657
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1658
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1659
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1660
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1661
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1662
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1663
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1664
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1665
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1666
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1667
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1668
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1669
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1670
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1671
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1672
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1673
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1674
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1675
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1676
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1677
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1678
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1679
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1680
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1681
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1682
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1683
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1684
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1685
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1686
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1687
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1688
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1689
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1690
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1691
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1692
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1693
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1694
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1695
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1696
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1697
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1698
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1699
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1700
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1701
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1702
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1703
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1704
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1705
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1706
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1707
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1708
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1709
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1710
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1711
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1712
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1713
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1714
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1715
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1716
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1717
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1718
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1719
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1720
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1721
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1722
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1723
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1724
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1725
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1726
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1727
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1728
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1729
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1730
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1731
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1732
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1733
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1734
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1735
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1736
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1737
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1738
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1739
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1740
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1741
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1742
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1743
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1744
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1745
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1746
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1747
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1748
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1749
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1750
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1751
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1752
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1753
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1754
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1755
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1756
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1757
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1758
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1759
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1760
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1761
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1762
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1763
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1764
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1765
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1766
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1767
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1768
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1769
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1770
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1771
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1772
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1773
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1774
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1775
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1776
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1777
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1778
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1779
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1780
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1781
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1782
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1783
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1784
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1785
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1786
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1787
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1788
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1789
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1790
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1791
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1792
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1793
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1794
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1795
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1796
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1797
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1798
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1799
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1800
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1801
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1802
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1803
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1804
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1805
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1806
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1807
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1808
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1809
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1810
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1811
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1812
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1813
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1814
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1815
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1816
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1817
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1818
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1819
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1820
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1821
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1822
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1823
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1824
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1825
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1826
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1827
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1828
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1829
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1830
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1831
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1832
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1833
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1834
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1835
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1836
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1837
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1838
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1839
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1840
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1841
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1842
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1843
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1844
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1845
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1846
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1847
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1848
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1849
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1850
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1851
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1852
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1853
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1854
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1855
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1856
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1857
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1858
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1859
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1860
  },
  {
    "chunk_full": "",
    "book_id": "processing",
    "book_title": "Processing",
    "book_author": "Casey Reas, Ben Fry",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1861
  },
  {
    "chunk_full": "create interactive art with code\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1862
  },
  {
    "chunk_full": "THE SPARKFUN GUIDE \nTO PROCESSING\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1863
  },
  {
    "chunk_full": "www.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1864
  },
  {
    "chunk_full": "THE SPARKFUN GUIDE \nTO PROCESSING\nCREATE INTERACTIVE ART \nWITH CODE\nBY DEREK RUNBERG\nSAN FRANCISCO\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1865
  },
  {
    "chunk_full": "THE SPARKFUN GUIDE TO PROCESSING. Copyright © 2015 by SparkFun Electronics.\nAll rights reserved. No part of this work may be reproduced or transmitted in any form or by any means, \nelectronic or mechanical, including photocopying, recording, or by any information storage or retrieval \nsystem, without the prior written permission of the copyright owner and the publisher.\nPrinted in USA\nFirst printing\n19 18 17 16 15    1 2 3 4 5 6 7 8 9\nISBN-10: 1-59327-612-5\nISBN-13: 978-1-59327-612-6\nPublisher: William Pollock\nProduction Editor: Alison Law\nCover Illustration: Pete Holm\nInterior Design: Beth Middleworth\nDevelopmental Editor: Jennifer Griffith-Delgado\nTechnical Reviewer: Andres Colubri\nCopyeditor: Rachel Monaghan\nCompositor: Susan Glinert Stevens\nProofreader: James Fraleigh\nFor information on distribution, translations, or bulk sales, please contact No Starch Press, Inc. directly:\nNo Starch Press, Inc.\n245 8th Street, San Francisco, CA 94103\nphone: 415.863.9900; info@nostarch.com\nwww.nostarch.com\nLibrary of Congress Cataloging-in-Publication Data:\nRunberg, Derek.\n  The SparkFun guide to Processing : create interactive art with code / by Derek Runberg.\n       pages cm\n  Includes index.\n  Summary: \"A project-based guide for beginners that teaches how to use the programming language \nProcessing. Covers digital artwork and hardware topics including pixel art, photo editing, video \nmanipulation, 3D design, and using Processing to control an Arduino\"-- Provided by publisher.\n  ISBN 978-1-59327-612-6 -- ISBN 1-59327-612-5\n 1.  Processing (Computer program language) 2.  Computer art. 3.  Digital video. 4.  Arduino \n(Programmable controller)--Programming.  I. SparkFun Electronics. II. Title.\n  QA76.73.P75.R86 2015\n  776--dc23\n                                                            2015024859\nNo Starch Press and the No Starch Press logo are registered trademarks of No Starch Press, Inc. Other \nproduct and company names mentioned herein may be the trademarks of their respective owners. Rather \nthan use a trademark symbol with every occurrence of a trademarked name, we are using the names only \nin an editorial fashion and to the benefit of the trademark owner, with no intention of infringement of the \ntrademark.\nThe information in this book is distributed on an “As Is” basis, without warranty. While every precaution \nhas been taken in the preparation of this work, neither the author nor No Starch Press, Inc. shall have any \nliability to any person or entity with respect to any loss or damage caused or alleged to be caused directly \nor indirectly by the information contained in it.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1866
  },
  {
    "chunk_full": "THIS BOOK IS DEDICATED TO \nTHE EDUCATORS ACROSS THE UNITED STATES \nWHO ARE WORKING DILIGENTLY TO BRING \nCOMPUTER SCIENCE AND ELECTRONICS \nTO THE FOREFRONT \nOF THEIR CLASSROOM PRACTICE.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1867
  },
  {
    "chunk_full": "www.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1868
  },
  {
    "chunk_full": "ABOUT THE AUTHOR\nDerek Runberg is the educational technologist at \nSparkFun Electronics, a position dedicated to creating \noutstanding curriculum for electronics and computer \nscience education. Before joining SparkFun, Derek \nwas a middle school technology and engineering \neducator for five years. During this time, he ran a \nnumber of after-school and summer programs on both \nprogrammable electronics and Processing. Derek’s \ntime as an educator has culminated in this book, which \ntakes computer science concepts and breaks them \ninto digestible chunks that everyone can understand. \nDerek documented his work with Processing \nin the middle school classroom as the author of the \nwebsite Processing and Interactivity for Educators. \nThis website focused on \ndeveloping \ncurricula \nfor \nteachers using Processing in \nthe mainstream classroom. \nDerek’s Processing activities \nwere focused on getting \nstudents to be creative with \ncode, for the sake of creating. \nIn his free time, Derek likes to spend time with his \ntwo children, Bear and Bridge, and his wife, Zondra. If \nyou ever run into Derek, he will talk your ear off about \neither food or technology; choose wisely. He enjoys \nthe outdoors, writes code when it’s raining, and has \nbeen known to do both at the same time! \nABOUT SPARKFUN ELECTRONICS\nSparkFun is an online retailer that produces and sells \nthe widgets and parts that end up in a lot of maker \nprojects, prototypes, and even the International \nSpace Station. Nathan Seidle started the company \nafter blowing a circuit board in 2003, while he was \nan undergraduate at Colorado University. At the time, \ncircuit boards were really hard to get; you had to fax \nyour credit card to another country and hope that you \ngot your hardware in six to eight weeks. Nathan felt \nhe could do better, and he did. SparkFun.com was \nborn, and it now sells over 3,000 different parts of \nall shapes and sizes for your digital electronic needs. \nFrom a basic Arduino to GPS modules, you can find \nthem and all of the documentation you need to get up \nand running at SparkFun. \nSparkFun’s Department of Education develops \ncurricula and runs professional development programs \nfor educators of all kinds. The department is at the \nforefront of a number of computer science and maker \ninitiatives that are making headway in the classroom. \nProcessing is an everyday tool in the department \nand is a foundational part of SparkFun’s professional \ndevelopment workshops around the country. You can \nlearn more about SparkFun and the Department of \nEducation at https://www.sparkfun.com/ and https://\nlearn.sparkfun.com/.\nABOUT THE TECHNICAL REVIEWER\nAndres Colubri is an active \ncontributor to the Processing \nproject, as the main developer \nof the OpenGL renderer and the \nVideo library in Processing  2 \nand 3. He studied physics and \nmathematics in Argentina and later received an MFA \nfrom UCLA’s Design Media Arts program. He uses \nProcessing as the main tool to bridge his interests \nin computer graphics, visualization, and statistical \nmodeling.  You can see some of his work at http://\nandrescolubri.net/.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1869
  },
  {
    "chunk_full": "www.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1870
  },
  {
    "chunk_full": "C O N T E N T S\nForeword by Nathan Seidle............................................................ xvi\nIntroduction........................................................................................ xx\nProject 0: Getting Started with Processing............................... 2\nProject 1: Pixel Art............................................................................ 16\nProject 2: Holiday Card.................................................................... 32\nProject 3: A First Dynamic Sketch................................................. 48\nProject 4: Interactive Time-Based Art......................................... 64\nProject 5: Enter the Matrix............................................................. 80\nProject 6: Image Processing with a Collage ............................ 92\nProject 7: Playing with Text......................................................... 118\nProject 8: Two Drawing Programs.............................................. 134\nProject 9: A Maze Game.................................................................... 146\nProject 10: Manipulating Movies and Capturing Video........... 166\nProject 11: Audio Processing with Minim................................... 184\nProject 12: Building a Weather Dashboard \n\t\nwith JSON Data ............................................................ 208\nProject 13: Using Sensors with Processing \n\t\nand Arduino.................................................................. 232\nIndex\t..................................................................................................... 266\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1871
  },
  {
    "chunk_full": "x • CONTENTS I N DETAI L\nC O N T E N T S  I N  D E TA I L\nForeword by Nathan Seidle........................................................ xvi\nIntroduction................................................................................... xx\nWhy Start Making with Processing?. ............................................ xx\nWho This Book Is For........................................................................ xx\nA Note to Teachers........................................................................... xxi\nWhat’s in This Book........................................................................... xxi\nthe Processing Community........................................................... xxiv\nOnline Resources. ........................................................................... xxiv\nProject 0 \nGetting Started with Processing.................................................... 2\nAbout Processing................................................................................. 4\n\t\nA Programming Language.......................................................... 4\n\t\nA Tool for Art and Design...................................................... 4\n\t\nAn Open Source Project.......................................................... 5\nInstalling Processing.......................................................................... 6\nThe IDE...................................................................................................... 7\n\t\nA Quick Tour................................................................................. 8\n\t\nThe Preferences Window......................................................... 9\nHello World...........................................................................................10\nAnatomy of a Sketch.......................................................................... 11\n\t\nA Two-Part Recipe..................................................................... 11\n\t\nSyntax.......................................................................................... 12\n\t\nData Types................................................................................... 13\nCartesian Coordinate Plane............................................................ 13\nProject 1 \nPixel Art................................................................................................. 16\nGather Your Materials....................................................................... 18\nDrafting Your Pixel Art ................................................................... 18\nTranslating Your Sketch into Code.............................................. 21\nAdding Color........................................................................................ 23\nOrder Matters. .................................................................................... 25\nRemoving or Modifying Your Outlines........................................ 26\nScaling Your Sketch to Epic Proportions................................. 28\nTaking It Further................................................................................. 30\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1872
  },
  {
    "chunk_full": "xi • CONTENTS I N DETAI L\nProject 2\nHoliday Card......................................................................................... 32\nGather Your Materials ...................................................................... 34\nDrawing More Shapes!........................................................................ 34\n\t\nEllipses........................................................................................ 34\n\t\nLines. ............................................................................................ 35\n\t\nQuadrilaterals........................................................................... 39\n\t\nTriangles..................................................................................... 41\nProgramming a Digital Collage....................................................... 42\n\t\nSetting the Stage..................................................................... 42\n\t\nGluing Down the Pieces.......................................................... 43\nPrinting to the Console.................................................................. 46\nTaking It Further................................................................................. 47\nProject 3\nA First Dynamic Sketch...................................................................... 48\nMore on Variables.............................................................................. 50\n\t\nAnatomy of a Variable............................................................. 50\n\t\nWhere to Use a Variable......................................................... 51\nMath in Processing............................................................................. 51\nLogic\t........................................................................................................ 52\n\t\nInside if() Statements. ............................................................ 52\n\t\nA Refresher on Relational Operators.............................. 54\n\t\nLogical Operators. .................................................................. 54\nFollowing the Bouncing Ball.......................................................... 55\n\t\nMoving in One Direction........................................................ 56\n\t\nCreating Walls........................................................................... 57\nTrails of Color and Multiple Variables....................................... 59\n\t\nReusing Code. ............................................................................ 59\n\t\nManipulating Individual Shapes............................................. 60\nTaking It Further................................................................................. 62\nProject 4\nInteractive Time-Based Art. ............................................................. 64\nBuilt-in Values....................................................................................... 66\n\t\nFinding the Mouse and Keypresses. ................................... 67\n\t\nTelling Time................................................................................ 67\n\t\nPutting Built-in Values into Action.................................... 68\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1873
  },
  {
    "chunk_full": "xi i • CONTENTS I N DETAI L\nExtending Your Range....................................................................... 68\nTransformation Functions.............................................................. 70\nAn Abstract Clock............................................................................... 71\n\t\nComparing the Major Time Functions............................... 71\n\t\nSpicing It Up!.............................................................................. 72\nSharing Your Project!...................................................................... 75\nTaking It Further................................................................................. 79\nProject 5\nEnter the Matrix................................................................................. 80\nWhat Is a Matrix?................................................................................. 82\nThinking with Matrices...................................................................... 84\n\t\nTranslation Revisited.............................................................. 85\n\t\nRotation Revisited................................................................... 86\n\t\nScaling Revisited....................................................................... 87\nHacking Your Previous Projects .................................................. 88\nTaking It Further................................................................................. 90\nProject 6\nImage Processing with a Collage .................................................. 92\nFinding an Image to Use..................................................................... 94\nThe PImage Data Type.......................................................................... 95\nUsing Your Image in a Sketch........................................................... 96\n\t\nImage Modes............................................................................... 97\n\t\nTransformation........................................................................ 99\nA Photo Collage................................................................................ 100\n\t\nMultiple Images........................................................................ 100\n\t\nReturning to the Matrix...................................................... 102\n\t\nScattered Photos.................................................................. 103\nApplying Tints. ................................................................................... 105\nFilter Basics........................................................................................ 108\nProcessing Objects......................................................................... 111\nTaking It Further . ............................................................................ 115\nProject 7\nPlaying with Text.............................................................................. 118\nThe String Data Type........................................................................ 120\nBasic Text Functions....................................................................... 121\nText Modifiers................................................................................... 122\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1874
  },
  {
    "chunk_full": "xi i i • CONTENTS I N DETAI L\nFonts. ................................................................................................... 124\n\t\nCreating a Font. ..................................................................... 124\n\t\nLoading a Font. ....................................................................... 125\nA Simplified Typewriter................................................................... 126\n\t\nFetching Letter Keys............................................................ 127\n\t\nUseful Delays........................................................................... 128\nA Data Dashboard. .............................................................................. 129\n\t\nFetching Statistics and Setting Up................................... 129\n\t\nIndicating Mouse Quadrant................................................. 130\n\t\nShowing Time and Mouse Coordinates............................ 132\nTaking It Further............................................................................... 133\nProject 8\nTwo Drawing Programs. .................................................................. 134\nMore Mouse Variables...................................................................... 136\nEvent Functions................................................................................. 136\nRainbow Doodles. ............................................................................. 138\n\t\nImplementing mouseDragged()............................................ 138\n\t\nImplementing mousePressed()............................................ 140\nA Simple Painting Program. ............................................................ 140\n\t\nCreating a Color-Changing Feedback Box....................... 141\n\t\nChanging the Pen Color...................................................... 143\nTaking It Further............................................................................... 144\nProject 9\nA Maze Game......................................................................................... 146\nGather Your Materials..................................................................... 148\nMore Ways to Read Input................................................................ 149\n\t\nWorking with ASCII and keyCode........................................ 149\n\t\nDriving Shapes......................................................................... 151\nBuilding the Maze Game.................................................................... 153\n\t\nGenerating a Maze. ................................................................. 154\n\t\nWriting the Sketch................................................................ 155\n\t\nDetecting Wall Touches with get()................................... 156\n\t\nAdding the Victory Condition........................................... 157\nAdding a MaKey MaKey Controller............................................... 159\n\t\nMeeting the MaKey MaKey..................................................... 159\n\t\nBuilding a Controller.......................................................... 160\n\t\nConnecting the MaKey MaKey to Your Computer......... 162\nTaking It Further............................................................................... 164\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1875
  },
  {
    "chunk_full": "xiv • CONTENTS I N DETAI L\nProject 10\nManipulating Movies and Capturing Video................................. 166\nWhat Is a Library?.............................................................................. 168\n\t\nAdding Libraries to Processing......................................... 168\n\t\nUsing Libraries in Your Sketch.......................................... 168\n\t\nCalling Library Functions................................................... 170\nAdding Your Own Videos to a Sketch......................................... 171\nApplying Tints and Filters.............................................................. 172\nIntroducing for() Loops and Arrays.......................................... 174\nCapturing Video................................................................................. 177\n\t\nModifying the setup() Function........................................ 177\n\t\nDisplaying Live Capture......................................................... 179\nCreating a Photo Booth................................................................. 180\n\t\nAdding the setup() Function............................................... 180\n\t\nCreating the draw() Loop.................................................... 181\nTaking It Further............................................................................... 182\nProject 11\nAudio Processing with Minim......................................................... 184\nGather Your Materials..................................................................... 186\nIntroducing the Minim Library...................................................... 186\nCreating a Single-Song Audio Player.......................................... 189\nIntroducing Minim’s AudioSample Class. .................................... 194\nImproving Your Audio Player with Metadata ............................. 195\nVisualizing Sound.............................................................................. 198\n\t\nSetting Up Audio Input........................................................... 198\n\t\nDrawing Sound......................................................................... 199\nRecording Audio to Create a Soundboard................................ 203\n\t\nCreating the Class Objects................................................ 203\n\t\nWriting the setup() and draw() Functions..................... 203\n\t\nRecording and Playing Samples\n\t\nin an Event Function. ........................................................... 204\nTaking It Further............................................................................... 206\nProject 12\nBuilding a Weather Dashboard with JSON Data ......................... 208\nWhat Does JSON Data Look Like?. .................................................. 210\nArrays of JSON Objects. ................................................................ 213\nGetting Weather Data in JSON . ..................................................... 215\nUsing JSON Data in Processing...................................................... 218\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1876
  },
  {
    "chunk_full": "x v • CONTENTS I N DETAI L\nWriting a Custom Data Parsing Function.................................... 220\n\t\nStarting a New Function Tab............................................... 220\n\t\nListing Data Variables............................................................ 221\n\t\nWriting a Basic Custom Function in update_data............ 222\n\t\nParsing Your Weather Data in a Custom Function......... 224\nDrawing the Weather Dashboard in the Main Tab.................... 227\nPulling a Weather Icon from the Web. ....................................... 229\nTaking It Further............................................................................... 231\nProject 13\nUsing Sensors with Processing and Arduino.......................... 232\nGather Your Materials..................................................................... 234\nWhat Is a Microcontroller? . ....................................................... 234\nWhat Is Arduino?................................................................................ 235\nThe SparkFun Digital Sandbox....................................................... 235\nInstalling the Arduino Software................................................. 237\n\t\nInstalling Arduino and Drivers on Windows................. 237\n\t\nInstalling Arduino and FTDI Drivers on OS X................ 238\n\t\nInstalling Arduino on Ubuntu Linux.................................. 239\nIntroducing the Arduino IDE.......................................................... 240\nSelecting Your Board and Choosing a Port............................ 242\nAn Arduino Hello World.................................................................. 243\n\t\nExploring an Arduino Sketch............................................. 243\n\t\nWriting the setup() Function............................................. 243\n\t\nWriting the loop() Function.............................................. 244\nAnalog Versus Digital....................................................................... 246\nReading Versus Writing Data.......................................................... 246\nReading Data from Sensors............................................................ 247\nCreating the Sensor Data Dashboard in Processing............. 250\n\t\nImporting Libraries and Creating Variables. ................. 250\n\t\nPreparing Processing for Serial Communication......... 251\n\t\nFetching Your Serial Data.................................................... 252\n\t\nTesting the Serial Connection......................................... 254\n\t\nVisualizing Your Sensor Data.............................................. 256\nLogging Sensor Data with Processing....................................... 259\nTaking It Further............................................................................... 261\n\t\nSending Data from Processing to Arduino..................... 261\n\t\nReceiving Processing Data on an Arduino...................... 263\nINDEX. .................................................................................................... 266\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1877
  },
  {
    "chunk_full": "x vi • FOR EWOR D\nThree hundred years ago, books were limited to a select few: \nmembers of the clergy and the upper class. Then, as access to education \nincreased dramatically and the printing industry took off, the world struggled \nto change the educational system to teach students the fundamentals of \nreading. Today, we take for granted that every student will learn how to \nread—it’s a necessary skill to operate in the modern world. But it’s interesting \nto note that we have the same anxieties now about how to teach every \nstudent the fundamentals of programming as people had about reading so \nlong ago. We all know it needs to happen; the devil is in the details.\nI learned to program by getting a bootlegged copy of Visual Basic \nfrom one of my parent’s friends and spending countless hours re-creating \na board game called Stratego. I even made it work over a modem so I \ncould play against friends who lived across town. This wasn’t part of a \nclass that I took in seventh grade; it was raw, unguided determination. \nI learned a tremendous amount, but it was a slow process and I often \nprogrammed in very wrong ways. I would design what should happen \nwhen a piece was placed on a player square and then copy and paste that \nFOREWORD\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1878
  },
  {
    "chunk_full": "x vi i • FOR EWOR D\ncode 72 times across 72 different player squares. I distinctly remember the \nday I discovered what a function call was and thinking, Whoa! That’s how \nthat works?! Overnight, my code got a lot smaller and easier to modify, \nand I learned something I now use every day of my life. I seriously love \nwriting code.\nBased on this experience, I am of two minds about the learning \nprocess. There is part of me that believes every person needs to have the \nexperience of trying to build something, to design something, to sculpt \nsomething before they discover the tips and tricks of their profession. That \nway we will truly understand just how beneficial those tools are. There \nis, however, an equally loud part of me that thinks no one should waste \ntime fumbling around getting frustrated. We should instead stand on the \nshoulders of others and reach for the stars. There is no end to this debate, \nbut the good news is that no matter how you learn the tools, they have \ngotten much easier to learn for two reasons: the Internet and open source. \nWhen I was learning how to program, I struggled to find a book, a \nfriend, or a teacher that could answer my questions. Today there are over \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1879
  },
  {
    "chunk_full": "x vi i i • FOR EWOR D\n158 million how-to videos on YouTube. There are countless communities \non the Internet that want nothing more than to share and to help other \nmembers have a positive experience learning something new. There \nare dozens of large nonprofit entities creating free online courses on art \nhistory, genetics, fundamentals of music theory, and yes, even an “Intro \nto Programming.” When I was a kid, my determination to learn something \nnonstandard was frowned upon; my parents were worried I needed to \nspend more time outdoors or playing with friends. I think I ended up just \nfine, but if I were growing up today, with the resources that are available \nto beginners now, I think a small amount of determination would lead to \nmuch larger success than I ever experienced.\nIf I were in seventh grade, I'd want to learn Processing. It has a huge \nInternet community and countless how-tos. Thanks to the power of open \nsource, the community has flourished, creating apps and plug-ins that \nextend Processing into environments that its creators Ben Fry and Casey \nReas probably never expected. I’ve seen Processing run on point-of-\nsale cash registers in a local coffee shop, and I’ve used it to design an \napp for my mobile phone. You can’t walk through a museum or public \nspace without interacting with an installation that is running Processing. \nIt’s everywhere once you know what to look for. Processing is one of \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1880
  },
  {
    "chunk_full": "xix • FOR EWOR D\nthose languages that’s easy to learn and just keeps going. It can do \namazing things if you just dig in and start hacking it.\nNow I must give a shout-out to Derek. To author a technical book is \ndifficult. It takes intimate knowledge of how things work coupled with the \nlanguage skills to express concepts in a way that readers can absorb. \nWe call this interaction “teaching” and “learning,” and we often take it for \ngranted. The SparkFun Guide to Processing is an excellent example of \nmodern teaching. Through Derek’s writing and lessons, you will gain the \nknowledge you need to use Processing.  \nOnce you open the box and master the tool, Processing can lead \nyou to some truly awe-inspiring projects. I am constantly enjoying hair-\nraising experiences from artists, performers, and creators who have all \nused Processing to create their work. I hope you find inspiration in Derek’s \namazing book to continue exploring the interaction between the digital and \nphysical worlds. Where these worlds collide, humanity is improved and \nexpanded.\nBut enough talking—let’s build some fun stuff!\nNathan Seidle • Founder of SparkFun Electronics\nBoulder, Colorado • June 23, 2015\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1881
  },
  {
    "chunk_full": "x x • I NTRODU CTION\nIn my teaching career and during my time at SparkFun, I’ve used \nProcessing to make computational thinking approachable, and this \nbook is the culmination of that work. Many of the projects you’ll ­create \nhere come directly from my experience teaching middle school tech­\nnology classes. Others come from my experience running work­shops \nfor a wide variety of participants, from young children to seasoned web \ndevelopers. But all of them will teach you something and hopefully \ninspire you to dig more deeply in to making.\nWHY START MAKING WITH PROCESSING?\nProcessing was developed to make it easy for anyone to create \ninteractive art, so by design, it makes programming accessible for \nthe masses. That alone makes Processing a great place to start \nyour journey into DIY, but there’s another good reason: Processing \nhas a close connection to Arduino. The programming language \nand development environment for the Arduino platform are based \non Processing, so when you’re ready to transition from software to \n­hardware, you’ll feel right at home.\nEarly in my endeavors to learn and teach programming, I \nstarted my students out with Arduino. I quickly found, however, \nthat learning how to build circuits and program at the same time \nwas over­whelming for students who had no experience with either. \nI needed to separate the two issues and let my students focus on \neach independently. That’s when I met Jeff Branson, who works in \nthe SparkFun Department of Education. We got to talking about \nProcessing, and he ran a 45-minute workshop in my class­room right \nbefore spring break. By the end, he had my students running code \nlike the examples you’ll see in the first two projects of this book. \nMy students and I were hooked, and I think you will be, too. \nWHO THIS BOOK IS FOR\nThis book is for anyone interested in making dynamic, interactive art \nand learning to program along the way. It’s designed with beginners \nin mind, so you definitely don’t need to have a background in com­\nputer science. You just have to want to make something awesome, \nINTRODUCTION\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1882
  },
  {
    "chunk_full": "x xi • I NTRODU CTION\nand badly enough to get some simple code working. This book will \nteach you basic programming, but it’s focused on making something \ncool in an ­approachable way. \nIf you’re driven to learn on your own, this book will be extra fun \nfor you. You’ll finish with a portfolio of interesting, creative, and useful \nProcessing applications that you can incorporate into your everyday \nlife—a web page, your phone, and even print. I’ll walk you through \nexperiences, tools, and concepts that will be useful across a number \nof disciplines and applications, including art and engineering. For \nexample, it wouldn’t be hard to combine a few of these projects into \na program that collects data from the Web and visualizes it as part of \nan interactive art installation. \nIn the end, this book is for doers and makers. It’s for those who \nlike getting their hands dirty, who love to explore through creating \nboth physically and digitally. It’s for those who are curious about pro­\ngramming but might be a little intimidated by the math or the science \nof it. In fact, if you have read this far without putting the book down, \nyou’ll do well getting through it. \nA NOTE TO TEACHERS\nFirst and foremost, I love you and thank you for doing what you do. \nIn a lot of ways, I designed this book to emulate the experience my \nstudents and I had of learning Processing through doing. You could \neasily use each chapter as a project for your class. The instructional \ncontent for each chapter is written to be detailed and concise enough \nthat you can hand it to a student on its own. I've also designed the \nprojects to be open-ended so that each student’s project should \ncome out differently and can be personalized. The projects introduce \nnew concepts on a need-to-know basis, which is great for someone \njust starting out with programming. It filters the background noise and \nallows you to focus on what is important: making a cool project, for \nyourself and with your students.\nWHAT’S IN THIS BOOK\nThis book is project-driven, and each project walks you through build­\ning example sketches that demonstrate specific Processing concepts \nand functions, complete with diagrams and screenshots to help you \nlearn more effectively. Once you understand those concepts, you can \ntackle the larger project for the chapter. Each project aims to offer a \ngood balance of direct instruction and plenty of opportunities to inject \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1883
  },
  {
    "chunk_full": "x xi i • I NTRODU CTION\nyour own personal flair and personality. I want your projects to look \nand feel different from any other reader’s. \nFollowing that approach, this book is broken into 14 projects:\n• \nProject 0: Getting Started with Processing shows you how \nto install Processing and helps you write your first program to \ndraw a simple line.\n• \nProject 1: Pixel Art teaches you how to draw actual shapes in \n­Processing. You’ll draw rectangles and translate some graph-\npaper pixel art to the computer screen.\n• \nProject 2: Holiday Card gives you more basic drawing­ prac­\ntice. You’ll draw ellipses and triangles, play with stroke weight, \nand make a digital snowman. \n• \nProject 3: A First Dynamic Sketch covers the if() state­\nment, a basic building block in programming, and explains how \nyou can use it to move shapes around in your sketches.\n• \nProject 4: Interactive Time-Based Art shows you how to \nuse the clock and calendar in your computer to control a draw­\ning’s color and position over time, and introduces the idea of \nrotating and scaling shapes.\n• \nProject 5: Enter the Matrix teaches you to manipulate entire \ngroups of shapes as if they were a single image, and covers how \nto translate multiple shapes across the screen at the same time.\n• \nProject 6: Image Processing with a Collage teaches you \nhow to use photographs and other image files in Processing \nto make a photo collage, add some pretty cool filters, and do \nsome simple photo manipulation. In this project, I also give you \na brief introduction to object-oriented programming. \n• \nProject 7: Playing with Text introduces drawing text in a \nProcessing sketch. I cover how to use fonts, change the font \nsize in your program, and create a dashboard that displays your \nmouse position in the sketch window.\n• \nProject 8: Two Drawing Programs explores more ways users \ncan interact with your Processing sketches. You’ll create a pair \nof simple paint programs that let you use your mouse to draw \npictures freehand, either in random or controllable colors. \n• \nProject 9: A Maze Game shows you how to make a video \ngame in Processing! You’ll make a simple maze-navigating game \nand learn how to replace your keyboard with a custom controller \nbuilt on the wonderful MaKey MaKey board.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1884
  },
  {
    "chunk_full": "x xi i i • I NTRODU CTION\n• \nProject 10: Manipulating Movies and Capturing Video \nshows you how to put your webcam to good use with Processing \nto build a photo booth. This will be your first foray into libraries \nin Processing, and you’ll get a deeper look at object-oriented \nprogramming. \n• \nProject 11: Audio Processing with Minim teaches you \nhow to add, record, and trigger different sounds in Processing \nsketches, as well as access all of the amazing background data \nthat comes with MP3 files.\n• \nProject 12: Building a Weather Dashboard with JSON \nData levels up your skills as you use the Web to find and extract \ndata in JSON format to build a simple weather dashboard appli­\ncation and keep its information up to date. \n• \nProject 13: Using Sensors with Processing and Arduino \ngives you another taste of using hardware with Processing. You’ll \ngather sensor data with an Arduino, send that data to Processing \nover a serial connection, and graph it. At the end, I’ll show you \nhow to control an RGB LED on an Arduino with Processing.\nThese projects focus not on teaching every programming con­\ncept, but on the concepts you need to create something beautiful \nand cool. That doesn’t mean you won’t learn some programming \nalong the way: I just explain any necessary programming concepts \ncontextually on a need-to-know basis. My hope is that having a \nconcrete application for what you’re learning will help that knowl­\nedge sink in. The projects are numbered because they build on one \nanother in terms of complexity and your understanding, but you \nshould feel free to circle back and take another swing at a project or \napply more advanced concepts to previous projects. Throughout the \nbook, I point out particularly good opportunities to go back and hack \nprevious projects with your newfound skills, but I hope you’ll revisit \nany project you like, as much as you want, at any time.\nFor each step of the way, I’m there to help you. I explain what’s \ngoing on in the code, how everything comes together, and even \nsome of the pitfalls within a given project. At the end of each project \nis a “Taking It Further” section to encourage you to explore that proj­\nect’s theme on your own and personalize the project. Sometimes, I’ll \nask you to take the concept in a whole new direction; other times, \nI’ll just discuss how you can improve what you already have. \nNOTE \nSeveral of the projects in \nthis book are based on \nSparkFun’s HotSheets, \nsingle-page projects meant \nto help you get started with \nnew technologies. You \ncan check out these and \nother SparkFun tutorials at \nhttps://learn.sparkfun.com/\nresources/.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1885
  },
  {
    "chunk_full": "x xiv • I NTRODU CTION\nTHE PROCESSING COMMUNITY\nAs you work through this book, I highly encourage you to visit the \nofficial Processing forums at Processing.org and share your own \nprojects through OpenProcessing.org, because the Processing com­\nmunity is full of wonderful people and inspiring projects. Processing \nwas my first major experience with the open source community, after \nArduino. It floored me that I could jump on a forum and find example \ncode and discussions about problems or ideas just like mine, and I’m \nsure you’ll find the community just as welcoming. \nThe first time I posted to OpenProcessing.org to share programs, I \nreceived comments on my code and it was forked. That was a ­powerful \nmoment: it was so cool to know that someone liked my code enough \nto think it useful! You’ll have similar moments, and as you learn and gain \nexperience with different tools and plug-ins for Processing, you can \neven give back to the community by writing your own libraries.\nOn top of that, it’s fun to find others using Processing to create \nboth beautiful art (like museum installations or insane data visualiza­\ntions) and utilitarian projects (like control systems, user interfaces, \nand mapping applications). Whatever they’re working on, everyone \nI encounter is just as excited that I’m using Processing as I am that \nthey are. In my time working at SparkFun so far, I’ve found a num­\nber of companies that use Processing for everything from creative \nendeavors to sensitive control and feedback systems. You never \nknow what you’ll find!\nONLINE RESOURCES\nIf you get stuck on something or you’re just looking for a concrete \nexample to compare to your project, you can find all of the example \ncode from the book at https://nostarch.com/sparkfunprocessing/ for \ndownload. The programs are organized into folders by project, so \nyou can find all the source code easily. Within each folder, you’ll find \nthe sketches for any output shown in that project. (For example, if \nyou wanted to open the sketch for Figure 2-10, you’d download the \nsource code, open the Project 2 folder, open the fig_2_10 folder, and \nopen fig_2_10.pde in Processing.) When a sketch includes external \nfiles such as images, sounds, and so on, you can find them in a data \nfolder within the sketch’s folder, too. \nNow, grab your artist’s hat and your engineer’s hat, because \nfor the rest of this book, you’ll learn to think like both. Get ready to \nprogram a masterpiece!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1886
  },
  {
    "chunk_full": "www.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1887
  },
  {
    "chunk_full": "0\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1888
  },
  {
    "chunk_full": "GETTING STARTED \nWITH PROCESSING\nTHIS PROJECT COVERS \nEVERYTHING YOU NEED TO \nGET PROCESSING UP AND \nRUNNING BEFORE YOU DIVE IN \nTO THE FIRST PROJECT; THAT’S \nWHY IT’S CALLED PROJECT 0. \nI’LL INTRODUCE YOU TO \nPROCESSING, TELL YOU HOW \nTO INSTALL IT, AND HELP YOU \nMAKE SURE IT WORKS. AT THE \nEND OF THE PROJECT, YOU’LL \nHAVE A WORKING PROCESSING \nENVIRONMENT AND, HOPEFULLY, \nA SENSE OF ACCOMPLISHMENT. \nHERE WE GO!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1889
  },
  {
    "chunk_full": "4 • PROJ ECT 0\nABOUT PROCESSING\nSo you bought this book about Processing, perhaps after hear­\ning that you could use it to make art with code. But where did \nProcessing come from, and what exactly can you do with it?\nA Programming Language\nFirst and foremost, Processing is a programming language, which \nmeans it provides a way for you to interface with a computer \nand give it instructions. You can use programming languages like \nProcessing to teach a computer to do some pretty cool tricks! But \njust like learning Spanish, English, or Swahili, learning Processing \ntakes time and patience. You’ll make mistakes, and some programs \nwill act oddly at first. You’ll have burning questions, and you’ll need to \nlook up answers. And that’s all okay!\nA Tool for Art and Design\nProcessing was created to make computers and programming more \naccessible as creative tools for artists and designers. It was devel­\noped in 2001 at the Massachusetts Institute of Technology (MIT) by \nCasey Reas and Ben Fry, while they studied under John Maeda in the \nAesthetics and Computation research group. Since then, Processing \nhas developed quite a following, and it even has its own foundation \nto manage and continue the good work Casey and Ben started. \nBefore Processing, the few people who wrote programs to gen­\nerate artwork mostly had backgrounds in computer science, not art. \nToday, artists, designers, and engineers have embraced Processing \nfor creating graphics, modeling physical objects (see Figure 0-1), \ndesigning architecture, building electronics, and more. Processing \ncan communicate with hardware and with other software packages, \nwhich has also made it useful in performing arts, lighting, and other \nphysical installations (see Figure 0-2). \nProcessing’s role as a creative tool is summed up in the \nProcessing Foundation’s mission statement.\nProcessing seeks to ruin the careers of talented designers by tempting \nthem away from their usual tools and into the world of programming and \ncomputation. Similarly, the project is designed to turn engineers and com­\nputer scientists to less gainful employment as artists and designers.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1890
  },
  {
    "chunk_full": "5 • PROJ ECT 0\nAn Open Source Project\nThe Processing language and its environment are free to download \nand use, but Processing is so much more than a free tool. It’s an \nopen source project, which means that you are free to modify it. \nYou can remix the base code that makes up the language and the \nprogramming environment, add new tools to improve it, or even use \nthe platform as a basis for an entirely new project! In fact, others \nhave done this already. If you’ve ever programmed an Arduino \nmicrocontroller board, you’ll feel right at home when you start up \nProcessing, because Arduino—another open source project—\nadopted Processing’s programming language and environment.\nFigure 0-1:  \nCity Symphonies, created \nby Mark McKeague, is a \nsimulation in which traffic \npatterns and vehicle \nmovement dictate sounds.\nFigure 0-2:  \nIn his piece Fragmented \nMemory, Phillip Stearns \ncreated the pattern for this \ntriptych of woven tapestries \nusing Processing and data \ndumped from his com-\nputer’s physical memory. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1891
  },
  {
    "chunk_full": "6 • PROJ ECT 0\nThe catch is that when you use or modify open source mate­\nrial in a project, you agree to give credit to the original owner of that \nmaterial. You can find out more about open source licenses, such as \nCreative Commons, at http://www.opensource.org/.\nSince its inception, Processing has been adapted for a number of \napplications, including a JavaScript library called Processing.js (devel­\noped by John Resig) and an Android mode, which ports Processing \nsketches over to Android applications for phones and tablets. In the \nfuture, you might even see versions of Processing that support other \nprogramming languages, such as Ruby or Scala.\nNow that you have a better idea of what Processing is, it’s time \nto download and install it.\nINSTALLING PROCESSING\nVisit http://www.processing.org/download/ to download and \ninstall Processing. The website will ask if you want to donate to \nthe Processing Foundation; I’ll let you decide how to answer that. \nNext, click Donate & Download to reach the download page, and \ndownload the latest stable release of Processing.\nOnce you have downloaded your version of Processing, unzip or \nunpack the compressed folder to a safe location that you’ll remem­\nber, and don’t remove any files from it. In Windows, I usually place \nthis unzipped folder in my Programs or Documents folder to keep it \nhandy; in OS X, you might put yours in the Applications folder. You \ncould also leave it on the Desktop. \nUnzip the folder, and your installation should be complete! \nProcessing doesn’t require a full installation process, unlike many \nother applications, so you don’t have to deal with an installer pro­\ngram or be the administrator of the machine. \nIn Linux, your downloaded file will be a .tar.gz file instead of a .zip \nfile. Place this in your home directory, and open a terminal. Then enter \nthe following command, where processing-xxxx.tgz is a placeholder \nfor the name of the file you just downloaded:\n$ tar xvfz processing-xxxx.tgz\nNow, if you move to the newly created directory, you should be \nable to enter ./processing to run Processing.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1892
  },
  {
    "chunk_full": "7 • PROJ ECT 0\nIf you want to make Processing more accessible, you can \nalways create a shortcut in Windows or drag it to your Dock if \nyou are using OS X.\nNow that you have Processing installed, you’re ready to get it \nup and running.\nTHE IDE\nOpen the Processing 2.2.1 folder (the unzipped folder you just \ndownloaded) and double-click the Processing executable. This \nshould launch Processing, and after a splash screen, you should \nsee the integrated development environment (IDE), which looks \nsomething like Figure 0-3. \nAn IDE is simply a place for you to write code and test it out; it \nis really nothing more than a word processing tool that allows you \nto write instructions for your computer. Just like a word processing \nFigure 0-3:  \nThe Processing IDE\nu\nv\nw\nx\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1893
  },
  {
    "chunk_full": "8 • PROJ ECT 0\napplication, the IDE has tools for making corrections, formatting, \nand entering text, but its focus is on the Processing language \nrather than the English language. What separates an IDE from the \nword processing program I am using to write this book is that an \nIDE allows me to run the set of instructions as a program on my \ncomputer. \nA Quick Tour\nTake a look around the IDE now. The majority of the area is \nwhitespace; this is where you’ll write your code. At the top of the \ninterface is a menu bar u, where you can save and open files, export \nyour code, and more. Underneath the menu bar, you’ll find a set of \ngraphic buttons v; from left to right, those buttons are Run, Stop, \nNew, Open, Save, and Export. You’ll explore the menu bar and those \nsix buttons throughout this book.\nBefore you write any code, go ahead and click the Run but­\nton. Processing will work a bit and then display a window with a \ngray square in it, as shown in Figure 0-4. Not very cool, is it? Don’t \nworry—you’ll fix that soon!\nFor clarity, I’ll refer to the window where that square appeared as \nyour sketch window, and I’ll refer to the IDE as your code window. \nClose the sketch by clicking the Stop button. \nYou can click New to create a blank sketch, Open to work on \npreviously saved sketches, and Save to save your current sketch. \nThe final button, Export, is for exporting the application when you’re \ndone developing your sketch. You can export your sketch to a num­\nber of different formats depending on your operating system and how \nyou plan to use it.\nWhen you save your sketch, it is placed in your sketchbook. \nThe sketchbook is a set folder where your sketches are automatically \nsaved. By default, on a computer with multiple users set up, your \nsketchbook is placed in the Documents folder for your specific user. \nBelow the code window, you should see the alert bar w and the \nconsole x. Type your name in the code window and then click Run. \nFigure 0-4: \nThe sketch window\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1894
  },
  {
    "chunk_full": "9 • PROJ ECT 0\nYou’ll get an error, and your alert bar will turn red. In my case, I saw \nthe error message Syntax error, maybe a missing semi-colon? \nin my alert bar, and my console printed expecting SEMI, found \n'Runberg' (see Figure 0-5). \nThis is how Processing displays errors—without frills. Processing \ntells you what you are probably missing and where the error occurred \nby highlighting the error’s location in your code. \nThe Preferences Window\nYou can make a few changes to the Processing IDE by opening the \nPreferences window (Figure 0-6) under the File drop-down menu. \nWithin Preferences, you can change the location of your sketchbook \nfolder, the font and font size of the text editor window, and many \nother options. \nYou can see from my Preferences window that my font size \nis much larger than the default and that I increased the maximum \namount of memory allocated to Processing to 1GB (1,024MB). \nDepending on your changes here, you may have to close and restart \nProcessing before they take effect.\nFigure 0-5:  \nSyntax error displayed in \nthe console and alert bar\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1895
  },
  {
    "chunk_full": "1 0 • PROJ ECT 0\nThat concludes your brief Processing IDE tour. Now you’ll create \nyour first Processing sketch!\nHELLO WORLD\nProgrammers who are just learning a new language usually write \na little test program after installing any necessary software, just to \nmake sure that everything is set up correctly. Such a program is often \ncalled Hello World.\nProcessing has a number of basic functions you could use in a \nHello World program, but I like to draw a simple line. Type the follow­\ning in the code window, and click the Run button.\nvoid setup()\n{\n  size(250,250);\n}\nvoid draw()\n{\nFigure 0-6: \nThe Preferences  \nwindow\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1896
  },
  {
    "chunk_full": "11 • PROJ ECT 0\n  line(0,0,200,200);\n}\nCongratulations: you’ve written and run your first Processing \nsketch! You should see a sketch window that is larger than the one \nin Figure 0-4, and it should contain a diagonal line from the upper-left \ncorner to the lower-right corner, as shown in Figure 0-7. \nNext I’ll walk you through this Hello World sketch in a bit more \ndetail.\nANATOMY OF A SKETCH\nGo back to your code window and take a closer look. The Hello \nWorld sketch contains three functions: setup(), size(), and line(). \nA function is a named set of instructions that accomplishes a task. \nThese three functions were written by the designers of Processing, \nbut later in the book, you’ll write your own. You can find the basic \nstructure, or syntax, of a Processing sketch in the Hello World program. \nA Two-Part Recipe\nIn the Hello World code, there are two structural functions (functions \nthat every Processing sketch has): setup() and draw(). To visualize \nhow these functions work, imagine making a batch of cookies. When \nyou bake cookies, you have a recipe, and a recipe has two parts. \nThe first part covers everything you need to prepare: ingredients, \nequipment, and even the time you need to set aside. The second \nhalf contains the step-by-step instructions to make a single batch \nof cookies. In a Processing sketch, setup() and draw() are just \nlike those two parts of a recipe. These two functions make up the \nFigure 0-7:  \nHello World sketch\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1897
  },
  {
    "chunk_full": "12 • PROJ ECT 0\norganizational order of the sketch and dictate how the sketch runs. \nYou can play around with the code that goes under setup() and \ndraw() to achieve different outcomes.\nvoid setup()u\n{\n}\nvoid draw()v\n{\n}\nThe setup() function u is the first part of the recipe: it includes \nall the things that you will do to prepare to make the cookies. This \nfunction runs the functions inside it (between the curly brackets) \nonly once at the beginning of the sketch. The draw() function v is \nthe second part: the act of making the cookies. In Processing, the \ndraw() loop repeats over and over again, 60 times a second. The \nmain difference between these two functions is that your draw() \nfunction is a loop—a piece of code that repeats itself—and setup() \nruns only once. In essence, you are telling Processing to make \nbatches of cookies at 60 times per second until you tell it to stop. \nThat is really fast baking!\nIn every sketch you create, you’ll include a setup() function \nbecause leaving it out would be like baking cookies without any \ningredients or tools—you just can’t! You can, however, have a sketch \nwithout a draw() loop and place all of your functions inside setup(), \nbut then they would all run only once. That’s fine, but only one batch \nof cookies is no fun, so for most of this book, you will make use of \nthe draw() loop.\nSyntax\nProcessing knows which parts of your code are functions only if you \nfollow the correct syntax. Syntax is a set of rules that describes the \ncorrect way to put together a program, like the grammar rules that \ndictate the right way to construct a sentence. For example, in the \nEnglish language, you capitalize the first letter of a sentence and put \na punctuation mark at the end. And just like written languages, all \nprogramming languages have their own syntax.\nIn the Hello World sketch, the pair of curly brackets, { }, groups \nall of the functions or commands that should be executed as part of \nthe preceding function, so setup() contains size(), and the draw() \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1898
  },
  {
    "chunk_full": "1 3 • PROJ ECT 0\nfunction contains line(). All function names are followed by a pair of \nparentheses, (), and depending on the function, you’ll often include \nparameters inside those parentheses. Parameters contain informa­\ntion that functions need to do their jobs.\nFor example, size() specifies the size of your sketch window, \nbut you have to use parameters to tell it how big to make the window. \nIn this project, you set the window size to 250 pixels wide (the first \nparameter) by 250 pixels high (the second parameter). The line() \nfunction draws a line between two points, and you told it to draw \nfrom point (0,0) to point (250,250). But not all functions take numbers \nas parameters, and some (such as the setup() function) don’t need \nparameters at all! \nThe semicolon, ;, is another important part of the Processing \nsyntax: all functions should end with a semicolon. Don’t forget it, or \nProcessing won’t know where your function stops. This is a common \nerror, even among veteran programmers. Just like a period at the end \nof a sentence, a semicolon denotes the end of a function and tells \nthe computer to go to the next one. \nThese basic syntax structures should be enough to get you \nstarted. As you work through more projects, I’ll address other parts \nof the syntax as necessary. The major thing to focus on is the error \nmessages; they tell you what you are missing and where!\nData Types\nJust like a good cookie recipe, any program you want to produce \nmeaningful results needs ingredients—that is, data to manipulate. \nYou’ve already seen one type of data that you can use in Processing; \njust look at the parameters in line(0,0,200,200). Processing clas­\nsifies each number there as an int, short for integer, which is just a \nwhole number without a decimal point. \nYou can also work with floating-point numbers (those with a \ndecimal point); Processing would recognize a number like 3.14 as the \nfloat data type. Processing has several more data types, which I’ll \nintroduce as needed throughout this book.\nNow that you understand the structure of a sketch, it’s time to \nexplore the sketch window on which it’s drawn in more detail.\nCARTESIAN COORDINATE PLANE\nYour sketch window is measured in pixels. A pixel is a single dot \nof color on your monitor or TV. In fact, if you have a magnifying \nglass, you can see individual pixels on your monitor. In Processing, \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1899
  },
  {
    "chunk_full": "14 • PROJ ECT 0\npixels are the unit of measurement. Anything that has a dimension—\nincluding the width and height you gave the size() function, as well \nas length, depth, and so on—is given in pixels. \nProcessing treats the sketch window like a Cartesian coordinate \nplane, and every pixel corresponds to a coordinate in that plane (see \nFigure 0-8). In two dimensions, you’ll work with x-coordinates (width) \nand y-coordinates (height). \nClick Run on your sketch again. Recall that the line goes from \n(0,0) to (250,250). The upper-left corner is the origin of the sketch \nwindow, or (0,0). As you move to the right, the x-value (or the width) \nincreases. As you move down the sketch window, the y-value (or \nthe height) increases. You might remember from math class that the \ny-axis usually increases as you move up in a graph. Processing flips \nthat graph concept upside-down, as shown in Figure 0-9. \nFigure 0-8: \nA sketch window with \nx- and y-axes\n0,0\nY+\nX+\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1900
  },
  {
    "chunk_full": "1 5 • PROJ ECT 0\nTo sum up the Cartesian coordinate plane in Processing: \n• \nThe origin, (0,0), is in the upper-left corner.\n• \nDistance and position are given in pixels. \n• \nThe y-axis increases as you move down the sketch window. \nIn the next project, you’ll put this new knowledge to good use!\nFigure 0-9:  \nMathematical Cartesian \ncoordinate plane vs. \ncomputer Cartesian \ncoordinate plane\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1901
  },
  {
    "chunk_full": "1\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1902
  },
  {
    "chunk_full": "PIXEL ART\nYOU’VE ALREADY DRAWN YOUR \nFIRST LINE IN PROCESSING, \nBUT THAT WAS JUST THE \nBEGINNING. IN THIS PROJECT, \nYOU’LL USE BASIC RECTANGLES \nTO CREATE SOME AWESOMELY \nLOW-RESOLUTION GRAPHICS, \nSO LOOK TO YOUR FAVORITE \nRETRO VIDEO GAME SPRITE \n(OR ANY SIMPLE, BLOCKY \nIMAGE) FOR INSPIRATION. \nWE’RE MAKING PIXEL ART!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1903
  },
  {
    "chunk_full": "1 8 • PROJ ECT 1\nGATHER YOUR MATERIALS\n• \nGraph paper\n• \nColored pencils\n• \nFelt-tip pen\nDRAFTING YOUR PIXEL ART \nFirst, you’ll draft your pixelated masterpiece in the physical world. \nUsing your colored pencils, draw a square that is 20 boxes by \n20 boxes on a piece of graph paper to represent your sketch win­\ndow in Processing, and create your image inside that square. Follow \nthese rules to make your image easier to translate into code: \nRule 1  Use only full squares of color—no angles, arcs, or partial \nsquares!\nRule 2  Start by creating something simple, like a smiley face or a \nhouse.\nRule 3  Try to use contrasting colors at first. Some subtler shades \nmay not be noticeable when transferred to the computer. \nTo spark your creativity, Figure 1-1 shows an example of the \n“unplugged” version of this project that follows the rules just given. \nFigure 1-1: \nA sketch of my \npixel art, ready to \nbe programmed in \nProcessing\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1904
  },
  {
    "chunk_full": "1 9 • PROJ ECT 1\nOnce you’ve drawn your rough draft, you have some planning \nto do. Remember the Processing version of the Cartesian coordinate \nplane from Project 0? That coordinate plane (Figure 1-2) is going to \nbe your best friend from here on out, because Processing uses this \nplane for specifying locations.\n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n0\n1\n2\n3\n4\n5\n6\n7\n9\n10\nW I D T H\nH E I G H T\nX\nY\nIn Processing, a rectangle has an origin just like the sketch \nwindow does, as well as a width and height. On your screen, a \nrectangle’s origin and dimensions will be given in pixels, but for \nnow we’ll count in graph paper squares. Mark the origin of your \n20×20 graph paper drawing, and then, using a felt-tip pen that will \ncontrast well against the colors you’ve already used, break up your \ndrawing into the largest rectangles of solid color possible. These \nlarger rectangles will make your drawing much easier to translate \ninto code. In Processing, you must be able to break down a draw­\ning into smaller shapes, and since you’re making pixel art, you’ll \nuse rectangles to draw your image. The great thing is that you don’t \nhave to draw each individual pixel: grouping pixels into the largest \npossible rectangles means you’ll write less code in the long run! \nNow mark the upper-left corner of each rectangle in your pixel \nart, as shown in Figure 1-3. The upper-left corner is that rectangle’s \norigin, and you’ll need to know this location for each shape you want \nto draw.\nFigure 1-2:   \nProcessing’s coordinate \nplane\no r i g i n\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1905
  },
  {
    "chunk_full": "20 • PROJ ECT 1\n The number of rectangles you end up with depends on how \nmany colors you used and the complexity of your design. Usually, the \nmore complex the drawing, the more rectangles you’ll have and the \nsmaller those rectangles will be in size; the inverse usually holds true \nfor simple drawings. \nOnce you have all of your rectangles outlined and their origins \nmarked, you’re just about ready to translate the image into code. \nTo draw your pixel art in Processing, you need four values from \neach rectangle: the x- and y-coordinates of the rectangle’s origin \nwith respect to the origin of your 20×20 Cartesian coordinate plane, \nand the width and height of the rectangle, measured in graph paper \nsquares. \nI usually create a table to hold the values for each rectangle, \nas I’ve done in Table 1-1 for the skull drawing (Figure 1-1). Be sure \nto group all the rectangles of the same color in your table. Sorting \nthe rectangles by color now will help you avoid further sorting and \nre­arranging when you start translating them into code.  \nX-\nCOORDINATE\nY-\nCOORDINATE\nWIDTH \n(IN SQUARES)\nHEIGHT \n(IN SQUARES)\nCOLOR\n4\n5\n1\n1\nPink\n2\n6\n2\n1\nPink\n3\n6\n2\n1\nPink \nFigure 1-3: \nThe upper-left corner of \na rectangle is its origin.\nTable 1-1: \nRectangles to draw, \nsorted by color,  \nfor skull image\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1906
  },
  {
    "chunk_full": "21 • PROJ ECT 1\nX-\nCOORDINATE\nY-\nCOORDINATE\nWIDTH \n(IN SQUARES)\nHEIGHT \n(IN SQUARES)\nCOLOR\n5\n7\n1\n1\nPink\n7\n7\n5\n2\nPink\n13\n7\n1\n1\nPink\n14\n6\n2\n1\nPink\n14\n5\n1\n1\nPink\n6\n8\n1\n3\nPink\n12\n8\n1\n3\nPink\n9\n9\n1\n1\nPink\n8\n10\n3\n1\nPink\n6\n11\n3\n1\nPink\n10\n11\n3\n1\nPink\n5\n12\n1\n1\nPink\n5\n12\n1\n1\nPink\n7\n12\n5\n1\nPink\n13\n12\n1\n1\nPink\n3\n13\n2\n1\nPink\n4\n14\n1\n1\nPink\n14\n13\n2\n1\nPink\n9\n13\n1\n1\nPink\n11\n13\n1\n1\nPink\nWhen you have all of the rectangles mapped in the manner \nshown in Figure 1-2 and Table 1-1, it’s time to jump back into \nProcessing and take your pixel art to the screen!\nTRANSLATING YOUR SKETCH \nINTO CODE\nStart with a blank code window in the Processing IDE, and write \nthe two main functions of every sketch: setup() and draw(). Recall \nfrom Project 0 that the setup() function runs once and only once. \nThe draw() function, on the other hand, runs over and over again \nin a loop.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1907
  },
  {
    "chunk_full": "22 • PROJ ECT 1\nvoid setup()\n{\n  //setup code goes here and runs once\n}\nvoid draw()\n{\n  //draw code goes here and runs over and over again\n}\nThe grayed-out lines of code starting with // are called com­\nments. Processing won’t execute any code that is commented out. \nComments are normally used to leave information or notes for other \npeople that won’t be read by the computer. We can use comments \nto “hide” functions from the computer instead of deleting them. It’s \na way to turn functions on and off but keep them in place. Here, I’ve \nincluded the comments to remind you how the setup() and draw() \nfunctions work. \nTackle the setup() function first: type void setup() followed \nby an open brace and closed brace, {}. Inside those braces, set the \nsize of your sketch window by calling size() with a width and height \nof 20 pixels. \nvoid setup()\n{\n  size(20,20);\n}\nNow for the draw() loop, which will house all of the code you’ll \nuse to draw your rectangles. Processing has several functions you \ncan use to draw specific shapes, and in this project, you’ll use the \nrect() function to create rectangles. \nAs noted earlier, you need to pass four values, or parameters, to \nthe rect() function, and you must place them in a specific order: the \nx-coordinate of the top-left corner, the y-coordinate of that corner, \nthe rectangle width, and the rectangle height. For example, calling \nrect(100,100,20,30) would draw a 20×30-pixel rectangle starting \n100 pixels to the right and 100 pixels down from the sketch origin.\nStart by drawing a basic rectangle before you jump into draw­\ning rectangles from the table you used to break down your pixel art. \nCreate a draw() loop function, and add a rect() function inside \nNOTE \nUse comments to label \nfunctions, colors, shapes, \nand so on, or to leave notes \nto help guide friends who \nmight read your sketch \nlater!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1908
  },
  {
    "chunk_full": "23 • PROJ ECT 1\nthe loop. Make sure you don’t forget to add a semicolon! Your code \nshould look something like this:\nvoid draw()\n{\n  rect(50,85,150,75);\n}\nClick the Run button, and your sketch window should display a \nwhite rectangle outlined in black (Figure 1-4). Success!\nBut your pixel draft probably includes colors other than white, so \nhow do you change the color of a rectangle?\nADDING COLOR\nProcessing provides a number of ways to change the color of a draw­\ning, including a function called fill() that fills shapes with color, like \nthe paint bucket tool in many graphic design applications. \nThere are a few ways you can specify color to a computer, but I’ll \nfocus on just one for now: RGB. RGB stands for red green blue, and \nin this format, each color intensity is represented by a number from \n0 to 255, where 0 is no color and 255 is full intensity. The fill() \nfunction accepts three different parameters, which also range from 0 \nto 255 and represent amounts of red, green, and blue (in that order). \nYou could pass 255, 0, and 0 to the fill() function to fill a shape \nwith only the highest intensity of red. The two zeros tell Processing \nnot to use blue or green. \nIf you use a single 0–255 number, you’ll get a grayscale value, \nwhere 0 is black and 255 is white (see Figure 1-5). \nFigure 1-4:   \nRectangle drawn by \nProcessing sketch\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1909
  },
  {
    "chunk_full": "24 • PROJ ECT 1\n0\n50\n87\n162\n209\n255\nAny function that manipulates a shape’s appearance is called \na modifier, and all modifiers must appear above the shapes being \naltered in your Processing code. So to color your rectangle red, \nadd the fill() function above the rect() function and pass the \nthree values representing full-intensity red without green or blue (see \nFigure 1-6). \nvoid draw()\n{\n  fill(255,0,0);\n  rect(50,85,150,75);\n}\nPlay around with more number combinations in fill() to see \nwhat colors you get! Figure 1-7 shows a purely green rectangle using \nfill(0,255,0). How would you make a blue one?\nFigure 1-5: \nGrayscale values in \nProcessing\nFigure 1-6: \nColor shapes with \nfull-intensity red using \nfill(255,0,0).\nFigure 1-7: \nColor shapes with full-\nintensity green using \nfill(0,255,0). \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1910
  },
  {
    "chunk_full": "25 • PROJ ECT 1\nProcessing also includes a tool that lets you select a specific \ncolor. In the menu bar at the top of the code window, click Tools \nto access a menu of add-ons that make certain tasks easier. Click \nColor Selector to launch the Color Selector tool in a dialog, as \nshown in Figure 1-8. \nNote the RGB values for red, green, and blue. You can use this \ninterface to find the exact color you’re looking for. Select the color \nyou want with your mouse, and the Color Selector displays the \ncolor’s RGB value on the right side of the window. Using the Color \nSelector tool, you can create very detailed images with appropriate \ncolors without having to play an RGB guessing game. \nORDER MATTERS\nRemember how you sorted your list of rectangles by color, as shown \nin Table 1-1? I had you organize them that way to make using the \nfill() function easier.\nWhen you add a fill() function to your code, it fills all shapes \nbelow it with the color you specify. If you don’t group your rectangles \nby color, then you might have to call a fill() function for each \nrectangle! When you call the rect() functions for all rectangles of a \nparticular color in a group, you only have to call fill() once for each \ncolor, as in this draw() function for the sketch shown in Figure 1-9.\nvoid setup()\n{\n  size(250,250);\n}\nvoid draw()\nFigure 1-8:  \nThe Color Selector tool\nNOTE \nThe other popular way to \nspecify color in Processing \nis with hex values, which \nare also often used to \nspecify color in websites \nand other digital content. \nThe Color Selector shows \na hex value in the very last \ntext field. Use hex values in \nyour code if you’d prefer, \nbut I’ll use the RGB setting \nthroughout this book to \nkeep explanations simple.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1911
  },
  {
    "chunk_full": "26 • PROJ ECT 1\n{\n  fill(0,0,255);        //blue rectangles\n  rect(5,5,25,25);\n  rect(55,55,25,25);\n  \n  fill(0,255,0);        //green rectangles\n  rect(30,30,25,25);\n  rect(105,105,25,25);\n  fill(255,0,0);        //red rectangles\n  rect(80,80,25,25);\n  rect(130,130,25,25);\n}\nYou called the fill() function only three times, even though the \nsketch window shows six colored rectangles. Grouping elements of \nthe same color helps to keep your code nice and clean, especially if \nyou leave some whitespace between your color groupings.\nNow that you have some experience with creating a rectangle \nand filling it with color, you can tackle your table of colored rectangles \nfrom your pixel art drawing. Start with one color from your drawing, \nuse the Color Selector tool to find the fill color that best matches it, \ndraw all of the rectangles of that color at one time, and then move on \nto the next color. Click the Run button every so often to check the \nprogress of your image, see if everything is lining up correctly, and \nconfirm that you like the colors you’ve chosen. Continue working this \nway until you’ve drawn all of your rectangles.\nREMOVING OR MODIFYING \nYOUR OUTLINES\nEach rectangle in your picture probably still has a black outline, which \nmay make your drawing look funny. The outline of a shape is called a \nFigure 1-9: \nEach rectangle is the \nsame color as the \nfill() function above \nit in the code.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1912
  },
  {
    "chunk_full": "27 • PROJ ECT 1\nstroke, and Processing applies a single black stroke to every shape \nby default. If you don’t like the current stroke, you can modify it or get \nrid of it completely.\nWhen creating a pixel art image, you really don’t want every \nrectangle outlined; it ruins the look of using individual pixels! Use the \nfunction noStroke() at the top of your draw() loop, as shown here, \nto remove the stroke from all of the shapes in your sketch, just as I \ndid for the red square in Figure 1-10.\nvoid draw()\n{\n  noStroke();     //no outline\n  fill(255,0,0);  //red fill\n  rect(75,75,100,100);\n}\nIf you want a stroke for some shapes, use the stroke() function \nto add it back to a particular shape or group of shapes. Notice that \nthe stroke() function works just like the fill() function, but it’s for \ncoloring outlines rather than filling entire shapes. You can use an RGB \nor hex value if you want a specific color; the red square specified \nhere and shown in Figure 1-11 has a blue stroke.\nvoid draw()\n{\n  stroke(0,0,255);  //blue outline\n  fill(255,0,0);    //red fill\n  rect(75,75,100,100);\n}\nFigure 1-10:   \nA red square with no stroke\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1913
  },
  {
    "chunk_full": "28 • PROJ ECT 1\nRemember, if you don’t specify the stroke() of groups of code \nlines or specify noStroke(), then one stroke() value will be applied \nto all geometry functions.\nSCALING YOUR SKETCH TO \nEPIC PROPORTIONS\nYou’ve learned to draw basic rectangles, placed them on a Cartesian \ncoordinate plane, filled them with color, and removed their outlines. \nYou should have the coolest tiny pixel art image ever! Your Processing \ncode should look something like Listing 1-1. \nvoid setup ()\n{\n  size(20,20);\nu   background(0,0,0); \n}\nvoid draw()\n{\n  noStroke();\nv   fill(188,13,168); \n  rect(4,5,1,1); \n  rect(3,6,2,1);\n  rect(5,7,1,1);\n  rect(7,7,5,2);\n  rect(13,7,1,1);\n  rect(14,6,2,1);\n  rect(14,5,1,1);\n  rect(6,8,1,3);\n  rect(12,8,1,3);\n  rect(9,9,1,1);\n  rect(8,10,3,1);\n  rect(6,11,3,1);\n  rect(10,11,3,1);\n  rect(5,12,1,1);\nFigure 1-11:  \nOutlining a single shape \nListing 1-1: \nRectangle sizes with \na sketch window of \n20×20 pixels\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1914
  },
  {
    "chunk_full": "29 • PROJ ECT 1\n  rect(7,12,5,1);\n  rect(13,12,1,1);\n  rect(3,13,2,1);\n  rect(4,14,1,1);\n  rect(14,13,2,1);\n  rect(14,14,1,1);\n  rect(7,13,1,1);\n  rect(9,13,1,1);\n  rect(11,13,1,1);\n}\nThis sketch draws the skull shown in “Drafting Your Pixel Art” on \npage 18 and in Figure 1-12. The background() function u takes \nthree parameters that represent red, green, and blue, just like fill(), \nand I used it to color my background black. All of the rectangles in \nthe skull are pink v, just as I defined them in Table 1-1. \nBut that sketch is awfully small. Don’t worry—you can make it \nbigger. \nIn Processing, size is all about scale. If you multiply all of the values \nin your rectangle functions as well as your sketch window size by a \nfactor of 10, your image will come out much larger—in fact, 10 times \nlarger! Check out Listing 1-2 for an example.\nvoid setup ()\n{\nu   size(200,200); \n  background(0,0,0);\n}\nvoid draw()\n{\n  noStroke();\n  fill(188,13,168);\nv   rect(40,50,10,10); \nFigure 1-12:   \nSkull image at 20×20 pixels\nListing 1-2:  \nRectangle sizes with \na sketch window of \n200×200 pixels\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1915
  },
  {
    "chunk_full": "3 0 • PROJ ECT 1\n  rect(30,60,20,10);\n  rect(50,70,10,10);\n  rect(70,70,50,20);\n  rect(130,70,10,10);\n  rect(140,60,20,10);\n  rect(140,50,10,10);\n  rect(60,80,10,30);\n  rect(120,80,10,30);\n  rect(90,90,10,10);\n  rect(80,100,30,10);\n  rect(60,110,30,10);\n  rect(100,110,30,10);\n  rect(50,120,10,10);\n  rect(70,120,50,10);\n  rect(130,120,10,10);\n  rect(30,130,20,10);\n  rect(40,140,10,10);\n  rect(140,130,20,10);\n  rect(140,140,10,10);\n  rect(70,130,10,10);\n  rect(90,130,10,10);\n  rect(110,130,10,10);\n}\nStarting with the sketch window size u and moving on to the \nrectangle locations and dimensions v, I’ve made each value in this \nsketch 10 times larger. The actual pixel art image (Figure 1-13) is \nmuch easier to see now!\nTAKING IT FURTHER\nIf you really like your image and want to share it with others, I highly \nrecommend visiting http://openprocessing.org/. OpenProcessing \nallows you to upload your sketches to the Web and share not only \nhow they look but also the code that you used to create them. Other \npeople can then check out your projects and even fork your code \nFigure 1-13: \nSkull image at  \n200×200 pixels\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1916
  },
  {
    "chunk_full": "31 • PROJ ECT 1\nand modify it. Modifying other users’ code to see how your changes \naffect the original image is also a great way to learn how to program \nin Processing.\nIf you want to try your hand at more complex pixel art, then \ninstead of creating an image off the top of your head, try reproduc­\ning a pixelated version of an existing image by printing it out and \nplacing it underneath your graph paper. Using the same pixel art \nrules for your original pixel masterpiece, try to trace the print out \nwith squares of colors to pixelate it. You should end up with an \nelaborate, pixelated version of what you printed out. Dare I suggest \nattempting the Mona Lisa? And it’s always fun to pixelate a friend!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1917
  },
  {
    "chunk_full": "2\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1918
  },
  {
    "chunk_full": "HOLIDAY CARD\nNOW THAT YOU’RE A RECTANGLE-\nDRAWING CHAMPION, YOU’LL \nDRAW SOME OTHER SHAPES \nAND PUT THEM TO GOOD \nUSE. WHAT BETTER WAY TO \nPRACTICE BASIC DRAWING THAN \nBY CREATING A HOLIDAY CARD? \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1919
  },
  {
    "chunk_full": "34 • PROJ ECT 2\nThrough the metaphor of a paper collage, you’ll learn how to \ncompose an image using shapes and lines in Processing. I’ll also give \nyou a deeper look at the line() function and how you can modify \nlines in different ways. Put on your artist’s hat, because here we go!\nGATHER YOUR MATERIALS \n• \nColored pencils\n• \nGraph paper\nDRAWING MORE SHAPES!\t\nYou can draw a number of basic shapes in Processing, and each \nshape is always defined by points on the Cartesian coordinate plane. \nHere is a rundown of the basic geometric shapes and the parameters \nthat you need to pass to them. \nEllipses\nAn ellipse is an oval or circle, and you can draw one in Processing \nwith the ellipse() function. Pass ellipse() four values, just like you \nwould rect(), in this order:\nellipse(X,Y,W,H);\nX and Y give the x- and y-coordinates of the ellipse’s position; W \nand H indicate the width and height, respectively. If you make W and H \nthe same value, you’ll draw a circle, as in this example. \nvoid setup()\n{ \n  size(250,250);\n  background(150);\n}\nvoid draw()\n{\nu   ellipse(125,125,100,100);\n}\nIn this sketch, I’ve used ellipse() u to draw a circle with \na diameter of 100 pixels at the center of the sketch window (see \nFigure 2-1).\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1920
  },
  {
    "chunk_full": "35 • PROJ ECT 2\nThe difference between drawing a rectangle and drawing an \nellipse is that the rectangle’s origin is its upper-left corner, while the \nellipse’s origin is its center. You can see this clearly in Figure 2-2, \nwhere both a rectangle and an ellipse have been passed the same \nparameters.\nLines\nThe second common shape you’ll draw in Processing is the line. You \nused the line() function in Project 0, but I’ll cover it in a little more \ndetail here. The line() function requires two points, (X1,Y1) and \n(X2,Y2). The order of parameters in the line() function is as follows:\nline(X1,Y1,X2,Y2);\nThe first point, (X1,Y1), indicates where your line should start. The \nsecond, (X2,Y2), indicates where it should end. So in this example, \nI’ve drawn a line from (25,25) to (175,175):\nvoid setup()\n{ \n  size(250,250);\n  background(150);\nFigure 2-1:  \nDrawing an ellipse in \nProcessing\nFigure 2-2:  \nThis ellipse and \nrectangle were both \npassed the parameters \n(100,100,100,100). Try it!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1921
  },
  {
    "chunk_full": "36 • PROJ ECT 2\n}\nvoid draw()\n{\n  line(25,25,175,175);\n}\nThis line should run from the top left to the bottom right of the \nsketch window, as shown in Figure 2-3. \nLine Color\nThe stroke() function, which you learned about in Project 1, doesn’t \njust change shape outlines; it modifies the line() function, too. So \nto change the color of a line, use the stroke() function and pass it \na set of RGB values. The noStroke() function also hides all lines as \nwell as outlines. Keep that in mind for later!\nstroke(R,G,B);\nnoStroke();\nYou can change the stroke color as many times as you want in \nyour sketch:\nvoid setup()\n{ \n  size(250,250);\n  background(150);\n}\nvoid draw()\n{\nu   stroke(255,0,0); \n  line(0,0,200,200);\nv   stroke(0,255,0);\nFigure 2-3: \nDrawing a line\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1922
  },
  {
    "chunk_full": "37 • PROJ ECT 2\n  line(50,0,200,150); \nw   stroke(0,0,255);\n  line(100,0,200,100); \n}\nIn this example, I’ve drawn a red line u, a green line v, and a \nblue line w on a gray background. Check out the result in Figure 2-4.\nLine Thickness and End Shapes\nMore useful, line-specific modifiers include strokeWeight() and \nstrokeCap(). strokeWeight() controls the thickness of a line, and \nyou pass it one parameter—the line thickness in pixels:\nstrokeWeight(width in pixels);\nThere is no limit to your strokeWeight() value, but past a certain \nweight, it would probably be easier to use the rect() function. I’ve \nshown a few examples here:\nvoid setup()\n{ \n  size(250,250);\n  background(150);\n}\nvoid draw()\n{\n  stroke(255,0,0);\nu   strokeWeight(5); \n  line(0,0,200,200);\n  stroke(0,255,0);\nv   strokeWeight(15); \n  line(50,0,200,150);\nFigure 2-4:  \nPick a color, any color!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1923
  },
  {
    "chunk_full": "38 • PROJ ECT 2\n  stroke(0,0,255);\nw   strokeWeight(30); \n  line(100,0,200,100);\n}\nIn this sketch, the red line u has the smallest stroke weight, \nso its line is the thinnest. The green line v and the blue line w are \nprogressively larger, as shown in Figure 2-5.\nstrokeCap() deals with the shape of the end of a line. You have \nthree different shapes to choose from: ROUND, SQUARE, and PROJECT. \n(You must capitalize these parameters for the function to accept \nthem; this formatting denotes that they are a known and preset \nparameter within Processing.) \nstrokeCap(ROUND);\nstrokeCap(SQUARE);\nstrokeCap(PROJECT);\nAs their names indicate, ROUND rounds off the end of a line, and \nSQUARE gives your line a squared-off end. Both terminate the line at \nexactly the point specified by line(). PROJECT is a squared line that \nprojects a distance beyond the point, for some extra style. Look at \nthese stroke caps in action: \nvoid setup()\n{ \n  size(250,250);\n  background(150);\n}\nvoid draw()\n{\nFigure 2-5: \nEach line has a different \nstrokeWeight() value. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1924
  },
  {
    "chunk_full": "39 • PROJ ECT 2\n  stroke(255,0,0);\n  strokeWeight(10);\nu   strokeCap(ROUND); \n  line(25,25,175,25);\n  stroke(0,255,0);\n  strokeWeight(10);\nv   strokeCap(SQUARE); \n  line(25,75,175,75);\n  stroke(0,0,255);\n  strokeWeight(10);\nw   strokeCap(PROJECT); \n  line(25,125,175,125);\n}\nThese three lines all start and stop at the same x-positions, but \nthey look a bit different. The red line u is rounded, while the green \nline v is squared off. The blue line w looks like another square-\ncapped line, but it projects a bit farther than the green line. You can \nsee this output in Figure 2-6.\n.\nQuadrilaterals\nQuadrilaterals are another shape you’ll see used frequently in \nProcessing. While the rect() function is great for drawing rect­\nangles and squares, quad() is much more flexible. It also produces \na shape with four sides, but those sides don’t need to be parallel \nto one another, as they do in a rectangle or square. You pass the \nquad() function eight parameters, which represent the four corner \npoints of the shape: \nquad(X1,Y1,X2,Y2,X3,Y3,X4,Y4);\nFigure 2-6:  \nEach line uses a different \nstrokeCap() type.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1925
  },
  {
    "chunk_full": "40 • PROJ ECT 2\nMake sure you specify the points of the quadrilateral in sequen­\ntial order, because Processing will draw from point to point. You can \ngo around the shape either clockwise or counterclockwise, starting \nfrom (X1,Y1). \nvoid setup()\n{\n  size(250,250); \n  background(150);\n}\nvoid draw()\n{\n  fill(255,0,0); \nu   quad(25,25,150,50,100,175,25,200); \n}\nTo draw the shape in Figure 2-7, I started with the point closest \nto the top left (25,25) and went clockwise to (150,50), and so on u. \nIf you don’t enter your points in order, you may get an odd-looking \nshape instead of a quadrilateral. Figure 2-8 shows an example where I \nswapped the last two points around. Not quite what I was looking for!\nFigure 2-7: \nA proper quadrilateral \nhas four sides, but they \ndon’t have to be parallel. \nFigure 2-8: \nSwapping two points \nactually produced two \ntriangles! \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1926
  },
  {
    "chunk_full": "41 • PROJ ECT 2\nTriangles\nThe final common Processing shape I’ll cover here is a triangle. The \ntriangle() function requires three points, so it takes six different \nparameters:\ntriangle(X1,Y1,X2,Y2,X3,Y3);\nAs with the quad() function, you need to pick a direction and \nfollow it around the shape as you pass in those points:\nvoid setup()\n{ \n  size(250,250); \n  background(150);\n}\nvoid draw()\n{\n  fill(0,255,0); \n  triangle(25,25,150,50,25,200);\n}\nThis sketch should draw the triangle in Figure 2-9, starting at \n(25,25) and moving clockwise around the shape.\nIf you have trouble thinking in terms of points in space and then \nconnecting those points, I recommend keeping graph paper and a \npencil on hand as you get started with Processing. When you use \nquad() and triangle(), it helps to sketch out your drawing on graph \npaper to get your points straight before typing the parameters.\nFigure 2-9:   \nOne bright green triangle \ncoming up!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1927
  },
  {
    "chunk_full": "42 • PROJ ECT 2\nPROGRAMMING A DIGITAL COLLAGE\nTime to start drawing! As I mentioned in the introduction, you can \nthink of the sketch window as a collage. Remember cutting out \npaper circles and gluing them to a piece of construction paper to \ncreate a card before winter break when you were a kid? You’re going \nto do the same thing in Processing, but with a lot less mess. In this \nproject, you’ll make a snowman like the one in Figure 2-10, but once \nyou have a sense of how shapes and lines work together, you can \ndraw anything you want! \nSetting the Stage\nYour code window is probably full of practice code, so click \nFile4New to open a clean window now. \nGoing back to that collage metaphor, the first thing you need \nis a piece of digital construction paper. You’ve seen the size() and \nbackground() functions already in Project 1, and you’ll use them here \nto create a light blue sky background. \nvoid setup()\n{\n  size(1100,850);\n  background(25,220,252);\n}\nThis setup() function gives you a big, blue canvas on which you \ncan draw your snowman scene. \nFigure 2-10: \nA snowman created \nusing shapes and lines \nin Processing\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1928
  },
  {
    "chunk_full": "43 • PROJ ECT 2\nGluing Down the Pieces\nWith the setup() function in place, you can start to add shapes. I \nsuggest drawing the snowman from the bottom layer up, as if you \nwere building a real one. First, create the body of the snowman by \nadding the following after your setup() code:\nvoid draw()\n{\n  fill(255);\n  noStroke();\nu   rect(0,700,1100,150); \n  \n  ellipse(550,600,225,225); \n  ellipse(550,425,175,175);\n  ellipse(550,300,100,100);\n //accessorize your snowman here!\n \n noLoop();\n}\nIn this code, I added the ground as a rectangle u and stacked \nthree white ellipses on top of one another, as shown in Figure 2-11. \nI also placed the example snowman in the center of the sketch \nwindow, as indicated by the fact that all three ellipses have an \nx-coordinate of half the total sketch width. \nFigure 2-11:  \nThe body of your snowman \nuses three different-sized \nellipses.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1929
  },
  {
    "chunk_full": "44 • PROJ ECT 2\nAlso, notice the noLoop() function at the end of the draw() loop. \nNormally, draw() repeats over and over again, but once you glue \nshapes to your paper, your physical collage is static, so that’s how \nyou’ll approach the digital one, too. The noLoop() function prevents \ndraw() from repeating.\nI played around with the sizes of the different ellipses until I found \na size and scale I liked for each. If you have trouble visualizing the dif­\nferent components of the sketch at this point, rough out a snowman \non your graph paper first. Be sure to note where the origins of your \ncircles fall and the rough endpoints of your lines. If you lack time or \npatience, graph paper will help you conserve both. \nWith the snowman’s body in place, you can add some distin­\nguishing features. A standard snowman has three buttons, two eyes, \nand a carrot nose. Those will be our next phase of programming, so \nadd the following just before the closing bracket of your draw() loop, \nunderneath the three ellipses:\n  fill(0);  \n  ellipse(530,280,10,10);             //eyes \n  ellipse(550,280,10,10);\n \n  ellipse(550,400,10,10);             //buttons\n  ellipse(550,450,10,10);\n  ellipse(550,500,10,10);\n  fill(255,150,0);  \n  triangle(525,300,530,310,485,310);  //carrot nose\nIn my code, I grouped the eyes and buttons together under the \nblack fill() function and drew the carrot nose last. As you learned \nin Project 1, grouping the shapes and lines by color reduces the \nnumber of fill() and stroke() functions you have to use. See the \noutput in Figure 2-12. That’s progress!\nFor the arms of my snowman, I used a number of lines to create \nsticks. To draw arms like the ones I used, add the following immedi­\nately after the code for your snowman’s nose:\nu   stroke(100,15,15); \nv   strokeWeight(5); \n  line(475,390,400,315);  //right arm\n  line(419,333,430,300);\n \n  line(625,440,700,530);  //left arm\n  line(668,494,660,525);\nNOTE \nI went with the standard \nthree-ball snowman, but \nif you have other ideas \nfor your snowman’s body \nshape, try them out! You’ll \nfind drawing a graph paper \nsketch first invaluable \nthere, too. Then you can \ndraw as many trial snow-\nmen as you want before \nyou decide which to plug \ninto Processing.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1930
  },
  {
    "chunk_full": "45 • PROJ ECT 2\nI changed the stroke color to brown u and increased the stroke \nweight v to make the sticks thicker. You could also play with the \n­strokeCap() of your lines to get the look you want; I stuck with \nthe standard cap, as you can see in Figure 2-13. \nFigure 2-12:  \nIt’s clear that you’re making \na snowman, but this holiday \ncard isn’t done yet.\nFigure 2-13:  \nYour snowman is complete!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1931
  },
  {
    "chunk_full": "46 • PROJ ECT 2\nPRINTING TO THE CONSOLE\nReview the snowman code so far and look over all of the geometric \nshape functions and their modifiers. I used a lot of exact numbers \nin my points, and the trick to figuring those points out lies in this line \nof code: \n  println(mouseX + \",\" + mouseY);\nThe println() function prints information in the console window \nbelow the code window. It prints any string of characters—letters, \nnumbers, punctuation, and other symbols—that you tell it to. A single \ncharacter has the data type char in Processing, and a group of char­\nacters is a String; you will learn more about them both in coming \nchapters. You use the + operator to combine groups of strings and \ncharacters.\nThe values mouseX and mouseY are both variables built into \nProcessing, and they contain the x- and y-coordinates of my \nmouse. A variable is any value that can change, or vary. \nThis particular line of code prints the x- and y-coordinates of \nthe mouse cursor while the cursor is inside the sketch window; \nFigure 2-14 shows this happening in my console. If your sketch win­\ndow is open, click Stop to close it. Then, comment out the noLoop() \nfunction to let draw() run continuously, add that println() function \nto the end of your draw() loop, click Run, and watch the bottom of \nthe Processing window.\nFigure 2-14: \nThe console window for \nthe x- and y-coordinates \nof my mouse\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1932
  },
  {
    "chunk_full": "47 • PROJ ECT 2\nThe coordinates of your mouse should print in the console, and \nas you move your mouse around the sketch window, those numbers \nshould change. So to find the exact values for start points and end­\npoints of lines and determine where you want to place shapes (such \nas a button on the snowman), just run this line of code inside the \ndraw() loop and note the coordinates you want to use! This handy \npiece of code can reduce the amount of trial, error, and frustration \nfor you.\nTAKING IT FURTHER\nAs you draw your own images, look for creative ways to use the dif­\nferent shapes available in Processing. You could use a combination \nof lines and quadrilaterals to make a snowflake, or perhaps you could \nuse ellipses and rectangles to make a car. Try different modifiers to \nachieve different effects, and be sure to share your work with your \nfriends!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1933
  },
  {
    "chunk_full": "3\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1934
  },
  {
    "chunk_full": "A FIRST \nDYNAMIC SKETCH\nIN YOUR SKETCHES UP \nTO THIS POINT, YOU’VE \nMADE THE DECISIONS, AND \nYOU’VE DONE THE MATH. \nBUT COMPUTERS ARE MUCH \nFASTER THAN YOU ARE AT \nBOTH OF THOSE TASKS. IT’S \nTIME TO SET UP VARIABLES, \nTACKLE SOME LOGIC, AND GET \nTHE COMPUTER TO DO THE \nHEAVY LIFTING RATHER THAN \nDOING IT YOURSELF. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1935
  },
  {
    "chunk_full": "50 • PROJ ECT 3\nMORE ON VARIABLES\nIn Project 2, I showed you how to use some of Processing’s built-in \nvariables (mouseX and mouseY) to figure out exactly where to put the \npieces of your snowman. In this project, you’ll take variables a step \nfurther: you’re going to create your own! \nAnatomy of a Variable\nFirst, let’s crack open a variable and see what it’s made of. This vari­\nable, called x, contains the number 23.\nint x = 23;\nA variable has three parts, and the first is the data type. There are \na whole slew of data types in Processing, but I’ll use only a handful \nin this book. Here are the primary data types you’ll use and a quick \ndefinition of each.\nint  An integer (whole number), for example 35\nfloat  A number with a decimal point, for example 3.5\nchar  An alphanumeric character, for example 'a'\nString  A group of characters bound by quotation marks (\"\"), for \nexample \"This is a string\"\nboolean  A value of true or false, or 1 or 0\nThink of data types as different types of dishes. Each dish has its \nown use and designated function. For example, you eat soup out of \na bowl. If you tried to eat soup off a plate, you would make a mess! \nThe same is true of data types: if you try to store a String in an int, \nit just won’t work. Processing doesn’t like messes, so it is really picky \nabout data types.\nThe second part of a variable is its name. You could use generic \nletters, as in algebra, but some situations call for more descriptive \nnames. For example, the x-coordinate of a shape might be named \nshapeX. A good variable name gives a clue as to what that variable is \nused for so that your code makes sense not just to you, but also to \nanyone else who might read it. \nThe final part of a variable is its initialization value. Initializing a \nvariable is essentially giving it a starting value. \nint x = 3;  //initialized with the value 3\nint x;      //to be initialized later \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1936
  },
  {
    "chunk_full": "51 • PROJ ECT 3\nYou don’t have to initialize right away unless the variable needs a \nvalue when the sketch makes its first cycle through the draw() loop. \nIf you are going to initialize the variable somewhere else in the code, \nyou can give it a data type and a name at the beginning, and give it a \nvalue later.\nWhere to Use a Variable\nYou can create a variable anywhere you want in your code; however, \nthat doesn’t mean that variable is accessible everywhere in your \nsketch. When you create a variable outside the setup() function or \nthe draw() loop—say, at the top of your code window—it is called a \nglobal variable. A global variable can be used and accessed any­\nwhere in the sketch, by any function.\nIf you create a variable inside a separate function, it is called \na local variable, and it can be used and referenced only within that \nfunction. If you try to use that variable within a different function, \nProcessing will throw an error telling you the variable doesn’t exist. \nint G = 29;    //G is a global variable\nvoid setup()\n{\n  int L = 300; //L is a local variable \n  size(100,L);\n}\nvoid draw()\n{\n  background(G,200,0);\n}\nIn this example, the global variable G is initialized at the very top \nof the sketch, outside the setup() and draw() functions. The variable \nL is a local variable that you can use only inside the setup() function, \nwhere it was initialized inside the setup() function itself.\nMATH IN PROCESSING\nThere are several ways to work with variables in Processing. For \nexample, you can perform different math functions on them. You can \nmultiply, subtract, and so on in your head, but fortunately, you can \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1937
  },
  {
    "chunk_full": "52 • PROJ ECT 3\nalso let Processing handle the math for you using the mathematical \noperators listed here. \n+  Addition\n-  Subtraction\n*  Multiplication\n/  Division\nIn your first dynamic sketch, you’ll use basic math to manipulate \nvariables, but first, take a look at how logic works in Processing.\nLOGIC\nIn programming, the basic level of logic is the if() statement. You \nprobably even used this construct as a kid without knowing it! Have \nyou ever played Simon Says? The rules are basically an if() state­\nment. Players should follow Simon’s commands only if Simon says \nthe words “Simon says” first. The if() statement works the same \nway, but your computer will never lose.\nInside if() Statements\nif() statements begin with if(), where the parentheses contain a \ncondition that can be true or false, such as x > 100.\nif(x > 100)\n{\n  //execute if statement inside parentheses is true \n}\nelse\n{\n  //execute if statement inside parentheses is false \n}\nIf the value of x is greater than 100, Processing will implement \nthe code between the curly brackets just below the if() statement. \nIf the statement is false (that is, if x is less than or equal to 100), \nProcessing will implement the else portion of this code. The else is \nnot required; if it is not present, Processing just moves to the next \nline of code. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1938
  },
  {
    "chunk_full": "53 • PROJ ECT 3\nThe if() statement is the basis for how your sketch starts to \nmake decisions, but its power is all in the conditional argument \nthat you give it. In the previous example, x > 100 was a conditional \nargument, and the code inside the if() statement would have \nrun only if that condition were true, as shown by the branches in \nFigure 3-1. \nCODE CONVENTIONS\nIf you have previous programming experience, you may have noticed \nthat I place my curly brackets differently than the standard convention. I \ngive each curly bracket its own line, whether the brackets are used in an \nif() statement or for a draw() loop. \n//standard convention for bracket placement\nif(statement) {\n  //your awesome code here!\n}\n//my unconventional brackets\nif(statement)\n{\n  //your awesome code here\n}\nI position my brackets this way so that when I’m debugging, I can \neasily find each one. Both placements are correct, and you can use \nwhichever style you’re more comfortable with. You’ll often find that \nthere are multiple ways to structure your code, so don’t worry too much \nabout following convention if you find a style that works for you!\nMy preferences for how I structure my code stem from being a \nteacher and wanting to check for correct structure and quickly be \nable to debug a student’s sketch. The style has stuck with me ever \nsince and has become the standard way we structure code here at \nSparkFun.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1939
  },
  {
    "chunk_full": "54 • PROJ ECT 3\ncondition\nconditional code\nif\ncondition\nis true\nif\ncondition\nis false\nA Refresher on Relational Operators\nNotice the greater-than sign in x > 100. If you haven’t used relational \noperators such as greater than and less than in a while, here’s your \nchance to brush up on them and put them to good use!\nIn Processing, you’ll use relational operators to create conditional \narguments. These allow you to test if something is greater than a \nvalue, less than a value, and so on. You can harness the power of \nthese statements to make events happen only if a value equals a \ncertain number or falls within a specified range of numbers. \nRelational operators are at the heart of computational thinking \nand logic. If you take just one skill away from this book, it should be \nthe concept of computational logic with an if() statement. As a \nrefresher, here’s a list of relational operators and how they are stated \nin Processing. \na > b  Greater than\na >= b  Greater than or equal to\na < b  Less than\na <= b  Less than or equal to \na != b  Not equal\na == b  Equal to\nLogical Operators\nAfter a while, you’ll start to see that you may need more than one \nargument for a piece of logic to really work. In Simon Says, there’s \nusually a number of people who will never mess up if you stick with \nFigure 3-1: \nFlowchart of an \nif() statement\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1940
  },
  {
    "chunk_full": "55 • PROJ ECT 3\none instruction at a time. You want to be able to combine arguments \nto create compound logical arguments.  \nCompound logic uses more than one conditional argument \nand combines those arguments into logical operators. Processing \nincludes three logical operators: OR, AND, and NOT.\na || b  OR\na && b  AND\n!a  NOT\nThe compound argument a || b resolves to true if either a or b \nis true; a && b is true only if both a and b are true. The last statement, \n!a, is true only if a is false.\nTo combine logical arguments, just place each argument on one \nside of a logical operator, as in this example. \nif((x > 100) && (x < 200))\n{\n  //true argument code\n}\nelse\n{\n  //false argument code\n}\nIf the variable x is greater than 100 and less than 200, Processing \nshould execute whatever code is in the if() statement. If the variable \nfalls outside of those values, then Processing will execute the else \nstatement code.\nFOLLOWING THE BOUNCING BALL\nWith those fundamentals in mind, let’s get coding! For this project, \nI’ll teach you to create some basic animations using if() statements \nto manipulate variables. First, create two global variables: one for the \nstarting x-position of an ellipse you’ll draw (x), and one to control how \nfast the ellipse moves (grow).\nint x = 400;\nint grow = 5;\nNext, create your setup() code, and specify the size of your \nsketch window and background. Also add a call to a function named \nsmooth(), which simply smooths the edges of shapes. The resulting \neffect looks nice, especially when a shape is moving. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1941
  },
  {
    "chunk_full": "56 • PROJ ECT 3\nvoid setup()\n{\n  size(800,800);\n  background(150);\n  smooth();\n}\nMy background() function paints a black backdrop to set the \nstage for the real magic, which happens inside the draw() loop. In \nProject 2, your snowman remained static, but that’s not where the \ntrue power of draw() lies. It’s time to unshackle your draw() loop to \ncreate animations. \nMoving in One Direction\nYou added noLoop() to the end of the draw() loop in Project 2 \nto prevent the loop from repeating, which created a completely \nstatic sketch. But draw() really shines when you want to create a \ndynamic sketch.\nFirst, add a draw() loop to your sketch, after the setup() code. \nSelect a fill color and draw an ellipse, using the x variable for the \nellipse’s x-coordinate. \nvoid draw()\n{\n  fill(255,0,0);\n  ellipse(x,400,100,100);\nu   x++;\n}\nI created my ellipse with a y-coordinate of 400 and a 100-pixel \ndiameter, but you could use any values you like for the other three \nparameters. At the end of the loop, add 1 to x u.\nMost of the code elements at this point should look familiar. The \none part that may be new to you is the x++, which is shorthand for \nx = x + 1. Every time Processing reads that line of code, it increases \nthe value of x by 1. So every frame, or every time the draw() loop \nis run, x increases by 1, and the ellipse should move to the right. \nFigure 3-2 shows my ellipse in action. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1942
  },
  {
    "chunk_full": "57 • PROJ ECT 3\nNotice the trace following my ellipse in Figure 3-2. Since you’re \ndrawing the background in setup() rather than in draw(), every \nversion of the ellipse that Processing adds to your sketch remains \nvisible. To remove the trace, cut the line background(150); from your \nsetup() function and paste it into the draw() loop. Click Run to see \nthe outcome. \nCreating Walls\nThe ellipse should move to the right of the sketch window, eventually \nmoving outside your specified sketch area. But why just let the ellipse \ndisappear? You can make it bounce off the edge of the window and \nchange directions instead. Enter the if() statement!\nvoid draw()\n{\n  background(150); //drawing the background after every loop\n  fill(255,0,0);\n  ellipse(x,400,100,100);\nu   x = x + grow;    //assigning x \nv   if(x >= width)\n  {\nw     grow = grow * -1;\n  }\n}\nFigure 3-2:  \nThis bright red ellipse \nleaves a pretty obvious \ntrail at the moment.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1943
  },
  {
    "chunk_full": "58 • PROJ ECT 3\nInstead of just incrementing x by 1, this draw() loop now \nincrements x by grow (with x = x + grow u). I’ve also added an \nif() statement v that basically reads, “if x is greater than or equal \nto width, then multiply grow by –1.” The value width is built into \nProcessing, and it always equals the width of your sketch window; \nin this case, it’s 800 pixels. If the statement is true, grow will become \nnegative w, changing the direction in which the ellipse moves. Your \nellipse should bounce off the right side of the screen. Success! \nBut keep watching that ellipse. Eventually, you’ll see it zoom \nstraight out of the window on the left side. The problem is that the \nargument you pass the if() statement accounts only for the right \nside of the sketch window. The conditional statement x >= width \nestablishes the boundary for the right side of the window but not the \nleft side. You need to add another conditional statement to the argu­\nment using an OR logic operator, as shown in Listing 3-1. \nvoid draw()\n{\n  background(150);\n  fill(255,0,0);\n  ellipse(x,400,100,100);\n  x = x + grow;\nif((x >= width - 50) || (x <= 50))\n  {\n    grow = grow * -1;\n  }\n}\nThe new conditional statement, x <= 50, checks the left bound­\nary of the sketch window. Thanks to the || operator, the code inside \nthe if() statement will execute if either of those two conditionals is \ntrue. I could have left it at x <= 0, but I changed it to x <= 50; note \nthat I’ve also subtracted 50 from the width in the first argument. I’ve \ndone this to compensate for the distance between the origin of the \nellipse, which is the center, and the edge of the ellipse, which has a \nradius of 50 (100/2 = 50). If you make these modifications to your \nsketch, you should have a satisfying bouncing ellipse.\nThe if() statement is really powerful for getting your sketch to \nmake decisions. Once you get the hang of it, you will be thinking in \nterms of if() in no time at all. You can use it to change colors, sizes, \nshapes, and, as you have done already, motion. Try tackling these \noptions with an if() statement on your own! \nListing 3-1: \nA bouncing ellipse\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1944
  },
  {
    "chunk_full": "59 • PROJ ECT 3\nFor a challenge, try to create an ellipse that grows in diameter \nand then shrinks again in a pulsing manner. How could you increase \nor decrease the speed at which it grows or shrinks? Could it grow \nfaster and shrink slower? A pulsating shape has a number of different \napplications in programming, so once you get it working, keep it in \nyour coder tool belt.\nTRAILS OF COLOR AND \nMULTIPLE VARIABLES\nA single ellipse moving back and forth can teach you a lot, but you \ncan extend this project to make something more colorful without too \nmuch extra work. It’s time to add more bouncing ellipses! I’ll only \nshow you how to get them bouncing horizontally (as in Figure 3-3), \nbut if you’re looking for a bit of a challenge, create a few more and \nmake them bounce vertically. \nReusing Code \nOf course, I’m all about working smart and not hard . . . so let’s use \ncut and paste!\nEach ellipse needs its own set of x and grow variables, so ­create \nthose now. You can type these out or cut them from Listing 3-1, paste \nthem, and make changes. The important part is that each variable \nneeds to be different from the others. I just gave each copy a number \nthat represented which ellipse it would be assigned to. Here is my list \nof variables; delete the original x and grow, and add these (or your \nown!) to the top of your sketch.\nFigure 3-3:  \nFinal version of the multiple \nellipse bounce\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1945
  },
  {
    "chunk_full": "60 • PROJ ECT 3\nint x1 = 400;   //x-coordinate for ellipse 1\nint x2 = 300;   //x-coordinate for ellipse 2\nint x3 = 200;   //x-coordinate for ellipse 3\nint grow1 = 1;  //grow variable for ellipse 1\nint grow2 = 1;  //grow variable for ellipse 2\nint grow3 = 1;  //grow variable for ellipse 3\nAll three x variables are assigned different numbers, but the grow \nvariables all start at the same value. You may think that you could get \naway with using just one variable for grow, but that’s not the case. \nSince each ellipse will collide with the edge of the sketch window at \na different time, each needs its own variable for direction; otherwise, \none ellipse would trigger the other two to change direction early.\nManipulating Individual Shapes\nOnce you’ve taken care of all of the variables, your code will pretty \nmuch stay the same for your setup(); the only difference is that you’ll \nset the background there again. But you do have some big changes \nto make in your draw() loop.\nvoid setup()\n{\n  size(800,800); \n  background(150);\n  smooth();\n}\nvoid draw()\n{  \n  stroke(255,0,0);\n  ellipse(x1,200,50,50);\n  stroke(0,255,0);\n  ellipse(x2,400,50,50);\n  stroke(0,0,255);\n  ellipse(x3,600,50,50);\n} \nFirst, write three ellipse() functions to create two more ellipses \nthan you had before. To spice up the visuals, I also changed the stroke \ncolor of each ellipse; make those anything you like. With the back­\nground placed in setup(), the ellipses will leave streaks of color across \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1946
  },
  {
    "chunk_full": "61 • PROJ ECT 3\nthe screen. Make sure that you test your code at this point to see if \nyou like where you’ve placed your ellipses. Move their starting posi­\ntions or vertical placement around as you see fit. \nWhen you get everything where you want it and the colors suit \nyou, move on to the if() statements and the increment equations. \nReplace x = x + grow; and the original if() statement (as shown in \nListing 3-1) with the following:\n  x1 = x1 + grow1;\n  x2 = x2 + grow2;\n  x3 = x3 + grow3;\n  \n  if(x1 >= width - 25 || x1 <= 25)\n  {\n    grow1 = grow1 * -1; \n  }\n  if(x2 >= width - 25 || x2 <= 25)\n  {\n    grow2 = grow2 * -1; \n  }\n  if(x3 >= width - 25 || x3 <= 25)\n  {\n    grow3 = grow3 * -1; \n  }\nJust as you did with the single bouncing ellipse, you need to \nmodify the if() statement to account for the width of the ellipse. \nThe origin of the ellipse is at the center, so you have to use the radius \nvalue to find the edge of the ellipse. Here, the radius is 25 for all of \nthe ellipses. As you can see, I have already added the math to the \nbounding if() statements for each ellipse. If you use a different-\nsized ellipse, just swap out the 25 for whatever your radius is.\nEach ellipse needs not only its own equation but also its own \nif() statement so that you can control where your ellipses go \nand how fast they get there. I have each shape at a different start­\ning point, which means they hit the edge of the window at different \nheights and different times. \nIf you think you might want to change each shape individually, \nthen build that into your sketch from the beginning. For example, you \ncould change the speed of an individual ellipse by making a single \nvalue change at this point. If you had one equation to control all of \nthe motion, you’d have to rewrite or add a bunch of code later.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1947
  },
  {
    "chunk_full": "62 • PROJ ECT 3\nOnce you get your code in place, run it, and as you watch those \ncolored circles bounce, think about how you can remix the code. What \nchange would you make to control the speed of each ellipse? What \nabout its direction of travel? What if you use the x variables as more \nthan one parameter, as I did to create Figure 3-4?  \nTAKING IT FURTHER\nYou’ve successfully created shapes that bounce in a single \ndirection—along the x-axis. How might you go about getting a \nshape to bounce along the y-axis? Once you figure out how to \nget a shape bouncing in both directions, try making multiple shapes \nthat bounce in different directions! How could you get them moving \ndiagonally? \nFigure 3-4: \nWhich parameters \nwould you replace with \nx variables to create an \nimage like this?\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1948
  },
  {
    "chunk_full": "www.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1949
  },
  {
    "chunk_full": "4\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1950
  },
  {
    "chunk_full": "INTERACTIVE \nTIME-BASED ART\nIN THIS PROJECT, YOU’LL \nEXPLORE TIME AS A VARIABLE \nAND PUT IT TO USE AS A \nDRIVING FORCE IN SOME \nTIME-BASED ART—THAT IS, \nART THAT DEVELOPS OVER \nTIME. AT FIRST, THIS CONCEPT \nMAY SEEM A BIT ABSTRACT. \nIT’S MEANT TO! YOUR FINAL \nSKETCH WILL BE A CLOCK, \nAND ITS APPEARANCE WILL BE \nBASED ON WHAT THE CODE \nYOU WRITE DOES OVER TIME.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1951
  },
  {
    "chunk_full": "66 • PROJ ECT 4\nBy now, you’ve learned and used many of the basic structures \nand functions in Processing. Think of this as a chance to just play \nwith and explore variables within your current knowledge and under­\nstanding. For example, with what you know now plus what you’ll \nlearn in this project, you’ll be able to draw shapes at different angles, \nto impressive effect. I created the sawblade pattern in Figure 4-1 by \nrotating a rectangle every second and using a time-based variable to \nchange the color from black to red.\nSince your creation will be constantly changing, I’ll forgo the \npaper and pencil this time and jump right into the code. Go ahead \nand get lost for a bit, but never lose track of time as a variable!\nBUILT-IN VALUES\nTo change a shape’s dimensions, color, or other properties while your \nsketch is running, you need to be able to change the values you pass \nto your Processing functions without adjusting the sketch and restart­\ning. You created variables to automate such changes in Project 3, \nbut say you want a shape to respond to the passage of time or even \nto a mouse click.\nIn that case, you also have at your disposal a powerful set of \nsystem variables that are built into Processing, as well as several use­\nful system functions. Both let you harness values from your computer \nto use in your projects, and you can use them in any part of your \nProcessing sketch. Your system functions return values from your \ncomputer, such as the date, time, and so on, and for all intents and \npurposes, you can treat them the same as system variables. \nFigure 4-1: \nThis simple time-based \nartwork rotates and \nchanges color based \non the second hand \nof a clock.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1952
  },
  {
    "chunk_full": "67 • PROJ ECT 4\nYou’ll explore system variables and functions in this project as \nyou create dynamic and time-based art. Let’s take a quick look at a \nfew particularly useful system variables now. \nFinding the Mouse and Keypresses\nYou’ve already played around with two of the system variables I’ll \ndescribe. Remember mouseX and mouseY? Those are mouse, or cur­\nsor, system variables. Here are the mouse system variables and the \nvalues they contain.\nmouseX  The x-coordinate of the mouse cursor while it is in your sketch \nwindow\nmouseY  The y-coordinate of the mouse cursor while it is in your sketch \nwindow\npmouseX  The x-coordinate of the mouse cursor from the previous \nframe\npmouseY  The y-coordinate of the mouse cursor from the previous \nframe\nkey  The ASCII numerical value of a letter or number being pressed\nThe mouseX and mouseY variables store your mouse’s current \nposition, while pmouseX and pmouseY store its previous position. The \nkey variable stores any letter or number key you’re currently pressing!\nTelling Time\nYour computer has a built-in clock, and Processing can access \nit and store certain time-related values for you to use with certain \nfunctions. You can access all sorts of time- and date-based infor­\nmation for your sketches. Here are a few time-related functions that \nyou’ll find useful.\nmillis()  The number of milliseconds since the sketch started\nsecond()  The seconds value on your computer’s clock\nminute()  The minute value on your computer’s clock\nhour()  The hour value on your computer’s clock\nday()  The day value of the date on your computer’s calendar\nmonth()  The numeric value of the current month on your computer’s \ncalendar\nyear()  The year from your computer’s calendar\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1953
  },
  {
    "chunk_full": "68 • PROJ ECT 4\nAll of these functions return a time-related number. Use them to \nrepresent the passing of time—from the number of milliseconds since \nyou clicked Run to the current calendar year—in your sketch!\nPutting Built-in Values into Action\nYou can use the values I’ve described in this section anywhere you \nwould normally pass a number. For example, you can use second() \nto change a rectangle’s shade of red based on how many seconds \nhave passed in the current minute:\nvoid setup()\n{\n  size(200,200);\n}\nvoid draw()\n{\n  fill(second(),0,0);  //shade of red based on \n                       //the value of second()\n  rect(50,50,100,100);\n}\nJust pass second() as the red value of the rectangle’s fill() \nfunction!\nIf you run that code as a sketch, it probably isn’t the most excit­\ning thing to watch. It takes 60 seconds to get to a measly 59 out of \n255 for our red value. But you can up the ante a bit and give a pos­\nsible range of 0 to almost 255. Enter math!\nEXTENDING YOUR RANGE\nIn the color example in the previous section, the red value will only \ngo up to 59 because I used the value returned by second(). If you \nwant a wider range of values, you can multiply the second() variable \nby, say, 4. When you choose a multiplier for any value you want to \npass into a function, think about the range of values the function will \nactually accept. The fill() function accepts only a number between \n0 and 255 for any color value. Your computer won’t explode if you go \nover; it just caps out at 255. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1954
  },
  {
    "chunk_full": "69 • PROJ ECT 4\nThe highest value you’ll get from second() is 59, so when you \nmultiply that by 4, the highest value you’ll pass to fill() is 236, \nwhich is still within the fill() function’s limits. Try this as a compari­\nson to the previous example:\nvoid setup()\n{\n  size(200,200); \n}\nvoid draw()\n{\n  fill(second() * 4,0,0);\n  rect(50,50,100,100);\n}\nAs shown in Figure 4-2, the red value of the rectangle changes \nevery second. When you start the sketch, the value passed from \nsecond() is 0, and the rectangle is black; as the second() value \nincreases, so does the red value in the fill() function, and the rect­\nangle becomes redder. After the second() value hits 59 and the red \nvalue peaks at 236, the second() function starts over again at 0—a \nblack rectangle.\nr e s e t !\nNotice that the syntax of the fill() function didn’t change, \neven though you’re using an equation within the parameter for the \nred value. If you moved or removed the comma, you would get an \nerror when you tried to run the sketch. \nThe value of second() is small and changes slowly, so I multi­\nplied it to increase the rectangle’s range of redness and speed up the \ncolor shift. A similar concept applies to values that change quickly or \nFigure 4-2:  \nThis rectangle’s shade of \nred changes according to \nthe value of the second() \nfunction, as if second() \nwere a variable.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1955
  },
  {
    "chunk_full": "70 • PROJ ECT 4\ngrow large, like those obtained from millis() or mouseX. Just sub­\ntract or divide to get a smaller or steadier value! If you want a value \nin your sketch to be based on time or some other variable, but the \nvariable changes at a speed you don’t like, amplify or reduce it using \nmathematical operators. \nTRANSFORMATION FUNCTIONS\nWhen you manipulate a shape’s dimensions, coordinates, and so on, \nyou’re transforming the shape. Geometric transforms include scaling, \nrotating, and translating, and you may see some similarities between \ntransforms of the same name in graphic design software and what \nyou learn in this project. Here are a few transformations that you’ll \nuse in this book: \nscale(S)  Scales the entire sketch by a percentage (S) in decimal form \n(for example, 80% = .80)\nrotate(R)  Rotates the sketch by R radians (3.14 radians = 180 degrees)\ntranslate(X,Y)  Moves the sketch X pixels along the x-axis and Y pix­\nels along the y-axis\nFor now, use the transformation functions sparingly, as they’ll \nbe applied to everything in your sketch. For example, look at the \ntranslate() function in action.\nvoid setup()\n{\n  size(400,400);\n  translate(100,100);\n  fill(255,0,0);\n  ellipse(0,0,100,100);\n}\nNormally, you’d expect ellipse(0,0,100,100) to draw an ellipse \nat the origin of the sketch window. But because translate(100,100) \nis called before the ellipse() function is called, the ellipse will be \nshifted by 100 pixels on both axes, as shown in Figure 4-3.\nLater, I’ll show you how to apply a transformation to a specific \nshape or group of shapes, but for now, time to dive in and make a \nclock! \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1956
  },
  {
    "chunk_full": "71 • PROJ ECT 4\nAN ABSTRACT CLOCK\nUp to this point, I’ve just talked about time-based values, but now \nyou’ll get your hands dirty and actually use those values in code. \nAny time you learn a new Processing concept, I recommend run­\nning parts of the code in small sketches that look like the example \ncode from this book. When you’re practicing, the goal is to quickly \nunderstand the function or concept, rather than create something \nelaborate and beautiful. \nComparing the Major Time Functions\nFirst, I’ll compare four of the major functions that return time values. \nThe following example uses second(), minute(), hour(), and day() \nto create an abstract clock, where rectangles move according to the \ntime on your computer’s clock. I replaced some fill() function and \nshape parameters with these built-in values. Since time-based func­\ntions change over time, you will have to rewrite the code on your own \nmachine, as shown in Listing 4-1.\nvoid setup()\n{\n  size(240,240); \n  background(150);\n}\nvoid draw()\n{\nu   fill(second() * 4,0,0); \nv   rect(second() * 4,160,50,50); \n  \nFigure 4-3:  \nAn ellipse translated to \nthe right by 100 pixels \nand down 100 pixels\nListing 4-1:   \nAn abstract clock with \nthree moving rectangles\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1957
  },
  {
    "chunk_full": "72 • PROJ ECT 4\n  fill(0,minute() * 4,0);\n  rect(minute() * 4,100,50,50); \n  fill(0,0,hour() * 4);\n  rect(hour() * 4,40,50,50);\n}\nThis chunk of code uses the second, minute, and hour hands of \nthe clock on your computer. Since there are 60 seconds in a minute \nand 60 minutes in an hour, I set the width of the sketch window to \n240, which is 60 multiplied by 4. \nFor the first rectangle, I multiplied second() by 4 to give both \nits red value u and x-coordinate v a minimum of 0 and maximum \nof 240. The second and third rectangles follow that pattern, using \nminute() and hour(), respectively. I replaced the x-coordinate with a \ntime-based value in both cases, but in one, the minute() value con­\ntrols the green fill() argument, and in the other, the hour() value \ncontrols the blue fill() argument. \nYou can see the results in Figure 4-4. If you want to expand on \nthis sketch, add a fourth rectangle that uses millis(). I will leave \nit up to you to figure out the equation to have the rectangle track \nacross the screen properly and change color.\nThese values are really useful for triggering events at specific \ntimes, having shapes move on their own (as demonstrated here), or \nchanging color over time. Now you can put all this into practice and \nmake your clock more stylish.\nSpicing It Up!\nIn this section, I’ll show you how to create another abstract clock that \nis a little more intricate than the previous one. The clock isn’t really \nuseful for getting to work or school on time, but since I designed the \nproject I’ve become accustomed to looking at it, and I’m actually \nFigure 4-4: \nAn abstract clock using \nProcessing. The top \nrectangles represent \nhours, the middle \nrectangles represent \nminutes, and the \nbottom rectangles \nrepresent seconds.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1958
  },
  {
    "chunk_full": "73 • PROJ ECT 4\npretty good at telling what time it shows. Practice reading your clock, \nand you can impress your friends by being able to tell time from a \ngroup of shapes that move and change color! \nFirst, think about what you want your clock to do. You know \nthat you want it to react to time, so you’ll be using the millis(), \nsecond(), minute(), and hour() functions. \nI started with the example code from Listing 4-1 and changed it \nfor this project. The original abstract clock sketch has good potential, \nbut I wanted to make the clock a little more creative. I also wanted to \ninclude either scale() or rotate() in the sketch.\nStart by creating a setup() and draw() loop. Then add some \nshapes that move and leave trails as they change color and move \nacross the screen. Let’s also include shapes that stand alone, without \ntrails; you’ll be able to tell that these shapes move only if you actually \nwatch them over time.\nListing 4-2 shows the complete code for the project.  \nvoid setup()\n{\n  size(240,240); \n}\nvoid draw()\n{\nu   //background(150);\nv   rotate(millis());\n  \n  fill(second() * 4,0,0);\nw   rect(20,160,second(),second()); \n  \n  fill(0,0,minute() * 4);\nx   triangle(100,100,80,40,minute(),minute()); \n  \n  fill(0,hour() * 10,0);\ny   ellipse(0,0,hour() * 5,hour() * 5); \n  \nz   if(second() >= 59)\n  {\n    background(150);\n  }\n}\nListing 4-2:   \nA more intricate \nabstract clock\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1959
  },
  {
    "chunk_full": "74 • PROJ ECT 4\nFirst I played with the size of the seconds-based rectangle \nand tried rotating the sketch as well. I also commented out the \nbackground() function u from the draw() loop so my sketch would \nleave a trail of shapes. \nThis modified abstract clock uses three different shapes: our \noriginal rectangle w, a triangle x, and an ellipse y.\nThe biggest difference in the sketch itself is probably that the \nshapes are rotating around the sketch origin (0,0). I created this \neffect using the rotate() function at the top of the draw() loop v. \nThe rotate() function accepts a single parameter, and I’ve used \nmillis(). I wanted something that changed relatively quickly, and \nthe number of milliseconds since the sketch started fit the bill nicely. \nSince the value of millis() is not connected directly to your system \nclock, but rather internally within your sketch, it also gives you a good \nsource of time that is independent from your system clock for future \napplications. \nThe if() statement at the end of the draw() loop redraws the \nbackground to clear the shape trails any time seconds() is greater \nthan or equal to 59 z, which would be roughly the end of a minute. \nRun the code and watch it for a bit. At the end of each minute, you \nshould see everything disappear as the background is redrawn, and \nthe clock should start over again. \nOf course, you could redraw the background whenever you \nwant. For example, try changing the number in the statement from 59 \nto 10. This would redraw the background when the second hand was \nat 10 seconds and higher. How long do the shape trails stay visible?\nAs you move through the code it should look pretty familiar com­\npared to the earlier example sketch. Feel free to change things and \nmake this your own! Play around with using a combination of your \nmouse variables and your time variables to change color, shape, or \nposition within your code. \nI ran this piece of code around noon and saw the colors shown \nin Figure 4-5. It would be interesting to see this sketch at the time \nyou run it! The colors your sketch will produce while you’re reading \nthis book will probably be different from mine. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1960
  },
  {
    "chunk_full": "75 • PROJ ECT 4\nSHARING YOUR PROJECT!\nNow that you’ve tried my version of this project, make it your own, \nmake it beautiful, and make it a piece of art. When you’re done, you \ncould even share it on OpenProcessing.org, so everyone can benefit \nfrom your work and creativity.\nFirst go to http://openprocession.org/ and follow the instructions \nthere to register an account. Once you have an account, you’ll land \non your dashboard, which should look similar to Figure 4-6.\nFigure 4-5:  \nThe new abstract clock, \nstarring three different \nshapes\nFigure 4-6:   \nOpenProcessing \ndashboard\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1961
  },
  {
    "chunk_full": "76 • PROJ ECT 4\nFrom your dashboard, you can access sketches you’ve recently \nuploaded or created using OpenProcessing’s web-based IDE. You \ncan click create new sketch to try out the IDE, but for this book \nyou should stick to the original Processing IDE for consistency and \nfunctionality.\nYou can also upload sketches you created with the normal IDE, \nso try it with your abstract clock project (Listing 4-2). Click upload \nfrom processing to reach the screen in Figure 4-7, which gives \nbasic instructions and, perhaps more importantly, the limitations on \nwhat you can upload to OpenProcessing. You can’t upload anything \nover 10MB, but the abstract clock file is well below that limit. \nSave your sketch if you haven’t already done so. You now need to \ninstall JavaScript mode for Processing, which is a short and pain­less \nprocess. Click the Mode drop-down menu (highlighted in Fig­ure 4-8); \nyou should see only Java and an Add Mode option. Select Add Mode \nto bring up the Mode Manager window. From here you can select \nwhich modes to add to Processing. At the time of writing, there are \na number of available modes, which you will explore later in the book. \nFor now, find JavaScript mode and click Install. The installation will \ntake a few minutes, and then you are done!  \nClick the Mode drop-down menu again, and you should now see \ntwo mode choices: Java and JavaScript. Select JavaScript. Your \nsketch should disappear and reappear quickly with a different-looking \ncontrol bar at the top of your sketch, shown in Figure 4-9. The Mode \ndrop-down menu now says JavaScript. Congratulations! You’re ready \nto send your code to the Web. \nFigure 4-7: \nUpload instructions from \nOpenProcessing\nFigure 4-8: \nThe Mode drop-down \nmenu is currently set \nto Java.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1962
  },
  {
    "chunk_full": "7 7 • PROJ ECT 4\nLearning JavaScript would require a book of its own, so for now, \nall you need to know is that Processing’s JavaScript mode allows you \nto create JavaScript programs using the Processing language and \nexport your sketches to a web-friendly format. Just click the Export \nfor Web button; it’s the last button in your toolbar and looks like an \narrow pointing to the right, as shown in Figure 4-10. This creates a \nfolder called web-export inside your sketch folder. This new folder \nshould contain three files: a copy of your sketch, the processing.js \nfile, and index.html, which is the web page of your sketch. \nNow, compress or zip the web-export folder so you can upload it \nto OpenProcessing. In Windows, right-click the folder and select Send \nto4Compressed (zipped) folder. Then return to OpenProcessing, \nclick Choose File, navigate to your sketch folder, and select the \nzipped web-export folder. Click Upload, shown in Figure 4-11, to \nsend your sketch to OpenProcessing. \nFigure 4-9:   \nThe Processing control \nbar changes for \nJavaScript mode.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1963
  },
  {
    "chunk_full": "78 • PROJ ECT 4\nOpenProcessing should take you to a new page to add a name, \nthumbnail, and description to your sketch. The website will also show \nyour sketch below this interface, as in Figure 4-12. \nFill out all of the content you want to include, click Save, and \nyou should have a web-based version of your Processing application \nthat you can share. Other OpenProcessing users can also fork your \nwork, modify it, comment on it, and view it. Figure 4-13 shows what \na sketch page looks like on OpenProcessing.\nI touched on a few OpenProcessing basics to get you started with \nsharing and webifying your sketches, but I encourage you to explore \nthis awesome tool further. Checking out other users’ code and tweak­\ning it to see how it works is one of the best learning tools. Have fun!\nFigure 4-10:  \nExporting your sketch \nfor the Web\nFigure 4-11: \nUploading the \nweb-export folder to \nOpenProcessing\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1964
  },
  {
    "chunk_full": "79 • PROJ ECT 4\nTAKING IT FURTHER\nA great way to take this project further would be to build time-based \napplications that are a little less creative but a bit more useful. You \ncould incorporate the larger time-based variables by creating a \ncalendar that draws something specific on a given day. Looking to \nthe short term, you could also build a stopwatch for timing tasks, or \nyou could even create a custom alarm clock by combining hour() \nand minute() with an if() statement! When you look not only at the \nsystem clock–based variables, but also millis(), the possibilities are \nendless.\nFigure 4-12:  \nAdding descriptive \ninformation to  \nyour sketch\nFigure 4-13:   \nA basic sketch that \nchanges color over \ntime uploaded to \nOpenProcessing\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1965
  },
  {
    "chunk_full": "5\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1966
  },
  {
    "chunk_full": "ENTER THE MATRIX\nYOU’VE CREATED A NUMBER \nOF WONDERFUL THINGS FROM \nSHAPES AND LINES, AND EVEN \nMOVED SHAPES AROUND USING \nAN if() STATEMENT. NOW I’LL \nCOVER HOW TO COMBINE THE \nCONCEPTS YOU’VE LEARNED \nTO CREATE IMAGES AND \nTRANSFORM ALL THE PIECES \nOF YOUR SKETCH AT ONCE, \nRATHER THAN TRANSFORMING \nINDIVIDUAL SHAPES.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1967
  },
  {
    "chunk_full": "82 • PROJ ECT 5\nWHAT IS A MATRIX?\nWhen you create individual shapes with Processing, you’re actually \nplacing them on a matrix. In simple Processing projects, you can \nthink of a matrix as a way to group a lot of shapes and treat them \nas a single object. It’s a bit like drawing on a piece of paper: if you \nwanted to move the picture, you could erase it and redraw it—or \nyou could simply move the whole piece of paper.  \nWithout a matrix, you’d have to move every single shape, one \nat a time, whenever you wanted to move your picture, as shown in \nFigure 5-1.\n0 20 \n40 \n60 80 100 120 140 160 180 200\n0\n20\n40\n60\n80\n100\n120\n140\n160\n180\n200\nBut if you use a matrix, you can just move the whole picture all at \nonce instead, as Figure 5-2 shows.  \n0 20 \n40 \n60 80 100 120 140 160 180 200\n0\n20\n40\n60\n80\n100\n120\n140\n160\n180\n200\n0 20 \n40 \n60 80 100 120 140 160 180 200\n0\n20\n40\n60\n80\n100\n120\n140\n160\n180\n200\nFigure 5-1: \nMoving individual \nshapes\nFigure 5-2: \nMoving shapes by \ntranslating a matrix\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1968
  },
  {
    "chunk_full": "83 • PROJ ECT 5\nTo be clear, this definition of a matrix is not mathematically correct. \nMatrices are actually much more complicated, but this simplified defini­\ntion corresponds to the one you’ll find on the Processing website, and \nit should give you just enough information to build some cool projects. \nIf you’re eager to dig in to the math behind matrices, then read more \nabout them at Wolfram MathWorld (http://mathworld.wolfram.com/) or \nKhan Academy (https://www.khanacademy.org/). \nFor now, think back to your snowman from Project 2. If you \nwanted it to bounce back and forth, writing all of the if() state­\nments needed to get each shape (let alone the lines) bouncing \ncorrectly would drive you crazy! With a matrix, you can capture the \nwhole snowman and treat it as one single shape, and then move it \nwith a single if() statement.\nYou’ll use two functions to define a matrix. The first function, \npushMatrix(), defines the start of a matrix. Any shapes or lines that \nyou want to group together go in between pushMatrix() and the \nterminating function, which is called popMatrix().\nvoid setup()\n{\n  size(250,250);\n}\nvoid draw()\n{\n  pushMatrix();\n  fill(255,0,0);\n  ellipse(0,0,25,25); \n  ellipse(0,25,25,25);\n  ellipse(0,50,25,25);\n  popMatrix();\n}\nIn this program, I created a single matrix, set the fill to bright red, \ndrew three ellipses stacked on top of each other, and popped the \nmatrix when I finished. You can see the resulting sketch in Figure 5-3. \nThese ellipses are partially hidden at the moment, which is okay; \nthey’re supposed to be. Note that the top ellipse is centered on the \norigin of the sketch, (0,0). Now, you can move the entire matrix that \nholds the ellipses when you want to change their position. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1969
  },
  {
    "chunk_full": "84 • PROJ ECT 5\nTHINKING WITH MATRICES\nTo create sketches with matrices, you’ll have to change how you \napproach the drawing process. The origin of a matrix is the same as \nthe origin of your sketch, which affects how and where you should \ndraw a shape with a matrix. \nFor example, if you just draw a rectangle in a matrix and then \nrotate the matrix as shown on the left in Figure 5-4, the rectangle \nwill rotate in a wide arc around the origin of the sketch because the \nrotate() function rotates around the origin. If you want that rectangle \nto spin around its own origin, as shown on the right in Figure 5-4, you’ll \nneed to make the rectangle and matrix origins the same  and then \nrotate the matrix . Your rectangle’s final position is shown at . \n0 20 \n40 \n60 80 100 120 140 160 180 200\n0\n20\n40\n60\n80\n100\n120\n140\n160\n180\n200\n0 20 \n40 \n60 80 100 120 140 160 180 200\n0\n20\n40\n60\n80\n100\n120\n140\n160\n180\n200\n0 20 \n40 \n60 80 100 120 140 160 180 200\n0\n20\n40\n60\n80\n100\n120\n140\n160\n180\n200\n\n\n\n0 20 \n40 \n60 80 100 120 140 160 180 200\n0\n20\n40\n60\n80\n100\n120\n140\n160\n180\n200\n0 20 \n40 \n60 80 100 120 140 160 180  200   \n0\n20\n40\n60\n80\n100\n120\n140\n160\n180\n200\nThis principle applies to all of the transformations you’ve seen so \nfar, so let’s explore how that works. \nFigure 5-3: \nThese ellipses may look \nnormal, but they’re \nreally in the matrix!\nFigure 5-4: \nShape transformations \nwork differently when \nyou use a matrix!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1970
  },
  {
    "chunk_full": "85 • PROJ ECT 5\nTranslation Revisited\nIf you apply the translate() function to a matrix, it’ll move the entire \nmatrix, which is exactly what you need to do to give the matrix and \na particular shape the same origin. For example, Listing 5-1 uses \ntranslate() on the matrix you created to move all of the ellipses to \nthe center of the sketch. \n  pushMatrix();\n   translate(width/2,height/2); \n  fill(255,0,0);\n  ellipse(0,0,25,25); \n  ellipse(0,25,25,25);\n  ellipse(0,50,25,25);\n  popMatrix();\nThe values width and height are both system variables, and \nthey contain the respective dimensions of your sketch window. Add \nthe translate() function to the matrix inside your draw() loop , \nand pass it half the height and width of the sketch to move the matrix \nto the center of the screen. Figure 5-5 shows the result. \nThe power of the matrix is much clearer with one small change \nto your translate() function. Instead of using width/2 and height/2 \nfor the coordinates, change them to mouseX and mouseY. \n  translate(mouseX,mouseY);\nClick Run, move your mouse around, and watch the entire group \nof ellipses follow your mouse! Check out Figure 5-6 for the result. \nThat’s the simplistic power of a matrix, and you can add other \ntransformational functions to this entire group of ellipses, too.\nListing 5-1:   \nTranslating a matrix \nto move ellipses to the \ncenter of the sketch\nFigure 5-5:  \nNow the program draws \nthe first ellipse at the center \nof the sketch and continues \nfrom there.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1971
  },
  {
    "chunk_full": "86 • PROJ ECT 5\nRotation Revisited\nIf you add rotate() to your matrix and pass it the value of second(), \nall of the ellipses will rotate around the mouse cursor. For example, \nwrap your matrix in an if() statement as follows:\nif(mouseX == pmouseX || mouseY == pmouseY)\n{\n  pushMatrix();              //create matrix\n  translate(mouseX,mouseY);  //follow mouse\n  rotate(second());          //rotate over time\n  fill(255,0,0);             //fill red\n  ellipse(0,0,25,25); \n  ellipse(0,25,25,25);\n  ellipse(0,50,25,25);\n  popMatrix();               //end matrix\n}\nThe if() statement looks for when you stop moving your \nmouse, and then it rotates and draws the group of ellipses over \ntime, forming the flower pattern shown in Figure 5-7. If you move \nyour mouse continuously, nothing happens, but if you keep it still, \nthe drawing starts again. \nFigure 5-6: \nDrawing with a matrix \nof three stacked ellipses\nFigure 5-7: \nWhen Processing \ndraws these three \nellipses repeatedly in a \ncircle, it creates a flower \npattern.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1972
  },
  {
    "chunk_full": "87 • PROJ ECT 5\nIf you haven’t clicked Run yet, please do! The group of ellipses \nwill still follow your cursor, but now they should rotate around it, too. \nYou can further see the usefulness of a matrix when you add \nsomething outside of the matrix. Copy the ellipse code from inside \nyour matrix and paste it after popMatrix() as follows: \n  pushMatrix();\n  translate(mouseX,mouseY);\n  rotate(second());\n  fill(255,0,0);\n  ellipse(0,0,25,25); \n  ellipse(0,25,25,25);\n  ellipse(0,50,25,25);\n  popMatrix();\n   fill(0,0,255); \n  ellipse(0,0,50,50); \n  ellipse(0,50,50,50);\n  ellipse(0,100,50,50);\nTo make the ellipse groups distinct, change the fill color for the set \nyou pasted outside the matrix to blue . Click Run, and you’ll see that \nthe blue ellipses stay put and the red ones still follow your mouse, as \nFigure 5-8 shows. \nScaling Revisited\nIf you create a second matrix around the blue group, you can trans­\nform those ellipses separately from your original matrix. Add a matrix \naround the blue ellipse group, translate it to the center of the window \njust like you did in Listing 5-1, and then try out the scale() function.\nNOTE \nTry changing your logic \noperators within the if() \nstatement. Instead of ==, \ntry >= or <=. How could \nyou tell Processing to draw \nthe flower only when your \nmouse is on the right side \nof the sketch window?\nFigure 5-8:  \nThe blue ellipse matrix \nstays in place, but the red \nmatrix moves with the \nmouse.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1973
  },
  {
    "chunk_full": "88 • PROJ ECT 5\n  pushMatrix();\n  translate(width/2,height/2);\n  scale(second()/3);\n  fill(0,0,255);\n  ellipse(0,0,25,25); \n  ellipse(0,25,25,25);\n  ellipse(0,50,25,25);\n  popMatrix();\nRecall from Project 4 that you can pass a percentage in decimal \nform to the scale() function. I passed in the second() value divided \nby 3, which will result in scales between 0 and 2; that is, either the \nellipse group will be normal sized, or it will be blown up to 200 per­\ncent of its usual size, as shown in Figure 5-9. \nYou should now have two different groups of ellipses: one that \nchanges size over time, and one that rotates over time and follows \nyour mouse. As you practice using matrices, you’ll be able to make \ngreat use of them in future sketches. They’re handy for organizing \nyour code as well: I tend to group characters or groups of shapes \ntogether and manipulate them as a matrix. Now let’s tackle some \nmore complex sketches!\nHACKING YOUR PREVIOUS PROJECTS \nIn Project 3, you learned how to bounce a shape back and forth or \nup and down. The goal of this project is to animate your sketch from \nProject 2 by using if() statements and a matrix to keep your holiday \nimage intact. Then you can add more elements to your image and \nanimate them as well. For example, you could add snowflakes that \nfall as your snowman slides back and forth. \nHere’s one way to combine the concepts from Projects 2 and \n3 using the matrix concepts from this project. My code draws a \nFigure 5-9: \nThe blue ellipse group \nat left is normal sized, \nwhile the one at right is \ntwice as big.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1974
  },
  {
    "chunk_full": "89 • PROJ ECT 5\nsnowman similar to the one from Project 2 (it’s not identical, but it \nshould give you an idea of what yours should look like).\nint x = -300;            //necessary integers from Project 3\nint grow = 5;            //variable to increment by\nvoid setup()\n{\n  size(900,900);        //900x900 window\n}\nvoid draw()\n{\n  background(0,255,0);  //green background; it's spring!\n  pushMatrix();         //beginning of matrix \n   translate(x,0); \n  noStroke();           //hack your \"holiday image\" snowman into \n                        //the matrix!\n  fill(255);            //white fill\n  ellipse(400,350,125,125);\n  ellipse(400,500,200,200);\n  ellipse(400,700,300,300);\n  \n  fill(255,141,0);\n  triangle(340,345,300,350,347,354);\n  fill(0);\n  ellipse(350,325,10,10);\n  ellipse(375,325,10,10);\n  ellipse(400,500,20,20);\n  ellipse(400,550,20,20);\n  ellipse(400,600,20,20);\n  \n  stroke(121,85,17);\n  strokeWeight(10);\n  line(300,500,200,400);\n  line(500,500,300,600);\n  line(223,423,228,398);\n  line(336,585,337,605);\n  \n  x = x + grow;               //x-coordinate code from Project 3\n  \n  if(x >= width || x <= -300) //keep x between 0 and width\n  {\n    grow = grow * -1;\n  }\n  popMatrix();                //end of matrix\n}\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1975
  },
  {
    "chunk_full": "9 0 • PROJ ECT 5\nThe holiday image in Project 2 was a basic snowman. Just wrap \nyour original code inside a matrix: place a pushMatrix() on the line \nbefore the snowman code starts, and place a popMatrix() at the \nend. This will retain your snowman but allow you to manipulate it. \nSince the snowman is inside a matrix, it should move left and right \nacross the sketch window as a single shape when you apply the \ntranslate() function , using the x value from Project 3.\nTAKING IT FURTHER\nMatrices are key when you want a specific group of shapes to do \nsomething without manipulating other parts of your picture. Start a \nnew image (or open any other project you’ve made so far) and put a \nmatrix or two to good use! \nAn interesting mashup of projects would be to combine your \npixel art project with your time-based art to make a Space Invaders–\nthemed abstract clock. You could draw each shape of the abstract \nclock as an alien and then translate each one in a matrix at certain \ntime intervals. Now that’s a clock I would want!  Here’s some skel­\neton code for you to fill in when you take on this challenge. \nvoid draw()\n{\n  pushMatrix();\n  translate();\n  //write the code for your first space invader drawing here\n  popMatrix();\n \n  pushMatrix();\n  translate();\n  //write the code for your other space invader drawing here\n  popMatrix();\n}\nAs you move forward in this book, always be looking for oppor­\ntunities to use a matrix to simplify your code and its functionality. \nWhen it makes sense, I will use a matrix by default, as it tends to \nreduce the total amount of code I need to get something working. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1976
  },
  {
    "chunk_full": "www.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1977
  },
  {
    "chunk_full": "6\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1978
  },
  {
    "chunk_full": "IMAGE PROCESSING \nWITH A COLLAGE \nUP TO THIS POINT, YOU’VE \nUSED PROCESSING AS A \nCANVAS OR DIGITAL COLLAGE \nOF SORTS, BUT YOU CAN ALSO \nUSE IT TO MANIPULATE IMAGES. \nADDING PRE­EXISTING IMAGES \nTO PROCESSING LETS YOU \nCREATE MULTIMEDIA PROJECTS \nTHAT CAN INCLUDE SCANS OF \nHAND-DRAWN ILLUSTRATIONS, \nCUSTOMIZED BUTTONS, OR \nEVEN COMPLETE BACKGROUNDS. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1979
  },
  {
    "chunk_full": "94 • PROJ ECT 6\nUsing photographs in Processing adds a few steps, but it is well \nworth the extra legwork. After you've added a photograph to your \nsketch, I’ll show you how to modify it with filters and change the tint. \nFINDING AN IMAGE TO USE\nIf you’re like me, you probably have hundreds (if not thousands) of \nimages on your computer, tablet, or smartphone. To add images to \na Processing sketch, you need to do some preparation. \nStart a new Processing sketch, and in the code window, click \nthe Sketch drop-down menu and select Add File. This option \nshould bring up the file dialog shown in Figure 6-1. \nFind an image you want to use; this can be any .jpg, .bmp, or \n.png file. If your image has a crazy name, rename it something simple \nand descriptive. You’ll use that filename in your sketch, and long, \nrandom names leave opportunities for spelling errors. Once you’re \nhappy with the filename, select the image and click Open. \nFigure 6-1: \nFind an image and \nplace it in the data \nfolder using the Add \nFile option.\nNOTE \nYou can add images to \nyour Processing sketch \nat any time, which allows \nfor flexibility in your sketch \ndesign. However, if you \nknow you’ll be using an \nimage in your project, I \nsuggest adding it at the \nvery beginning, for simplic-\nity and clarity. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1980
  },
  {
    "chunk_full": "95 • PROJ ECT 6\nNext, go back to the code window, click the Sketch drop-down \nmenu, and select Show Sketch Folder. This folder is where your \nsketch resides when you save it, but it also includes all of the other \nassets that your sketch needs to run properly. There shouldn’t be \nmuch there right now, but your projects will have more files as they \nbecome more complicated.\nOpen the folder named data, and you should see a copy of the \nimage file you just added. I will be using the photograph of my friend \nJeff in Figure 6-2. I named the file jeff.jpg. Take note of the file format \n(mine is .jpg, for example).\nTHE PIMAGE DATA TYPE\nYou’ve seen a few different data types in this book already, includ­\ning float, which is a number with a decimal point, and int (integer), \nwhich is a whole number. In this project, I introduce PImage, which is \nan advanced data type used for storing an image file.\nPImage is considered advanced because when you create a \nPImage variable, you have to go through an extra step to initialize \nor assign an image to it. Here, I create a global variable (although a \nPImage can be a local variable as well) at the top of the sketch called \nimg with a data type of PImage. Notice that I only create the variable \nand don’t initialize it with a value.\nPImage img;\nvoid setup()\nFigure 6-2:  \nThe original photo of my \nfriend Jeff. It will look pretty \ndifferent when I’m done!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1981
  },
  {
    "chunk_full": "9 6 • PROJ ECT 6\n{\n  size(800,600);\n   img = loadImage(\"jeff.jpg\"); \n} \nTo assign a value to img, you have to load your image . Using \nthe loadImage() function tells Processing to literally load, or pack, the \nimg variable with every single pixel of the image.\nTo specify which image to pack, just pass loadImage() the file­\nname as a string in quotes; I passed it \"jeff.jpg\". Since img is global, \nafter you initialize it you can use the image it contains anywhere in your \ndraw() loop or in any other function that follows the initialization.\nUSING YOUR IMAGE IN A SKETCH\nNow that you have a variable holding your image, you need to put it \nto good use in the draw() loop by using the image() function. Think \nof an image as a rectangle that you can manipulate. The image() \nfunction accepts three parameters.\nvoid draw()\n{\n  image(img,100,100)\n}\nThe first parameter is the image variable—in our case, img. The \nother two parameters indicate the location, (x,y), where you want to \nplace the image origin. If you pass only these three parameters, the \nimage adopts its original size. If you want to stretch and skew your \nimage, you can add two more parameters, the width and height of \nthe image, after the x- and y-coordinates.\nWhen you use images in Processing, resolution really matters, \nbecause resolution is essentially the size of your image in pixels. Once \nyou pull an image into Processing, you may notice that it is larger or \nsmaller than you thought, and that can throw off your program. Be \nsure to check the original resolution of the images you are using under \nyour image file properties before you use them in a project.\nYou should also think about aspect ratio—the ratio of height to \nwidth—when you choose images for your projects. If you are looking \nto scale or change the width or height of an image, that scaling will \nalso stretch or contort the image. You may need to crop or edit some \nimages to make them work for your project.\nWith that in mind, let’s explore the image modes available to you \nin Processing.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1982
  },
  {
    "chunk_full": "97 • PROJ ECT 6\nImage Modes\nBy default, the origin of an image is the same as that of a rectangle—\nthe top-left corner. You can change this using a function called \nimageMode(). For example, if you want the origin to be the center \nof the image, you can pass the mode CENTER to imageMode(), and it \nwill move the origin for you.\nvoid draw()\n{\n   imageMode(CENTER);\n   image(img,width/2,height/2);\n}\nThanks to imageMode(), it takes only a couple of lines of code \nto place jeff.jpg in the center of my sketch window, as shown \nin Figure 6-3. To place the image using the image() function, I \npassed it img, which is the image I want to show, and the x- and \ny-coordinates of the center of the sketch (width/2 and height/2).\nFigure 6-3:  \nAn image drawn in \nCENTER mode\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1983
  },
  {
    "chunk_full": "98 • PROJ ECT 6\nThe imageMode() function lets us choose from two other modes. \nPassing CORNER sets the origin back to the default (the top-left cor­\nner). Calling imageMode(CORNERS) will let you draw based on where \nyou want the top-left and bottom-right corners of the image to fall in \nyour sketch. In CORNERS mode, just pass image() the filename and \ntwo coordinates.\nSince an image can be treated like a rectangle, you can even \npass the mouseX and mouseY system variables to set its origin.\nvoid draw()\n{\n   background(150); \n  imageMode(CENTER);\n  image(img,mouseX,mouseY);\n}  \nYou should now have an image that follows your mouse! Of \ncourse, just like any rectangle, an image leaves tracers behind by \ndefault, as shown in Figure 6-4. If you don’t want to see them, add \na background() function  to your draw() loop. Pretty cool, huh?\nNOTE \nThese three modes \nare also options for \nrectangles and ellipses, \ncourtesy of the rectMode() \nand ellipseMode() func-\ntions. Rectangles and \nellipses have another \n­available mode, too,  \ncalled RADIUS.\nFigure 6-4: \nThere are so many \nJeffs! Get rid of that \ntracer so there’s \nonly one.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1984
  },
  {
    "chunk_full": "99 • PROJ ECT 6\nTransformation\nYou can translate, scale, and rotate your image just as you did for \nthe basic shapes in previous chapters. All you need to do is set up a \nmatrix in your draw() loop, and then you can transform the image as \nmuch as you want! For example, it’s always fun to play with scale.\nvoid draw()\n{\n  background(150);\n  imageMode(CENTER);\n  pushMatrix();\n  translate(width/2,height/2);  //center image in your sketch\n   scale(map(mouseX,0,width,.5,2)); \n  image(img,0,0);\n  popMatrix();\n}\nNotice that I’ve passed a mapped value of mouseX to scale() . \nProcessing’s map() function maps a value onto a different range of \nvalues. Here, I’ve told Processing to map the range of mouseX—which \nwould normally be from 0 to the width of your sketch—to values \nranging from .5 to 2, resulting in scales from 50 to 200 percent. This \nshould turn your mouse movements into a zoom control, as shown in \nFigure 6-5.\nNow that you’ve played with one image, let’s up the ante and \nmove on to this chapter’s project. You can add as many pictures as \nyou want to your Processing sketch, and you can also assemble \nFigure 6-5:  \nThe farther you move the \nmouse along the x-axis, the \nmore you’ll zoom in on your \nimage.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1985
  },
  {
    "chunk_full": "1 0 0 • PROJ ECT 6\nthem into a collage, just as you did with the basic shapes to create \na holiday image in Project 2. I’ll show you a few other useful tools on \nthe way to finishing your photo collage, too.\nA PHOTO COLLAGE\nThe main reason for using matrices is so you can group individual \nor sets of objects together and manipulate them independently from \nthe rest of your sketch. In a photo collage, you may want to modify a \nspecific image or group of images while keeping others intact. I rec­\nommend placing each image on its own matrix so that you can work \nwith it freely. If you want to apply the same effects to multiple images, \nyou can place them within the same matrix, but at some point you \nmay want to separate them.\nI’m going to use images of my other teammates at SparkFun to \ncreate a photo collage in Processing. You could create a scrapbook \npage from your last family trip, a collage of scans of your favorite \ndoodles, or, really, anything you can imagine.\nMultiple Images\nTo use multiple images in a project, first you need to add those \nimages to your data folder. Click SketchAdd File and add the \nfirst new file to your data folder, and then repeat those steps until \nyou’ve added all the images you need. When you’re finished, I rec­\nommend clicking Sketch4Show Sketch Folder to access the data \nfolder and changing the names of the images to something simple.\nNext, create a variable for each image, with the data type \nPImage. Since you have more than one image, use descriptive vari­\nable names to keep them all straight. I named each image variable \nafter the person in the photo I plan to load into that variable.\nPImage jeff;\nPImage amanda;\nPImage lindsay;\nPImage ben;\nPImage brian;\nPImage angela;\nvoid setup()\n{\n  size(1000,800); \n  \nNOTE \nYou can download the \nimages I used for this \nproject from https://learn \n.sparkfun.com/about/. \nUse those images for this \ncollage if you’d like, but to \nmake it your own, search \nyour library for six that \nhave the same resolution \nas mine (200 pixels by \n200 pixels) and use those \ninstead!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1986
  },
  {
    "chunk_full": "1 01 • PROJ ECT 6\n   jeff = loadImage(\"jeff.png\"); \n  amanda = loadImage(\"amanda.png\");\n  lindsay = loadImage(\"lindsay.png\");\n  ben = loadImage(\"ben.png\");\n  brian = loadImage(\"brian.png\");\n  angela = loadImage(\"angela.png\"); \n}\nvoid draw()\n{\n   image(jeff,20,20); \n  image(amanda,600,400);\n  image(lindsay,300,20);\n  image(ben,20,400);\n  image(brian,600,20);\n  image(angela,300,400);\n}\nThe final step of preparing your images is loading the files to \nvariables. Call the loadImage() function  inside the setup() code \nand assign the image files to the variables you created at the top of \nyour sketch. Now you can draw them onto your sketch window, as \nshown in Figure 6-6, by calling the image() function  and supplying \nyour desired coordinates.\nFigure 6-6:  \nPlacing multiple images on \na sketch \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1987
  },
  {
    "chunk_full": "1 02 • PROJ ECT 6\nI’m going to continue using these images throughout the project, \nso for reference, in Figure 6-6 the filenames are (clockwise from top \nleft) jeff.png, lindsay.png, brian.png, amanda.png, angela.png, and \nben.png. \nIf you know where you want your images within your sketch and \nyou’re not looking to move them around or to transform them in any \nway, you’re finished. But you’re probably looking to do more than just \nplace your images in clean, straight rows. This is where the strength \nof the matrix comes in. \nReturning to the Matrix\nWhenever you’re working with multiple images, I recommend getting \ninto the habit of using matrices. You can give each image its own \nmatrix and then manipulate those matrices independently of one \nanother. As an example, I’m going to tweak the draw() loop from the \nprevious section to get each image ready for using a matrix.\nvoid draw()\n{\n  pushMatrix();\n  translate(20,20);\n  image(jeff,0,0);\n  popMatrix();\n  pushMatrix();\n   translate(300,20);   \n   image(lindsay,0,0); \n  popMatrix();\n  pushMatrix();\n  translate(300,400);  \n  image(angela,0,0);  \n  popMatrix();\n  pushMatrix();\n  translate(600,400);\n  image(amanda,0,0);\n  popMatrix();\n  pushMatrix();\n  translate(600,20);\n  image(brian,0,0);\n  popMatrix();\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1988
  },
  {
    "chunk_full": "1 03 • PROJ ECT 6\n  pushMatrix();\n  translate(20,400);\n  image(ben,0,0);\n  popMatrix();\n}\nAll you have to do is place each image in its own matrix and \ntranslate that matrix to the position at which you were drawing the \nimage before. Remember how each matrix has its own origin? I \nplaced all of the images at (0,0) and moved the matrices—not the \nimages. To move the matrices, give each a translate() function at \nthe top. For example, I drew the lindsay picture at (300,20) originally, \nbut here, I translate the matrix to that point  and draw the image at \nthe origin of its matrix , which is at (300,20). Follow the same pat­\ntern for your own collage, and when you click Run, all of the image \nlocations should be the same as before. \nNow you can manipulate each image within its matrix. So to \nmove one of your images, you’ll use the translate() function to \nmove the matrix rather than the image itself. This may seem like a lot \nof work, but trust me: it’s worth the effort. Now, let’s make your col­\nlage a bit more interesting.\nScattered Photos\nStraight and true images are a little boring. Since each image is in its \nown matrix you can add some transformation functions to give your \nsketch a little more depth and interest. You can also rotate, scale, \nand otherwise manipulate each image as you see fit once they’re all \ninside matrices. Give it a try! Mix up that perfectly aligned collage to \nmake the pictures look like they’ve been strewn on the sketch. \nPImage jeff;\nPImage amanda;\nPImage lindsay;\nPImage ben;\nPImage brian;\nPImage angela;\nvoid setup()\n{\n  size(1000,800); \n  \n  jeff = loadImage(\"jeff.png\");\n  amanda = loadImage(\"amanda.png\");\n  lindsay = loadImage(\"lindsay.png\");\n  ben = loadImage(\"ben.png\");\nNOTE \nIn my setup code, I didn’t \nset an imageMode(), so if \nyou’re using CENTER, your \nsketch may act differently. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1989
  },
  {
    "chunk_full": "1 04 • PROJ ECT 6\n  brian = loadImage(\"brian.png\"); \n  angela = loadImage(\"angela.png\");\n  background(200,0,200);           //purple background\n  imageMode(CENTER); \n}\nvoid draw()\n{\n  pushMatrix();\n  translate(500,20);\n  rotate(1.6);\n  scale(1.5);\n  image(angela,0,0);\n  popMatrix(); \n  pushMatrix();\n  translate(200,200);\n  rotate(.5);\n  image(jeff,0,0);\n  popMatrix();\n  pushMatrix();\n  translate(600,600);\n  rotate(1.3);\n  scale(1.5);\n  image(amanda,0,0);\n  popMatrix();\n  pushMatrix();\n  translate(150,500);\n  rotate(.15);\n  image(brian,0,0);\n  popMatrix();\n  pushMatrix();\n  translate(800,200);\n  rotate(-1);\n  image(ben,0,0);\n  popMatrix();\n  pushMatrix();\n  translate(500,400); \n  scale(.75);\n  rotate(.2);\n  image(lindsay,0,0);\n  popMatrix();\n}\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1990
  },
  {
    "chunk_full": "1 05 • PROJ ECT 6\nIn this version of my collage code, I added the imageMode() and \nbackground() functions to the setup() section. In the draw() loop, I \nscaled or rotated some images, with the scale() and rotate() func­\ntions, respectively. These changes offer more appeal than just static \nimages, as you can see in Figure 6-7.\nIt’s great that you can handle multiple images and modify them \nindividually using the transformation functions you learned in previous \nchapters, but now I’ll introduce you to a few image-specific modifiers \nso you can give your collage even more creative depth.\nAPPLYING TINTS\nFirst we’ll explore the tint() function, which allows you to add a \ncolored tint to an image. tint() is a modifier, so just like fill() or \nstroke(), it must be placed before the image that you’re tinting.\nChanging the tint of your image is as simple as passing tint() \nred, green, and blue values, but I think the coolest part of the tint() \nfunction is that it allows you to set the transparency value of the \nimage as well. To set the transparency, pass a fourth argument \nranging from 0 to 255, where 0 is completely invisible and 255 is \ncompletely opaque, or solid.\nFigure 6-7:  \nThis collage is much more \ndynamic.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1991
  },
  {
    "chunk_full": "1 0 6 • PROJ ECT 6\nTry it out now! In my collage, I added a tint to all of my images \nexcept the one of Lindsay, which I explicitly removed the tint from \nwith noTint(), as shown in Listing 6-1.\nPImage jeff; \nPImage amanda;\nPImage lindsay;\nPImage ben;\nPImage brian;\nPImage angela;\nvoid setup()\n{\n  size(1000,800); \n  \n  jeff = loadImage(\"jeff.png\");\n  amanda = loadImage(\"amanda.png\");\n  lindsay = loadImage(\"lindsay.png\");\n  ben = loadImage(\"ben.png\");\n  brian = loadImage(\"brian.png\"); \n  angela = loadImage(\"angela.png\");\n  background(200,0,200);\n  imageMode(CENTER);\n}\nvoid draw()\n{\n  Background(150);\n  pushMatrix();\n  translate(500,20);\n  rotate(1.6);\n  scale(1.5);\n   tint(second() * 4,second() * 4,second() * 4); \n  image(angela,0,0);\n  popMatrix(); \n  pushMatrix();\n  translate(200,200);\n  rotate(.5);\n   tint(255,mouseY/4);\n  image(jeff,0,0); \n  popMatrix();\nListing 6-1: \nApplying tints to \nthe collage\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1992
  },
  {
    "chunk_full": "1 07 • PROJ ECT 6\n  pushMatrix();\n  translate(600,600);\n  rotate(1.3);\n  scale(1.5);\n  tint(100,150,0);\n  image(amanda,0,0);\n  popMatrix();\n  pushMatrix();\n  translate(150,500);\n  rotate(.15);\n   tint(mouseX/4,mouseY/4,0); \n  image(brian,0,0);\n  popMatrix();\n  pushMatrix();\n  translate(800,200);\n  rotate(-1);\n   tint(255,255,255,mouseX/4); \n  image(ben,0,0);\n  popMatrix();\n  \n  pushMatrix();\n  translate(500,400); \n  scale(.75);\n  rotate(.2);\n  noTint();\n  image(lindsay,0,0);\n  popMatrix();\n}\nTry adding variables to the tint() function so that you can make \nyour work feel interactive. The tint for Angela’s image  changes \ncolor over time, and the images of Jeff , Brian , and Ben  all \nchange if you move the mouse. The image of Ben fades in and out of \nthe foreground depending on the mouseX value, Brian changes color \ndepending on both mouse positions, and Jeff actually changes trans­\nparency, but not color. (If you don’t look carefully at the beginning of \nthe sketch, you may miss the change in Jeff’s picture!) Check out the \nresult in Figure 6-8. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1993
  },
  {
    "chunk_full": "1 08 • PROJ ECT 6\nFILTER BASICS\nYou can accomplish a lot with the tint() function, but you can \nextend image manipulation and modification even further by using \nthe filter() function, which has filters similar to those available in \nphoto editing software.\nThe filter() function doesn’t work exactly like other image \nmodifiers. The filter is placed over the image, like a mask that you’re \nlooking through. The filter() function also requires a filter name, \nrather than numeric values. Table 6-1 lists Processing’s seven default \nfilters along with examples of what each does to an image. To com­\npare against the original image, flip back to the photo in Figure 6-1. \nFigure 6-8: \nMy photo collage with \nthe tint() function \nadded. You can see the \ndifference between the \ntwo before and after \nI moved the mouse \naround. \nNOTE \nI’ll explain the basics of \nthe filter() function, but \nif you’re looking for more \nadvanced filtering options, \nthe examples and tutorials \nat Processing.org are a \ngreat place to explore.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1994
  },
  {
    "chunk_full": "1 09 • PROJ ECT 6\nFILTER\nRESULT\nfilter(THRESHOLD);\n(Range: 0–1)\nfilter(GRAY);\nfilter(INVERT);\nfilter(POSTERIZE,4);\n(Range: 2–255)\nfilter(BLUR,1);\n(Range: ≥1)\nfilter(ERODE);\nfilter(DILATE);\nTable 6-1:  \nProcessing’s default filters\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1995
  },
  {
    "chunk_full": "11 0 • PROJ ECT 6\nA few of these filters are stand-alone, meaning there is only one \nsetting. A few of them—THRESHOLD, POSTERIZE, and BLUR—allow you \nto pass an additional value to change a setting or intensity. For those, \nI have provided the range of numbers that you can pass to the filter.\nThere are two different techniques for applying a filter. The sim­\nplest way is to place the filter over the entire sketch. This is helpful \nwhen you want to use a general filter, such as a blur, or when you \nwant to make everything grayscale. For example, at the very end of \nyour photo collage, add the line filter(GRAY); to produce a gray­\nscale sketch like the one in Figure 6-9. \nYou can also stack image filters by adding a second filter func­\ntion after the first one. For example, add a BLUR filter with a level of 7 \nafter your initial GRAY filter:\nfilter(GRAY);\nfilter(BLUR,7);\nThis combination should produce a blurry black-and-white image \nlike the one in Figure 6-10.\nFigure 6-9: \nEven after I added \ntints to several images, \nthe filter still made \neverything grayscale.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1996
  },
  {
    "chunk_full": "111 • PROJ ECT 6\nTo apply a filter to a single image rather than to the whole sketch, \nyou’ll need to use a different approach that breaks from how we’ve \nbeen writing code up to this point. But before we dive in to that, I’ll \nexplain a little more about advanced data types. \nPROCESSING OBJECTS\nAdvanced data types have two faces. The first, and the most appar­\nent, is that they’re data types, just like an int or a float. But unlike \na variable with an int or float value, variables that have advanced \ndata types like PImage are considered objects. In object-oriented \nprogramming (OOP), you create an object, which is an instance of a \nclass. A class has certain properties that it passes on to every object \nof that class type. \nLet’s go through an example of how classes and objects work. \nStart by thinking about a dog. A dog has a weight, a color, and other \nproperties; dogs also greet you when you come home and sit and \nstand on command. Those aspects form a template that applies to all \ndogs, and a class is like that template. In a dog class, properties like \nweight and color are called fields; while actions like greet() or sit() \ncan be stored as methods, which are just functions defined in a class.\nFigure 6-10:  \nPass larger second \narguments to filter() to \nincrease the blurriness.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1997
  },
  {
    "chunk_full": "112 • PROJ ECT 6\nNow, consider an adorable dog named Fluffy. Fluffy is a specific \ninstance of the dog class, so she’s an object. Figure 6-11 shows \nsome fields and methods that our Fluffy object might have if she \nwere part of a program. \nW O O F !\nobject: Fluffy\nclass: dog\nﬁelds: \nweight = 40 lbs\ncolor = \"brown\"\nbreed = Australian shepherd \nisSitting = true\nmethods: \nvoid greet() \n{\n  println(\"Woof!\");\n}\nvoid sit() \n{\n  isSitting = true;\n}\nvoid stand() \n{\n  isSitting = false;\n}\nFluffy displays a friendly \"Woof!\" string when you call her \ngreet() method. Fluffy is also currently sitting because isSitting \nis true; if you called the stand() method on Fluffy, she’d stand up \nand isSitting would change to false. \nIn Processing, photos can take actions and change fields based \non your commands, too. They can change filters, width, height, and \nso on. Those actions would be methods on a photo object. PImage is \na built-in class, and its preset methods actually include the filter() \nfunction you’ve already encountered.\nFigure 6-11: \nFluffy is an instance \nof dog, so she has \nthe same fields and \nmethods as any other \ndog object.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1998
  },
  {
    "chunk_full": "11 3 • PROJ ECT 6\nYou don’t need to take a deep dive into OOP to complete this \nproject, but if you’re curious, check out the “More on Object-Oriented \nProgramming” box.\nMORE ON OBJECT-ORIENTED PROGRAMMING\nYou can think of classes and their functions in terms of this simplified \nhierarchy:\nclass object\nfields and methods\nThe class object at the top has a number of fields and methods. \nFor example, think about Fluffy from Figure 6-11. She is an instance of \nthe dog class, and all dogs have fields like color, weight, and breed. \nOnce you start playing with a dog, it also has a number of methods: \nyou can tell it to greet, for example. \nThere is a difference between fields and methods, though. Fields \nreturn information about the object; examples in Processing include \nwidth and height. On the other hand, a method, such as filter() or \nsave(), is a procedure to do something. You’ve already used some of \nthe methods and fields of the PImage class, but a few more are shown \nin this table: \nMETHODS\nFIELDS\nsave()\nwidth\nresize()\nheight\ncopy()\npixels[]\nblend()\nget()\nset()\nOne major visual difference between fields and methods is that \nmethods have parentheses and fields are usually just keywords. Play \naround with these fields and methods to see what you can do with the \nPImage class!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 1999
  },
  {
    "chunk_full": "114 • PROJ ECT 6\nWhen you think about your images as objects, you can start to \nconsider different aspects of the image that you can either use as \nvariables or change. For example, the filter of an image is something \nthat you can change by calling a method on an image object: \nlindsay.filter(); \nFor this example, I used an image of Lindsay stored in a PImage \nobject named lindsay. I then applied the filter() method to \nlindsay by adding a period after the object name followed by a call \nto the method. \nFollow the same rule any time you want to apply one of the \nclass’s methods to any object of that class. But a word of warn­\ning: you can’t just use any old function in this way! The function \nmust actually be a method, which means it must exist as part of the \nobject’s class. I can apply filter() to lindsay because lindsay \nis an instance of the PImage class, which includes that function.\nThis object-oriented approach is what allows you to apply a spe­\ncific filter to a specific image, rather than applying it to all of the images \nin your sketch. If you want to apply specific filters to certain images, \nadd the functions in the setup() of your sketch rather than in the \ndraw() loop. For example, add the following object-oriented function \ncalls to your setup() function from Listing 6-1. \n  jeff.filter(BLUR,7); \n  lindsay.filter(GRAY);\n  ben.filter(POSTERIZE,3);\n  angela.filter(ERODE);\n  brian.filter(INVERT);\n  amanda.filter(THRESHOLD,.8);\nWorking with the same code and images as in previous examples, \nI gave each image its own filter by calling the image object followed by \na period and then the filter() function that I wanted to apply to that \nimage. \nAdding those filters produces the sketch in Figure 6-12, where \nyou can see that each image has its own individual filter. \nIf you try adding those filters in the draw() loop, each layer that \nyou add below an image visually stacks on top of the other in your \nsketch. This means that the first image would have all of the sub­\nsequent filters applied to it. That would be quite a mess! Fortunately, \nif you do want all images to have some filter in common, even after \nNOTE \nI placed the individual \nfilter functions in setup() \nbecause some of them act \noddly when placed in the \ndraw() loop. For example, \nthe INVERT filter will alternate \nbetween being inverted and \nnot. You can play around \nwith where you place these \nfilter functions to get the \neffect you’re looking for , but \nfor now I am placing them \nin setup().\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2000
  },
  {
    "chunk_full": "11 5 • PROJ ECT 6\neach image has its own filter, you can still apply a full filter within your \ndraw() loop as well. \nFilters and the tint() function are great ways to add interest \nand creativity to your images and your sketch as a whole. A lot of \nthings that are normally accomplished with high-level, expensive edit­\ning software can be accomplished in Processing, and in much more \ncreative and interactive ways.\nTAKING IT FURTHER \nNow that you’ve played around with changing filters and changing \nimage parameters with variables, you can do some really cool work \nwith images and Processing. Try experimenting with not only photo­\ngraphs but also hand-drawn characters. Just scan them into your \ncomputer and add them to your sketch! Processing is a great way \nto create basic animations and even presentations.\nTo get more practice with tints and filters, try creating an image \nof yourself or someone else in the spirit of Andy Warhol. Just make \na 3×3 grid of the same image, and apply different filters and tints to \neach image to create variations on the original. The cool thing is that \nyou only need to include a single image file in your sketch; you just \nFigure 6-12:  \nThanks to individual filters, \neach image looks very \ndifferent from the others.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2001
  },
  {
    "chunk_full": "11 6 • PROJ ECT 6\nuse the image function nine times over with different filters. The end \nproduct will be more interesting than the sum of its parts. For a final \ninspiration, Figure 6-13 shows a quick example I created. \nAnd here is some code to get you started:\nPImage brian;\nvoid setup()\n{\n  brian = loadImage(\"brian.jpg\");\n  brian.filter(THRESHOLD,.88);\n  size(900,900);\n}\nvoid draw()\n{\n  tint(255,0,0);\n  image(brian,0,0,300,300);\nFigure 6-13: \nMy Warhol-inspired \nportrait of Brian\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2002
  },
  {
    "chunk_full": "117 • PROJ ECT 6\n  tint(0,0,255);\n  image(brian,300,0,300,300);\n  tint(0,255,0);\n  image(brian,600,0,300,300);\n}\nI applied the THRESHOLD filter to the image in the setup() and \nthen tinted each image individually. This code is only for the first row, \nso you’ll have to finish the other rows yourself. Choose an image of \nyour own, and use this method to create a Warhol-inspired painting!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2003
  },
  {
    "chunk_full": "7\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2004
  },
  {
    "chunk_full": "PLAYING WITH TEXT\nWHEN YOU WANT TO DISPLAY \nTEXT IN PROCESSING, IT’S \nIMPORTANT TO UNDERSTAND \nTHE BASICS OF WORKING WITH \nSTRINGS, AND THAT’S WHERE \nTHIS PROJECT STARTS. ONCE \nYOU HAVE THE FUNDAMENTALS \nDOWN, I’LL SHOW YOU HOW \nTO CREATE A FONT, MAKE A \nROUGH TYPING PROGRAM, AND \nEVEN CREATE YOUR OWN DATA \nDASHBOARD IN PROCESSING.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2005
  },
  {
    "chunk_full": "120 • PROJ ECT 7\nJust like numbers, text and letters have data types associated \nwith them. Individual letters fall under the char, or character, data \ntype. Characters are normally written inside a pair of single quotes—\nfor example, 'a'. A grouping of characters is called a string and is \nnormally written in double quotes—for example, \"Cool!\". \nTHE STRING DATA TYPE\nThe String data type holds—you guessed it—strings. Just as with \nany other data type, when you create a string, you need to give it a \nvariable name and initialize the variable to some value. Here I initialize \nthe string as empty, as you can see in the following example:\nString myString = \"\";\nString myOtherString = \"Something cool\";\nFor this example, I started with the creative name of myString, \nand I initialized it to \"\", which is an empty string. Even when you’re \nnot ready to initialize a new string to any particular value, always \nat least set it equal to the empty string, or your code won’t com­\npile. If you wanted to start with a string, you could make it equal to \n\"Something cool\" instead.\nA great thing you can do with strings is add, or concatenate, \nthem. That means you can take two strings and mash them together \nto make one longer string. For example, let’s combine our example \nstring, \"Something cool\", with a new string.\nString myOtherString = \"Something cool\";\nString aString = \"is going to happen, I promise!\";\nString myString = \"\";\nvoid setup()\n{\n   myString = myOtherString + \" \" + aString; \n  print(myString);\n}\nThis piece of code shows the power of concatenation by adding \naString to myOtherString . You can even throw single charac­\nters into the mix, as I did by adding a space (\" \") between the two \nstrings. In this case, I’m just printing the string to the console, as \nshown in Figure 7-1, but you can perform a whole slew of actions \nwith strings.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2006
  },
  {
    "chunk_full": "121 • PROJ ECT 7\nYou can split strings, read individual characters, use an if() \nstatement to test them, and more. For now, you’ll deal with strings \nstrictly on an output and display basis.\nBASIC TEXT FUNCTIONS\nDisplaying information in the console is handy, but displaying informa­\ntion within your sketch itself is even more useful. This is where the \ntext() function comes in: it takes a string or piece of data and draws \nit within your sketch. Let’s print myString from the previous example \nwithin a sketch using the text() function. \nString myOtherString = \"Something cool\";\nString aString = \"is going to happen, I promise!\";\nString myString = \"\";\nvoid setup()\n{\n  size(250,250);\n  myString = myOtherString + \" \" + aString;\n  print(myString);\n}\nvoid draw()\n{\n   text(myString,125,125); \n}\nThe text() function needs at least three parameters . The first \nparameter is the data you want to display, which is either a string or \nvariable data. Your variable data can be of any data type, as long as \nyou have created the variable and it has a value assigned to it. The \nnext two parameters are the x- and y-coordinates of your string. The \norigin of the text is the upper-left corner of the string you’re printing, \njust like in the rect() function. Your example text should appear with \nthe origin at the center of your sketch, as in Figure 7-2. \nFigure 7-1:  \nThe Processing IDE prints \nmyString to the console.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2007
  },
  {
    "chunk_full": "122 • PROJ ECT 7\norigin point\nwidth\nheight\nOkay, that wasn’t too impressive; in fact, the sketch window was \nso small that half of the string was cut off! But it’s a start, and you \ncan take your text to the next level with modifiers.\nTEXT MODIFIERS\nThe text() function has a number of modifier functions that make \ndisplaying and reading text much easier. The first, and probably the \nmost useful, is the textSize() function, which you’d pass a single \nparameter to set the height you want in pixels. Text modifiers work \njust like the other modifiers we’ve worked with: you place them \nbefore the text you want to modify in your sketch. \nIf you want to change where the origin of the text field is located, \nyou can use the textAlign() function with the same parameters you \nsaw in Project 6: CORNER, CORNERS, or CENTER. Most of the time, I’ll \nuse the CENTER or CORNER modes because they’re easier to envision \nin my head. \nText boxes are particularly useful when you’re designing spe­\ncific areas for information within a sketch, and you can envision the \ntext() function like a text box you would use in any other presenta­\ntion or document software. Passing the text() function width and \nheight values will cause the text to wrap automatically when your \nstring data gets too long. You can even use fill() to change the \ntext color! Just add another fill() function above the text and give \nit an RGB value. \nFigure 7-2: \nImaginary rectangle \naround a text field \ndisplaying myString \nwith a position of x,y. \nThe last four words \nweren’t drawn because \nthe sketch window was \ntoo small for the string.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2008
  },
  {
    "chunk_full": "123 • PROJ ECT 7\nvoid setup()\n{\n  size(250,250);\n  background(150); \n  smooth();\n}\nvoid draw()\n{\n  background(150);\n  String myString = \"I love strings, even when they are in \nknots.\";\n  textAlign(CENTER);\n  textSize(20);\n  fill(0,0,0);\n   text(myString,10,height/4,180,200);\n}\nHere, I’ve also specified where the string should start and the \ndimensions it should be contained in  so that it doesn’t run off the \nsketch like the example in “Basic Text Functions” on page 121. This \ncode should result in the sketch shown in Figure 7-3.\nNotice that this time, the string doesn’t look so pixelated. That’s \nbecause there’s now a background() call in the draw() loop. The text is \nstill a little lacking, however. Let’s make it prettier, and try a different font.\nFigure 7-3:  \nmyString printed as text \nwithin a sketch\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2009
  },
  {
    "chunk_full": "124 • PROJ ECT 7\nFONTS\nYou can improve the look and feel of your text through fonts, and \nfonts have their own data type called PFont. The process for adding \na font is similar to the process for adding an image, though it’s not \nexactly the same.\nCreating a Font\nTo add a font to your sketch, first place that font file in your data \nfolder. Click ToolsCreate Font to bring up a dialog like the one \nin Figure 7-4. \nThe Create Font tool is pretty self-explanatory; just select the font \nyou want from the list at the top of the dialog. If you’ve ever picked a \nfont in a word processing application, you’ll feel right at home. \nThis list of fonts is generated from the fonts installed on the \ncomputer you’re using. If you have any custom fonts installed on \nyour computer, they should show up here so you can use them in \nyour Processing sketch. And if you want some great fonts for free, \ncheck out Dafont (http://www.dafont.com/ ). Almost all of the fonts \nI’ve added to my computer came from that site, and checking out \nnew fonts is one of the most entertaining ways to waste time.\nFigure 7-4: \nThe Create Font dialog\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2010
  },
  {
    "chunk_full": "125 • PROJ ECT 7\nAfter you select your font, select a size. Font size is an important \nchoice: even though you can change the size of the text in your \nsketch, you still want a readable font size to start with. Fonts, just like \nimages, get pixelated or grainy if you start out small and blow them \nup. But if you start out larger than you need, shrinking your font usu­\nally doesn’t have the same impact as making it bigger.\nFinally, give your new font a name. Just as with images, I tend to \ngive font files simple but descriptive names. If I’m using only one font \nin my sketch, my personal convention is to name it “font.” (I know, \nwhat an exciting life I live.)\nOnce you’ve named your font file, click OK. The window will \nclose, and if you check your sketch’s data folder (Sketch4View \nSketch FolderData), you should see a .vlw file with your font \nname (in my case, font.vlw). If you have a .vlw file, give yourself a \npat on the back: you’ve officially created a font!\nLoading a Font \nNow that the shiny new font you’ve created resides in your data \nfolder, bring it into your sketch. First, create a variable to hold your \nfont file. Again, use something simple and descriptive, but don’t \nuse the same name as your font filename, because that could get \nconfusing.\nTHE POWER OF TOOLS\nYou’ve already used the Color Selector tool, and now you’re exploring \nthe Create Font tool. Tools are just what their name suggests—things \nthat make your job easier. If you take a look at the Tools menu, you’ll \nsee a couple more tools I haven’t touched on yet (Archive Sketch and \nMovie Maker). If you have time, I’d suggest checking out all of these \nbuilt-in tools. \nYou can also add new tools to Processing by selecting the Add \nTool option at the bottom of your Tools menu. This will bring up the \nTools Manager, and you can read through and install any tool that \nyou’re interested in. When you add a tool, be sure to read its docu-\nmentation so you know how to use it! Just click the tool’s name in the \nTools Manager window to learn more. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2011
  },
  {
    "chunk_full": "126 • PROJ ECT 7\nPFont myFont; //create a PFont variable\nvoid setup()\n{\n  myFont = loadFont(\"font.vlw\"); //load your font to \n                                 //the variable\n}\nI created a font variable called myFont with the data type of \nPFont, and then in the setup() code, I assigned the font.vlw file \nto myFont using loadFont(). The loadFont() function takes the \nfilename as a string, but be careful when assigning files this way. \nProcessing is really finicky when it comes to spelling errors, incor­\nrect capitalization, and so on. I recommend copying and pasting the \nfilename directly into the function to avoid any errors.\nOnce you call loadFont(), that’s it! You’ve loaded your font into \nyour sketch; now, it’s project time.\nA SIMPLIFIED TYPEWRITER\nMost projects, especially data dashboards, rely on text to communi­\ncate specific information. In this section, you’ll create a really simple \n(if a bit janky) typewriter application. I wouldn’t write a book using it, \nbut it’s a fun little project nonetheless. The ultimate goal of the final \nsketch is to read the keyboard keys being pressed, add each charac­\nter to a string, and draw that string onto the sketch.\nFirst, open the Create Font tool, create your font (I selected a \n14-point Arial font), and load it to your sketch. \nPFont myFont;\n String myString = \"\"; \nvoid setup()\n{\n   size(800,1100);    \n  background(255);\n  myFont = loadFont(\"font.vlw\");\n}\nvoid draw()\n{\n   textFont(myFont);  \n}\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2012
  },
  {
    "chunk_full": "127 • PROJ ECT 7\nTo ensure your page begins blank, start with an empty string . \nTo make your sketch window feel like a piece of paper, set window \nsize to 800×1100 pixels , which is roughly the same aspect ratio \nas a sheet of US Letter paper. Your string should stay visible the \nentire time, so place the background() function in the setup() code \nas well. I chose a white background, but pick whatever color you like. \nAfter you’re all set up, applying the loaded font to text is just like \nusing any other modifier: you need to place it before the text() func­\ntion that you want to modify. To change the font, call textFont() and \npass it the variable name . \nFetching Letter Keys\nNext, tackle the rest of the draw() loop. The keyPressed and key \nsystem variables will help you read keypresses within your sketch, \nand you can check those using an if() statement.\nvoid draw()\n{\n  background(255);   \n  textFont(myFont);  \n   if(keyPressed)                     \n  {\n     myString = myString + key;        \n  }\n   fill(0);                           \n   text(myString,10,10,width,height); \n}\nWhen a key is pressed , concatenate new letters to your string \nby adding the key variable , which returns the character of the key \nthat was pressed. Then set a fill() color for your text ; I’m using \nblack. Finally, display your string using the text() function in the \ntext box mode , which will allow for text wrapping. Click Run and \ntry it out! Some of the text I typed in my final application is shown in \nFigure 7-5, though I’ve included only part of the sketch window here.\nMy font size grew because of the size I set in the Create Font \ntool, but you could also use the textSize() function to bump the \nsize up or shrink it down. If the font seems fuzzy or horribly grainy, \nI’d recommend re-creating the font at a larger size and replacing the \nfile that you currently have for best results.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2013
  },
  {
    "chunk_full": "128 • PROJ ECT 7\nWhen you’re done marveling at your text, notice that the type­\nwriter actually gets ahead of itself, repeating the same letter multiple \ntimes for one keystroke. The characters get added to myString \nreally fast, making it impossible to type anything legibly. Let’s slow \nthe computer down a bit, because it’s reading faster than you can \npush a key and then pick your finger up.\nUseful Delays\nThe advent of Processing 2.0 brought the incredibly handy delay() \nfunction. If you’re familiar with Arduino, you probably know this func­\ntion and its power all too well, so do a happy dance; I’ll wait.\nIf you’re completely new to this function, delay() is essentially a \nstoplight for your computer—a way for you to tell it to wait for a given \namount of time before moving on. Just pass it the amount of milli­\nseconds you want it to wait, keeping in mind that 1,000 milliseconds \nequals 1 second. Try it out!\nvoid draw()\n{\n  background(255);   \n  textFont(myFont);  \n  if(keyPressed)\n  {\n    myString = myString + key; \n     delay(100); \n  }\n  fill(0);\n  text(myString,10,10,width,height);\n}\nFigure 7-5: \nProcessing replaces the \ndefault font with yours, \nand now you can type \naway!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2014
  },
  {
    "chunk_full": "129 • PROJ ECT 7\nAdd the delay right after concatenating the latest keypress  \nto give a time buffer before Processing grabs the next one. And with \nthat, your typewriter application is finished! \nOf course, there are plenty of tools that would work a whole lot \nbetter for writing a research paper than this one. But Processing is \nreally useful for communicating information, such as statistical data, \nin text form. I’ll show you how to do that next.\nA DATA DASHBOARD\nYou can build live text readouts of information using the text() \nfunction and raw variable data, and you can have text change when \na value changes, too. You can do this with a simple group of if() \nstatements and reassigning of a string. \nThe readout (or dashboard) that I’ll teach you to make in this \nsection is meant for you to hack and change, and it gives you a \ngood structure to use for the rest of this book. Text, strings, and \ndashboards will show up more as you progress, so come back to \nthis project whenever you need a refresher. But first, spend some \ntime playing with this simple sketch to get familiar with the order you \nshould place functions in and how they impact what you see.\nFetching Statistics and Setting Up\nThis clear, concise data dashboard displays three statistics: the time, \nyour mouse coordinates, and which quadrant of the sketch your cur­\nsor is in. The code for the dashboard starts with four global variables:\nPFont font;\nString myString = \"\";\nString location = \"\";\nString dispTime = \"\";\nThese global variables include three strings for storing text infor­\nmation and the font variable for the font we want to use. I’ve also \nnamed each variable so it’s clear what information each string will hold.\nNext, look at this project’s setup() function.\nvoid setup()\n{\n  size(800,800);\n  font = loadFont(\"ADAM-48.vlw\");\n}\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2015
  },
  {
    "chunk_full": "1 3 0 • PROJ ECT 7\nThis code sets the size of the sketch window and loads the font \nobject with a font called Adam-48, which is one of SparkFun’s stan­\ndard fonts. You should replace ADAM-48.vlw in your code with a .vlw \nfilename for a font of your choice.\nThe draw() loop is pretty lengthy, so I’ll explain it in a few \nsubsections. \nIndicating Mouse Quadrant\nThe draw() loop opens with a chain of if() statements that displays \ntext indicating which quadrant of the sketch window the cursor is in.\nvoid draw()\n{\n  background(150,150,0);\n \n  if(mouseX <= width/2 && mouseY <= height/2)\n  {\n    myString = \"UPPER LEFT\";\n    fill(255);\n  }\n  if(mouseX >= width/2 && mouseY <= height/2)\n  {\n    myString = \"UPPER RIGHT\";\n    fill(0,0,255);\n  }\n  if(mouseX <= width/2 && mouseY >= height/2)\n  {\n    myString = \"LOWER LEFT\";\n    fill(0,255,0);\n  }\n  if(mouseX >= width/2 && mouseY >= height/2)\n  {\n    myString = \"LOWER RIGHT\";\n    fill(255,0,0);\n  }\n}\nEach if() statement compares the mouseX and mouseY variables \nto half the sketch width and height, respectively. These compari­\nsons determine which of the four quadrants the mouse cursor lies \nin. Depending on the cursor position, myString is assigned to one \nof four quadrant location labels we specify (\"UPPER LEFT\", \"UPPER \nRIGHT\", \"LOWER LEFT\", or \"LOWER RIGHT\"). We also define a different \nfill color depending on quadrant, which will be applied to an ellipse \nthat follows the mouse around.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2016
  },
  {
    "chunk_full": "1 31 • PROJ ECT 7\nNext, draw that ellipse immediately after the last if() statement, \nbut before the ending curly brace.\n  noStroke();\n  ellipse(mouseX,mouseY,200,200);\nRemove the outline of the ellipse with the noStroke() function \nand pass mouseX and mouseY to the ellipse() function so the shape \nfollows your cursor. \nAfter writing the ellipse code, add modifiers inside the draw() \nloop to display the text stored in myString on the ellipse. \n   fill(0);\n   textFont(font);\n  textAlign(CENTER);\n  textSize(25);\n  text(myString,mouseX,mouseY);\nFirst, set your fill  and font . Then, to center the text on the \ncursor, pass CENTER to the textAlign() function. If you don’t like the \ncurrent text size (48 point for this font, which I didn’t want to use), \njust call the textSize() function to resize it. Finally, display myString \nwith the text() function; pass mouseX and mouseY as the x- and \ny-coordinates so the text follows your mouse along with the ellipse. \nRun your code to see the dashboard so far; it should look similar to \nthe sketch window in Figure 7-6.\nFigure 7-6:  \nThe labeled ellipse should \nfollow your cursor and tell \nyou the current quadrant.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2017
  },
  {
    "chunk_full": "1 32 • PROJ ECT 7\nYou should see a simple but cool sketch that displays text and \nchanges color.\nShowing Time and Mouse Coordinates\nThe last code in this project creates two strings and displays the \nexact location of your cursor, along with the time. Add this inside your \ndraw() loop:\n   String location = \"Cursor Location: \" + mouseX + \",\" + mouseY;\n   text(location,width/2,height/2);\n \n  String dispTime = \"Time-> \" + hour() + \":\" + minute() + \":\" \n+ second();\n  text(dispTime,width/2,(height/2) + 45);\nTo concatenate a string to variable data, all you have to do is \nadd them together . For example, the location string adds \"Cursor \nLocation\", mouseX, \",\", and mouseY to form an ordered pair. This \nallows you to build complicated strings of text and data but keep the \ntext() function clean and simple.\nOnce you create your data string, just print it out ! Follow a \nsimilar process to concatenate and display the dispTime string, and \nthen add the final curly brace to end your draw() loop. The final prod­\nuct should look something like Figure 7-7. \nFigure 7-7: \nFinal dashboard sketch\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2018
  },
  {
    "chunk_full": "1 3 3 • PROJ ECT 7\nTAKING IT FURTHER\nHow would you improve either the typewriter or the dashboard to \nmake it more useful? I suggest coding a way to clear the sketch win­\ndow in your typewriter (hint: clear it with a mouse click) and adding \nmore information to the dashboard, such as the current date. \nAs you progress through this book and build your knowledge, \nI really urge you to tinker with previous projects and incorporate \nnew functions and concepts. For example, to practice using text, \nyou could label the photos in your collage from Project 6 or add a \ngreeting like “Happy Holidays!” to your holiday image from Project 2. \nProcessing is just like any spoken language: the more you use it, the \nmore fluent you’ll be.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2019
  },
  {
    "chunk_full": "8\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2020
  },
  {
    "chunk_full": "TWO DRAWING \nPROGRAMS\nIN PROJECT 5, YOU STAMPED \nSHAPES BASED ON YOUR \nMOUSE’S POSITION, AND IN \nPROJECT 7, YOU CREATED A \nSIMPLE PROGRAM TO DISPLAY \nTYPED TEXT. BOTH PROJECTS \nRELIED ON USER INPUT, AND \nFOR THE NEXT FEW CHAPTERS, \nWE’LL EXPLORE MORE INPUT \nOPTIONS, ORGANIZED BY \nTHE TYPES OF PERIPHERALS \nYOU CAN USE WITH YOUR \nCOMPUTER AND THEIR LEVEL \nOF DIFFICULTY.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2021
  },
  {
    "chunk_full": "1 36 • PROJ ECT 8\nIn this project, I’ll introduce you to two more mouse input \nvariables, after which we’ll cover event functions. Event functions \nwill launch you to the next level in Processing, as they allow you to \ncreate much more robust functionality while reducing the amount of \ncode you have to write. Finally, you’ll learn to harness mouse clicks to \ncreate two simple drawing programs that work a lot more efficiently \nthan what you’ve created in previous chapters.\nMORE MOUSE VARIABLES\nYou’ve already used a few of Processing’s built-in system variables, \nbut there are others that can make your sketches respond to physical \ninputs, including mousePressed and mouseButton. \nThe mousePressed variable is similar to the keyPressed variable \nfrom Project 7: it returns True if either mouse button was pressed \nand False if neither button was pressed. The mouseButton variable \ntells you which button (LEFT or RIGHT) was pressed. \nThese variables are handy when you only need to detect button \npresses, but as you’re about to learn, event functions offer even more \ninput-based functionality.\nEVENT FUNCTIONS\nAn event function executes only when a certain event happens. You \nimplement your event function outside the basic draw() loop in your \nsketch, and when it is triggered by the event (i.e., the user input), it \nwill run in parallel with the draw() loop until the event is no longer \nactive. Then the sketch should return to solely running the draw() \nloop. Figure 8-1 illustrates this process.\nEvent functions allow your sketch to listen for user input while \nexecuting a draw() loop. They reduce the number of if() state­\nments you need, and they’re much more responsive because they’re \nalways listening for an input. By contrast, if() statements are run \nonly once per draw() loop, and they must wait for the draw() loop to \nrepeat to check again for the input. \nYour mouse has several event functions associated with it, \nincluding the following:\nmouseClicked()  The event triggers when the mouse button is clicked.\nmouseDragged()  The event triggers when the mouse moves while a \nbutton is held down.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2022
  },
  {
    "chunk_full": "1 37 • PROJ ECT 8\nmouseMoved()  The event triggers when the mouse moves.\nmousePressed()  The event triggers when the mouse button is \npressed.\nmouseReleased()  The event triggers when the mouse button is \nreleased.\nWhen you want to use an event function, just create another \nfunction of the void type underneath your draw() function. A com­\nplete Processing program with an event function would follow this \nstructure:\nvoid setup()\n{\n  //your usual setup code goes here\n}\nFigure 8-1:  \nFlow of an event function\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2023
  },
  {
    "chunk_full": "1 38 • PROJ ECT 8\nvoid draw()\n{\n  background(255);  //the background is white\n}\nvoid mouseClicked()\n{\n  background(0);    //the background turns black!\n}\nIn this example, I used only the mouseClicked() function, but \nyou can add multiple event functions, as I’ll show next.\nRAINBOW DOODLES\nIn this section, we’ll explore the mouseDragged() and mousePressed() \nevent functions to write a program that lets you create rainbow-\ncolored drawings. \nImplementing mouseDragged()\nFirst, add the usual setup() and draw() sections, and then imple­\nment the mouseDragged() event function outside of your draw() loop \nas follows:\nvoid setup()\n{\n  size(850,1100);\n  background(255);\n}\nvoid draw()\n{\n  //no code needed here!\n}\nvoid mouseDragged()\n{\n  strokeWeight(50);\n  stroke(random(255),random(255),random(255));\n  line(pmouseX,pmouseY,mouseX,mouseY);\n}\nInside mouseDragged(), set a stroke weight, apply a random() \nstroke color, and call the line() function to draw your line. \nPass line() the previous and current mouse coordinates—\n(pmouseX,pmouseY) and (mouseX,mouseY), respectively—as its start \nNOTE \nIf you place an event func-\ntion within the draw() loop, \nyou’ll just get an error. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2024
  },
  {
    "chunk_full": "1 39 • PROJ ECT 8\nand end points. You should have no code inside of your draw() \nloop, because your line should be drawn only when you click and \ndrag your mouse. \nYou might be wondering, if there’s no code in the draw() loop, \nthen why include the loop at all? The reason is that if you have no \ndraw() loop, your sketch will just run your setup() function and then \nstop. Your sketch needs to be actively running for event functions to \nwork. An empty draw() loop lets your sketch actively wait for some­\nthing to happen. \nClick the Run button to run your code. You should be able to \nclick and drag when you want to draw, and release the mouse button \nto pick up your pen. Now, move the mouse to a different spot, press \nthe button to put your pen down, and draw again. For my first draw­\ning, I made a horrible version of the SparkFun flame logo (Figure 8-2).\nThe only problem is that you have to start your sketch over to \nerase anything. Let’s add another event function to fix that! \nNOTE \nSome programmers like to \nleave a single semicolon in \nan empty draw() loop to \nshow that the loop is meant \nto be blank.\nFigure 8-2:  \nA rainbow-colored drawing \nin Processing\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2025
  },
  {
    "chunk_full": "140 • PROJ ECT 8\nImplementing mousePressed()\nWe’ll use the mousePressed() event function, paired with your right \nmouse button, to redraw the background and clear your drawing. \nAdd the new function after mouseDragged().\nvoid mouseDragged()\n{\n  if(mouseButton == LEFT)\n  {\n    strokeWeight(50);\n    stroke(random(255),random(255),random(255));\n    line(pmouseX,pmouseY,mouseX,mouseY);\n  }\n}\nvoid mousePressed()\n{\n  if(mouseButton == RIGHT)\n  {\n    background(255);\n  }\n}\nThe mousePressed() event function has an if() statement that \nchecks which mouse button you’re pressing, left or right. It redraws \nthe background only when the right mouse button is pressed. Run \nyour code again, and any time you want to start over, just click the \nright mouse button! \nSave your project now, because you’ll enhance it in the next \nsection.\nA SIMPLE PAINTING PROGRAM\nNow that we’ve explored mouse event functions, let’s make our \ndrawing application a little more useful and creative. We’ll tweak the \ndraw() loop to let you change the color of your pen on the fly from \nthe keyboard. \nTo add this functionality, start with the code you had at the \nend of “Rainbow Doodles” on page 138. First, add three integer \nvariables as global variables, named r, g, and b, at the top of your \nsketch: \nint r = 10;\nint g = 10;\nint b = 10;\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2026
  },
  {
    "chunk_full": "141 • PROJ ECT 8\nEach new integer represents one piece of an RGB color: r is red, \ng is green, and b is blue. I gave them all an arbitrary starting value of 10. \nAfter creating these new variables, we’ll modify the draw() loop \nto create a feedback box that shows our current pen color and its \nRGB value.\nCreating a Color-Changing Feedback Box\nInside the draw() loop, create a small feedback box that displays the \ncurrent pen color and its RGB setting as follows:\nvoid draw()\n{\n  fill(r,g,b);\n  noStroke();\n   rect(0,0,100,12);\n  fill(255);\n   text((r + \",\" + g + \",\" + b),10,10);\n}\nSet a fill color using the variables r, g, and b, and draw a rect­\nangle  in the upper-left corner of the sketch. This rectangle’s color \nwill change when you press the R, G, and B keys. To display the cur­\nrent RGB setting, pick another fill color and call the text() function ; \nthis prints the RGB values as a concatenated string inside the new \nrectangle. You can see the finished product of this nifty feedback tool \nin Figure 8-3.\nThe rectangle and text will display the hardcoded color values, \nbut how do you change the color on the fly? We’ll put if() state­\nments to good use to increment the color variables r, g, and b. Add \nthe following code to your draw() loop:\n  if(key == 'r')\n  {\n    r++;\nFigure 8-3:  \nThe RGB color setting for \nyour pen. Use the R, G, \nand B keys to change the \ncolor.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2027
  },
  {
    "chunk_full": "142 • PROJ ECT 8\n    key = ' ';\n    if(r > 255)\n    {\n      r = 0; \n    }\n  }\n  \n  else if(key == 'g')\n  {\n    g++; \n    key = ' ';\n    if(g > 255)\n    {\n     g = 0; \n    }\n  }\n  \n  else if(key == 'b')\n  {\n    b++;\n    key = ' ';\n    if(b > 255)\n    {\n      b = 0; \n    }\n  }\nThese if() and else if() statements check which key is being \npressed. If it’s one of the color keys (R, G, or B), then we increment \nthe corresponding color variable. If any of the values becomes greater \nthan 255, then it is reset to 0, because Processing has no RGB values \ngreater than 255.\nNotice, too, that once you increment r, g, or b, key is set to ' ' \n(the space character). This funky assignment is a quick hack, and \nwithout it in the if() statement, the color variable you just changed \nwould continue to increment until you pressed another key. By set­\nting key to ' ' (or really, anything but 'r', 'g', or 'b'), you stop the \nincrementing process and gain more control over the color.\nRun your sketch to make sure that you can change the color of \nthe rectangle. You may notice that your pen color doesn’t change \nyet; we’ll add that functionality next.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2028
  },
  {
    "chunk_full": "143 • PROJ ECT 8\nChanging the Pen Color\nTo change the color of your pen, find the stroke() function in the \nmouseDragged() event function and modify it to use your new color \nvariables: \nvoid mouseDragged()\n{\n  if(mouseButton == LEFT)\n  {\n    strokeWeight(50);\n     stroke(r,g,b);\n    line(pmouseX,pmouseY,mouseX,mouseY);\n  }\n}\nSet a stroke weight you like, and replace the three random() \narguments to stroke() with r, g, and b . Since these three vari­\nables are global, you can use them in any function, anywhere in your \nsketch.\nNow when you run your sketch, you should be able to change \nthe color of your pen using the R, G, and B keys, and make the most \nbeautiful drawing ever. Figure 8-4 is a drawing of my friend Brian.\nFigure 8-4:  \nA lovely picture of Brian, \ncreated with the paint tool \nfrom this project by our \nsenior designer Pete Holm\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2029
  },
  {
    "chunk_full": "144 • PROJ ECT 8\nTAKING IT FURTHER\nThink about other drawing programs you’ve used, and reproduce \nsome of their tools in your sketch. For example, you could use event \nfunctions to change the background color, add an eraser to one of \nyour drawing programs, or even change the stroke weight. \nTo get you started, I’ve provided some skeleton code to add a \nway to change the pen size in your project. Processing actually has \nanother mouse event function, called mouseWheel(). I left it out of \nthe discussion in “Event Functions” on page 136 because not every \nmouse has a scroll wheel, but if your mouse does, you could use \nmouseWheel() to change your pen size. \nFirst, create a global variable called penSize at the top of the \nsketch you finished in “A Simple Painting Program” on page 140 \nand initialize penSize to 2, a good standard line thickness. Next, \nbelow your existing event functions, create the mouseWheel() event \nfunction: \nvoid mouseWheel(MouseEvent event)\n{\n  penSize = penSize + event.getCount();\n  println(penSize);\n}\nThis code simultaneously creates and passes the mouseWheel() \nfunction a MouseEvent object called event. You can then set your \npenSize to event.getCount(), which returns the number of mouse \nwheel clicks. Scrolling away from yourself increases the value, and \nscrolling toward yourself decreases the value. \nEven once you add this new variable and event function to the \ndrawing program, it won’t quite work. How will you make penSize \nbecome the stroke weight of your pen? Watch penSize change in \nthe console; how can you limit penSize to only positive numbers to \nprevent your sketch from crashing?\nI leave both of these questions as exercises for you to answer. \nHave fun, and please share your beautiful drawings with SparkFun at \nprocessing.book@sparkfun.com!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2030
  },
  {
    "chunk_full": "www.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2031
  },
  {
    "chunk_full": "9\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2032
  },
  {
    "chunk_full": "A MAZE GAME\nIN PROJECT 5, YOU STAMPED \nSHAPES BASED ON YOUR \nMOUSE’S POSITION, AND IN \nPROJECT 7, YOU CREATED A \nSIMPLE SKETCH TO DISPLAY \nTYPED TEXT. BOTH PROJECTS \nRELIED ON USER INPUT, AND \nFOR THE NEXT FEW CHAPTERS, \nWE’LL EXPLORE MORE INPUT \nOPTIONS, ORGANIZED BY \nTHE TYPES OF PERIPHERALS \nYOU CAN USE WITH YOUR \nCOMPUTER AND THEIR LEVEL \nOF DIFFICULTY.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2033
  },
  {
    "chunk_full": "148 • PROJ ECT 9\nYou met event functions in Project 8, but so far, you’ve used only the \nmouse. In this chapter, you’ll tackle the keyboard! First, I’ll introduce \nyou to a new keyboard variable as well as some keyboard event \nfunctions. Once we’ve covered the basics, you’ll write a maze game \nthat players can navigate with the arrow keys. You’ll use your knowl­\nedge of if() statements, image processing, and incrementing and \ndecrementing variables to create this game. \nAfter you write the sketch, I’ll also show you how to add an \nexternal controller made with the MaKey MaKey, a little circuit board \nthat can turn just about anything (including Play-Doh or a banana!) \ninto a key on your keyboard.\nGATHER YOUR MATERIALS\nThe MaKey MaKey controller is optional, but if you want to add one, \nyou’ll need the following supplies:\n• \nOne MaKey MaKey\n• \nFour alligator clip wires (included with MaKey MaKey kit)\n• \nFour assorted fruits or vegetables \n• \nOne mini USB cable (included with MaKey MaKey kit)\nIf you buy the MaKey MaKey kit, shown in Figure 9-1, from \nSparkFun (product WIG-11511), you should have everything you \nneed, except the fruits and veggies. For those, just pick your favorites!\nBefore we put these materials to use, though, let’s review the \nbasics of event functions, system variables, and keyboard input. \nFigure 9-1: \nThe MaKey MaKey kit\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2034
  },
  {
    "chunk_full": "149 • PROJ ECT 9\nMORE WAYS TO READ INPUT\nYou used key and keyPressed in Project 7, but there’s one more \nsystem variable you’ll find invaluable: keyCode, which returns the \nvalue for any key you press, including the up arrow, enter, and so \non. When you pair these variables with keyboard event functions, \nyou can take input from your keyboard with a lot less code. \nKeyboard event functions work just like mouse event functions. \nThey allow you to interrupt the top-to-bottom flow of code execution \nand trigger an event “out of order.” In this project, you’ll encounter \nthree keyboard event functions:\nkeyPressed()  Triggers an event when a key on the keyboard \nis pressed \nkeyReleased()  Triggers an event when a key on the keyboard \nis released \nkeyTyped()  Triggers an event when a key is pressed and \nthen released\nBut to implement game controls, you need to be able to do more \nthan detect keypresses; you also need to be able to find out which \nkey was pressed. Fortunately, Processing can help you with that, too.\nWorking with ASCII and keyCode\nThe American Standard Code for Information Interchange (ASCII) is \nthe standard for encoding the letters and numbers on your keyboard \nso that your computer will know which key you’re pressing. ASCII \nuses the numbers 0–127 to represent 128 different characters: the \nnumbers 0–9, the letters of the English alphabet in both upper- and \nlowercase, and a few punctuation symbols, including the space \ncharacter. Each character has an ASCII code associated with it, and \nwhen your computer receives that code, it recognizes the number as \nthat specific character. For example, the character A has an ASCII \nvalue of 65.\nYou can search online for “ASCII table” to see a complete list of \nASCII codes, but you can also whip together a little Processing sketch \nto check the ASCII value of a given key. Write the following sketch in a \nnew code window:\nvoid setup()\n{\n  size(200,200);\n}\nNOTE \nThe event keyPressed() \nis different from the \nkeyPressed system vari-\nable that returns a Boolean \n(true or false). You can tell \nthem apart because the \nkeyPressed system vari-\nable is not followed by \nparentheses. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2035
  },
  {
    "chunk_full": "1 50 • PROJ ECT 9\nvoid draw()\n{\n  background(150);\n  textSize(50);\n  fill(355,0,0);\n  \n  if(key == CODED) \n  {\n    text(keyCode,50,100);\n  }\n \n  else \n  {\n    text(int(key),50,100);\n    text(key,150,100);\n  }\n}\nThe first three lines of the draw() loop paint the background, \nset a text size, and pick a fill color for your text. The if()/else() \nstatement displays one of two things, depending on which kind \nof key you’ve pressed. First, it checks to see if key is equal to \nCODED , a constant that indicates special keys (like the arrow \nkeys) in Processing. If Processing sees a special key, we print the \nkeyCode to the sketch window, because that key has no ASCII \nvalue to print. Otherwise, the last key pressed must have been a \nkey with an ASCII value, so we print that value by converting key \ninto an integer ; then, we print the actual character pressed. As \nyou press different keys on your keyboard, you should see those \nvalues change. For example, after you press the D key, your sketch \nwindow should look like Figure 9-2.\nFigure 9-2: \nDisplaying the ASCII \ncode and character for \nthe D key\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2036
  },
  {
    "chunk_full": "1 51 • PROJ ECT 9\nOne great way to use these variables is by creating a shape you \ncan move with the arrow keys, a skill you’ll later apply to the maze \ngame too. Processing assigns the arrow key codes to the global vari­\nables UP, DOWN, LEFT, and RIGHT. This makes checking for the arrow \nkeys much easier than checking for some random ASCII value that \nwould be impossible to remember.\nDriving Shapes\nMaking something move on the screen in response to the keyboard \nor mouse is a basic building block of video game development. \nLet’s start simple and use the arrow keys to send an ellipse zooming \naround the sketch window.\nSince you want to move the ellipse, you need to be able to \nchange its x- and y-coordinates. First, in the code window, create \nglobal variables for those values: \nint x = 300;\nint y = 300;\nStart your ellipse in the middle of the sketch window. In my \nexample, the center is (300,300). Yours may be different, if you \nchange the size of your sketch window. \nNow write the setup() and draw() calls: \nvoid setup()\n{\n  size(600,600);\n}\nvoid draw()\n{\n  background(150);\n  fill(255,0,0);\n  noStroke();\n  ellipse(x,y,50,50);\n}\nIn the setup() function, I set my sketch window size to \n600×600 pixels. The draw() loop sets the background color \nand draws the ellipse using the x and y variables as the x- and \ny-coordinates of my ellipse. Click Run, and you should see your \nellipse, as in Figure 9-3.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2037
  },
  {
    "chunk_full": "1 52 • PROJ ECT 9\nOnce you’ve drawn your ellipse, add a keyboard event function \nto implement movement. Outside of your draw() code, create the \nkeyPressed() event function as shown in Listing 9-1. \nvoid keyPressed()\n{\n  if((key == CODED) && (keyCode == UP))\n  {\n    y--;\n  } \n  \n  if((key == CODED) && (keyCode == DOWN))\n  {\n    y++;\n  } \n  \n  if((key == CODED) && (keyCode == RIGHT))\n  {\n    x++;\n  } \n  \n  if((key == CODED) && (keyCode == LEFT))\n  {\n    x--;\n  } \n}\nAny code inside the keyPressed() event function will be run \nonly when someone presses a key on the keyboard, and there are \ntwo movement requirements. First, we want the ellipse to move only \nin response to the arrow keys; and second, we want it to move in \ncertain directions depending on which arrow is pressed.\nFigure 9-3: \nAn ellipse waits \npatiently in the middle \nof the sketch.\nListing 9-1:  \nUsing keyPressed() to \nmake an ellipse respond \nto keypresses\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2038
  },
  {
    "chunk_full": "1 53 • PROJ ECT 9\nThe trusty if() statement, compound logic, and a few handy \nbuilt-in constants make up this event function. You might envision a \nmess of if() statements, but using the keyPressed() event func­\ntion lets you get away with only a few. Each if() statement checks \nwhether a coded key was pressed, using the key == CODED  con­\ndition. We then check whether the keyCode was UP, DOWN, LEFT, or \nRIGHT  (as mentioned earlier, these constants represent the arrow \nkeys). If both conditions are true, keyPressed() increments or decre­\nments the x and y variables accordingly. \nRun the code, and when you press the arrow keys, your ellipse \nshould move in the direction of the arrow you press. Try moving it to \nthe positions shown in Figure 9-4!\nHold the arrow keys down, and the ellipse should glide smoothly \nwhere you direct it. If you want your ellipse to move faster, incre­\nment and decrement your x- and y-coordinates by larger values. For \nexample, swap each ++ and -- with += 5 and -= 5, respectively. This \nwill increment and decrement the ellipse’s coordinates by 5 rather \nthan 1. If that’s still not enough for the speed demon in you, make the \nnumbers even bigger!\nWhen you’re done playing with the ellipse, put your newfound \nsuperpower to good use by making a game!\nBUILDING THE MAZE GAME\nYou implemented the basic mechanics for a maze game when you \ncreated your keyPressed() event function. In this section, I’ll show \nyou how to create a maze, add it to your ellipse code, and make a \nsimple game.\nFigure 9-4:  \nPressing the up arrow \nshould move your ellipse up. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2039
  },
  {
    "chunk_full": "1 54 • PROJ ECT 9\nGenerating a Maze\nFirst of all, we need a maze! Go to http://www.nostarch.com/\nsparkfunprocessing/, download the resources for this book, and \nopen the Project 9 folder. The file maze.png is the maze used in this \nproject. You can follow along with that file, or go to Maze Generator \n(http://www.mazegenerator.net/) to generate your own. I’ll walk you \nthrough that now. \nMaze Generator’s interface (shown in Figure 9-5) lets you set the \ndimensions, shape, and difficulty of your maze. \nFigure 9-5: \nMaze Generator \nsettings and the maze \nthey generated\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2040
  },
  {
    "chunk_full": "1 55 • PROJ ECT 9\nFor this project, leave all settings at their defaults except for \nthree: change Style to Theta (Circular), which creates a more \nchallenging circular maze; select Always use PNG so that Maze \nGenerator produces an image you can use in Processing; and set \nStarts At to Bottom or center so that you can easily specify the \nstarting point for the maze as width/2 and height/2 in code. \nClick Generate, right-click the maze that appears, and save the \nimage as a PNG file called maze. Once you save your maze image, \nadd it to your sketch by clicking SketchAdd File. . .  and selecting \nmaze.png. Now you can bring your maze into Processing!\nWriting the Sketch\nOnce you have a maze, it’s time to write your game in Processing. \nThe sketch window will display both the maze and an ellipse that \nplayers will move around, so first you’ll create variables for both. \nPImage maze;\nint x = 162;\nint y = 162;\nYour maze is just an image, so you’ll need a PImage variable to \nload it; I called mine maze. You’ll also need variables for the ellipse’s x- \nand y-coordinates; set x and y to your maze’s start position, in pixels. \nI used 162 pixels for both because my maze starts in the middle, and \nthe default size of a maze from Maze Generator is 324 pixels square.\nNext, write your setup() and draw() loops.\n void setup()\n{\n  maze = loadImage(\"maze.png\");  \n  size(324,324);\n}\n void draw()\n{\n  background(150);\n  image(maze,0,0);\n  fill(255,0,0);\n  noStroke();\n  ellipse(x,y,10,10);\n}\nIn the setup() loop , load maze.png into maze and set your \nsketch size to the size of your maze. Here, the maze’s dimensions \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2041
  },
  {
    "chunk_full": "1 56 • PROJ ECT 9\nare 324 pixels square. In your draw() loop , use image() to draw \nthe maze on the sketch window, and then draw your ellipse.\nOutside your draw() loop, add the same keyPressed() function \nyou created in Listing 9-1:\nvoid keyPressed()\n{\n  if((key == CODED) && (keyCode == UP))\n  {\n    y--;\n  } \n  if((key == CODED) && (keyCode == DOWN))\n  {\n    y++;\n  } \n  if((key == CODED) && (keyCode == RIGHT))\n  {\n    x++;\n  } \n  if((key == CODED) && (keyCode == LEFT))\n  {\n    x--;\n  }\n}\nAfter adding the event function, run your code. If your ellipse \nisn’t at the start of your maze, adjust your x and y variables to be the \nstarting point of the maze. You may also want to change the diam­\neter of your ellipse, if your maze’s walls are too close together. \nYou should be able to press the arrow keys and move the ellipse \naround the maze too. There’s just one problem: you can just pass \nthrough the walls to get to the finish! You need a way to figure out \nwhether the ellipse is touching a wall.\nDetecting Wall Touches with get()\nYour maze’s walls are black, so if the ellipse hits one it will be touch­\ning the color black. Let’s use that information to stop the ellipse \nfrom passing through walls! Fortunately, Processing’s get() function \nmakes it easy to determine what color the ellipse is touching. \nThe get() function retrieves the color of a pixel at a given posi­\ntion. Then, you can extract the pixel’s red, green, or blue value from \nthat color by passing it to the red(), green(), or blue() functions, \nrespectively. Try it by adding this line to your existing draw() code:\n  println(red(get(mouseX,mouseY)));\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2042
  },
  {
    "chunk_full": "1 57 • PROJ ECT 9\nThis code prints the red value of the pixel at (mouseX, mouseY). \nIf you move your mouse around, the value printed should be 255 \nwhile you mouse over white, for which all color values are 255. When \nyou move your mouse to a line of the maze, the value should be 0. \nNow change mouseX and mouseY to your x and y variables and move \nthat println() function one line above the ellipse() function. Move \nyour ellipse around; do you see a difference?\nYou can use the value from get() to detect a touch! Modify your \ndraw() loop like this:\nvoid draw()\n{\n  background(150);\n  image(maze,0,0);\n  fill(255,0,0);\n  noStroke();\n   float touch = red(get(x,y));\n  ellipse(x,y,10,10);\n  \n   if(touch < 255)\n  {\n    x = 162;\n    y = 162; \n  }\n}\nCreate a new variable called touch of type float u and set \nit to the value you printed earlier, red(get(x,y)). Using an if() \nstatement , test whether touch goes below 255. If so, the ellipse \ntouched a wall! In that case, assign x and y their original values to \nreturn the ellipse to the start of the maze.\nNow players can’t get through the walls, but what happens \nwhen they actually finish the maze correctly?\nAdding the Victory Condition\nYou can see the end of the maze in your image, but you also need \nto create a finish line in your code. You can use a compound if() \nstatement to check if the ellipse is within an invisible bounding box, \nand if so, end the game. \nFirst, you need to define the finishing box. To determine where \nthe maze ends, print mouseX and mouseY to the console window. Add \nthis line to your draw() loop:\n  println(mouseX + \",\" + mouseY);\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2043
  },
  {
    "chunk_full": "1 58 • PROJ ECT 9\nRestart your sketch, and as you move the mouse, you should see \nits x- and y-coordinates in the console window. Hover your mouse \nover the area where your maze’s finishing box should be, and note \nthe coordinates. In this book’s maze, the box is roughly centered at \n(170,8). Create your bounding box with a compound if() statement \nin the draw() loop.\nvoid draw()\n{\n  image(maze,0,0);\n \n  if((x > 165) && (x < 180) && (y < 10))\n  {\n     textSize(48);\n    textAlign(CENTER);\n    fill(255,0,0);\n    text(\"YOU WIN!\",width/2,height/2);\n  }\n  fill(255,0,0);\n  noStroke();\n  float touch = red(get(x,y));\n  ellipse(x,y,10,10);\n  \n  if(touch <= 200)\n  {\n    x = 162;\n    y = 162; \n  }\n  println(mouseX + \",\" + mouseY);\n}\nFirst, create the box’s left and right boundaries. For this maze, I \ntested whether x is greater than 165  and less than 180 . Then, \nadd one more condition for the y boundary. My if() statement looks \nfor anything less than 10 . If all three conditions are true, it displays \na victory message . This code draws text in the middle of the \nscreen that says, “YOU WIN!” \nThe placement of this if() statement is important because \nProcessing layers materials based on their position in the code. \nMake sure the if() statement comes after the image() call so the \ntext appears on top of the maze image. \nRun the completed code to see if you can reach the victory mes­\nsage shown in Figure 9-6. When you’re confident the game works, I’ll \nshow you how to leave the keyboard behind and add a controller.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2044
  },
  {
    "chunk_full": "1 59 • PROJ ECT 9\nADDING A MAKEY MAKEY CONTROLLER\nIn this section, I’ll teach you to take your maze game to the next level \nwith a custom controller. Make sure you have the materials listed in \n“Gather Your Materials” on page 148, and let’s use a MaKey MaKey \nto replace your arrow keys with fruit!\nMeeting the MaKey MaKey\nThe MaKey MaKey (Figure 9-7) is an invention kit that tricks your \ncomputer into thinking that almost anything is a keyboard. For \nexample, you could play Super Mario with a Play-Doh keyboard, \nor play a digital piano with keys made of fruit!\nFigure 9-6:  \nYay! You win!\nFigure 9-7:  \nThe MaKey MaKey. Most \nconnections are pairs \nof metal-rimmed holes, \nwhere you’ll clamp alligator \nclips. You can also plug \nstiff jumper wires into the \nmouse input, keyboard \ninput, and output headers \non the back of the board.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2045
  },
  {
    "chunk_full": "1 60 • PROJ ECT 9\nYou can connect the MaKey MaKey to objects with alliga­\ntor clip wires, and it detects when you’ve touched those objects \neven if they’re materials that don’t conduct electricity very well, like \nleaves, pasta, or people. The MaKey MaKey’s brain is an on-board \nATMega32U4 microcontroller that communicates with your computer \nusing the Human Interface Device (HID) protocol, which means you \ncan use the MaKey MaKey as a keyboard or mouse without having \nto install any drivers or other software.\nEach pair of metal circles on the MaKey MaKey in Figure 9-7 (six \nat the bottom, one in each arrow, and one in each circle) is an input \nyou can attach to with alligator clips, solder, and other connectors. \nIt has another 12 inputs on the back: 6 for keyboard keys, and 6 for \nmouse motion. \nNow that you’re acquainted with the MaKey MaKey, I’ll show you \nhow to turn it into a controller for your maze.\nBuilding a Controller\nThe wonder of the MaKey MaKey is that you can turn almost any­\nthing into a game controller, a keyboard, or a mouse. The key is \nclosing the circuit between the input and the ground connections at \nthe bottom of the board. \nFor my controller buttons, I used fruit from my refrigerator. (Don’t \ntell my wife!) The maze game requires only the arrow keys, so I chose \nfour different fruits: a banana, an orange, and two apples. To attach \nthe fruits to the contact points, connect one end of an alligator clip \nwire to the MaKey MaKey button point, as shown in Figure 9-8, and \nconnect the other end to the fruit in any way you can. \nNOTE \nIf you already know how \nto use an Arduino (http://\nwww.arduino.cc/), you \ncan have even more fun \nwith the MaKey MaKey. It’s \nArduino-compatible, and it \nruns the Arduino Leonardo \nbootloader. If you wish to \nuse a different set of keys, \nor otherwise change the \nbehavior of your MaKey \nMaKey, just reprogram it!\nFigure 9-8: \nYou can use alligator \nclips to connect objects \nto the MaKey MaKey.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2046
  },
  {
    "chunk_full": "1 61 • PROJ ECT 9\nSometimes it’s a little tough to connect a fruit to the alligator clip, \nso I suggest sticking a screw or nail into the fruit and attaching the \nalligator clip to that, as shown in Figure 9-9. \nThe MaKey MaKey should look something like Figure 9-10 when \nyou have all of your fruit attached.\nFigure 9-9:  \nThis orange has a screw in \nit to make the connection \neasier.\nFigure 9-10:  \nIt’s a fruit controller!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2047
  },
  {
    "chunk_full": "1 62 • PROJ ECT 9\nNow, just attach yourself to a ground connection on the MaKey \nMaKey! You could just connect an alligator clip to ground and hold \nthe other end in your hand, but you’ll need both hands to work the \ncontroller. Instead, we’ll build a bracelet out of aluminum foil and \nmasking tape, and attach the alligator clip to that. \nTear off a length of tape that is roughly the circumference of your \nwrist. Starting at one end, add aluminum foil to the strip of tape, leav­\ning about an inch of the sticky side open at one end. Then wrap the \nbracelet around your wrist with the foil touching your skin, and fasten \nyour bracelet. Finally, attach the alligator clip to the bracelet, mak­\ning sure it contacts the foil and that the foil contacts your skin, as in \nFigure 9-11. \nCongratulations, you’ve taken your first step on the road to \ncyborgdom! In the next section, we’ll introduce your new controller \nto Processing.\nConnecting the MaKey MaKey to Your Computer\nNow that you’ve built your controller, let’s hook it up to your com­\nputer. Grab the USB cable, plug the mini USB end into the port at the \ntop of the MaKey MaKey board, and plug the rectangular end into a \nUSB port on your computer, as shown in Figures 9-12 and 9-13. \nOnce you plug in the MaKey MaKey, you should see the board \nflashing—that’s good! Wait a bit, and your computer should tell you \nthat it sees a new piece of hardware. \nNOTE \nFor a great demonstra-\ntion of ways to hook up a \nMaKey MaKey, check out \nour guide at https://learn \n.sparkfun.com/tutorials/\nmakey-makey-quickstart-\nguide. It leads you through \nthe basics and includes \nthe original video that \ncreator Joy Labs used to \nlaunch MaKey MaKey on \nKickstarter.\nFigure 9-11: \nConnection made to my \ntape bracelet\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2048
  },
  {
    "chunk_full": "1 63 • PROJ ECT 9\nAt this point, the MaKey MaKey should be ready to use. Run \nyour maze game sketch, and with your bracelet attached to ground \non the MaKey MaKey, touch one of the four pieces of fruit. The ellipse \nin your maze should move in the direction of the key to which that \npiece of fruit is connected. Pretty cool! Now, see if you can beat your \nmaze using your fruit controller. \nFigure 9-12:  \nConnecting the MaKey \nMaKey to the USB cable\nFigure 9-13:  \nConnecting the USB cable \nto a laptop\nNOTE \nBe gentle with your new \ncontroller! If you get too \nexcited and press the fruit \nbuttons hard, you may \nturn it into a fruit-salad \ncontroller.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2049
  },
  {
    "chunk_full": "1 64 • PROJ ECT 9\nTAKING IT FURTHER\nYou can take this project further in both the hardware and software \ndirections. In terms of hardware, try creating a more elaborate MaKey \nMaKey controller. Make your sketch into a party game by replacing \nyour fruit with friends: just give each person a bracelet like yours (I \ndon’t think they would enjoy getting stuck with a nail). Try playing with \nother conductive materials such as copper tape, aluminum foil . . . \nand even pizza!\nYou could also improve the maze program itself. You know how \nto add im ages, so try replacing the ellipse with a character of your \nown design. Then, create places that teleport your character to \nanother spot in the maze. (Use code similar to the code you added \nin “Detecting Wall Touches with get()” on page 156, but change \nthe location from your maze’s start to some other location.) And dare \nI suggest drawing your own maze and importing it as a scanned \npicture? The possibilities are limitless!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2050
  },
  {
    "chunk_full": "www.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2051
  },
  {
    "chunk_full": "10\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2052
  },
  {
    "chunk_full": "MANIPULATING \nMOVIES AND \nCAPTURING VIDEO\nIN PREVIOUS CHAPTERS, \nYOU TACKLED INPUT FROM \nTHE MOUSE, KEYBOARD, AND \nMAKEY MAKEY, BUT THOSE \nINPUTS WERE ALL BUTTON \nPRESSES. WHAT ABOUT OTHER \nINPUTS, LIKE VIDEO FROM \nYOUR WEBCAM? FORTUNATELY, \nPROCESSING HAS CODE \nLIBRARIES THAT CAN HELP \nYOU ADD VIDEO AND MORE \nTO YOUR PROJECTS.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2053
  },
  {
    "chunk_full": "1 68 • PROJ ECT 1 0\nThis project introduces you to libraries in Processing and shows \nyou how to incorporate video and movies into a sketch. You’ll perform \nsome simple movie modifications, capture live video from a webcam, \nand create a photo booth program in Processing. \nThe world of video manipulation is ahead, so buckle up. Our first \nstop is the library!\nWHAT IS A LIBRARY?\nA library is a collection of prewritten code. One function in a library \nmight be hundreds of lines long, but since someone already wrote it, \nall you have to do is call it. Anyone can write a library for any program­\nming language, and you’ll find many Processing libraries on the Web. \nFor your introduction to libraries, I’ll show you Processing’s Video \nlibrary. \nAdding Libraries to Processing\nDepending on your version of Processing, you may need to install the \nVideo library. Click SketchImport Library. . .Add Library. . . to \nopen the Library Manager, which lists several libraries you can add \nto Processing. Scroll down until you see the Video library. If it has a \nbutton labeled Remove, you’re in good shape. Otherwise, select the \nVideo library, and click the Install button that appears. \nUsing Libraries in Your Sketch\nYou can learn how to use a library by exploring an example program \nfrom Processing. Go to http://www.nostarch.com/sparkfunprocessing/, \ndownload the resource files for this book, and open the Loop.pde file \nin the Project 10 folder. \nWith the Loop sketch open, click Run to make sure it works with \nyour current computer settings and your version of Processing. You \nshould see a planet traverse the sun over and over, until you close \nthe window or stop the sketch. The video should look like Figure 10-1.\nNOTE \nThe Loop sketch is \nactually an example \nprovided with the Video \nlibrary in some versions \nof Processing. You can \nfind this and many other \ngreat examples to play \naround with by clicking \nFileExamples. . . in the \nmain window.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2054
  },
  {
    "chunk_full": "1 69 • PROJ ECT 1 0\nThe Loop sketch in your code window should look like this:\n import processing.video.*;\n Movie movie;\nvoid setup() \n{\n  size(640,360);\n  background(0);\n  //load and play the video in a loop\n   movie = new Movie(this,\"transit.mov\");\n   movie.loop();\n}\n void movieEvent(Movie m) \n{\n  m.read();\n}\nvoid draw() \n{\n  //if (movie.available() == true) \n  //{\n  //  movie.read(); \n  //}\n   image(movie,0,0,width,height);\n}\nFigure 10-1:  \nA screenshot from the \nLoop video\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2055
  },
  {
    "chunk_full": "170 • PROJ ECT 1 0\nWhen you want to use a library, you must first add it to your \nsketch. At , the import keyword tells Processing to include the \nspecified library in your project so you can use its functions and \nvariables. The asterisk just tells Processing to load all classes that \nare associated with that library—in this case, the Movie class and the \nCapture class. The next part of the sketch creates a Movie object \nnamed movie , which looks similar to how you created PImage \nobjects in Project 6. In the setup() code, you’ll find the usual size() \nand background() functions as well.\nAfter the sketch window is defined, we instantiate the movie \nobject . Instances of the Video library’s Movie class have two param­\neters: the sketch you’re working with (given by the this keyword) \nand the name of the movie file you want to play (entered as a string). \nIn sentence form, this statement could read, “Add a new movie to this \nprogram, and place the transit.mov file in it.” The keyword this always \nrefers to the sketch that you are working with currently. \nCalling Library Functions\nAs an instance of the Movie class, the movie object has functions \nfrom that class that you can use. When calling functions that belong \nto an object, we have to tell Processing which function we want to \nrun, and which object should run it. \nAs you saw in “Processing Objects” on page 111, class func­\ntions are available to all objects of that class. The function loop() at \n is part of the Movie class, which means that we can call it on the \nmovie object.\nMany libraries also have event functions. For example, the Loop \nsketch calls a movieEvent() function , which reads the next frame \nonce it becomes available and then displays it every time the image() \nfunction  draws a new frame to the sketch window. To keep your \nsketch tidy, it’s typically a good practice to use event functions. \nIf your sketch uses only a single video, however, you may want \nto just run a video in your draw() loop, as in Listing 10-1: \nimport processing.video.*;\nMovie movie;\nvoid setup() \n{\n  size(640,360);\n  background(0);\n  //load and play the video in a loop\nListing 10-1: \nRunning a video in \nthe draw() loop\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2056
  },
  {
    "chunk_full": "171 • PROJ ECT 1 0\n  movie = new Movie(this,\"transit.mov\");\n  movie.loop();\n}\nvoid draw() \n{\n   if (movie.available() == true) \n  {\n    movie.read(); \n  }\n  image(movie,0,0,width,height);\n}\nHere, I’ve uncommented the if() statement  inside the draw() \nloop and deleted the movieEvent() function. \nThis code should function identically to the version with the event \nfunction in place. If your future projects have multiple videos, use an \nevent function to help Processing run your sketch efficiently, but for \nnow, let’s focus on using the if() statement. \nModify your Loop sketch to use the if() statement, keep it open \nin Processing, and save it as a new project to avoid losing your work. In \nthe next section, I’ll teach you to add your own video. Let’s get hacking!\nADDING YOUR OWN VIDEOS TO \nA SKETCH\nTo add a video to a Processing sketch, the file must be in a common \nvideo format like .mov, .mp4, or .avi. For this example, I’ll use a video \nabout launching high-altitude balloons by one of SparkFun’s friends, \nDave Stillman. Figure 10-2 shows a frame of the balloon inflating. \nFigure 10-2:  \nLet’s process this video of \ninflating a weather balloon!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2057
  },
  {
    "chunk_full": "172 • PROJ ECT 1 0\nTo use the same video, go to http://www.nostarch.com/\nsparkfunprocessing/ and download the source files for this book; \nyou should find dave.mp4 in the Project 10 folder. You could also \nfollow along with a video file from your computer. If you do use your \nown video, name the file something simple and descriptive.\nNote the resolution of your video to help you decide the size of \nyour sketch. (The video dave.mp4 is in standard definition at a resolu­\ntion of 640×360 pixels.) Then, add your video to your sketch folder \nas you would an image: click SketchAdd File. . . and select your \nvideo file. \nIn your modified Loop sketch from Listing 10-1, change the file­\nname when you instantiate the movie object to match the video you’ll \nuse. For example, I changed that line to read: \n  movie = new Movie(this,\"dave.mp4\");\nClick the Run button. Your video should load at the same size as \nthe planet video. Pretty cool, huh? Now let’s explore what we can do \nwith this video!\nAPPLYING TINTS AND FILTERS\nOnce your video and library are in place, you can think of the video \nas an image and modify it as such. In Project 6, we explored image \nprocessing and focused on modifying images with the tint() and \nfilter() functions. Since you’ll display videos with the image() \nfunction, you can use the same functions to add effects to your \nvideos, too. \nIn your modified Loop sketch from Listing 10-1, create a second \nimage() call that displays the movie object, and add tint() functions \nas follows: \nvoid draw() \n{\n  if(movie.available() == true) \n  {\n    movie.read(); \n  }\n   noTint();\n  image(movie,0,0,width/2,height/2);\n  \n   tint(255,0,0);\n  image(movie,width/2,0,width/2,height/2);\n}\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2058
  },
  {
    "chunk_full": "173 • PROJ ECT 1 0\nThere will be two videos: one in the top-left quadrant and \nanother in the top-right quadrant of the sketch window, as shown \nby the coordinates of these image() calls. To keep one copy of the \nvideo as is, call noTint()  before its image() function. Otherwise, \nplace your tint() function  above the image() functions you want \nto color. Click Run, and both copies of the video should play simulta­\nneously, as shown in Figure 10-3. \nHaving multiple videos open in Processing is a great way to play \nwith and compare different tints, but you can also apply filters to your \nvideos. Change your draw() loop to display one copy of your video, \nremove the tint() functions, and add some filters, like so: \nvoid draw() \n{\n  if(movie.available() == true) \n  {\n    movie.read(); \n  }\n  image(movie,0,0,width,height);\n   filter(GRAY);\n   filter(BLUR,2);\n}\nUse any filters you like; I’ve used GRAY  and BLUR  to add \nsome old-timey character to the balloon launch video, as shown in \nFigure 10-4.\nFigure 10-3:  \nTinting a video \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2059
  },
  {
    "chunk_full": "174 • PROJ ECT 1 0\nINTRODUCING FOR() LOOPS \nAND ARRAYS\nNow let’s briefly explore two new programming elements that will help \nyou capture video and create this project’s photo booth program. \nWhen you want to run the same code over and over, use a for() \nloop. Here is the basic structure:\nfor(int x = 0; x < 100; x += 10)\n{\n  point(x,10);\n}  \nA for() loop has its own set of curly brackets, and you place \nthe code you want to iterate inside them. Inside the parentheses, you \ntell the for() loop how many times to run. First, create a local count \nvariable (in this case, x) and initialize it with a starting value . Then, \nset a boundary . This example tells the loop to run as long as x is \nless than 100. Finally, give the loop a value to increment the count \nvariable by ; here, we increment x by 10. \nThis for() loop plots a series of points, and at each one, x incre­\nments by a value of 10. I elaborated on that concept in this simple \nsketch: \nvoid setup()\n{\n  size(250,250);  \n}\nFigure 10-4: \nDave’s balloon video, \nwith GRAY and BLUR  \nfilters applied\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2060
  },
  {
    "chunk_full": "175 • PROJ ECT 1 0\nvoid draw()\n{\n  strokeWeight(10); \n  for(int x = 0; x < 255; x += 10 )\n  {\n    stroke(random(255),random(255),random(255));\n    point(x,height/2);\n  }\n} \nThis sketch draws a point every 10 pixels and gives each point \na random fill color. Start a blank sketch, add this program to it, and \nclick Run to see the result plotted in Figure 10-5.\nThe for() loop is useful for simplifying and condensing code, \nand it’s particularly handy for populating arrays. An array is nothing \nmore than a list of elements that your program can reference, add to, \nor remove from. Here’s a simple array: \nint[] ages = {30,30,5,2};\nTo create an array, first specify what kind of data will be in it; \nthis array contains elements of type int. Then, place a set of square \nbrackets, [], after the data type to tell Processing you’re making an \narray. The brackets are followed by the name of the array; this array is \ncalled ages, and it contains the ages of my family members, in years. \nMy wife and I are both 30, and my sons are 5 and 2. The values \nstored in an array must be bound by curly brackets. \nTo use a value from an array, call the array name and place the \nindex (position in the array) of the value you want inside a set of \nsquare brackets: \nint derekAge = ages[0];\nFigure 10-5:  \nCircles drawn with a for() \nloop and random color\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2061
  },
  {
    "chunk_full": "176 • PROJ ECT 1 0\nThis example fetches the first element from the age array (at \nindex 0), which is my age, and stores it in the variable derekAge. This \nis great if your array already contains values, but what if you want to \nstore values instead? Just reverse the order:\nint derekAge = 30;\nages[0] = derekAge;\nThis will add the value of derekAge (30) to the ages array at index 0. \nArrays can help you store data in order, and they can store any­\nthing from integers (as shown here) to strings or floats. In the photo \nbooth project, you’ll actually use a for() loop to populate a string \narray with different camera settings available to your computer. You’ll \nthen reference what camera setting you want by its index. \nHere’s a simple sketch that counts up to 100 using a for() loop \nand populates an array with all of the count values: \n int[] numberLine;\nvoid setup()\n{\n   numberLine = new int[100];\n  \n   for(int i = 0; i < 100; i++)\n  {\n    numberLine[i] = i;\n    println(numberLine);\n  } \n}\nvoid draw()\n{\n  ;\n}\nThis sketch creates an uninitialized integer array called \nnumberLine . The setup() function instantiates the numberLine \narray like an object by defining it as a new integer array of size \n100 . Notice that numberLine is created differently from the ages \narray; numberLine starts out empty, which is why we have to specify \na size. Next, we use a for() loop to increment the integer i 100 times. \nOn each iteration, the loop adds the value of i to the numberLine array \nand prints the current list of values to the console .\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2062
  },
  {
    "chunk_full": "17 7 • PROJ ECT 1 0\nIn the next section, we’ll use both arrays and for() loops to help \nset up your webcam in Processing. \nCAPTURING VIDEO\nWe’ll explore other ways to customize movies in “Taking It Further” \non page 182, but you don’t have to limit yourself to existing movies. \nWith a little prep work, Processing can capture live video! \nFirst, make sure your webcam works. Open your favorite video \nrecording software now and check whether you can actually record \nwith the camera you intend to use with Processing. When you know \nthe webcam can capture video, you can move on to the sketch. \nModifying the setup() Function\nInstead of opening a new example sketch, we’ll continue modify­\ning the Loop sketch from Listing 10-1. Before the setup() function, \nwe’ll add a Capture object to the existing sketch, and inside, we’ll \nreplace one of the Movie objects in the side-by-side comparison \nshown back in Figure 10-3 with that Capture object:\nMovie movie;\n Capture cam;\nvoid setup()\n{\n   String[] cameras = Capture.list();\n  println(\"Available cameras:\");\n \n   for(int i = 0; i < cameras.length; i++) \n  {\n    println(cameras[i]);\n  }\n  size(640,360);\n  background(0);\n  //load and play the video in a loop\n  movie = new Movie(this,\"dave.mp4\");\n   cam = new Capture(this,cameras[0]);\n  movie.loop();\n   cam.start();\n  frameRate(120);\n}\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2063
  },
  {
    "chunk_full": "178 • PROJ ECT 1 0\nFirst, create an object of the Capture data type  for your \nwebcam video. You can name this anything except the name of \na video object you’ve already loaded; I named it cam. Once your \nCapture object is named, let’s add code to your setup() function \nto let Processing access your webcam.\nCapturing your webcam feed does make instantiating the cam \nobject a little tricky. The webcam may have multiple settings or may \nbe hooked up to a specific port that we need to find. For example, \nmy webcam has a number of frame rates and resolution settings that \nI can choose from as individual “cameras” in Processing. \nYou can create a list of these settings with some code in your \nsetup() function. First, save a list of the available cameras as a string \narray called cameras . Once we have our camera list, we can print \nit out to the console line by line . We run the loop once for each \nentry in the cameras array by starting a count value i at 0 and incre­\nmenting it (i++) until we reach the end of the list. \nEven though you don’t have the camera list yet, instantiate your \nCapture object  to cameras[0] next. I always select cameras[0] to \nstart with because it’s the first element in your array of cameras, and \nthat should be your camera’s standard setting. \nFinally, call the cam.start() function  to start capturing video \nfrom the camera. I bumped up my frameRate() to 120 frames per \nsecond as well, but that’s optional. \nClick the Run button, and you should see your list of camera \nsettings in the console window, though your live video will not show \nup yet because we haven’t added the cam data to the draw() loop. If \nyou want to change to a different setting, you can do so by changing \ncameras[0] to the number of the entry you want in the list, count­\ning from 0. Once you can see your list in the console, you can select \nwhich settings you want and, if you are using multiple cameras, which \ncamera. \nFor example, here are a few of the camera options that print out \nin my Processing console: \n name=WebCam SC-13HDL11624N,size=640x480,fps=5\nname=WebCam SC-13HDL11624N,size=640x480,fps=30\nname=WebCam SC-13HDL11624N,size=160x120,fps=5\n name=WebCam SC-13HDL11624N,size=160x120,fps=30\nIf you want to change your settings, you can select a different \ncamera by counting up from 0 as you move through the list. In my \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2064
  },
  {
    "chunk_full": "179 • PROJ ECT 1 0\ncase cameras[0] is at . If I wanted to change to a smaller frame size \nand more frames per second, I could use cameras[3], which is at .\nDisplaying Live Capture\nNow that your setup code is ready, let’s display the live video in your \nsketch. Change your draw() loop as follows to show both a movie \nand a live feed: \nvoid draw() \n{\n   if((movie.available() == true) && (cam.available() == true)) \n  {\n    movie.read();\n    cam.read();\n  }\n   image(cam,width/2,height/4,width/2,height/2);\n  image(movie,0,height/4,width/2,height/2);\n}\nFirst, change your original if() statement into a compound if() \nstatement . This version checks that both your movie and camera \nare available, and assuming they are, it reads the frame from both of \nthem. Next, change one of the image() functions to use the cam data  \ninstead of both having the movie data. \nClick Run, and your webcam should play your movie and display \nlive video, as in Figure 10-6. \nFigure 10-6:  \nThis sketch window \nshows the balloon launch \nmovie on the left and a \ncamera capture of me on \na Saturday morning on  \nthe right.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2065
  },
  {
    "chunk_full": "1 80 • PROJ ECT 1 0\nSince you are using the image() function to display the frames \nof your live video, you can again treat it like an image and apply filters \nand tints to it. Play around until you feel comfortable with applying \nthese effects to live video; they will help you add some pizzazz to \nyour photo booth in the next project!\nCREATING A PHOTO BOOTH\nNow that we’ve explored Movie and Capture objects in Processing, \nlet’s combine the two and create a photo booth! Open a new sketch \nto start this project from scratch, and save it as myPhotoBooth.pde. \nThen, click SketchImport Library. . . 4Video to add the Video \nlibrary to your project. This should automatically populate the top of \nyour sketch with an import line: \nimport processing.video.*;\nAfter importing the library, you can create library objects. You just \nneed a Capture object: \nCapture cam;\nI called my Capture object cam.\nAdding the setup() Function\nNext, add the following setup() function to your sketch: \nvoid setup()\n{\n   String[] cameras = Capture.list();\n   println(\"Available cameras:\");\n \n   for(int i = 0; i < cameras.length; i++) \n  {\n    println(cameras[i]);\n  }\n   size(1280,1024);\n   cam = new Capture(this,cameras[30]);\n  \n   cam.start();\n}\nFirst, create the list of available camera options. Create a string \narray called cameras  and fill it with the output of Capture.list() . \nNOTE \nVideo in any format is \ntough for Processing to \nwork with, and it may \ntake extra time to load \nand display, so  \nbe patient. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2066
  },
  {
    "chunk_full": "1 81 • PROJ ECT 1 0\nUse Capture rather than cam because you have not instantiated your \ncam object yet. Then, use a for() loop  to print out each camera in \nthe list. \nNext, set the sketch size to your webcam’s resolution ; for \nexample, my webcam has a resolution of 1280×1024 pixels. Then \ninstantiate cam  as a Capture object. \nWhen you instantiate the cam object, select a camera setting \nfrom the list you printed. I chose option 30, but you may have more \nor fewer options, so check your camera list in the console before \nyou choose. A safe bet is to always start with option 0 and then play \naround with different settings once everything works. \nFinally, start your movie and your capture feed . \nCreating the draw() Loop\nNow let’s create the draw() loop and display some video!\nvoid draw() \n{\n   if(cam.available() == true)\n  {\n    cam.read();\n  }\n  image(cam,0,0,width,height);\n   if(second()%10 == 0)\n  {\n     cam.stop();\n     saveFrame();\n     delay(1000);\n    cam.start();\n  }\n}\nStart by checking if the cam capture is available . When the \ncondition inside the if() statement returns true, Processing reads a \nframe from each object, then displays the cam frame as an image.\nPhoto booths snap pictures at timed intervals, so let’s have \nProcessing take a photo every 10 seconds. Our if() statement  \nchecks whether the output of the second() function is divisible by 10 \nwith the modulo function. Written as a percent sign (%), the modulo \nfunction returns the remainder of a division; for example, 100%10 = 0, \nand 5%2 = 1. So the condition second()%10 == 0 checks whether \nthe number of seconds passed is divisible by 10.\nNOTE \nIf you find a camera set-\nting that you really like, \nyou can skip this step \nand just hardcode your \ncamera selection when \nyou initiate your Capture \nobject.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2067
  },
  {
    "chunk_full": "1 82 • PROJ ECT 1 0\nWhen the condition is true, call the pause() function from the \nCapture class on cam to pause the video . You can use pause() to \nfreeze the live webcam feed. \nOnce you pause the capture, call a function called saveFrame() . \nThis function saves the frame currently displayed in your sketch as an \nimage in your sketch folder, and labels each image by frame number. \nFinally, delay  for 1 second (1,000 milliseconds) to let the photo \nbooth participants view their photo, and then restart the capture \nfeed. Figure 10-7 is a series of photos taken using this project!\nTAKING IT FURTHER\nWe’ve only scratched the surface of Processing’s Video library, and \nthere are a bunch of other functions (not to mention other libraries!) \nthat you can put to good use in your sketches. Visit the Processing \nwebsite (https://processing.org/reference/libraries/) to learn more.\nOne way to take this project further is to turn your photo booth \ninto a time-lapse program. You could make the photo booth take a \nphoto every hour, and track the weather over the course of the day \nor even take time-lapse footage of your kitchen to see how often your \nrefrigerator is opened. \nFor an extended use of the Video library, try creating a multi­\nmedia presentation. If you want to give a movie a certain aesthetic, \nyou can record your own file and then use Processing to add filters \nand tints to your video as you did in this project. You could also \ncreate a video collage with different videos playing all at the same \nFigure 10-7: \nA series of photo \nbooth images. \nThis is the last time \nI leave my laptop \nalone at the office.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2068
  },
  {
    "chunk_full": "1 83 • PROJ ECT 1 0\ntime. Try to re-create the video grid from the Brady Bunch opening \ncredits! (Check out this YouTube clip if you’re not familiar with the \nBrady Bunch: https://www.youtube.com/watch?v=K5StTXQofqs/.) \nYou can use the code for my Warhol-inspired image from Project 6 \n(see page 116), and add the Video library to it. \nIf you’re feeling very confident in your programming skills, take \na look at OpenCV for Processing, a library with a focus on computer \nvision. Computer vision (CV) essentially adds eyes to your computer \nto track objects or faces, or even determine what something is by its \nshape.\nIn the next project, you’ll explore how to use data from the world \naround you with Arduino and the serial communication library!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2069
  },
  {
    "chunk_full": "11\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2070
  },
  {
    "chunk_full": "AUDIO PROCESSING \nWITH MINIM\nYOU MET YOUR FIRST PROCESSING \nLIBRARY IN PROJECT 10, AND \nNOW YOU’LL TACKLE MINIM, AN \nAUDIO PROCESSING LIBRARY. \nYOU CAN USE MINIM TO MAKE \nSKETCHES THAT PLAY SONGS \nOR REACT TO INPUT WITH \nSOUND EFFECTS, AND IN \nTHIS PROJECT, YOU’LL MAKE \nA SIMPLE AUDIO PLAYER AND \nAN INTERACTIVE SOUNDBOARD \nTHAT REACTS TO KEYPRESSES. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2071
  },
  {
    "chunk_full": "1 86 • PROJ ECT 11\nWhen you’re done with the sketch, I’ll challenge you to take it \nfurther with some hardware, too! Are you ready to rock?\nNote that Processing 3 has its own audio library; you can read \nabout it at https://processing.org/reference/libraries/sound/index\n.html. You should still be able to use Minim with Processing 3, how­\never. This book covers Minim instead of the default library so that \nreaders using Processing 2 can do the projects, and because Minim \ngives you a different degree of control over your audio content.\nGATHER YOUR MATERIALS\nYou can just use your keyboard for all of the inputs in this project, \nbut if you want to create a MaKey MaKey controller for the challenge \nI set out in “Taking It Further” on page 206, you’ll need the follow­\ning parts, which are both included in the SparkFun MaKey MaKey kit \n(product WIG-11511):\n• \nOne MaKey MaKey\n• \nOne mini USB cable\nYou may also want to have some copper tape and a small card­\nboard box handy for that challenge; the copper tape also comes with \nthe SparkFun MaKey MaKey kit, and any old box will do.\nINTRODUCING THE MINIM LIBRARY\nFrom audio recording and playback to audio synthesis and pro­\ncessing, you can do just about anything with sound using Minim, \na wonderful audio processing library created by Damien Di Fede. \nDepending on what you want to accomplish, Minim probably has \nthe perfect class for your sketch:\nAudioInput  Receives mono or stereo input\nAudioMetaData  Stores meta and ID information about your track\nAudioOutput  Synthesizes mono or stereo input\nAudioPlayer  Plays mono and stereo sound in many popular formats\nAudioRecorder  Records mono or stereo audio to a buffer or file\nAudioSample  Similar to AudioPlayer, allows for buffered playback\nBeatDetect  Lets you detect beats in audio files\nFFT  Enables frequency and spectrum analysis\nYou can read about Minim in more detail at http://code\n.compartmental.net/minim/, where Damien has documented the \nlibrary so well that pretty much anyone can pick it up and play with \nsound. For this book, I’ll focus on the basics of accessing a sound \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2072
  },
  {
    "chunk_full": "1 87 • PROJ ECT 11\nfile and triggering it for the project, but I’ll also discuss a few other \nclasses and how you can apply them in Processing. \nTo get a feel for using Minim, you will create a basic audio player \napplication that plays a song when you run your sketch. First, click \nSketchImport LibraryAdd Library. . . to launch the Library \nManager. Look for the Minim library, and click Install to add it to \nProcessing.\nThen, open a new Processing sketch and add the following to \nthe top:\nimport ddf.minim.*;  //import library\nMinim minim;         //minim library class object called minim\nAudioPlayer song;    //AudioPlayer object called song\nYour import line for the Minim library is pretty much the same as \nthe ones you used for the Video library; it just replaces processing with \nddf. After the import line, create a Minim object and an AudioPlayer \nobject; I named mine minim and song, respectively.\nOnce you’ve created the two library objects, instantiate them in a \nnew setup() loop as follows: \nvoid setup()\n{\n  //instantiate the minim library class\n   minim = new Minim(this);  \n  //load the mp3 file to the song object\n   song = minim.loadFile(\"song.mp3\");  \n}\nFirst, instantiate the minim object , which allows the library \nto access the data folder and any other content within your sketch. \nNotice that to instantiate song, you call loadFile() on minim , \nrather than creating a new AudioPlayer, which would more closely \nmirror what you did to instantiate Video library objects.\nUnlike the Video library, which has classes that do not depend \non one another, the Minim library has an overarching class. The \noverarching class is named Minim, and it contains the functions you \nneed to use the other classes, including the loadFile() function. \nThat’s why you instantiate the minim object first; otherwise, you won’t \nbe able to load other objects to play songs! In general, larger libraries \ntend to have classes like minim that act as utility classes or help you \nto use other classes. \nNOTE \nMany of the example \nsketches that I show in \nthis chapter are based on \nthe examples that come \nwith the Minim library. \nYou can find more infor­\nmation about Minim and \nits other classes and more \nexample code at http://\ncode.compartmental.net/\nminim/.\nNOTE \nIf you import the Minim \nlibrary through the menu \n(Sketch Import Library) \ninstead of adding the line \nmanually, Processing will \nautomatically import a \nnumber of other library \nutilities. You can leave them \nin, and they shouldn’t affect \nyour sketch.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2073
  },
  {
    "chunk_full": "1 88 • PROJ ECT 11\nNow that you have some code in place, save your sketch and \nadd an MP3 file called song.mp3 to your sketch’s data folder. You \ncan either download the file with the rest of this book’s resources \nat http://www.nostarch.com/sparkfunprocessing/, or rename any \nMP3 file you like to song.mp3. When you’ve picked a file, click \nSketchAdd File and select it.\nOnce you’ve loaded your song, you can play it by adding a call \nto the AudioPlayer class’s play() function. Update your setup() \nfunction, as shown in Listing 11-1.\nimport ddf.minim.*; //import library\nMinim minim;        //Minim library class object called minim\nAudioPlayer song;   //AudioPlayer object called song\nvoid setup()\n{  \n  //instantiate the minim library class object\n  minim = new Minim(this);     //initialize minim as a \n                               //new Minim object\n  song = loadFile(\"song.mp3\"); //load mp3 to song object\n   song.play();                 //play song\n}\nvoid draw()\n{\n  ;                           //nothing in draw loop\n}\nHere you call play() on song , and add an empty draw() loop. \nI placed this call in the setup code, so the song will play only once, at \nthe beginning of the sketch. If you want it to repeat, place it in your \ndraw() loop. Run this sketch now, and your song should play!\nNow that you’ve seen how to get the AudioPlayer class up and \nrunning, here are a few more class methods that will be useful for you \nin your endeavors as an audiovisual artist:\ncue()  Set where in the file to start playback\nlength()  Fetch the length of the audio file\npause()  Pause the audio file\nmute()  Mute the audio\nposition()  Fetch the current position in the audio file\nListing 11-1: \nA basic sketch to  \nplay your song\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2074
  },
  {
    "chunk_full": "1 89 • PROJ ECT 11\nrewind()  Rewind the audio file back to the beginning\nskip()  Skip a certain amount of the song\nunMute()  Unmute the audio\nYou’d call these functions on an AudioPlayer object, so in the \nsketch you just made, you’d call them on song, like this: \n  song.rewind();\nThe Minim library is designed with a wide spectrum of audio use \nin mind, so try these out on all kinds of sound files, and check the \nMinim website to find more functions and classes to try. I’m no expert \nin audio synthesizing or processing and haven’t fully explored Minim, \nso I’m still finding really cool things to do with it every time I use it. In \nfact, this chapter took the longest to write because I couldn’t decide \non a project to share with you! \nCREATING A SINGLE-SONG \nAUDIO PLAYER\nWith Minim, you can do more than just start an MP3 file. In this part \nof the project, you’ll create playback controls. Add some of your \nfavorite songs, sound effects, podcasts, or other files to your sketch \nfolder ( just make sure they’re WAV, AIFF, AU, SND, or MP3 files), and \nI’ll show you how to make a single-song audio player. \nTo start, let’s get one audio file playing. Create a new sketch, add \nsome audio files to its data folder, and add the following to the code \nwindow; if you’re adding your own song, replace 01 Radioactive.mp3 \nwith your own filename.\nimport ddf.minim.*;\nMinim minim;\nAudioPlayer song;\nvoid setup()\n{\n  size(500,500);\n  minim = new Minim(this);\n  song = minim.loadFile(\"01 Radioactive.mp3\");\n  song.play();\n} \nNOTE \nIf you don’t want to  \nuse a song of your own, \nvisit http://www.nostarch \n.com/sparkfunprocessing/, \ndownload the examples for \nthis book, and use the MP3 \nfiles in the Project 11 folder.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2075
  },
  {
    "chunk_full": "1 9 0 • PROJ ECT 11\nThis sketch is nearly the same as Listing 11-1. After import­\ning the library and creating your objects, you start the song in the \nsetup() function again to make the song play right away when \nsomeone starts the sketch.\nLEARNING A NEW LIBRARY\nThere are a lot of libraries out there that make Processing more \npowerful, and like Processing itself, these libraries are open source. \nThey’re written by people just like you, who were looking for func­\ntionality in Processing that wasn’t there initially, so they created it for \nthemselves! \nEach library is a little different in its functionality, documentation, \nand ease of use. Here are a few tips to figure out if a library is right \nfor you:\nDocumentation  Check out the library’s web page or GitHub \npage, and if you can’t envision how to use it in a “Hello World” \nsketch from the documentation provided, then you may want to \ntry another library. Many libraries have what are called javaDocs; \nyou’ll find Minim’s javaDocs at http://code.compartmental.net/\nminim/javadoc/. These describe details of the library (for example, \nthe classes and functions it contains), much like the Reference \npage of the Processing website.\nExample sketches  The library should come with a good set of \nexample sketches that demonstrate its breadth and the function­\nality of each class and its functions. If there is a small number of \nexamples, don’t fret: it may just be a small library. Always open \nthe examples and play with them before diving in to writing your \nown sketch.\nCheck the Library Manager  Processing’s Library Manager \n(under SketchImport libraryAdd a Library. . .) houses an \nongoing list of libraries that have been vetted by Processing.org \nand approved in terms of functionality, documentation, and \nexample sketches. The Library Manager is probably the safest \nplace to find and install new libraries, so check it out!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2076
  },
  {
    "chunk_full": "1 91 • PROJ ECT 11\nNow you’ll add some playback controls to this example with a \nkeyboard event function. At the end of your current sketch, add an \nempty draw() function followed by a keyPressed() event function \nthat uses a couple of keys and an if() statement to pause and play \nthe song, as shown in Listing 11-2: \nvoid draw()\n{\n  ;    //nothing in draw()\n}\nvoid keyPressed()\n{\n  if(key == 's')\n  {\nu     song.pause();   //if S key is pressed, stop the song\n  } \n  if(key == 'p')\n  {\nv     song.play();   //if P key is pressed, play the song\n  }\n}\nOnce you add this event function to your sketch, run it. Let it \nplay for a bit, and then press the S key. The song should stop, thanks \nto the pause() function . To play the song again, press the P key, \nwhich should call the play() function . \nNow you’ll show information about the song in your sketch \nwindow. Enter this code in the draw() loop between your setup() \nfunction and the keyPressed() function: \nvoid draw()\n{\n  background(150);\n  fill(0);\n  text(usong.position() + \" out of \" + vsong.length(),  \nwidth/2,height/2);\n}\nFirst, set a fill color of 0 to make black text. Then, use the text() \nfunction to print the position of the song. I concatenated some string \nlabels with both the current position  and the total length , at a \nposition of width/2 and height/2. This begins the text in the center \nof the sketch window, as you can see in Figure 11-1. \nListing 11-2:  \nAdding a keyPressed() \nevent function to pause \nand play the song\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2077
  },
  {
    "chunk_full": "1 92 • PROJ ECT 11\nRun your sketch to confirm you can fetch information about your \nsong. Then, show that data graphically using a horizontal bar display. \nUpdate your draw() loop as follows: \nvoid draw()\n{\n  background(61,147,76);\n   noStroke();\n   float pos = map(song.position(),0,song.length(),0,300);\n  \n   textAlign(CENTER);\n  fill(0);\n  text(song.position()/1000 + \" out of \" + \nsong.length()/1000,width/2,height/2);\n  \n   fill(255);\n  rect(100,110,300,50);\n  fill(255,0,0);\n  rect(100,110,pos,50);\n}\nFirst, you set the background color and turn off stroke outlines for \nboth rectangles . Next, you create a local float variable called pos \nand set the value of pos to the mapped value of song.position() , \nwhich ranges from 0 to 300. \nFigure 11-1: \n Displaying a song’s \ncurrent position in \nplayback\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2078
  },
  {
    "chunk_full": "1 93 • PROJ ECT 11\nThe map() function scales a value x from xMin and xMax to zMin \nand zMax: \nmap(x,xMin,xMax,zMin,zMax);\nThis function will save you a lot of time and effort when you \nneed to scale and divide more complicated numbers, such as song \nlengths. \nNow to display the text values: this part works the same way it \ndid in earlier projects. At , you align your text, set the color, and \nthen display it. Finally, you draw two rectangles . The first shows \nthe maximum value of the song length, and the second is the gauge \nrectangle that will grow based on the mapped val of the song length. \nWhen the song ends, the second rectangle should completely cover \nthe first rectangle.\nRun your sketch. As the song plays, a red rectangle should \ngrow in width, and the text readout should increment, as shown in \nFigure 11-2. \nAs you’ve seen, AudioPlayer has some useful and creative \napplications. It isn’t the only fun class in the Minim library, though—in \nthe next section, I’ll introduce you to AudioSample and show you how \nto use it. \nFigure 11-2:  \nAdding the time bar with \nthe song length in text\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2079
  },
  {
    "chunk_full": "1 94 • PROJ ECT 11\nINTRODUCING MINIM’S \nAUDIOSAMPLE CLASS\nFor the rest of this project, you’ll also use the AudioSample class, \nwhich is very similar to the AudioPlayer class you just practiced with. \nAn AudioSample object keeps a sound file in an internal buffer so that \nit can be triggered quickly. While AudioPlayer is used to play whole \nsongs or longer tracks, AudioSample is often used as a mixing tool. \nEach instrument might be a sample, and you can play several instru­\nments over one another quickly, enriching the audio in your sketch. \nYou can have up to 20 separate audio samples in your sketch at once. \nLet’s compare some setup and playback code for an AudioPlayer \nobject and an AudioSample object. To refresh your memory, here’s a \nworking AudioPlayer sketch: \nimport ddf.minim.*;\n Minim minim;\nAudioPlayer song;\nvoid setup()\n{\n  minim = new Minim(this);\n   song = minim.loadFile(\"song.mp3\");\n}\nvoid draw()\n{\n   song.play();\n}\nNow, here’s a working AudioSample sketch:\nimport ddf.minim.*;\n Minim minim;\nAudioSample sample;\nvoid setup()\n{\n  minim = new Minim(this);\n   sample = minim.loadSample(\"sample.mp3\",512);\n}\nNOTE \nThe one negative side \nof the AudioSample class \nis the large amount of \nbuffer or memory space \nit takes up when you \nhave multiple samples \nready to be played.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2080
  },
  {
    "chunk_full": "1 95 • PROJ ECT 11\nvoid draw()\n{\n   sample.trigger();\n}\nYou need to create a Minim object ( and ) and a class object \nto use both AudioPlayer and AudioSample. Then, for an AudioPlayer \nfile, you instantiate your class object with a call to loadFile() , \nwhich takes the file and loads it for use. With AudioSample, you use \nthe loadSample() function  instead, which requires you to also \npass a buffer size. I used 512 as my buffer size, but you may need to \nmake this number larger depending on your system. The buffer size \ndetermines how responsive the sound will be: the larger the buffer, \nthe more responsive the trigger. Finally, to actually play a song, you \nuse play() function  in the AudioPlayer class, as opposed to the \nAudioSample class’s trigger() function , which triggers a sample.\nAs you can see, you follow roughly the same formula to use \nboth classes; their functions just work a little differently. I’ll opt for the \nAudioSample class from here on because I’m looking for sounds that \nhave quicker response and loading times. \nIMPROVING YOUR AUDIO PLAYER \nWITH METADATA \nIn this section, we’ll explore the AudioMetaData class included in \nMinim. Your audio player now has a nifty little progress bar. But who is \nsinging? What is the name of the song? What album is it from? Most \nmedia players display this information, called metadata. Metadata is all \nof the background and contextual data that goes along with a song \nor album, including the song titles, album title, and artist. Many songs \neven include copyright information, publication dates, and the record \ncompany in the metadata. \nTo access metadata in a Processing sketch, you use the \nAudioMetaData class of the Minim library. Remember that to add a \nclass object, you have to create the object at the top of your sketch. \nFor simplicity, I’ll start a new sketch now, though enough code is the \nsame here that you could work from your single-song audio player \nand just add the new parts. \nNOTE \nAlways look at the length \nof your audio file before \ndeciding what Minim class \nto use. If your file is longer \nthan 15 seconds or so, use \nAudioPlayer; if it’s shorter, \nuse AudioSample. Also keep \nin mind how you want to \nuse the file in terms of agility \nand audio layering.\nNOTE \nMetadata can differ from \nsong to song, based on \nwhether you ripped the \nsong from a CD and filled in \nthe data by hand or bought \nthe song through a service \nlike iTunes, which usually \nincludes all the metadata. \nFor this project, I assume \nthat you’re using a song \nthat has all of its metadata. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2081
  },
  {
    "chunk_full": "1 9 6 • PROJ ECT 11\nHere’s what the beginning of your sketch should look like: \nimport ddf.minim.*;\nMinim minim;\nAudioPlayer song;\n AudioMetaData data;\nI placed my AudioMetaData object  underneath my AudioPlayer \nobject and called it data. Once you have created the object, instantiate \nit in the setup() function, along with the minim and song objects:\nvoid setup()\n{\n  size(500,200);\n  \n  minim = new Minim(this);   //create minim object\n  song = minim.loadFile(\"01 Radioactive.mp3\");   //load song\n   data = song.getMetaData(); //get metadata from song object\n  song.play();                                  //play song\n}\nInstantiate the AudioMetaData object  after instantiating your \nAudioPlayer object, because the AudioMetaData class needs to \nknow which song is being used by the AudioPlayer object in order \nto access the information from the correct file. For the song file, you \ncan either load the MP3 file you used in the previous example code \ninto your new sketch folder or use a new one. I recommend using a \nprofessionally produced song, downloaded from a service or ripped \nfrom an album, so that it will have sufficient metadata available for \nyou to use. \nNow you’ll display some basic information about your song \nin the draw() loop and use the keypressed() event function from \nListing 11-2 to add playback controls. Fortunately, Minim returns all \nof the metadata in a string format, which is nice because you can just \ndisplay it with the text() function, as follows: \nvoid draw()\n{\n  background(150);\n  noStroke();   \n  //map position to 0-300\n  float pos = map(song.position(),0,song.length(),0,300);\n  \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2082
  },
  {
    "chunk_full": "1 97 • PROJ ECT 11\n  textAlign(CENTER);                //align text to center\n  fill(0);  \n   text(data.title(),width/2,55);    //song title\n   text(data.author(),width/2,70);   //artist\n   text(data.album(),width/2,85);    //album title\n  //position\n  text(song.position()/1000 + \" out of \" + \nsong.length()/1000,width/2,100);  \n  \n  fill(255);   \n  rect(100,110,300,50);   //base rectangle\n  fill(255,0,0);   \n  rect(100,110,pos,50);   //song position rectangle\n}\nvoid keyPressed()\n{\n   if(key == 's')\n   {\n     song.pause();   //if S key is pressed, pause the song\n   } \n   if(key == 'p')\n   {\n     song.play();   //if P key is pressed, play the song\n   }\n}\nAdd the song title , author , and album name  to the \nsketch with the text() function, placing each 15 pixels lower than \nthe previous one. Run your sketch with the new code, and you \nshould see something like Figure 11-3.\nCongratulations! You just made an audio player that displays the \nmetadata associated with the file you play. \nYou can also use your microphone as an input device in \nProcessing, and in the next section, we’ll do that with the Minim \nFigure 11-3:  \nThe simple single-song \nplayer with metadata \nadded\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2083
  },
  {
    "chunk_full": "1 98 • PROJ ECT 11\nlibrary. If you’re on a laptop with a built-in microphone, you should \nbe just fine, but if you are working on a desktop computer, plug in \nan external microphone before you begin. \nVISUALIZING SOUND\nUsing the microphone on your computer is a great way to bring real-\nworld interactivity to your Processing sketches, and it is also relatively \npainless. The first step to using sound as an input is to check your \nchosen sound’s amplitude, or how loud it is. \nSetting Up Audio Input\nNow you’ll bring audio input into a Processing sketch. Begin a fresh \nsketch, and as always, start by creating class objects and global \nvariables: \nimport ddf.minim.*;\nMinim minim;\nAudioInput mic;\nint x = 1;\nNOTE \nWe’ll measure only ampli­\ntude, because the audio \nconcepts involved to mea­\nsure frequency—which \ndictates the pitch of a \nsound—are beyond the \nscope of this book. But \nthe Minim library includes \ngreat example code for \nvisualizing both amplitude \nand frequency for a given \naudio input. That code isn’t \ncomplicated, so I encourage \nyou to play with it on your \nown. The example sketch \nname is PlayAFile.pde, and \nyou should find it in the \nexamples folder that comes \nnatively with Processing. \nUSEFUL AUDIOMETADATA METHODS\nThe AudioMetaData class has methods for retrieving nearly any data \nyou could think of about a song. Check the Minim website for a com­\nplete list, but here are some key methods you might use:\nalbum()  Returns the album title as a string\nauthor()  Returns the artist name as a string\ndate()  Returns the publishing date as a string\nfileName()  Returns the filename as a string\ngenre()  Returns the genre as a string \ntitle()  Returns the song title as a string\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2084
  },
  {
    "chunk_full": "1 99 • PROJ ECT 11\nTo use a microphone, you need to create an AudioInput class \nobject as well as a Minim object, so import the Minim library and \nadd both class objects. My Minim object is called minim and my \nAudioInput object is called mic to keep everything straightforward. \nThen, create a variable called x and initialize it as 1. You’ll use this \nvariable later to create a graph visual, but since it needs to be global, \nit belongs at the top of your sketch. \nNext, add your setup() function, as shown in Listing 11-3.\nvoid setup()\n{\n  size(500,200);\n  minim = new Minim(this);\n   mic = minim.getLineIn();\n \n   frameRate(120);\n  background(150);\n}\nCreate a sketch window first. For this application, I recommend \na window that’s wider than it is tall. Next, instantiate the Minim library \nobject and the AudioInput object . If no other devices are plugged \nin to your computer, the result of minim.getLineIn() should be your \nmicrophone, so leave everything else unplugged when you first run \nthis sketch. \nTo increase your sample rate to make your visualization a lot closer \nto real time, bump up the frame rate of the sketch . Last, set the \nbackground in the setup, because the graph you’ll draw depends on \nthe stamp effect of not redrawing the background with every frame. \nDrawing Sound\nNow, on to the fun part: visualizing sound! You’ll create a scrolling \nbar graph that will show the real-time loudness (amplitude) of sound \naround you. This graph is not to scale in terms of decibels; you’ll just \nsee change and reaction.\nMost of the magic happens in the line() function itself. In \nProject 3, you made an ellipse bounce back and forth when its \nx-position went beyond the width of the window. You’ll revisit that \nconcept here to make a simple area graph made up of a series of \nadjacent vertical lines. \nListing 11-3:  \nInstantiating an audio input \nusing an external line in\nNOTE \nAmplitude is the measured \nand literal loudness of a \nsound, whereas volume is \nthe perceived loudness. \nYou can have two frequen­\ncies that have the same \namplitude but different vol­\numes; one sounds louder \neven though they have the \nsame amplitude.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2085
  },
  {
    "chunk_full": "20 0 • PROJ ECT 11\nAdd the following draw() loop after your setup() function now:\nvoid draw()\n{\n  stroke(0,0,255);\n  line(x,(height - 20), x, \n((height - 20) - abs(mic.left.get(0) * 200)));\n  x = x + 1;\n   if (x >= width)\n  {\n    background(150);\n    x = 0;\n  }\n}\nDraw a line where both x-coordinates are the same value, in this \ncase the x variable. The y-values of the line make the graph move up \nand down, and they’re tied to your audio input. Y1 is the baseline of \nthe graph and is equal to height - 20 . In other words, it’s 20 pixels \nup from the bottom of the window. You can tweak the 20 to move the \nentire graph up or down. \nThe Y2 value is (height - 20) - abs(mic.left.get(0) * 200) \nat . Y2 is the point that will move up as the sound gets louder. \nTo get the sound amplitude, you use the mic.left.get() function. \nThis checks the audio sample from the buffer storage and returns \na number between –1 and 1, as shown in Figure 11-4, which is the \namplitude of the sound wave. But that number isn’t very big, so loud­\nness changes would be really hard to visualize as is. To scale that \nvalue up, multiply it by 200 for a range of –200 to 200. \nFigure 11-4: \nAn audio sine wave that \nranges from –1 to 1\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2086
  },
  {
    "chunk_full": "201 • PROJ ECT 11\nSince you are looking for a loudness level, not a mathematical \namplitude, you also need to take the absolute value of the range \ngiven. (Taking the absolute value of a negative number removes the \nnegative sign, making it positive.) To get the absolute value, pass the \nwhole function of mic.left.get(0)*200 to the abs() function. \nTo calculate a line height, take your baseline value (height – 20) \nand subtract the absolute value function. This should produce a graph \nthat spikes the louder the sound gets. The last bit of the draw() loop \nincrements the x variables and checks for the graph’s width by using \nan if() statement to compare x to width. If x is equal to or greater \nthan the width of the sketch window, the background is redrawn \nand the line moves back to 0 . Run the sketch and make some \nnoise (for example, sing and stomp your feet), and you should see \nan active graph similar to Figure 11-5.\nBefore moving on, try using the audio input to also change the \ncolor of the graph. You can just copy the absolute value of the scaled \ninput and paste it as any R, G, or B value of your stroke color for the \nline in your draw() loop. For example, tweak your stroke() function \nas follows:\n  stroke(abs(mic.left.get(0) * 1000),0,255);\nADVANCED DETAILS ON THE GET() FUNCTION\nThe 0 inside of the get() function you used to fetch the amplitude is the \nposition within the audio buffer that you are sampling. The audio buffer \nholds 1,024 sample bytes, and this sketch just takes the first one (the \n0th sample). This is a really simplified way to use an audio sample, but \nI wanted a simple piece of example code to play with. If you are inter­\nested in sampling all of a buffer, the PlayAFile.pde sketch in the Minim \nlibrary’s example code uses a for() loop to sample all of the buffer \nand produce a waveform from those values. With the Minim library \ninstalled, you can click FileExamples, browse to the Minim library, \nand find this code from Processing.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2087
  },
  {
    "chunk_full": "202 • PROJ ECT 11\n202 • PROJ ECT 11\n202 • PROJ ECT 11\nHere, you keep 255 as your blue value, but now the red value \nchanges with the loudness level. So instead of staying blue, as your \nsound gets louder the graph should turn purple! Check it out in \nFigure 11-6.\nFigure 11-5: \nA simple graph of an \naudio input from my \nlaptop microphone\nFigure 11-6: \nNow the stroke \nvalue changes with \nthe amplitude in the \nsound graph\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2088
  },
  {
    "chunk_full": "203 • PROJ ECT 11\n203 • PROJ ECT 11\nRECORDING AUDIO TO \nCREATE A SOUNDBOARD\nThe final class you’ll explore within the Minim library is AudioRecorder. I \nam not going to lie: I love this class and have put it to some interest­\ning uses, such as recording a song, doing some sneaky sleuthing, \nand making a fun soundboard. AudioRecorder allows you to capture \naudio input and save it as a WAV file. This is a huge win in my opin­\nion, because it allows for some really interesting sketches that can \nrecord audio to use later or with a different interaction. \nYou can create a simple soundboard with the AudioRecorder \nclass. For now, you’ll just use the arrow keys to get all of the software \nworking, but later you can add a MaKey MaKey and some fun craft \nmaterials. \nCreating the Class Objects\nStart a new sketch, import the Minim library, and create your class \nobjects: \nimport ddf.minim.*;\n Minim minim;\n AudioInput mic;      //for microphone input\n AudioRecorder left;  //left record\nAudioRecorder right; //right record\nAudioSample Pright;  //right playback\nAudioSample Pleft;   //left playback\nJust as before, start a new sketch to work with recordings. Import \nthe Minim library and create all of your class objects. Remember that to \nuse the microphone you need to create a Minim object called minim \nto start with , followed by an AudioInput object  and then two \nAudioRecorder objects and two AudioSample objects .\nWriting the setup() and draw() Functions\nOnce everything is created and named, dive in to the setup() for this \nsketch. Here, you’ll set the window size and instantiate your class \nobjects: \nvoid setup()\n{\n  size(800,900);\n   minim = new Minim(this);\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2089
  },
  {
    "chunk_full": "204 • PROJ ECT 11\n   mic = minim.getLineIn();\n  \n   right = minim.createRecorder(mic,\"data/right.wav\");\n  left = minim.createRecorder(mic,\"data/left.wav\");\n}\nThe first object is minim , which is pretty self-explanatory; it’s \nbeen used in all of the example code in this chapter. The mic object  \nis instantiated the same way as in Listing 11-3. Finally, you have \ntwo separate createRecorder() functions , which each take a \n­directory path and filename. This lets you record two separate audio \ntracks, one for each arrow key. For every audio file you want to record, \nyou need to have a separate AudioRecorder object. Since this sketch \nneeds to access the file you record, structure the directory path as \n/data/filename.wav. This will put the recorded audio file in your data \nfolder with a specific name and location, versus just floating in your \nsketch folder. \nNow, add an empty draw() loop after your setup() function:\nvoid draw()\n{\n  ; //nothing here!\n}\nMy draw() loop is empty because the real magic happens in an \nevent function, which I’ll show you next. \nRecording and Playing Samples \nin an Event Function\nWhat about instantiating the AudioSample objects? They’ll be instanti­\nated within a keyPressed() event function. When your sketch starts, \nthere’s no audio file to load to either object, so you have to wait until \nsomething is recorded first, and then you can instantiate the object \nand trigger it. Create the following event function now: \nvoid keyPressed()\n{\n  //record and stop/save controls for the left sample\n  if(keyCode == LEFT)    \n  {\n     if(left.isRecording()) \n    {\n      left.endRecord();\n      left.save();\n    }\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2090
  },
  {
    "chunk_full": "205 • PROJ ECT 11\n    else \n    {\n      left.beginRecord();\n    }\n  }\n  //record and stop/save controls for the right sample\n  if(keyCode == RIGHT)\n  {\n     if(right.isRecording()) \n    {\n      right.endRecord();\n      right.save();\n    }\n    else \n    {\n      right.beginRecord();\n    }\n  }\n  \n  //play the right sample\n   if(keyCode == UP)\n  {\n    Pright = minim.loadSample(\"right.wav\");\n    Pright.trigger(); \n  }\n  //play the left sample\n   if(keyCode == DOWN)\n  {\n    Pleft = minim.loadSample(\"left.wav\");  \n    Pleft.trigger(); \n  }\n}\nThis might look like a mess of if() statements, but it’s not that \ndifferent from the keyboard event functions you used in your MaKey \nMaKey controller in Project 9. There are just a few new functions, but \ndon’t worry: you can tackle it. \nFirst, create if() statements that check keyCode for the four \narrow keys (UP, DOWN, LEFT, and RIGHT). Then, add functionality to \neach statement. I set it up so the RIGHT and LEFT keys start and stop \nthe recording process for my two audio samples, while UP and DOWN \ntrigger the freshly recorded audio samples. \nTo create the Record and Stop/Save controls, you’ll use a new \nconcept called latching, which refers to something that’s turned on \nwhen triggered and stays on until triggered again, at which point it \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2091
  },
  {
    "chunk_full": "20 6 • PROJ ECT 11\nturns off. We’ll use the isRecording() function to check whether an \nAudioRecorder object is recording or not and then switch to the oppo­\nsite state, as in the left and right if()/else() statement pairs at  \nand . In English, the right statement might read, “If right is record­\ning, then end the recording and save it; else, start recording.” \nFinally, instantiate the two AudioSample objects. In the UP and \nDOWN key if() statements, instantiate the given sample, and directly \nafterward, trigger that sound, like I’ve done at  and . Notice that \nthe audio filenames are exactly the same as the files created by the \nrecorders. This code will not work if the filenames are not identical.\nOnce you get your keyPressed() event function programmed, \nrun your soundboard sketch. You shouldn’t see anything but a small \nsketch window. Press the left arrow key, and then make a funny \nnoise into the microphone. Once you are done, press the left arrow \nkey again. Do the same for the right arrow. Now, press your up and \ndown arrows. You should hear the noises you just recorded!\nRemember that my draw() loop is pretty simple; there’s nothing \nin it. I suggest you add an image and some text instructions for any­\none using your simple soundboard app. If you are looking for a real \nchallenge, think about how you could animate or change your image \nwhen each keyPressed() event is triggered.\nTAKING IT FURTHER\nThis has been a huge chapter, and the content is really dense, yet \nyou’ve only scratched the surface of the Minim audio library. I highly \nrecommend exploring other possibilities that the library offers, too. Try \nadding a theme song to your maze game from Project 9, or record \na greeting for your holiday card from Project 2. I’m sure you could \nfind a fun way to add audio to any project in this book! To see the \nexample code for the theme song I added to my maze game, go to \nhttps://nostarch.com/sparkfunprocessing/.\nWith what you have learned and built so far in this book, you \nalso have the skills and knowledge to take on a small project on your \nown. My challenge to you is to build a musical synthesizer using the \nMinim library and your MaKey MaKey. \nThere are a couple of ways to tackle this project. You could use \nthe AudioPlayer class to play a song of your choice, and then have \nprerecorded sounds you can trigger using keyPressed() event func­\ntions and the AudioSample class you used in “Recording and Playing \nSamples in an Event Function” on page 204. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2092
  },
  {
    "chunk_full": "207 • PROJ ECT 11\nAn extension of this idea would be to add a recording option and \nbuild an audio looping system, where you can record sounds and then \nplay them later as audio samples during your song. Really explore the \nMaKey MaKey this time—look at the back of the board for inputs \nbeyond the basic arrow keys and mouse clicks on the front. In a way, \nyour mission is to combine concepts from each piece of example \ncode in this chapter to build a project that puts your MaKey MaKey \nto use again. If you need inspiration, check out what Komag did with \na MaKey MaKey (https://www.youtube.com/watch?v=Aq-xBatZx7Q), \nor if you are looking for a simpler and well-documented project, \ncheck out our sound page tutorial (https://learn.sparkfun.com/­\ntutorials/sound-page-guide/ ); you can see the result from the latter \nin Figure 11-7. Both examples are similar to this challenge and give \nyou different options in terms of scale.\n \nIf you need a piece of code for this project to get you started, \ntake a look at this book’s resource files at http://www.nostarch.com/\nsparkfunprocessing/. Head to the Project 11 folder and open \nExampleSoundBoard.pde to see one solution.\nAt this point, you can say you’re a veteran at using sound in \nProcessing and controlling it through your keyboard. Besides the \nsynthesizer challenge, try creating more visuals that respond to songs \nor sound samples. You could show album art, or even a slideshow of \nconcert photos you took from the mosh pit. Enjoy being the hit of the \nparty, and go make some beautiful music! When you’re done, share it \nwith us at processing.book@sparkfun.com.\nFigure 11-7:  \nA wall-sized sound­board at \nSparkFun headquarters\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2093
  },
  {
    "chunk_full": "12\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2094
  },
  {
    "chunk_full": "BUILDING \nA WEATHER \nDASHBOARD \nWITH JSON DATA \nYOU’VE CREATED PROCESSING \nSKETCHES THAT CHANGE \nBASED ON USER INPUT, BUT \nYOU CAN ALSO MAKE ART \nPIECES THAT RESPOND TO \nDATA. THE INTERNET PLACES \nA VAST AMOUNT OF VARIED \nINFORMATION RIGHT AT YOUR \nFINGERTIPS, SO NATURALLY \nTHERE ARE A NUMBER OF WAYS \nTO COLLECT THAT DATA. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2095
  },
  {
    "chunk_full": "21 0 • PROJ ECT 12\nIn this project, I’ll teach you how to harness online data to create \na simple weather dashboard that you can customize on your own. \nThe key to this project is finding a way to get all that weather informa­\ntion into a Processing sketch, and that’s where JavaScript Object \nNotation (JSON) comes in. JSON is a standard for communicating \ndata across different tools and languages, and it’s a popular way of \nformatting information on the Web (since all browsers run JavaScript). \nIn practical terms, JSON allows you to transfer data across the Web in a \nway that’s language-agnostic and easy to work with. \nThis project will focus on how JSON data is structured, where \nto get it, how to get it, and finally, how to use it in Processing. The \nweather dashboard you’ll build is just a starting point; I want you to \nfocus on learning how to capture JSON data, parse it, and display it \nin Processing. Once you’ve created the basic weather dashboard, I \nencourage you to apply the skills you’ve learned in previous projects \nto make it more visually pleasing. \nWHAT DOES JSON DATA LOOK LIKE?\nJSON data often comes in the form of a JSON object, a collection of \ndata that assigns keys to various values in the form of pairs. These \nkey-value pairs are separated by commas and placed inside a set \nof braces to form the JSON object. Here’s a simplified example of a \nJSON object: \n{\n\"First Name\": \"Derek\" , \n  \"Last Name\": \"Runberg\",\n  \"Height\": 6,\n  \"Eye\": \"Brown\",\n   \"Age\": 30,\n  \"Author\": true,\n   \"Job\": \n  {\n    \"Company\": \"SparkFun\",\n    \"Position\": \"Regional Education Developer\",\n    \"Years\": 2\n  }\n}\nBetween the two bounding braces, this object has five data pairs \n(also called properties). Each piece of data is labeled with a string \n(the key)  and has a value assigned to it . The key is separated \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2096
  },
  {
    "chunk_full": "211 • PROJ ECT 12\nfrom its associated value by a colon. If you want to find a specific \nvalue in an object, all you have to know is the key that the value is \nassigned to. If you’re looking for a person’s age in a JSON object \nlike this one, for example, just ask your JSON parsing tool to look up \nthe Age key , and it will return the value associated with Age. In this \nexample, it would return 30. \nOne cool aspect of JSON data is that a property’s assigned \nvalue could be an entire JSON object, in which case the value is \nknown as a nested object. In this example, the data about my job \nwith SparkFun  is an object nested within the object describing \nme. Nesting becomes really useful when a single value isn’t conve­\nnient for describing all aspects of a key. Just imagine the string value \nfor \"Job\" without nesting!\nBut most JSON data doesn’t start out as neat as the object I just \nshowed. For example, at SparkFun, we share data in JSON format \non all the products we carry. Open a browser window and go to \nhttps://www.sparkfun.com/SIK/. This will bring up the page for our \nSparkFun Inventor’s Kit, as seen in Figure 12-1.\nFigure 12-1:  \nSparkFun.com product \npage for the SparkFun \nInventor’s Kit\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2097
  },
  {
    "chunk_full": "212 • PROJ ECT 12\nTo view the product information in JSON format, click the two \nbraces in the upper-right corner. The output may look scary at first, \nas you can see in Figure 12-2.\nI’ve shown only part of the JSON output, but if you read the \ntext carefully, you’ll see that despite the clutter, the data still follows \nthe same syntax as on page 210, complete with bounding braces, \ncomma-separated pairs, and so on. This is the way your computer \nreads JSON data, because unlike us, computers don’t need informa­\ntion to be neatly organized visually in order to understand it. \nFortunately, you can reformat this data for human consumption \nwith a free tool called JSONLint. Just copy the URL for the JSON \ndata you want to format, go to http://jsonlint.com/, paste the copied \nURL into the JSONLint text box, and click Validate. JSONLint will \nreformat the output as seen in Figure 12-3. Pretty cool!\nFigure 12-2: \nThe mess of \nunformatted JSON data\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2098
  },
  {
    "chunk_full": "21 3 • PROJ ECT 12\nSpend some time exploring the formatted JSON data from the \nInventor’s Kit page, and you’ll notice that at SparkFun, we keep a lot \nof data on each product, from its product number (SKU) to its weight, \nprice, and whether it’s open source. As people purchase items or we \nrestock, our backend computer system for http://www.sparkfun.com/ \nupdates this JSON file. \nScroll toward the bottom of the JSON file you just formatted \nand look for a subtle difference in some of the data, specifically in the \n\"images\" property. This and some other properties in the Inventor Kit’s \nJSON data don’t use braces; instead, they use square brackets, [ ]. \nThis structure is a JSON array, which you’ll explore now.\nARRAYS OF JSON OBJECTS\nA JSON array is like any other array in that it’s an ordered grouping \nof data. For instance, if I were to extend my first example to include \nFigure 12-3:  \nJSON data formatted \nby JSONLint for human \nconsumption\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2099
  },
  {
    "chunk_full": "214 • PROJ ECT 12\ndata for multiple people, I’d put them in a JSON array that would look \nsomething like this: \n[\n  \"me\":\n  {\n    \"First Name\": \"Derek\", \n    \"Last Name\": \"Runberg\",\n    \"Height\": 6,\n    \"Eye\": \"Brown\",\n    \"Age\": 30\n  },\n  \"wife\":\n  {\n    \"First Name\": \"Zondra\", \n    \"Last Name\": \"Runberg\",\n    \"Height\": 5,\n    \"Eye\": \"Blue\",\n    \"Age\": 30\n  },\n  \"son1\": \n  {\n    \"First Name\": \"Bear\", \n    \"Last Name\": \"Runberg\",\n    \"Height\": 3.5,\n    \"Eye\": \"Brown\",\n    \"Age\": 5\n  },\n  \"son2\":\n  {\n    \"First Name\": \"Bridge\", \n    \"Last Name\": \"Runberg\",\n    \"Height\": 3,\n    \"Eye\": \"Blue\",\n    \"Age\": 2\n  }\n  \"pet\": false,\n  \"cars\": 2\n]\nEssentially, an array is a group of comma-separated objects \ninside a set of square brackets. In this case, the array is my family, \nand each object in the array is a member of my family. The array is \nnot named because it is the top level of organization, so it should \ninherit the name of the JSON file as a whole. If an array or object is \nnamed, you can assume that it is part of a larger data set, like the \narrays you saw in Figure 12-3. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2100
  },
  {
    "chunk_full": "21 5 • PROJ ECT 12\nAll JSON arrays follow this basic structure:\n[\n  \"Object1\":\n  {\n    \"Object1 name\": \"Object value\",\n    \"Object1 name\": \"Object value\"\n  },\n  \"Object2\":\n  {\n    \"Object2 name\": \"Object value\",\n    \"Object2 name\": \"Object value\"\n  },\n  \"Object3\": value\n]\nThe same rule about nesting holds true for arrays as it does objects: \nyou can nest arrays within other arrays or within objects. You can \nalso have individual ordered pairs within an array. \nNow that you’ve seen how JSON looks and how the data is \nstructured, your next project is where the rubber meets the road: \nyou are going to use JSON to build a local weather dashboard in \nProcessing. Are you ready to get some data?\nGETTING WEATHER DATA IN JSON \nUsing JSON data in Processing is actually pretty simple, and you’ve \nalready used most of the concepts necessary to work with it by now. \nThe hard part is knowing what data you’re looking for, where to get \nit, and how to parse it appropriately. JSON may be a standard for \nconveying data, but there’s no standard for labeling or arranging that \ndata in the JSON itself.\nIn your weather application, you will collect JSON data from a \ndatabase called openweathermap.org. OpenWeatherMap has a great \nAPI and structures its JSON data consistently, which is a plus for \nyou. That means that if you finish this project and want to change the \ncity that you fetch OpenWeatherMap JSON data for, the data should \njust change in Processing, without breaking your code. Take a look at \nthe JSON data provided by OpenWeatherMap now. \nGo to http://www.openweathermap.org/, click the API menu \noption, and select the Current Weather Data page. This page has a \nnumber of different options for retrieving weather data. You want to get \nNOTE \nJSON doesn’t have any \nhard-and-fast rules for what \nis right and wrong in terms \nof hierarchy or order. But \nremember, JSON should \nsimplify data for machines \nand humans alike. If your \nJSON object doesn’t do \nthat, then you may need to \nrestructure it.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2101
  },
  {
    "chunk_full": "21 6 • PROJ ECT 12\nJSON weather data for your town, so find the “By City Name” section \nand copy the JSON hyperlink; it should look something like this:\nhttp://api.openweathermap.org/data/2.5/weather?q=London,uk\nTo view the JSON weather data for your city, simply paste this \ntext into your URL bar and change the query portion of the URL (the \npart after the ?q=) from London,uk to your own city and state. For \nexample, the URL for my home in Niwot, Colorado, would be: \nhttp://api.openweathermap.org/data/2.5/weather?q=Niwot,CO\nThis URL returns a bunch of JSON data in the same hard-to-\nread format you saw on the Inventor’s Kit web page in Figure 12-2, \nbut you can run it through a tool like JSONLint to make the output \na little nicer. Here’s an example of neatly formatted weather data for \nNiwot, Colorado:\n{\n   \"coord\": \n  {\n    \"lon\": -105.17,\n    \"lat\": 40.1\n  },\n   \"sys\": \n  {\n    \"message\": 0.1849,\n    \"country\": \"United States of America\",\n    \"sunrise\": 1419862942,\n    \"sunset\": 1419896626\n  },\n   \"weather\": \n  [\n    {\n      \"id\": 803,\n      \"main\": \"Clouds\",\n      \"description\": \"broken clouds\",\n      \"icon\": \"04d\"\n    }\n  ],\n  \"base\": \"cmc stations\",\n   \"main\": \n  {\n    \"temp\": 259.619,\n    \"temp_min\": 259.619,\n    \"temp_max\": 259.619,\n    \"pressure\": 742.33,\n    \"sea_level\": 1042.44,\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2102
  },
  {
    "chunk_full": "217 • PROJ ECT 12\n    \"grnd_level\": 742.33,\n    humidity\": 66\n  },\n   \"wind\": \n  {\n    \"speed\": 1.41,\n    \"deg\": 95.0029\n  },\n   \"clouds\": \n  {\n    \"all\": 64\n  },\n  \"dt\": 1419882623,\n  \"id\": 5580305,\n  \"name\": \"Niwot\",\n  \"cod\": 200\n}\nWow, that’s a lot of data! But you can break it down a bit and \nfocus just on the parts you really need. Luckily, the data is already \ngrouped into a number of smaller JSON objects, so you can use \nthose to navigate through the information and see if it contains what \nyou’re looking for. \nThe first JSON object is assigned to the \"coord\" label  and \ncontains the GPS coordinates (longitude and latitude) of the city you \nqueried for. This data is really useful if you are looking to integrate it \ninto a map or compare it with another location. \nThe second JSON object is under the \"sys\" property (short for \nsystem) . It contains a system message (which you won’t use; it’s \nmeant as feedback for other tools), the location’s country code, and \nthe sunrise and sunset times in Unix UTC (Coordinated Universal \nTime) format. \nNext is a JSON array with a single weather condition object, \n\"weather\" . The first item in the object is the weather condi­\ntion’s ID number, which you can look up in the table found at http://\nopenweathermap.org/weather-conditions/. But the values you’ll be \nusing are in the \"main\", \"description\", and \"icon\" properties. You’ll \nuse \"main\" and \"description\" to display the weather conditions in \ntext format. The \"main\" property is a general condition like \"Clouds\", \nwhile \"description\" includes more detailed information about, say, \nhow cloudy it is (in this example, \"broken clouds\"). You’ll use the \nreference code in \"icon\" to display the appropriate icon for the cur­\nrent weather condition in your application later.\nNOTE \nYou will display the GPS \ncoordinates in your \ndashboard application, \nbut I highly recommend \nthe Unfolding library for \nProcessing if you ever plan \non working with maps, \nas it provides a quick and \neasy way to integrate maps \nand geolocation into your \nsketches.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2103
  },
  {
    "chunk_full": "21 8 • PROJ ECT 12\nFinally, the last three objects contain detailed weather measure­\nments that will make up the bulk of the data you’ll use for your app. \nThe \"main\" JSON object  houses the temperature, humidity, and \npressure values from the weather station. It also includes pressure \nreadings at sea level and at the station’s elevation (or \"grnd_level\") \nfor comparison purposes. \nThe temperature measurements are in Kelvin by default, but you \ncan convert them to Fahrenheit by appending &units=imperial to your \nJSON URL, like so:\nhttp://api.openweathermap.org/data/2.5/weather?q=Niwot,CO&units=imperial\nAlternatively, you can append &units=metric to get the tempera­\nture in Celsius instead.\nThe next two JSON objects are smaller, and contain data for \ncloud coverage and precipitation. The \"wind\" object  gives the \ndirection (in degrees) and speed (in meters per second) of the wind, \nwhile \"clouds\"  reflects the cloud coverage percentage. \nAs you can see, once you learn how to read it, JSON is a really \nclean and simple way to arrange data for others to use, especially if \nyou’re not sure how they’re going to use it. Now you can pull all that \ndata into Processing! \nUSING JSON DATA IN PROCESSING\nIf you haven’t done so already, open a new Processing IDE win­\ndow. You are going to start by parsing the JSON data to get the \nweather station’s GPS coordinates. Luckily, Processing has its own \nJSONObject class to make working with JSON data easy. Here’s how \nyou can use it:\nJSONObject json;\nvoid setup() \n{\n   json = loadJSONObject(\"http://api.openweathermap.org/data/ \n2.5/weather?q=Niwot,CO\");\n   JSONObject coord = json.getJSONObject(\"coord\");\n   float lon = coord.getFloat(\"lon\");\n  float lat = coord.getFloat(\"lat\");\n   println(lon + \",\" + lat);\n}\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2104
  },
  {
    "chunk_full": "21 9 • PROJ ECT 12\nFirst, define a variable called json to store the JSONObject in, \nand use a setup with simple test code to ensure you’re access­\ning the JSON data correctly. In the setup() function, use the \nloadJSONObject() function  to fetch the raw JSON weather \ndata from the OpenWeatherMap URL (making sure to pass the \nURL as a string in double quotes), and then save it to the json vari­\nable as a JSONObject.\nRemember that the weather data comes as several smaller JSON \nobjects wrapped inside a larger one. That outer object is what I saved \nin the json variable, but you still need to reach those smaller inner \nobjects to get the data you want. In this case, you’re looking for the \nweather station’s GPS coordinates, which you know are stored inside \na smaller object under the \"coord\" key. \nSince the value of \"coord\" is a JSON object, use another \nJSONObject variable (named coord) to store it . Then extract the \nobject by calling json.getJSONObject() with the name of the item \nyou’re looking for (\"coord\"); this tells the json object that you want it \nto retrieve the value for that key, and return it to you as a JSONObject. \nUsing the JSONObject class is helpful, because you can take \nadvantage of its various getter functions to fetch the values you need \nin their respective data types. In this case, GPS coordinates have \ndecimal points, so parse them as floats using coord.getFloat()  \nand store the results in lon and lat. \nFinally, print out the two coordinate variables to check the data . \nThere is no draw() loop, because you only want to print these values \nonce as a diagnostic. When you click Run, Processing should print \nthe GPS coordinates of the weather station in the console. It may \ntake a few seconds for Processing to access the URL and parse the \nJSON data, but eventually you should see the longitude and latitude \nof your weather data printed out in the console, as shown in Figure 12-4. \nSuccess! You just used data from the Web in Processing. Your \noutput may vary depending on the location you use, but you can \nalways double-check your output against the raw JSON data. Just \nvisit your location’s OpenWeatherMap URL as described in “Getting \nWeather Data in JSON” on page 215, and look at the \"lon\" and \n\"lat\" values inside \"coord\".\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2105
  },
  {
    "chunk_full": "220 • PROJ ECT 12\nWRITING A CUSTOM \nDATA PARSING FUNCTION\nYour weather dashboard will keep track of a number of objects, and \nyour initial reaction may be to instantiate all your objects in the setup() \nfunction. The problem with creating objects there is that setup() runs \nonly once, so while you’d create all your objects successfully, they \nwould never get updated with newer weather data. In other words, the \nJSON from the URL would be loaded only once, and updates require \nrevisiting the URL for new data constantly. \nYou could load the JSON data in your draw() loop, but then \nyou’d be cluttering it with several lines of nondrawing code. What \nyou need is a custom function! \nStarting a New Function Tab\nYou can put all your JSON code in a custom function, and separate it \ninto its own tab in your Processing editor. This simplifies your update \ncode down to a single function that you’ll only need to call once from \nyour draw() loop.\nTo create a new tab, click the small circle with a down arrow next \nto your current sketch tab’s name. From the drop-down menu that \nopens, select New Tab. You will be prompted to name the tab in the \nalert bar at the bottom, as in Figure 12-5 (top). Name it update_data. \nFigure 12-4: \nThe output of your \nJSON object in the \nconsole\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2106
  },
  {
    "chunk_full": "221 • PROJ ECT 12\n(You cannot have spaces in Processing sketch names, so the under­\nscore is a placeholder.) \nOnce you accept the name, you should have a second tab at the \ntop of your IDE window called update_data, like the one in Figure 12-5 \n(bottom).\nTabs help you organize functions and keep your code neat, and \nyou can treat them like separate pages of your sketch. They’re still part \nof your sketch, though, so they shouldn’t have setup() functions or \ndraw() loops. For example, as your sketch gets longer, you may place \nyour setup() function on one tab, your draw() loop on another, and a \nnumber of custom functions on yet more tabs. It’s up to you. \nI suggest keeping setup() and draw() on the main tab and sep­\narating custom functions into their own tabs with any global variables \nthey need. Keeping the global variables in the tab of the function that \nneeds them will make your code easier to use in other projects. \nSave the sketch with your main tab and update_data tab now, \nand open your sketch folder. There should actually be two differ­\nent .pde files because Processing creates a new sketch file for \neach tab. This makes your Processing code modular: just copy the \nupdate_data.pde file and paste it into another sketch folder to reuse it! \nIn the update_data tab, you’ll write a custom function that \nupdates the JSON data for the sketch. Essentially all of your JSON \nprogramming will go in this tab.\nListing Data Variables\nNow that you have a new function tab, create a list of variables to store \nyour JSON data in once you’ve parsed it. This list helps you do two \nimportant things: it makes those variables global so that all functions \ncan access them, and it ensures that you have the correct data type \nfor the data you are parsing. Listing the variables you need is always a \ngood idea when importing data from anywhere outside of Processing.\nFigure 12-5:  \nCreating a second tab \ncalled update_data. The \nName text box should \nappear above your \nconsole.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2107
  },
  {
    "chunk_full": "222 • PROJ ECT 12\nCreate a list of weather variables at the top of your update_data \ntab, as shown in Listing 12-1. This way, they’ll be global so that \nyour main tab can access them, but they’ll be transported with your \nfunction if you use it somewhere else. \n//coord variables\nfloat lon;\nfloat lat;\n//system variables\nint sunR;\nint sunS;\n//main weather variables\nfloat temp;\nfloat pressure;\nint humidity;\n//wind variables\nfloat windS;\nfloat windD;\n//cloud variable\nint cloud;\n//weather variables\nint ID;\nString condition;\nString description;\nString icon;\nPImage weatherIcon;\nCompare this variable list to the JSON data on page 216, and \nyou’ll see that I tried to label my variables as close to the names of \nthe JSON data pairs as possible. \nWriting a Basic Custom Function in update_data\nNow in the update_data tab, start writing your function, using the \nfollowing syntax:\nvoid update_data()\n{\n  println(\"Function works!\");\n}\nListing 12-1: \nGlobal weather variables \nin the update_data tab\nNOTE \nIt’s good practice to create \nyour own variable list and \ndecipher the JSON data \nyou want to use before you \nstart parsing that data. I \ngave you the list of vari-\nables this time, but when \nyou use JSON on your \nown, always start with the \nvariable list! \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2108
  },
  {
    "chunk_full": "223 • PROJ ECT 12\nFirst, specify the data type you want the function to return (in this \ncase void, because you don’t need to return anything after perform­\ning a JSON update). Then, type the function name (update_data), \nfollowed by parentheses and a set of braces to put your code in. To \nkeep your code modular, it’s good practice to name the custom func­\ntion after your tab, if it is the only function within that tab.  \nFor now, inside the braces, write a simple println() statement \nso you can test the function in the main tab. Go back to your main \ntab, and create a setup() function. Inside setup(), call your custom \nfunction:\nvoid setup() \n{\n  update_data();\n}\nRun your sketch. If everything is correct, you should see the \n“Function works!” message in your console once. \nCalling your update_data() function is the same as running the \ncode inside it. This may not seem like a big deal now, but you’ll make \nit more useful. Back in your update_data tab, create a JSONObject \nnamed json at the very top of the page:\nJSONObject json;\nInstantiate json inside the update_data() function so it re-\ninstantiates with updated data every time you call the function. \nvoid update_data()\n{\n  json = loadJSONObject(\"http://api.openweathermap.org/ \ndata/2.5/weather?q=Boulder,CO&units=imperial\");\n  print(json);\n}\nPass the loadJSONObject() object your location’s weather data \nURL, and set json to that result. To double-check that Processing is \ngetting the JSON data smoothly, change the println() statement in \nupdate_data() to print(json). Run your sketch, and if everything \ngoes as planned, the entire JSON stream should print in your console \nwindow, as shown in Figure 12-6. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2109
  },
  {
    "chunk_full": "224 • PROJ ECT 12\nParsing Your Weather Data in a Custom Function\nNow you’ll parse that data so you can actually use it! Recall from \nthe GPS coordinate example that Processing has a convenient \nJSONObject class that allows you to break down and access any \npart of a JSON object and parse its data into your variables. The \nexample JSON is formatted as a list of JSON objects and a JSON \narray, so change your update_data() function as follows to parse it: \nJSONObject json;\nvoid update_data()\n{\n  json = loadJSONObject(\"http://api.openweathermap.org/ \ndata/2.5/weather?q=Niwot,CO&units=imperial\");\n  print(json);\n   JSONObject coord = json.getJSONObject(\"coord\");\n  lon = coord.getFloat(\"lon\");\n  lat = coord.getFloat(\"lat\");\nFigure 12-6: \nJSON data printed in \nthe console\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2110
  },
  {
    "chunk_full": "225 • PROJ ECT 12\n  JSONObject sys = json.getJSONObject(\"sys\");\n  sunR = sys.getInt(\"sunrise\");\n  sunS = sys.getInt(\"sunset\");\n  JSONObject main = json.getJSONObject(\"main\");\n  temp = main.getFloat(\"temp\");\n  pressure = main.getFloat(\"pressure\");\n  humidity = main.getInt(\"humidity\");\n  JSONObject wind = json.getJSONObject(\"wind\");\n  windS = wind.getFloat(\"speed\");\n  windD = wind.getFloat(\"deg\");\n  JSONObject clouds = json.getJSONObject(\"clouds\");\n  cloud = clouds.getInt(\"all\");\nv   JSONArray weather = json.getJSONArray(\"weather\");\n  JSONObject mainCond = weather.getJSONObject(0);\n  ID = mainCond.getInt(\"id\");\n  condition = mainCond.getString(\"main\");\n  description = mainCond.getString(\"description\");\n  icon = mainCond.getString(\"icon\");\n  weatherIcon = loadImage(\"http://openweathermap.org/img/w/\" \n+ icon + \".png\");\n}\nTo capture data from JSON, you need to create a JSONObject \nclass object for each JSON object in the JSON file. Working your \nway down the file, the first object you reach is the \"coord\" object \nthat holds the GPS coordinates of the weather station. To access \nthe \"coord\" JSON object, you have to create another class object \nfor coord and instantiate it as json.getJSONObject(\"coord\"). From \nthere you can initialize your lon and lat variables using the getFloat() \nfunction within the class object of coord as shown at .\nTo capture the paired data, you pass the getFloat() function the \nname of the pair as a string. So coord.getFloat(\"lon\") returns \nthe longitude value that you’ll use to set the lon variable in your \nProcessing sketch. The process is similar for all of the other JSON \nobjects in the file, and the getter function changes according to the \ndata type. Continue in the same manner for the next four JSON \nobjects, and parse only the data that you need.\nThe last piece to the JSON puzzle is the JSON array in the file. \nParsing the array follows roughly the same pattern as parsing an \nobject, but with an extra step. Recall that any array is an ordered list \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2111
  },
  {
    "chunk_full": "226 • PROJ ECT 12\nnumbered from 0; that is, the first item in the array is element 0, the \nsecond item is 1, and so on. A JSON array is no different. \nFirst create an array object called weather, and instantiate it with \njson.getJSONArray(\"weather\") v, which looks up the value of \n\"weather\" in the raw JSON object, and returns a JSONArray object \nyou can use. From there, you can parse the objects in the array. \nThere is only one object in this array, so you’d work only with ele­\nment 0. You create a JSONObject class object called mainCond and \ninstantiate it as weather.getJSONObject(0). You pass 0 instead of a \nstring because you are parsing the object’s position in the array, not \nthe object itself. From there, parse the four variables you are looking \nfor. Notice that the last three variables are strings and are required to \nuse the getString() functions. \nIf you read through each section of this code, you can see that \nit follows the same pattern as the GPS coordinate example in “Using \nJSON Data in Processing” on page 218. You create a JSONObject \nvariable, initialize it with the JSON object you are going to parse, and \nthen parse it for the values you want below that. During this process, \nI suggest having the JSON file open (as in Figure 12-7) so you can \nreference names of objects and data types without having to play a \nguessing game. This step is case sensitive, so check your spelling! \nFigure 12-7: \nRefer to the JSON file \nyou’re working with \nwhen trying to parse it.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2112
  },
  {
    "chunk_full": "227 • PROJ ECT 12\nTo test your new code, go back to your main tab and println() \nany of the variables you have parsed data to. A value matching the \nJSON data should appear in the console. \nDRAWING THE WEATHER DASHBOARD \nIN THE MAIN TAB\nNow that you have your data, you can build your weather dashboard. \nGo back to your main tab and update your current code as follows:\nvoid setup() \n{\n  size(400,500);\n  update_data();\n}\nFirst, flesh out the setup code and set the dashboard window to \na reasonable size of 400×500. Then, call your update_data() function \nto make sure your sketch can access the JSON file on the Web. You \nwill move it to your draw() loop later, but calling it once in setup() now \nlets you test your code and see any data errors only once. \nNow it’s time to show the dashboard in the draw() loop! \nvoid draw()\n{\n  background(150);\n  textSize(20);\n  fill(0);\n  text(\"GPS Location: \" + lat + \" , \" + lon,50,100);\n  text(\"Sunrise: \" + sunR,50,125);\n  text(\"Sunset: \" + sunS,50,150);\n  text(\"Temperature: \" + temp,50,175);\n  text(\"Atmospheric Pressure: \" + pressure,50,200);\n  text(\"Humidity: \" + humidity + \"%\",50,225);\n  text(\"Wind Speed: \" + windS + \"mps\",50,250);\n  text(\"Wind Direction: \" + windD,50,275);\n  text(\"Cloud Coverage: \" + cloud + \"%\",50,300);\n  text(\"Conditions: \" + condition + \" , \" + description,50,325);\n}\nSet the background color of the sketch, and then use the text() \nfunction to display all the weather stats you want, starting with the \nGPS location and moving down the variable list. Here, I concatenated \nlabels and units of measurement wherever they made sense for the \nvalues, but you can make your text say anything you like. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2113
  },
  {
    "chunk_full": "228 • PROJ ECT 12\nOnce you get this code into your draw() loop, run your sketch. You \nshould get something that looks similar to Figure 12-8, but with differ­\nent data (assuming you didn’t use Niwot, Colorado, as your location). \nAwesome! You took JSON data from the Web and translated it \ninto something useful and human-friendly. If you leave this running \nfor a while, you’ll notice that it doesn’t update at all. That is because \nyour update_data() function call is still in setup(), which collects the \nJSON file only once at the beginning of your sketch. But you can’t just \ndrop it into your draw() loop yet; right now, you’d call the JSON URL \n60 times a second! This would cause OpenWeatherMap to block your \nProcessing sketch from accessing its JSON data after about 15 sec­\nonds or so, because it would think you were spamming the site.\nTo solve this problem, create an if() statement that runs the \nupdate_data() function every 15 minutes and place it at the end of \nthe draw() loop: \n  if((minute()%15 == 0) && (second() == 1))\n  {\n    update_data();\n  }\nThis should keep the sketch from bombarding OpenWeatherMap \nwith JSON requests. I also suggest adding the frameRate() function \nto the setup() and passing it 1 so that it runs the draw() loop only \nFigure 12-8: \nA simple weather \ndashboard using \nJSON data\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2114
  },
  {
    "chunk_full": "229 • PROJ ECT 12\nonce per second to reduce the number of calls even further during \nthat second when the if() statement is true. \nPULLING A WEATHER ICON FROM \nTHE WEB\nNow for the icing on the cake for this project: a little weather icon! \nEvery weather application has one, so why not yours?\nIf you scroll up through your global variables, you will notice that \nyou capture a string called \"icon\". That string is the icon code for \nthe current weather at your location. You can access this icon from \nOpenWeatherMap using a URL call specific to that icon. Figure 12-9 \nshows an example icon.\nAsk Processing to load an image file from a URL, and save it to \na variable so you can use it in your sketch as you did with the JSON \ndata. Just like including any other image file in Processing, the first \nstep is to create a PImage variable to use it with. Fortunately, you’ve \ndone that already if you created the global variables in “Listing Data \nVariables” on page 221; there should be a weatherIcon object at \nthe end of your list in the update_data tab. You should also have \nalready instantiated the weatherIcon object, in Listing 12-1. Make \nsure your update_data() function contains the following line: \n  PImage weatherIcon = loadImage(\"http://openweathermap.org/  \n\n  img/w/\" + icon + \".png\");\nThen, head back to your main tab and add a simple call to image() \nnear the end of the draw() loop with your shiny new weather icon. \nHere are my final setup() and draw() loops for the dashboard:\nvoid setup() \n{\n  size(400,500);\n  update_data();\n \n  frameRate(1);\n}\nFigure 12-9:  \nA sample weather icon\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2115
  },
  {
    "chunk_full": "230 • PROJ ECT 12\nvoid draw()\n{\n  background(150);\n  textSize(20);\n  fill(0);\n  text(\"GPS Location: \" + lat + \" , \" + lon,100,100);\n  text(\"Sunrise: \" + sunR,100,125);\n  text(\"Sunset: \" + sunS,100,150);\n  text(\"Temperature: \" + temp,100,175);\n  text(\"Atmospheric Pressure: \" + pressure,100,200);\n  text(\"Humidity: \" + humidity + \"%\",100,225);\n  text(\"Wind Speed: \" + windS+ \"mps\",100,250);\n  text(\"Wind Direction: \" + windD,100,275);\n  text(\"Cloud Coverage: \" + cloud + \"%\",100,300);\n  text(\"Conditions: \" + condition + \" , \" + \ndescription,100,325);\n  image(weatherIcon,50,350);\n  if((minute()%15 == 0) && (second() == 1))\n  {\n    update_data();\n  }\n}\nRun your sketch with these changes, and now you should see a \nweather icon at the bottom of your sketch, as in Figure 12-10.\nFigure 12-10: \nFinal weather \ndashboard using JSON \ndata. It’s warm in Niwot \ntoday! \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2116
  },
  {
    "chunk_full": "231 • PROJ ECT 12\nTAKING IT FURTHER\nFor a cherry on top, make your dashboard a little more visually \nappealing by adding a photo of the location of the weather condi­\ntions. In my case, that’s SparkFun headquarters. Luckily, there’s no \nshortage of photos of this building! \nIn my main tab, I added an image to my project and loaded it into \nthe sketch, just like you did in Chapter 6. I created an image object \nusing the PImage data type, used loadImage() in the setup() func­\ntion to load the image to the object, and then used the image() \nfunction to display it in my draw() loop. I don’t show the code for \nthis mod because I want you to try it on your own, but you can see \nmy final dashboard in Figure 12-11. \nMy dashboard may seem a little stark and gray, but that bright, \nsunny picture certainly communicates the weather outside!\nEven without this final touch, you’ve taken data from the Web \nand built something amazing. Try extending the project by adding \nvisual readouts in bar graph form. You could even draw a little ther­\nmometer that changes with the data updates. \nWhen you’re done exploring this weather data, look for other data \nin JSON format and create more Processing sketches to visualize it. \nA great place to start is http://www.data.gov/, which is a repository \nfor open government data that anyone can use. There are a number \nof different data formats there, but JSON is pretty popular. Now, go \nforth and do something big with big data!\nFigure 12-11:  \nFinal weather dashboard, \nincluding an image of my \nlocation\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2117
  },
  {
    "chunk_full": "13\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2118
  },
  {
    "chunk_full": "USING SENSORS \nWITH PROCESSING \nAND ARDUINO\nYOU’VE EXPLORED KEYBOARD, \nMOUSE, AND WEBCAM INPUTS \nIN PROCESSING, AND BUILT A \nCUSTOM GAME CONTROLLER \nWITH A MAKEY MAKEY. BUT \nWHAT IF YOU WANT TO CREATE \nSOMETHING THAT RESPONDS \nTO LESS-CONVENTIONAL \nINPUTS? WITH A LITTLE HELP \nFROM AN ARDUINO, YOU CAN \nMONITOR TEMPERATURE, \nAMBIENT LIGHT, AND MORE \nWITH PROCESSING. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2119
  },
  {
    "chunk_full": "234 • PROJ ECT 1 3\nThis chapter focuses on using Processing’s Serial commu­\nnication library to bring data from the world around you into your \nsketches. The Serial protocol sends data 1 bit at a time, allowing \ndevices to communicate simply and efficiently. \nIn this chapter, you’ll read sensor values for temperature, sound, \nand light with an Arduino and visualize those values in Processing. In \n“Taking It Further” on page 261, I’ll also walk you through sending \ndata to the microcontroller from Processing to control the color of a \nred/green/blue (RGB) LED.\nGATHER YOUR MATERIALS\nIn this project, you’ll need the following materials:\n• \nOne mini USB cable (CAB-11301)\n• \nOne SparkFun Digital Sandbox (DEV-12651)\nWHAT IS A MICROCONTROLLER? \nA microcontroller (like the one in Figure 13-1) is similar to the central \nprocessing unit (CPU) on your computer, but it operates much slower \nand can do only one process at a time. A microcontroller can run \ncode, but unlike your multitasking CPU, it just runs a single program \nover and over until you reprogram it.\nMicrocontrollers control many of the electronics in your car, your \nkitchen, and even your alarm clock. You can program these chips \nto read temperatures, turn motors and lights on and off, and even \ncommunicate with other devices! These controllers are in a number \nof maker projects, from automated lawnmowers and DIY drones to \ncube satellites and interactive art installations. \nFigure 13-1: \nAn ATMEGA328 \nmicrocontroller\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2120
  },
  {
    "chunk_full": "235 • PROJ ECT 1 3\nMicrocontrollers have pins (tiny metal legs) that you can use to \nread data from sensors and transmit data to control hardware. But \nwithout a circuit, a microcontroller is just a bit of plastic and metal. \nTo have Processing communicate with a microcontroller, we’ll use a \ndevelopment platform called Arduino. \nWHAT IS ARDUINO?\nArduino is an electronics platform that uses Atmel microcontrollers \nto make hardware and software easy to use together. Arduino, like \nProcessing, is open source, so there have been a number of copies, \nmashups, and other boards based on the platform. For example, the \nRedBoard in Figure 13-2 is SparkFun’s major Arduino-compatible board. \nThis chapter will scratch the surface of Arduino and show you \nhow to use it with Processing. My goal is to give you just enough \nknowledge to make you dangerous. That means there will be some \nhand waving. If you want more detailed tutorials, I recommend \nSparkFun’s Digital Sandbox tutorial (https://learn.sparkfun.com/\ntutorials/digital-sandbox-arduino-companion/ ) and the SparkFun \nInventor’s Kit experiment guide (https://learn.sparkfun.com/tutorials/\nsik-experiment-guide-for-arduino---v32). \nTHE SPARKFUN DIGITAL SANDBOX\nIn addition to the RedBoard, SparkFun also develops other boards \nthat you can program with Arduino software, like the Digital Sandbox \nin Figure 13-3. \nFigure 13-2:  \nThe SparkFun RedBoard \n(left) and an Arduino Uno \n(right)\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2121
  },
  {
    "chunk_full": "236 • PROJ ECT 1 3\n1 \nUSB Mini-B Connector:\n \nUsed to connect to a  \n \n \ncomputer.\n2 \nJST Right-Angle  \n \n \n \n Connector: Used to\n \nsupply power to the\n \nboard.\n3 \nSlide Switch for\n \nCharging: Used to charge \n \na lithium polymer battery  \n       that is plugged in to the \n       two-pin JST connector, \n       while the Digital Sandbox \n       is connected to a com-\n       puter and the slide \n       switch is in the “on” \n       position.\n4 \nReset Button: This is a \n \nway to manually reset \n \nyour Digital Sandbox, \n \nwhich will restart your \n \ncode from the beginning.\n5 \nSlide Switch (Pin 2): “On” \n \nor “oﬀ” slide switch.\n6 \nLEDs (Pins 4-8): Use one \n \nor all of the LEDs (light-\n       emitting diodes) to \n \nlight up your project!\n7 \nLED (Pin 13): Incorporate \n \nthis into your sketch to \n \nshow whether your  \n \nprogram is running \n \nproperly.\n8 \nTemperature Sensor  \n \n(Pin A0): Measures \n \nambient temperature.\n9 \nLight Sensor (Pin A1): \n \nMeasures the amount of \n \nlight hitting the sensor.\n10 RGB LED (Pins 9-11); RGB \n \n(red/green/blue) LEDs \n \nhave three diﬀerent \n \ncolor-emitting diodes \n \nthat can be combined \n       to create many colors.\n11 Slide Potentiometer  \n \n(Pin A3): Change the \n \nvalues by sliding it back  \n \nand forth.\n12 Microphone (Pin A2): \n \nMeasures how loud \n \nsomething is.\n13 Push Button (Pin 12): \n \nA button is a digital  \n \ninput. It can be either \n \n“on” or “oﬀ.”\n14 Add-on Header (Pin 3): \n \nThree-pin header for \n \nadd-ons. Example \n \nadd-ons are servos, \n \nmotors, and buzzers.\n14\n13\n12\n11\n10\n9\n8\n7\n6\n5\n4\n3\n2\n1\nThe Digital Sandbox is an Arduino with a bunch of inputs and \noutputs built into the board, so you can focus on programming over \nbuilding circuits. In essence, the Digital Sandbox is designed to be \na training board for Arduino, so the labels A0 through A3 and D2 \nFigure 13-3: \nDigital Sandbox input \nand output guide\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2122
  },
  {
    "chunk_full": "237 • PROJ ECT 1 3\nthrough D13 on the Digital Sandbox correspond to pin names you’d \nsee on a standard Arduino. These labels also correspond to the pin \nnames in the Arduino programming language. \nFor simplicity, and to keep you focused on Processing, we’ll \nuse the Digital Sandbox to build this chapter’s project. I recommend \nusing the Digital Sandbox in future Processing-to-Arduino explo­\nrations, too, as it allows you to get up and going quickly without \nspending a lot of time wiring. \nINSTALLING THE ARDUINO SOFTWARE\nLike Processing, Arduino’s integrated development environment (IDE) \nis free to download. You’ll use that software to program the hard­\nware. Go to https://arduino.cc/download/ and download the latest \nstable version of the Arduino IDE for your operating system. If you get \nstuck at any point, check out the “Installation Resources” on page 240 \nand read the official Arduino installation guide for your system for \nmore detailed instructions.\nInstalling Arduino and Drivers on Windows\nIf you’re running Windows, download the Windows installer package, \nwhich should include the required drivers for Arduino and prompt you \nto install them. \nOnce it’s downloaded, open the installer executable. You will \nbe greeted with a pretty standard license agreement. Select Agree \n(assuming you do), and a dialog will appear with installation options, \nas shown in Figure 13-4. \nSelect the options Install Arduino software and Install USB \ndriver. The others are up to you, though I do suggest selecting the \nAssociate .ino files box for ease of opening files later. \nFigure 13-4:  \nArduino installation options\nNOTE\nIf you own an Arduino and \nthe parts to build the cir­\ncuits for this chapter, you \ncould use those instead of \nbuying a Digital Sandbox. \nYou’ll find a wiring diagram \nfor a standard Arduino \nand breadboard in the \nDigitalSandbox_on_bb.jpg \nfile of the online resources \nat https://nostarch.com/\nsparkfunprocessing/. The \nprogramming is all the \nsame as what I describe in \nthis project.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2123
  },
  {
    "chunk_full": "238 • PROJ ECT 1 3\nOnce you make your selections, click Next. The installer will ask \nwhere you’d like to install it; you can leave this at its default. Click \nNext to begin the install process.\nOnce the install finishes, click Complete. Select that Arduino \nis trusted, and install the drivers. With that, your Windows machine \nshould be ready to go with Arduino and the drivers installed. \nInstalling Arduino and FTDI Drivers on OS X\nIf you’re an Apple user, download the OS X installer package from \nthe Arduino website. When you open the downloaded folder, the \nArduino app should be the only file it contains. Drag the app to your \nApplications folder to install Arduino. After that, there’s just one more \nstep: downloading Future Technology Devices International (FTDI) \ndrivers for the Digital Sandbox and any other Arduino that uses FTDI. \nGo to FTDI’s drivers page at http://www.ftdichip.com/Drivers/\nVCP.htm (make sure you include the “chip” portion of the URL or \nyou’ll end up buying flowers!) and find the correct download for your \nOS X system. Depending on your system, click the OS X link for \n32-bit, 64-bit, or PPC (Power PC) to download the .dmg file. \nDouble-click the .dmg file, and you’ll see a single install pack­\nage called FTDIUSBSerial.pkg. The directory will look like Figure 13-5. \nDouble-click that option to start the driver installation process. \nAccept the license agreement and click Continue to finish.\nNOTE \nFTDI chips translate the \nUSB communication proto-\ncol to serial, and vice versa.\nFigure 13-5: \n FTDI installation  \non Mac OS X \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2124
  },
  {
    "chunk_full": "239 • PROJ ECT 1 3\nInstalling Arduino on Ubuntu Linux\nThere are too many Linux distributions to cover all of them here, but I’ll \nwalk you through the basic install on Ubuntu 14.04. To install Arduino, \nnavigate to the download page of the http://www.arduino.cc/ site \nand download the appropriate version; for most modern Ubuntu sys­\ntems, you’ll probably want the Linux 64-bit version. Then, navigate to \nyour downloads directory (or wherever you might have saved the file), \nright-click the compressed package shown in Figure 13-6, and select \nExtract Here. \nOnce you’ve extracted the package, double-click the Arduino \nicon to run it. Alternatively, you can download a stable version of \nArduino through your package manager interface or through the \ncommand line. If you are new to Linux, I highly recommend using \nthe package manager and installing Arduino through the GUI. \nYou’ll also have to install Java and a few other dependencies for \nArduino to work properly on Linux. From a command line, enter the \nfollowing command to install Java and avr-gcc, which is the compiler \nused for Linux. \n$ sudo apt-get install openjdk-6-jre avr-libc gcc-avr\nFigure 13-6:  \nArduino IDE download \npackage\nNOTE \nYou may also need to add \nyour user to the dialout \ngroup before you can actu-\nally upload code to the \nArduino via USB. If this is \nthe case, you should see \na message to that effect \nwhen you run the IDE for \nthe first time.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2125
  },
  {
    "chunk_full": "240 • PROJ ECT 1 3\nAfter everything downloads, you’ll be asked for permission \nto install it all. Press Y to agree to the installation. Once Arduino is \ninstalled, you can run it from the command line by navigating to its \ndirectory and running the Arduino script as follows:\n$ cd ~/Downloads/arduino-1.6.0/\n$ ./Arduino\nOr to enable a double-click option so you can to run Arduino \nfrom the desktop GUI, double-click on the file from your GUI file \nmanager, and select Edit4Preference from the drop-down menu. \nIn the dialog that appears, select Double Click to Open and Ask \nEach Time from the options. Now, double-click the script file and \nselect Run from the pop-up window. The Arduino IDE should launch. \nIf it doesn’t, or you’re not running Ubuntu, try visiting the Linux link in \nthe “Installation Resources” box for more detailed instructions from \nthe Arduino website. \nINTRODUCING THE ARDUINO IDE\nPlug your Digital Sandbox into your computer. If you see a notification \nthat your device is being installed, don’t fret: your computer is just \nmaking sure the correct drivers are installed. \nTwo LEDs (light emitting diodes) on the Digital Sandbox should \nbe turned on. The power LED should always be on if the board is \npowered, so it should glow steadily. The LED labeled D13 should be \nblinking because SparkFun preprogrammed the microcontroller with \na simple Arduino program (also called a sketch) to test the board. So \nthat blinking LED means you are good to go so far!\nINSTALLATION RESOURCES\nIf you have any trouble getting Arduino up and running, please see \nthe official installation guidelines for your operating system at the \nfollowing URLs: \nWindows  http://www.arduino.cc/en/Guide/Windows/\nOS X  http://www.arduino.cc/en/Guide/MacOSX/\nLinux  http://playground.arduino.cc/Learning/Linux/\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2126
  },
  {
    "chunk_full": "241 • PROJ ECT 1 3\nOpen the Arduino software, and after a splash screen, you will \nsee the IDE in Figure 13-7. \n_7\n\n\n\nThe Arduino IDE should look familiar because it’s based on \nProcessing, but there are a few differences. The code window and \nconsole function similarly to their Processing counterparts. If your \nsketch has errors, they will pop up in the alert bar  and console . \nAt the top are the Verify  and Upload  buttons (the check mark \nand right arrow, respectively). \nSince Arduino code runs on the Arduino board, you have to \nupload it to the Sandbox for it to run, so the IDE doesn’t offer the \nsame immediate feedback as Processing’s Run button. You can, \nhowever, verify your sketch, which checks to make sure there are \nno errors in your code without uploading it to the board. \nContinuing right from the Verify and Upload buttons, you should \nalso see the New  button for opening a new sketch, Open  for \nopening an existing sketch, and Save  for saving your current work. \nFigure 13-7:  \nThe Arduino IDE\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2127
  },
  {
    "chunk_full": "242 • PROJ ECT 1 3\nSELECTING YOUR BOARD AND \nCHOOSING A PORT\nSince there are so many different Arduino boards, you need to tell \nthe Arduino IDE which one is plugged into your computer. First, click \nToolsBoard to view a list of board types. The Digital Sandbox \nworks like an Arduino Fio board, so select Fio from the list. \nNext, select Tools4Port . . . to specify which communication \nport the board is on. In Windows, you should see a COMX option, \nwhere X is a port number. If you have multiple COM port options, \nthe Sandbox COM port is usually the highest number in the list. \nRegardless of your operating system, select your port by clicking \non it; when properly selected, the port will have a checkmark or dot \nnext to it in the list, as shown in Figure 13-8.\nIf you are running OS X, your serial ports list will look similar \nto Fig­ure 13-8, instead of listing COM ports. If the FTDI drivers \nwere installed correctly, you will have an option that reads /dev/tty\n.usbserial-<XXXXX>. You can ignore the others in the list; they’re your \ncomputer’s Bluetooth connection and other ports. Linux users will see \na similar naming convention for the serial ports on their machines (for \nexample, /dev/ttyUSB0), since Mac and Linux are both based on Unix \nand have similar directory structures for things like their serial ports.\nWith your board and serial port selected, you’re ready to code! \nNOTE \nTo figure out if your \nboard is on a particular \nserial port, unplug it and \nrefresh your list of ports. \nIf the updated list has one \nunselectable option or a \nport has disappeared, that \nis the port for your board. \nFigure 13-8: \nMac serial port \nselection\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2128
  },
  {
    "chunk_full": "243 • PROJ ECT 1 3\nAN ARDUINO HELLO WORLD\nIn this section, you’ll program the Digital Sandbox with an Arduino \nsketch to make sure everything works correctly. Blinking an LED is \nthe hardware version of Hello World, so we’ll start there.\nExploring an Arduino Sketch\nFirst, let’s explore the basic structure of an Arduino sketch in \nListing 13-1.\nvoid setup() \n{\n  // put your setup code here, to run once: \n}\nvoid loop() \n{\n  // put your main code here, to run repeatedly:\n}\nThis is the skeleton sketch you see when you open the Arduino \nIDE. It looks just like a basic Processing sketch, except that instead \nof draw(), there’s a loop() function that works exactly like draw(). \nYou will also notice that in Arduino sketches, the keyword coloring is \na little different from Processing, with most key words being a red-\norange color—but no need to worry about that too much. \nWriting the setup() Function\nThe setup() code for blinking an LED is pretty simple. Open a new \nArduino code window now and fill in the setup() function as follows: \nvoid setup()\n{\n   pinMode(4,OUTPUT);\n}\nFirst, specify which pin you want to control on the microcontroller \nand how you are going to use it with the pinMode() function . This \nfunction takes two parameters as arguments: a pin number, which \ncan range from 0 to 13, and a constant, which should be INPUT or \nOUTPUT. Passing INPUT tells the Arduino to set up a pin to receive \ndata, and passing OUTPUT tells the Arduino that the pin will send data. \nHere, you tell the Arduino to set pin 4 as an output, because that pin \nis connected to the LED you want to blink on the Sandbox (in this \nListing 13-1:   \nThe bare-bones \nArduino sketch\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2129
  },
  {
    "chunk_full": "244 • PROJ ECT 1 3\ncase, D4). Any time you want to use a pin, you need to have a \npinMode() function for it. \nThat’s all for the setup! \nWriting the loop() Function\nNow, you’ll tackle the loop() function, which is where you’ll actually \nblink your LED. As the second comment in Listing 13-1 states, the \nArduino runs this code over and over again, at a speed of millions of \nlines of code per second. Conceptually, the loop() function for blink­\ning an LED would work something like Figure 13-9. \narduino sketch\nset pin D4 as OUTPUT\nstart\nloop\nhold\nfor\none\nsecond\nhold\nfor\none\nsecond\nturn \noﬀ LED\nD4\nturn\non LED\nD4\nYou only have to tell the Arduino to blink once inside the loop() \nfunction because when it reaches the end, the loop starts over again. \nBecause the loop runs so fast, you also need to tell the microcon­\ntroller to wait or delay for a given amount of time, so you can actually \nsee the LED blink. \nIn the same Arduino code window where you added the setup() \nfunction, write the loop() code shown in Listing 13-2 to translate the \nflow chart into the Arduino language.\nvoid loop()\n{\n   digitalWrite(4,HIGH); //turn pin 4 on\nFigure 13-9: \nHow blinking works \nbehind the scenes\nListing 13-2: \nThe loop() code for your \nblinking Arduino sketch\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2130
  },
  {
    "chunk_full": "245 • PROJ ECT 1 3\n   delay(1000);          //wait 1,000 milliseconds (1 second)\n   digitalWrite(4,LOW);  //turn pin 4 off\n   delay(1000);          //wait 1 second\n}\nThe digitalWrite() function  is like a code light switch; it \nallows you to turn pins on and off. You pass it two parameters: the \npin number (0–13, corresponding to D0–D13 on the Arduino) and \neither HIGH (on) or LOW (off). Here, you turn pin 4 on. \nNext, you wait for 1 second using the delay() function , turn \npin 4 off , and wait for 1 second again . From there, the sketch \nloops back up to the top. \nMake sure your Digital Sandbox is plugged in to the computer, \nand click the Upload button. The two LEDs labeled TX and RX \nshould blink really fast. \nAfter TX and RX stop blinking, D4 should blink once per second, \nas shown in Figure 13-10. \nCongratulations on your first Arduino sketch! Before you move \non, play around with this sketch a bit. Try replacing pin 4 with other \noutput pin numbers, according to the labels in Figure 13-3 (you’ll need \nto change them in the pinMode() and digitalWrite() functions), and \ntweak the delay time for faster or slower blinks.\nNOTE \nTX is short for transmit, \nand RX is short for receive, \nand these LEDs light up \nany time data is passed \nbetween the board and the \ncomputer. Here, the sketch \nyou just uploaded went \nfrom the computer to the \nDigital Sandbox.\nFigure 13-10:  \nOur best print rendition of \nD4 blinking \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2131
  },
  {
    "chunk_full": "246 • PROJ ECT 1 3\nANALOG VERSUS DIGITAL\nNow that you know how to program an Arduino, let’s explore the two \ntypes of data you can use with the platform. Digital data has only two \npossible values: on and off, which correspond to 0 and 1 or HIGH and \nLOW, respectively, in a sketch. The power button on pretty much any \nelectronic device is a digital input, and when you turned on LED D4, \nyou sent a digital output from the Arduino. \nAnalog data, on the other hand, has infinitely many possible \nvalues, including on, off, and everything in between. Analog is more \nlike a dimmer switch. See Figure 13-11 for a visualization of the differ­\nence between digital and analog data.\na n a l o g  s i g n a l\nv o l t s  ( v )\nt i m e  ( t )\nd i g i t a l  s i g n a l\nv o l t s  ( v )\nt i m e  ( t )\n0V\n5V\n0V\n5V\nThe digital signal is the square wave, which has only two pos­\nsible values; on corresponds to 5V, and off corresponds to 0V. The \nanalog signal is the sine wave, which transitions smoothly between all \nthe way on and all the way off.\nREADING VERSUS WRITING DATA\nWhen you fetch data from a sensor or any other Arduino input, you \nare reading that information. When you send information to a pin, \nyou’re writing to that pin. \nFigure 13-11: \nComparing digital and \nanalog signals\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2132
  },
  {
    "chunk_full": "247 • PROJ ECT 1 3\nThere are four Arduino functions that let you read and write ana­\nlog and digital data:\nanalogRead()  Reads an analog value of a pin\nanalogWrite()  Writes an analog value to a pin\ndigitalRead()  Reads if a pin is on or off\ndigitalWrite()  Turns a pin on or off\nYou’ve seen digitalWrite() already: you used it to write HIGH \nand LOW to pin 4 in Listing 13-2, in order to blink LED D4 on the \nDigital Sandbox.\nIn this project, you’ll use the analogRead() function to read a \nsensor value and print that value out over the serial port. The first \nstep is making the data available to your computer.\nREADING DATA FROM SENSORS\nSensors, like the light sensor and microphone on the Digital Sandbox, \noutput analog data, which you can read with the Arduino. But com­\nputers can operate only on digital data! Fortunately, you can write \nArduino sketches that send analog data values to your computer as \ndigital data, using serial communication. \nTry sending some data from the light sensor on the Digital \nSandbox. Start a new Arduino sketch, write the following program, \nand upload it to the Digital Sandbox: \nvoid setup()\n{\n   Serial.begin(9600); //start serial communication at 9600 bps\n}\nvoid loop()\n{\n   int val = analogRead(A1);  //read the light sensor\n   Serial.println(val);       //print val over serial\n   delay(100);                //wait 100 milliseconds\n}\nThis little sketch does a lot of cool magic, so let’s unpack it a \nbit. In the setup() function, you start serial communication with \nSerial.begin() . You pass begin() the baud rate, which is the \nspeed at which the Sandbox will talk to your computer. \nIn the loop() function, you create a local variable called val and \nset it to whatever is read over analog input pin A1 . You then print \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2133
  },
  {
    "chunk_full": "248 • PROJ ECT 1 3\nval over the serial port using the Serial.println() function . Just \nlike in Processing, Arduino’s println() means that there is a carriage \nreturn after Arduino prints the value you pass it. Finally, you use the \ndelay() function  to slow the Digital Sandbox down so you can \nactually read the values when you open the serial port.\nUpload this sketch to your Arduino if you haven’t done so \nalready; the TX LED should blink really fast to tell you the board is \nsending data to your laptop. Next, click the magnifying glass icon in \nthe upper-right corner of the Arduino IDE. The window that opens is \ncalled the Serial Monitor, and it allows you to view data being sent \nover the serial port from the Digital Sandbox. You will see a stream \nof numbers flying by, as in Figure 13-12. These values are being read \nfrom the light sensor labeled A1 on the Digital Sandbox. \nPut your hand over the sensor, and the numbers in the Serial \nMonitor should decrease. The lowest value you will read is 0 (com­\npletely dark) and the highest is 1023 (really bright). As you move your \nhand away from the sensor, the values should grow again. Pretty \ncool, huh? \nThese numbers are being transmitted from the Digital Sandbox \nto your computer over your USB cable. Now you’ve successfully \ntransferred information from one small computer (the Digital Sandbox) \nto a larger computer, but wait: it gets better.\nFigure 13-12: \nThe Arduino Serial \nMonitor with a single \nsensor output\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2134
  },
  {
    "chunk_full": "249 • PROJ ECT 1 3\nYou can send more than one sensor value to your computer at a \ntime because the Arduino can also send a string of comma-separated \nvalues (CSV) over the serial port. That’s important because the more \ninformation you can pass to and from Processing, the more control \nand freedom you have within a project. This capability also allows you \nto use fewer resources on your computer. Sending one string is much \nmore efficient than sending three separate values, and Processing can \neasily work with the single string, as you’ve seen in previous projects.\nTo send multiple values, just change your existing loop as follows:\nvoid loop()\n{\n  int light = analogRead(A1);  //light sensor\n  int sound = analogRead(A2);  //microphone\n  int temp = analogRead(A0);   //temp sensor\n  Serial.print(light);         //print light over serial\n  Serial.print(\",\");           //add comma\n  Serial.print(sound);         //add sound\n  Serial.print(\",\");           //add comma\n  Serial.println(temp);        //add temp with carriage return\n  delay(100);                  //wait 100 milliseconds\n}\nThis version of the loop creates three different variables: light, \nsound, and temp. These correspond to the three analog sensors you \nare reading, which are labeled A1, A2, and A0, respectively, on the \nDigital Sandbox. Next, you print the sensor values over the Serial \nMonitor with a comma between each pair of values. The final value, \ntemp, is printed with println() so that each set of data appears on a \nsingle line, followed by a carriage return. That way, your trios of sen­\nsor data won’t run together.\nUpload this sketch to your Digital Sandbox and open your Serial \nMonitor. You should see output similar to Figure 13-13, with sets of \nthree comma-separated values scrolling by. \nTo change temp (the last value in every trio), place your finger on \nthe temperature sensor. Yell, sing, or just make some noise near the \nmicrophone to watch the sound variable (the second value) change. \nAnd of course, if you place your hand over the light sensor, the \nlight variable should still change. Save your Arduino sketch now so \nyou don’t lose your work, and then head over to Processing.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2135
  },
  {
    "chunk_full": "250 • PROJ ECT 1 3\nCREATING THE SENSOR DATA \nDASHBOARD IN PROCESSING\nYour sensor dashboard is half complete: you have three sensor values \ncoming from your Digital Sandbox, and you can see them as a long list \nof numbers flying by. But those numbers probably don’t tell you much; \nyou can see changes, but it’s hard to picture what they mean. \nIn this project, you’ll build a dashboard to translate the data \ncoming into your computer through serial communication into helpful \nvisualizations, and then you’ll log that data into a text file for future \nanalysis in a graphing program such as Microsoft Excel or Google \nSheets. The Processing sketch you’ll write is a great base for any \nproject that uses serial communication.\nImporting Libraries and Creating Variables\nFirst, open a fresh Processing sketch and import the Serial library. \nThis library is native to Processing, so simply click SketchImport \nLibrary . . . 4Serial. When you see the import line at the top of \nyour sketch, create a class object so you can use functions from the \nSerial library:\nimport processing.serial.*;\nSerial myPort;\nWhen you used the Video library, you created a Movie object; \nwith the Serial library, you create a Serial object. You’ll use only a \nsingle port for this project, so you can just call it myPort. \nFigure 13-13: \nSerial Monitor with \nsets of three comma-\nseparated values\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2136
  },
  {
    "chunk_full": "251 • PROJ ECT 1 3\nYou’ll also need to create three global variables to receive data \nfrom the serial port: \nfloat temp = 0;        \nfloat light = 0;      \nfloat sound = 0;  \nAdd three variables with the same names and data types as the \nsensor variables you created in your Arduino sketch. (Using the same \nnames will help you remember which values in Processing match the \nvalues from the Arduino.) These need to be global variables so you \ncan use them in both your draw() loop and in an event function to \ncollect the serial data.\nInitialize each variable to 0. This keeps Processing from generat­\ning an error the first time it runs through the sketch, since it won’t \nhave a value from the serial port right away. \nPreparing Processing for Serial Communication\nNext, tackle the setup() function of the sketch, starting with picking \na sketch window size. To identify the serial port your Digital Sandbox \nis on, you can list all possible serial ports on your computer, just like \nyou did for your webcam in Project 10. Add the setup() function in \nthe following listing to your Processing sketch now: \nvoid setup() \n{\n  size(700,400);\n   println(Serial.list());\n   myPort = new Serial(this,Serial.list()[0],9600);\n//generate a new serial event at new line\n   myPort.bufferUntil('\\n');  \n}\nTo view the serial ports, pass Serial.list() to the println() \nfunction . Next, instantiate your Serial object, myPort . This \ncreates a new Serial object for the port defined by Serial.list()[n] \n(where n is the index of the port you want to use) at a baud rate of \n9600 bits per second (bps). \nFinally, at , specify the buffer, which is where Processing \nstores incoming data from the serial port until you use it. The Serial \nlibrary’s bufferUntil() function allows you to set a character that \nProcessing uses as a flag or alert. Processing holds (or “buffers”) \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2137
  },
  {
    "chunk_full": "252 • PROJ ECT 1 3\ndata until it receives that character, and on receipt, it triggers a call \nto an event function. \nFetching Your Serial Data\nNormally, you’d write the draw() loop now, but you should make sure \nyou can run and receive data from your serial port first. Otherwise, \nyou’ll have no data to create visualizations for! You will insert the \ndraw() loop between the setup and event functions once you know \nyou are receiving data. \nCreate a serialEvent() function and pass it the Serial object \nmyPort, so the function knows which port to listen on.\nvoid serialEvent(Serial myPort)\n{\n}\nLike other event functions, serialEvent() just waits patiently \nuntil it’s triggered. When it sees data come in over myPort, it starts \ncapturing the values. Add the following to your event function: \nvoid serialEvent(Serial myPort)\n{\n   String inString = myPort.readStringUntil('\\n');\n   if(inString != null) \n  {\n     inString = trim(inString);\n     float[] vals = float(split(inString,\",\"));\n     if(vals.length >= 3) \n    {\n       light = map(vals[0],0,1023,0,200);\n      sound = map(vals[1],0,1023,0,200);\n      temp = map(vals[2],0,1023,0,200);\n    }\n  }\n}\nUse the readStringUntil() function  to create a string and \nstore data from the serial port until a newline character ('\\n') comes \nthrough. Once Processing stores the data as inString, you can har­\nvest the usable data. At , an if() statement checks whether your \nsketch received data by comparing inString to null (or nothing). \nIf inString equals null, then it has no characters. But if there are \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2138
  },
  {
    "chunk_full": "253 • PROJ ECT 1 3\ncharacters in inString, you tell Processing to trim() any whitespace \nin the data . (Whitespace refers to blank spaces at the beginning \nand end of a string.) \nNow you need to break up inString into three pieces of usable \ndata. “Usable” is key: right now, inString contains the temperature, \nlight, and sound data you need, but as a bunch of characters, not \nnumbers! \nTo fix this, first create a float array called vals . To get the data \nfrom inString to vals, you have to do a little inception: putting func­\ntions inside functions. When Processing sees nested functions like \nsplit() inside of float(), it executes them according to the same \norder of operations you hated in middle school. The innermost func­\ntion is performed first, and Processing moves out from there. First, \ninString is split into pieces of data at every comma in the string. \nThen, those pieces of data are turned into floats and placed in the vals \narray. Figure 13-14 shows the conversion process with an example \npiece of data.\nprocessing\nraw data\nraw serial data input:\n123,233,456\\N\n123,233,456\\N\nreadStringUntil('\\n')\nidentifies end \nof line\n123,233,456\ntrim(inString)\nremoves empty spaces\nat beginning and end\nof the string\n\"123\" , \"233\" , \"456\"\nfloat(split(inString))\nseparates values at\ncommas and converts \nstrings to floats\n{123,233,456}\nfloat[] vals\nfloats are added \nto the array vals\nFigure 13-14:  \nProgression of preparing \nand parsing a comma-\nseparated string\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2139
  },
  {
    "chunk_full": "254 • PROJ ECT 1 3\nThe last if() statement  in the event function checks to make \nsure you have the correct number of values from the serial port. If \nthe vals array has a length of at least 3, map the first three values \nto numbers that you want to use, and assign the mapped values to \ntemp, light, and sound. \nFor this sketch, you’ll get a value from 0 to 1023 from the Digital \nSandbox, but your sketch window is set to 700 pixels wide by 400 pix­\nels high. To display the sensor values within that area, you need to \nscale them down. The map() function allows you to take a variable \nwith an expected minimum and maximum and map its values to a \ndifferent minimum and maximum. You will be creating a bar graph \nwith a maximum height of 200, hence the scale from 0 to 200 .  \nHere is the syntax for the map() function:\nmap(x,Fmin,Fmax,Tmin,Tmax);  \nThe x argument is the value you need to map, Fmin and Fmax \nare the original range of values, and Tmin and Tmax are the range you \nwant to map to. \nSave your Processing sketch now. That may have looked like a \nlot of fancy coding, but it’s worth it! Just look at what you’ve done so \nfar. You programmed two different computers—the Digital Sandbox \nand your computer—to talk to each other. That’s pretty cool! \nTesting the Serial Connection\nYou’ll perform one final check before taking off to draw your dash­\nboard: is your sensor data actually being received correctly in \nProcessing? To find out, call the println() function in a simple \ndraw() loop. Add the following after your existing setup() function, \nand before the serialEvent() function: \nvoid draw()\n{\n  println(light + \",\" + sound + \",\" + temp);\n}\nMake sure your Digital Sandbox is plugged in to your computer \nand the TX LED is blinking. Then, click the Run button in Processing. \nDepending on your serial port settings, your sketch may just run, \nor you may get an error that prevents it from doing so, as shown in \nFigure 13-15. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2140
  },
  {
    "chunk_full": "255 • PROJ ECT 1 3\nWhether you get an error or not, in your Processing console \nthere should be a list of all available serial ports. If your sketch runs \nbut your console fills with 0.0,0.0,0.0, then you’ve selected a work­\ning serial port on your computer, but it may not be connected to the \nDigital Sandbox. Stop your sketch, click Run, wait 1 second, and \nquickly stop the sketch again. Scroll to the top of your console, and \nyou should see your list of ports. \nYou need to select the port that matches the one you used to \nprogram your Digital Sandbox. The list is an array, so the first port \nis 0 and the rest count up from there. Change the 0 in your myPort \nobject to reflect the correct serial port. \n//change the 0 to your port in the list\nmyPort = new Serial(this,Serial.list()[0],9600);  \nOnce you change the port number, click the Run button in \nProcessing. A blank sketch window appears, and the console \nprints strings of three numbers (each ranging from 0 to 200) sepa­\nrated by commas. Those number strings are the scaled values after \nProcessing has mapped the raw values coming over your serial \nmonitor in Arduino. Success! \nFigure 13-15:  \nProcessing shows an \nerror if you get the wrong \nserial port\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2141
  },
  {
    "chunk_full": "256 • PROJ ECT 1 3\nPlay with the sensors, and the values the console window should \nchange as shown in Figure 13-16. \nThe values are your light, sound, and temperature sensor values. \nRemember that you mapped these values to 0–200, so some may \nbe lower than the raw 0–1,023 values you are really getting from the \nDigital Sandbox.\nWhen you know everything works, save your sketch so you don’t \nlose it, and flesh out your draw() loop.\nVisualizing Your Sensor Data\nNow that you’re sending sensor data to light, sound, and temp, you \ncan use them just like any other variables in Processing. To demon­\nstrate, let’s make a bar graph to visualize these values. \nIn the same sketch, draw a few different-colored rectangles, \nusing the three sensor variables to set the height of each:\nvoid draw() \n{\n  println(light + \",\" + sound + \",\" + temp); //print serial \n                                             //data to console\n  background(150);  //standard gray background\nFigure 13-16: \nSensor values \ncoming from the \nDigital Sandbox\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2142
  },
  {
    "chunk_full": "257 • PROJ ECT 1 3\n  stroke(0);              //base-level line color\n   line(0,300,width,300);  //base-level line\n  noStroke();     //remove outline\n  fill(0,255,0);  //light rectangle\n  rect(300,300,100,-light);\n  fill(0,0,255);  //sound rectangle\n  rect(500,300,100,-sound);\n  fill(255,0,0);  //temp rectangle\n  rect(100,300,100,-temp);\n}\nAt , I drew a single line across the entire sketch. This line is \nyour base or zero line for the bar graphs. Then, I called noStroke() \nto avoid drawing an outline around the graph bars. Following that, I \ndrew three rectangles. Notice that I set the sensor variables to nega­\ntive  to calculate the height parameter in the up or down direction \nfor each rectangle. This step inverts the rectangle height, since the \ny-value increases in the downward direction. \nDrawing the bars of the bar graphs also reveals why you \nmapped the values to the range of 0 to 200. If you left the raw values \nat 0–1,023, your rectangles would extend beyond your sketch and \nyou’d probably rarely see any change. Since you mapped the values \nto 0–200, the highest bars should be 300 – 200 = 100 pixels from \nthe top of your sketch. \nClick Run in Processing, and as the variables change (that is, \nwhen you make noise, put your hand over the Digital Sandbox, and \nso on) you should see the rectangles move up and down. Yay—you \ncan now visualize the change in your variables! See Figure 13-17 for \nan example.\nTo fully take advantage of the bar graph, label each bar and dis­\nplay the actual number you are graphing. Add the following to your \ndraw() loop now, after the last call to rect() but before the final curly \nbracket: \n  fill(0);    //black\n  textAlign(CENTER);\n  text(\"Light: \" + light,150,325);\n  text(\"Sound: \" + sound,350,325);\n  text(\"Temperature: \" + temp,550,325);\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2143
  },
  {
    "chunk_full": "258 • PROJ ECT 1 3\nThis code displays the variable name and the live mapped sen­\nsor value underneath the bar graph. You now have a completed live \ndashboard for visualizing data coming in through your serial port con­\nnection. Save your sketch and run it, and you should see something \nlike Figure 13-18.\nThe sky is the limit in terms of what data you can collect using \nArduino and then visualize it with Processing! \nThere are a number of applications for this project in industry, \nscience, and even in your house. In home automation, the ability to \ncollect information about a specific room and display it on a phone \nor central monitor is a must, and this project is a great foundation for \ndoing that.\nFigure 13-17: \nGraphing sensor values \n (from left to right: \nlight, sound, and \ntemperature)\nFigure 13-18: \nSensor graph with \nprinted values\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2144
  },
  {
    "chunk_full": "259 • PROJ ECT 1 3\nIf you want to save all of this data and experiment with those \nkinds of applications later, you simply write the data to a text file. You \ncan do that next. \nLOGGING SENSOR DATA \nWITH PROCESSING\nProcessing’s PrintWriter class allows you to save data to a text file \nin your sketch folder, so you can use it to save your sensor data for \nfuture use. \nFirst, create a PrintWriter object in your graph project sketch; I \ncalled it output: \nPrintWriter output;\nThen, initialize output in your setup:\nvoid setup()\n{\n  size(700,400);\n  output = createWriter(\"DSInput.txt\");\n//the rest of your setup goes here\n}\nSet output with a call to the createWriter() function; then, \npass the function a string specifying the name of the text file you \nwant to create. Note the .txt extension in my example, DSInput.txt. \nYou can initialize output anywhere in your setup() function, as long \nas you do so before you add anything to the text file.\nA SERIAL COMMUNICATION TIP \nFOR WINDOWS USERS\nNow that you’ve used the Serial library the hard way, I want to share \nsome useful code I created to make serial communication dead-\nsimple on the Processing end. The resource files for this book include \na file called autoConnect.pde, which contains a custom function, \nautoConnect(), that figures out which COM port your Arduino is on \nand connects to it for you! Just include the code at the bottom of a \nsketch or in a new tab and then add a call to ­autoConnect() in your \nsetup, and you are done!\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2145
  },
  {
    "chunk_full": "260 • PROJ ECT 1 3\nTo add information to your text file, print to it with a slightly dif­\nferent println() function. Add the following line to the end of your \ndraw() loop:\n//print variables to text \noutput.println(light + \",\" + sound + \",\" + temp); \nThis function acts like the println() function you’ve used \nalready, but instead of printing to the console window of the IDE, \nit prints the data to a text file. \nThere are a few things you need to do to make this new \nprintln() function useful. First, Processing needs to know when \nyou are done printing information so it can flush the buffer, or get rid \nof the information that is backed up. To tell Processing when you are \nfinished logging data, add a keyPressed() event function after the \ndraw() loop: \nvoid keyPressed()\n{\n  if(keyCode == UP)\n  {\n    output.flush();  //flush the buffer and\n                     //collect what data is on its way\n    output.close();  //close the text file\n  }\n}\nWhen you press the up arrow, this event function tells Processing \nto flush the buffer and close the text file. The close() function is the \nmost important part. If you never close the text file, it will never be \nsaved or even created in the first place! Checking for a specific key \nhere allows you to add responses to other keys in the future without \ntriggering Processing to close the text file.\nWith that, you can visualize your data in real time, stockpile it, \nand analyze and interpret it en masse later. Save your sketch, click \nRun, allow the sketch to run for a while, and play with the sensors. \nAfter about a minute, press the up arrow. Close your sketch window, \nand open your sketch folder. You will see a text file with the name \nyou passed to createWriter(). Open it, and you will see a list of \ncomma-separated values. These values are the logged values from \nthe time that you ran your sketch. The only caveat to this technique is \nthat every time you run this sketch, use the createWriter() function, \nand save the text file, it writes over the previous file. \n260 • PROJ ECT 1 3\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2146
  },
  {
    "chunk_full": "261 • PROJ ECT 1 3\nTAKING IT FURTHER\nThis project was huge in terms of expanding the usefulness of \nProcessing! You learned how to send data to Processing from other \ndevices over a serial connection. You also learned how to log data \nand save it to a text file. Both of these skills are invaluable, and at \nSparkFun, we use them on a regular basis. \nTry adding an Arduino to another Processing sketch, or modify \nthis one to visualize the data in a more creative way. Look into the \nother information you can get from the Digital Sandbox; there are a \nfew other inputs you can add, including a button and a switch. How \ncould you harness those in Processing?\nOne great extension of using the Serial library with Processing \nis to send data from Processing to a microcontroller, the opposite of \nwhat this project did. In this final “Taking It Further,” I’ll give you some \nProcessing code to control the RGB LED on the Digital Sandbox. \nThe RGB is three LEDs in one: a red, green, and blue LED. You can \ncontrol each individually to do some really cool color mixing and build \nsomething like an interactive lamp or light sculpture. \nSending Data from Processing to Arduino\nOpen a new Processing sketch, and write the following sketch: \nimport processing.serial.*;\nSerial myPort;    //create object from Serial class\n int r = 0;        //data received from the serial port\nint g = 0;\nint b = 0;\nvoid setup() \n{\n  size(200,200);\n  String portName = Serial.list()[0];\n  myPort = new Serial(this,portName,9600);\n}\nvoid draw() \n{\n   background(r,g,b);\n   String outString = str(r) + ',' + str(g) + ',' + str(b) + \n'\\n'; \n   myPort.write(outString);\n   println(outString);\n}\nNOTE \nYou can also just download \nthe Processing and Arduino \nsketches for this section, \nalong with the rest of the \nsource code for this book, \nat http://www.nostarch \n.com/sparkfunprocessing/. \nOpen the Project 13 folder, \nand load RGB.pde in \nProcessing and RGB.ino \nin Arduino.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2147
  },
  {
    "chunk_full": "262 • PROJ ECT 1 3\nvoid keyPressed()\n{\n  if(key == 'r')\n  {\n    r++;\n    key = ' ';\n   \n    if(r > 255)\n    {\n      r = 0; \n    }\n  } \n  else if((key == 'g') && (g <= 255))\n  {\n    g++;\n    key = ' ';\n   \n    if(g > 255)\n    {\n      g = 0; \n    }\n  }\n  else if((key == 'b') && (b <= 255))\n  {\n    b++;\n    key = ' '; \n  \n    if(b > 255)\n    {\n      b = 0; \n    }\n  }\n}\nThis sketch uses the same keyPressed() event function that you \nused in “Creating a Color-Changing Feedback Box” on page 141, \nwhere you changed the color of the lines you drew with your mouse \nto create a basic graphics application. But instead of using those \nvariables in Processing, this sketch writes r, g, and b across the serial \nport from Processing to the Arduino.\nThe sketch follows the same basic structure as the other Serial \nlibrary sketches you created in this project. The magic happens in \nthe keyPressed() event function and the draw() loop. There are \nthree global variables r, g, and b  (color variables as in Project 8). \nThe setup() function follows the same pattern as in “Preparing \nProcessing for Serial Communication” on page 251.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2148
  },
  {
    "chunk_full": "263 • PROJ ECT 1 3\nThe draw() loop sets the sketch window background to an \nRGB setting of r, g, and b , which starts out black. Next, you \nbuild a comma-separated string of values (r,g,b) by creating a string \ncalled outString. Convert the value of each color variable into a \nstring using the str() function, concatenate the stringified values \nwith comma characters, and finish with a carriage return . Then, \nwrite your outString over the serial port . To help you debug your \noutString, add a println() function that prints the string in the \nProcessing console .\nThe keyPressed() event function simply reads the key pressed, \nand if the key is R, G, or B, it increments the appropriate variable. If a \nvariable runs over 255, it is reset to 0. Save your work in Processing, \nand now let’s work on the Arduino side. \nReceiving Processing Data on an Arduino\nOpen a new Arduino IDE window, select the Fio as your board, \nand use the same serial port you did in “An Arduino Hello World” on \npage 243. From this point, copy the following code into the Arduino \ncode window, and upload it to your Digital Sandbox.\n int r = 0;\nint g = 0;\nint b = 0;\nvoid setup() \n{\n   Serial.begin(9600); \n   pinMode(9,OUTPUT);\n  pinMode(10,OUTPUT);\n  pinMode(11,OUTPUT);\n}\nvoid loop() \n{\n   analogWrite(9,r);\n  analogWrite(10,g);\n  analogWrite(11,b);\n   if(Serial.available() > 0)\n  {\n    r = Serial.parseInt();\n   g = Serial.parseInt();\n   b = Serial.parseInt();\n  }\n}\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2149
  },
  {
    "chunk_full": "264 • PROJ ECT 1 3\nFirst, create three global variables for the red, green, and blue \nvalues  that you will later capture from the serial port. At this point, \nset all three of them to 0. \nNext comes the setup() function. Start the Serial library by \ncalling the begin() function, and pass it the baud rate, which is \nthe speed at which the Digital Sandbox will communicate with your \nProcessing sketch . Set pins 9, 10, and 11 as output by passing \nthe pinMode() function the pin numbers and the state at which you \nwill want the pins .\nThe loop() uses the analogWrite() function to write the three \ncolor values, which range from 0 to 255 for each appropriate pin: \nred is pin 9, green is 10, and blue is 11 . The first time through the \nloop, these values should all be 0, and the RGB LED should be off. \nNext comes an if() statement  that uses Serial.available() \nto check if there’s anything on the serial port. If there is, this param­\neter will return 1, so check if it’s greater than 0. If the statement is \ntrue, call the Serial.parseInt() function for each color variable. \nThis function reads incoming values as integers until it sees a non-\nnumeric value. In this case, your values are comma-separated, so it \nwill split the values at the comma. Since there are three values, use \nparseInt() three times to capture each value and set the variables \nto those values. \nUpload this code to your Digital Sandbox, keep the Sandbox \nplugged in to your computer, run the Processing sketch, and press \nR, G, or B repeatedly. The Processing sketch window should change \ncolor, and the RGB LED on your Digital Sandbox should show a \nsimilar color, like in Figure 13-19. \nThis project was the tip of the iceberg when it comes to devices \nyou can connect to Processing through a serial communication port. \nFor example, I’m a huge fan of DIY identification, and one of my \nfavorite applications is an RFID reader kit we sell (KIT-13198). This \nkit reads the unique ID string for a card and prints it over the serial \nport. The uses for RFID are endless, from identifying specific objects \nand assigning each a different function to personal identification and \nsecurity.\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2150
  },
  {
    "chunk_full": "265 • PROJ ECT 1 3\nNow, I send you off into the wild blue yonder of Processing! With \nthe completion of this chapter and this book, you’re well on your \nway to becoming a full-fledged software developer, digital artist, or \ninterface designer. I hope that this final chapter inspires you to further \nexplore Processing and all the different rabbit holes that you can \ngo down to make useful, beautiful projects. When you need more \ninspiration, check out the Reference page at Processing.org, look \nat different libraries, or simply google “Processing projects.” Create \nsomething cool and share it with others! \nFigure 13-19:  \nThe magic RGB LED that \nyou can color-mix to your \nheart’s content\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2151
  },
  {
    "chunk_full": "Symbols\n&& (AND logical operator), 55\n* (asterisk), Loop sketch example, \n169–170\n{ } (curly brackets), 12–13, 53, 210\n% (modulo function), 181\n! (NOT logical operator), 55\n|| (OR logical operator), 55, 58\n( ) (parentheses), 13\n; (semicolon), 13\n[ ] (square brackets)\narrays, 175\nJSON arrays, 213, 214\nA\nabs() function, 201\nabsolute value, for sound \nvisualization, 201\nabstract clock project\ncombining with pixel art, 90\ngeneral discussion, 71–75\nAdd File option, 94, 100, 155, 172, 188\nAdd Library option, 168\nAdd Mode option, 76\nadd-on header, Digital Sandbox, 236\nAdd Tool option, 125\nadvanced data types, 111\nalbum() method, 198\nalert bar\nArduino IDE, 241\nProcessing, 7, 8–9\nalligator clips, 160, 161, 162\nAmerican Standard Code for \nInformation Interchange \n(ASCII), 149–151\namplitude, sound, 198, 199–202\nanalog data, 246\nanalogRead() function, 247\nanalogWrite() function, 247, 264\nAND logical operator (&&), 55\nAndroid mode, 6\nanimation\nbasic, 55–59\nwith matrices, 88–90\nAPI menu, OpenWeatherMap, 215\nArduino 233–234. See also sensor data \ndashboard\nanalog versus digital data, 246\nblinking LED project, 243–245\ndefined, 235\nexperimenting with, 261–265\nFio board, 242\nIDE, 240–241\nSerial Monitor, 248, 249, 250\ninstalling software, 237–240\nlogging sensor data, 259–260\nand MaKey MaKey, 160\nmicrocontroller, 234–235\nand Processing, 5\nreading data from sensors, 247–250\nreading versus writing data, 246–247\nreceiving Processing data on, \n263–265\nRGB LED, controlling, 261–265\nselecting board and \nchoosing port, 242\nsending data from Processing to, \n261–263\nserial ports, 242, 251, 255\nsketches, 243\nand SparkFun Digital Sandbox, \n235–237\nSparkFun Redboard, 235\nUno, 235\narrays\ngeneral discussion, 175–177\nJSON, 213–215, 225–226\nINDEX\n266 • I N DEX\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2152
  },
  {
    "chunk_full": "arrow keys, moving shape with, \n151–153\nart, Processing as tool for, 4–5\nASCII (American Standard Code for \nInformation Interchange), \n149–151\naspect ratio, 96\nasterisk (*), Loop sketch example, \n169–170\nATMEGA328 microcontroller, 234\nAudioInput class, 186, 199, 203\naudio library, Processing, 186\nAudioMetaData class, 186, 195–198\nAudioOutput class, 186\nAudioPlayer class, 186, 188, 192, \n194–195, 206\nAudioPlayer object, 187, 189, 196\naudio processing, 185–187\naudio input, 198–199\nAudioMetaData class, 195–198\nAudioSample class, 193–195\nbasic audio player application, \n187–189\nexperimenting with, 206–207\nMaKey MaKey controller, 186\nmusical synthesizer project, \n206–207\nplayback controls, creating, \n189–193\nsoundboard, creating, 203–206\nvisualizing sound, 199–202\nAudioRecorder class, 186, 203–206\nAudioSample class, 186, 193–195, \n203, 206\nauthor() method, 198\nautoConnect() custom function, 259\navr-gcc, installing on Ubuntu Linux, 239\nB\nbackground, for sound visualization, 199\nbackground() function\nabstract clock project, 74\nbasic animation, 56, 57\ndigital collage, 42\nimage processing, 98, 105\npixel art, 29\ntext, 123, 127\nbar graph, visualizing sensor data in, \n256–259\nbaud rate, 247, 251, 264\nBeatDetect class, 186\nbegin() function, 247, 264\nblinking LED project, 243–245\nblue() function, 156\nBLUR filter, 109, 110–111, 173–174\nboard, selecting Arduino, 242\nboolean data type, 50\nbouncing ellipse animation\nbasic, 56–59\nmultiple ellipses, 59–62\nbounding box, maze game, 157–159\nbracelet, for MaKey MaKey \ncontroller, 162\nbuffer\naudio, 195, 201\nProcessing, 251–252, 260\nbufferUntil() function, 251–252\nbuilt-in values, 66–68\nC\ncameras array, 178–179, 180\ncam object, 178, 180, 181\ncam.start() function, 178\nCapture.list(), 180–181\nCapture object, 177, 178, 180, 181\ncapturing video, 177–180\nCartesian coordinate plane, 13–15, 19\nCENTER mode\nimageMode() function, 97\ntextAlign() function, 122, 131\ncentral processing unit (CPU), 234\nchar data type, 46, 50, 120\nchips, FTDI, 238\nCity Symphonies, 5\nclasses. See also specific classes\nlibraries, 170\nin OOP, 111–115\noverarching, 187\nclock project\ncombining with pixel art, 90\ngeneral discussion, 71–75\nclose() function, 260\n\"clouds\" JSON object, 218\nCODED constant, 150, 153\n267 • I N DEX\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2153
  },
  {
    "chunk_full": "code window, 7–10\ncollage\nassembling shapes into, 42–45\nphoto, 100–105\ncolor\nadding to pixel art, 23–25\ncolor-changing feedback box, \n141–142\nline, 36–37\npen, for simple painting \nprogram, 143\nsound visualization, 201–202\ntints, applying to images, 105–108\nColor Selector tool, 25, 26\ncommand line, Ubuntu Linux, 239–240\ncomma-separated values (CSV), \n249, 250\ncomments, 22\ncommunication, serial. See serial \ncommunication\nCOM port options, Arduino, 242\ncompound logic, 55\ncomputer vision (CV), 183\nconcatenation, string, 120–121, 132\nconditional argument, 53–54\nconsole\nArduino IDE, 241\nProcessing, 7, 8–9, 46–47\nconstant, pinMode() function, 243\ncontroller, maze game, 159–163\ncoord.getFloat(), 219, 225\ncoordinate plane, 13–15, 19\n\"coord\" object, JSON data, 217, \n219, 225\nCORNER mode\nimageMode() function, 98\ntextAlign() function, 122\nCORNERS mode\nimageMode() function, 98\ntextAlign() function, 122\nCPU (central processing unit), 234\nCreate Font tool, 124–125, 126\ncreateRecorder() function, 204\ncreateWriter() function, 259, 260\ncreative tool, Processing as, 4–5\nCSV (comma-separated values), \n249, 250\ncue() function, 188\ncurly brackets ({ }), 12–13, 53, 210\nCurrent Weather Data page, \nOpenWeatherMap, 215–216\ncursor\ncoordinates of, 46–47\ndata dashboard project, 130\nsystem variables, 67\ncustom data parsing function, 220\nlisting data variables, 221–222\nparsing weather data, 224–227\nstarting new function tab, 220–221\nwriting in update_data tab, 222–224\nCV (computer vision), 183\nD\nDafont, 124\ndashboard. See also sensor data \ndashboard; weather \ndata dashboard\ndata, 129–132\nOpenProcessing, 75–76\ndata folder, 95, 100, 124, 125, 204\ndata object, 196\ndata pairs, JSON object, 210–211\ndata parsing function. See custom data \nparsing function\ndata types, 13. See also specific \ndata types\nadvanced, 111\ncustom functions, 223\nprinting to console, 46\nvariables, 50\ndate() method, 198\nday() function, 67, 71–72\ndelay() function, 128–129, 245, 248\n\"description\" property, JSON data, 217\ndesign, Processing as tool for, 4–5\nDi Fede, Damien, 186\ndigital data, 246\ndigitalRead() function, 247\nDigital Sandbox, SparkFun. See \nSparkFun Digital Sandbox\ndigitalWrite() function, 245, 247\nDILATE filter, 109\ndocumentation, library, 190\nDOWN global variable, 151, 153, 205\n268 • I N DEX\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2154
  },
  {
    "chunk_full": "downloading Processing, 6\ndraw() function, 11–12\nabstract clock project, 74\nAudioMetaData class, 196\nbasic animation, 56, 57, 58\nbasic audio player application, 188\ncustom functions, 221\ndata dashboard, 130–132\nevent functions, 136, 137, 138\nget() function, 156–157\nimage processing, 105\nJSON data, 220\nlive video, 179\nmatrices, 85\nmaze game, 155–156, 157, 158\nmouseDragged() event function, \n138, 139\nmoving shapes with arrow keys, 151\nmultiple ellipses, animating, 60\nnoLoop() function, 44\nobject-oriented programming, \n114–115\nphoto booth project, 181–182\npixel art, 21–23\nprintln() function, 46–47\nremoving or modifying outlines, 27\nRGB LED, controlling, 262, 263\nrunning video in loop, 170–171\nsensor data dashboard, 252, 254\nsimple painting program, 140–143\nsingle-song audio player, 191, 192\nsnowman, drawing, 44\nfor soundboard project, 204, 206\nsound visualization, 200, 201\nvideo filters, 173\nvisualizing sensor data, 257\nweather dashboard project, 227, \n228, 229–230, 231\ndrawing applications, 135–136\nevent functions, 136–138\nexperimenting with, 144\nmouseDragged() event function, \n138–139\nmouse input variables, 136\nmousePressed() event function, 140\nrainbow-colored drawings, 138–140\nsimple painting program, 140–143\ndrivers, Arduino, 237–238\ndynamic sketches, 49\nbasic animation, 55–59\nexperimenting with, 62\nif() statement, 52–54\nlogic, 52–55\nlogical operators, 54–55\nmathematical operators, 51–52\nmultiple ellipses, animating, 59–62\nrelational operators, 54\nvariables, 50–51\nE\nellipse() function, 34–35, 60–61, \n70–71, 131, 157\nellipseMode() function, 98\nellipses. See also maze game\nbasic animation, 56–59\ndata dashboard, 130–131\ndrawing, 34–35\nmatrices, 83–88\nmodes for, 98\nmoving with arrow keys, 151–153\nmultiple, animating, 59–62\nfor snowman scene, 43\nelse if() statement, 142\nelse statement, 52, 55, 206\nend shapes, line, 38–39\nERODE filter, 109\nerror messages, 9\nevent functions. See also specific event \nfunctions\nkeyboard, 149\nlibraries, 170–171\nmouse, 136–138\nfor soundboard project, 204–206\nexample sketches, library, 190\nExamples option, 201\nExport button, 8\nExport for Web button, 77, 78\nExtract Here option, Ubuntu Linux, 239\nF\nfeedback box, color-changing, 141–142\nFFT class, 186\nfields, class, 111, 112, 113\n269 • I N DEX\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2155
  },
  {
    "chunk_full": "filename\nfont, 125, 126\nimage, 94\nfileName() method, 198\nfill() function\nabstract clock project, 71–72\nadding color with, 23–24\nbuilt-in values, 68\ndata dashboard project, 131\nextending range of values, 68–70\norder, importance of, 25–26\nsnowman project, 44\ntext boxes, 122–123\ntypewriter application, 127\nfilter() function\nexperimenting with, 115–117\nimage processing, 108–111\nobject-oriented programming, 112, \n114–115\nvideos, 173–174\nfilters\napplying to images, 108–111\napplying to videos, 172–174\nFio board, Arduino, 242\nfloat data type, 13, 50, 192\nflushing buffer, 260\nfonts, 124\ncreating, 124–125, 126\ndata dashboard, 130\nloading, 125–126\nsize, 125, 127\nfor() loop, 174–175, 176–177, 181, 201\nFragmented Memory, 5\nframe rate, 199\nframeRate() function, 228–229\nfrequency, 198\nfruit controller, MaKey MaKey, 160–163\nFry, Ben, 4\nfunctions. See also event functions; \nspecific functions; \ntransformation functions\ndefined, 11\nlibrary, 170–171\nnested, 253\nstructural, 11–12\nsystem, 66–67\ntime-related, 67–68, 71–72\nFuture Technology Devices International \n(FTDI) drivers, 238\nG\ng variable, 262, 263\ngenre() method, 198\ngetFloat() function, 219, 225\nget() function, 156–157, 201\ngetString() function, 226\ngetter functions, JSONObject class, 219\nglobal variables\nbouncing ellipse animation, 55\ncustom functions, 221–222\ndata dashboard, 129\ndefined, 51\npainting program, 140–141\nPImage data type, 95\nRGB LED, controlling, 262, 264\nfor sensor data dashboard, 251\nfor x- and y-coordinates, 151\nGPS coordinates, weather dashboard \nproject, 217, 219–220, 225\ngraph\nsound visualization, 199–202\nvisualizing sensor data in, 256–259\ngraphic buttons, 7, 8\nGRAY filter, 109, 110–111, 173–174\ngrayscale values, 23–24\ngreen() function, 156\ngrow global variable, 55, 58, 59–60\nH\nheight. See y-coordinates\nheight value, 85\nHello World program\nArduino, 243–245\nProcessing, 10–11\nhex values, 25\nHID (Human Interface Device) \nprotocol, 160\n270 • I N DEX\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2156
  },
  {
    "chunk_full": "holiday card project, 33–34\nanimating with matrices, 88–90\ndigital collage, programming, 42–45\nprinting to console, 46–47\nHolm, Pete, 143\nhour() function, 67, 71–72, 73\nHuman Interface Device (HID) \nprotocol, 160\nI\nicon, for weather dashboard project, \n229–230\n\"icon\" property, JSON data, 217\nIDE (integrated development \nenvironment)\nArduino, 237–241\nProcessing, 7–10\nif() statement, 52–54\nabstract clock project, 74\nASCII and keyCode, 150\nbasic animation, 57–59\ndata dashboard, 130–131\nevent functions, 136\nget() function, 157\nkeyPressed() event function, 153\nlibrary functions, 171\nlive video, 179\nlogical operators, 54–55\nmatrices, 83, 86, 87, 88\nmaze game, 158\nmousePressed() event function, 140\nmultiple ellipses, animating, 61\nphoto booth project, 181\nrelational operators, 54\nRGB LED, controlling, 264\nsensor data dashboard, 252, 254\nsimple painting program, 141–142\nsingle-song audio player, 191\nsoundboard project, 205, 206\nsound visualization, 201\ntypewriter application, 127\nupdate_data() function, 228\nimage() function, 96\nadding tints and filters to video, \n172–173\nlibrary functions, 170\nlive video, 179, 180\nphoto collage, 101\nphoto for weather dashboard, 231\nplacing image, 97\nweather dashboard project \nicon, 229\nimage processing, 93–94\nadvanced data types, 111\naspect ratio, 96\ncolored tints, 105–108\nexperimenting with, 115–117\nfilter() function, 108–111\nfinding image to use, 94–95\nimage() function, 96\nimageMode() function, 97–98\nmatrices, 102–103\nobject-oriented programming, \n111–115\nphoto collage, 100–105\nPImage data type, 95–96\nresolution, 96\ntransformation, 99–100, 103–105\nimageMode() function, 97–98, 105\nimg variable, 95–96, 97\nimport keyword, 170, 187\nImport Library option, 187, 250\nindex, 175\ninitializing\nstrings, 120\nvariables, 50–51, 95–96\nINPUT constant, pinMode() function, 243\nInstall button, Video library, 168\ninstalling\nArduino software, 237–240\nJavaScript mode, 76\nMinim library, 187\nProcessing, 6–7\ninString, 252–253\nint data type, 13, 50, 140–141\nintegrated development \nenvironment (IDE)\nArduino, 237–241\nProcessing, 7–10\nINVERT filter, 109\nisRecording() function, 206\n271 • I N DEX\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2157
  },
  {
    "chunk_full": "J\nJava, installing on Ubuntu Linux, 239\njavaDocs, 190\nJavaScript library, 6\nJavaScript mode, 76–77\nJavaScript Object Notation (JSON), \n210–213\narrays, 213–215, 225–226\ncustom data parsing function, \n220–227\ndrawing weather dashboard in \nmain tab, 227–229\nexperimenting with, 231\nformatted data, 212–213, 216–217\ngetting weather data in, 215–218\nnested objects, 211\nobjects, 210–211\npulling weather icon from Web, \n229–230\nunformatted data, 211–212\nusing data in Processing, 218–220\njson.getJSONArray(\"weather\"), 226\njson.getJSONObject(), 219\nJSONLint, 212–213\njson object, 223\nJSONObject class, 218–220, 224, \n225, 226\nJST right-angle connector, SparkFun \nDigital Sandbox, 236\nK\nkeyboard event functions, 149\nkeyCode variable, 149\nASCII and, 149–151\nsoundboard project, 205\nkeyPressed() event function\nAudioMetaData class, 196\nlogging sensor data, 260\nmaze game, 156\nmusical synthesizer project, 206\noverview, 149, 152–153\nRGB LED, controlling, 262, 263\nsingle-song audio player, 191\nfor soundboard project, 204–206\nkeyPressed variable, 127, 149\nkeypresses, 67, 127–128, 149\nkeyReleased() event function, 149\nkeyTyped() event function, 149\nkey-value pairs, JSON object, 210–211\nkey variable, 67, 149\nKhan Academy, 83\nL\nlatching, 205–206\nlat variable, 219, 225\nLEDs (light-emitting diodes)\nblinking, 243–245\ncontrolling, 261–265\nSparkFun Digital Sandbox, 236, 240\nLEFT global variable, 151, 153, 205\nlength() function, 189\nlibraries, 168. See also Minim library\nadding to Processing, 168\naudio, 186\ncalling functions, 170–171\ndocumentation, 190\nexample sketches, 190\nJavaScript, 6\nOpenCV for Processing, 183\nfor sensor data dashboard, \n250–251\nSerial, 250, 259, 261\ntips for working with, 190\nUnfolding, 217\nVideo, 168, 180, 182–183\nLoop sketch example, 168–170\nLibrary Manager, 168, 187, 190\nlicense agreement, Arduino, 237\nlight-emitting diodes (LEDs)\nblinking, 243–245\ncontrolling, 261–265\nSparkFun Digital Sandbox, 236, 240\nlight sensor, SparkFun Digital Sandbox, \n236, 247–250, 256, 258\nlight variable, 249, 251, 254, 256\nline() function, 13, 35–36, \n138–139, 199\nlines\ncolor, 36–37\ndrawing, 35–36\nend shapes, 38–39\nthickness, 37–38\n272 • I N DEX\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2158
  },
  {
    "chunk_full": "Linux\nArduino serial ports, 242\ninstalling Arduino software on, \n239–240\ninstalling Processing on, 6\nlive video, 177–180\nloadFile() function, 187, 195\nloadFont() function, 126\nloadImage() function, 96, 101, 231\nloadJSONObject() function, 219, 223\nloadSample() function, 195\nlocal variables, 51\nlocal weather dashboard. See weather \ndashboard project\nlogging sensor data, 259–260\nlogic, in Processing\nif() statement, 52–54\nlogical operators, 54–55\noverview, 52\nrelational operators, 54\nlogical operators, 54–55, 87\nlon variable, 219, 225\nloop, defined, 12\nloop() function, 170, 243, 244–245, \n247, 264\nLoop sketch example, 168–170\nadding video to, 171–172\nlibrary functions, 170–171\nmodifying to capture video, 177–180\ntints and filters, 172–174\nM\nMaeda, John, 4\n\"main\" JSON object, 218\n\"main\" property, JSON data, 217\nmainCond object, 226\nMaKey MaKey, 159–160\naudio processing controller, 186\nbuilding controller, 160–162\nconnecting to computer, 162–163\nexperimenting with, 164\nmaterials for use with, 148\nmusical synthesizer project, \n206–207\ntutorials, 162\nmap() function, 99, 193, 254\nmaps, 217\nMassachusetts Institute of Technology \n(MIT), 4\nmathematical operators, 51–52\nmatrices, 81–83\nanimating snowman with, 88–90\nfunctions defining, 83–84\nimage processing, 99, 100, 102–103\nmashup of projects with, 90\nmath behind, 83\norigin of, 84\nsimplifying code with, 90\ntransformations with, 84–88\nmaze game, 147–148\ndetecting wall touches with get(), \n156–157\nexperimenting with, 164\ngenerating maze, 154–155\nMaKey MaKey controller, 159–163\nmaterials for, 148\nmoving shapes with arrow keys, \n151–153\nreading input, 149–153\ntheme song, adding, 206\nvictory condition, adding, 157–159\nwriting sketch for, 155–156\nMaze Generator, 154–155\nmaze.png file, 154, 155\nMcKeague, Mark, 5\nmenu bar, 7, 8\nmetadata, 195–198\nmethods, class, 111, 112, 113, 114. See \nalso specific methods\nmic.left.get() function, 200\nmic object, 199, 204\nmicrocontroller, 234–235, 261\nmicrophone\naudio input with, 198–199\nSparkFun Digital Sandbox, 236\nmillis() function, 67, 73–74\nMinim class, 187, 195, 199, 203\nMinim library, 185–187\naudio input, 198–199\nAudioMetaData class, 195–198\nAudioSample class, 193–195\nbasic audio player application, \n187–189\nexperimenting with, 206–207\n273 • I N DEX\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2159
  },
  {
    "chunk_full": "Minim library (continued)\ninformation about, 186, 187\nMaKey MaKey controller, 186\nmusical synthesizer project, \n206–207\nplayback controls, creating, \n189–193\nsoundboard, creating, 203–206\nvisualizing sound, 199–202\nminim object, 187, 196, 199, 203, 204\nminute() function, 67, 71–72, 73\nMIT (Massachusetts Institute of \nTechnology), 4\nMode drop-down menu, 76\nMode Manager window, 76\nmodifiers, 24\nmodulo (%) function, 181\nmonth() function, 67\nmouseButton variable, 136\nmouseClicked() event function, 136, 138\nmouse cursor\ncoordinates of, 46–47\ndata dashboard project, 130\nmouseDragged() event function, 136, \n138–139, 143\nmouseMoved() event function, 137\nmousePressed() event function, 137, 140\nmousePressed variable, 136\nmouseReleased() event function, 137\nmouse system variables, 67, 136\nmouseWheel() event function, 144\nmouseX variable, 46, 67\ndata dashboard project, 130, 131\nget() function and, 157\nimages, 98, 99, 107\nmatrices, 85–86\nmaze game, 157–158\nmouseY variable, 46, 67\ndata dashboard project, 130, 131\nget() function and, 157\nimages, 98\nmatrices, 85–86\nmaze game, 157–158\nMovie class, 170\nmovieEvent() function, 170, 171\nmovie object, 170, 172\nmovies. See video\nMP3 file, playing, 188–189\nmultimedia presentation, 182–183\nmusical synthesizer project, 206–207\nmute() function, 188\nmyPort object, 250, 251, 252, 255\nN\nnested functions, 253\nnesting, JSON data, 211, 215\nNew button\nArduino IDE, 241\nProcessing, 8\nNew Tab option, 220\nnoLoop() function, 44, 46\nnoStroke() function, 27, 28, 36, 131, 257\nnoTint() function, 106, 173\nNOT logical operator (!), 55\nnumberLine array, 176\nO\nobject-oriented programming (OOP), \n111–115\nobjects. See also specific objects\nadding to sketch, 195\ncreating for soundboard project, 203\ndefined, 111\nJSON, 210\nOpen button\nArduino IDE, 241\nProcessing, 8\nopen source project, Processing as, \n5–6\nOpenCV for Processing library, 183\nOpenProcessing, sharing projects on, \n30–31, 75–76, 77–79\nOpenWeatherMap, 215–218, 219, \n228, 229\nOR logical operator (||), 55, 58\norigin\nellipse, 35\nimageMode() function, 97–98\nof matrices, 84\nrectangle, 19–20, 35\nsketch window, 14, 15\ntext, 121–122\n274 • I N DEX\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2160
  },
  {
    "chunk_full": "OS X\nArduino serial ports, 242\ninstalling Arduino software on, \n238, 240\ninstalling Processing on, 6, 7\noutlines, removing or modifying, 26–28\nOUTPUT constant, pinMode() \nfunction, 243\noutput object, 259\noutString string, 263\noverarching class, 187\nP\npackage manager, Ubuntu Linux, 239\npainting program, 140–143\npairs, JSON object, 210–211\nparameters, defined, 13\nparentheses (()), 13\nparseInt() function, 264\nparsing data. See custom data parsing \nfunction\npause() function, 182, 188, 191\npen color, simple painting program, 143\npenSize global variable, 144\nPFont data type, 124\nphoto booth project, 180–182\nphoto collage, 100–105\nphotos, adding to weather dashboard, \n231. See also image \nprocessing\nPImage data type, 95–96\nmaze game, 155\nobject-oriented programming, 112, \n113, 114\nphoto collage, 100\nphoto for weather dashboard, 231\nweather dashboard project icon, 229\npinMode() function, 243–244, 245, 264\npin names, Arduino, 236–237\npins, microcontroller, 235\npixel art, 17–18\nadding color, 23–25\ncombining with time-based art, 90\ndrafting, 18–21\nexperimenting with, 30–31\norder, importance of, 25–26\nremoving or modifying outlines, \n26–28\nscaling, 28–30\ntranslating sketch into code, 21–25\npixels, 13–14, 15\nPlayAFile.pde example file, 198, 201\nplayback controls, for audio player, \n189–193\nplay() function, 188, 191, 195\npmouseX variable, 67\npmouseY variable, 67\npopMatrix() function, 83, 90\nposition() function, 189\nPOSTERIZE filter, 109, 110\npos variable, 192\nPreferences window, 9–10\nprinting to console, 46–47\nprintln() function, 46–47\nArduino, 248, 249, 251, 254\ncustom functions, 223, 227\nlogging sensor data, 260\nmaze game, 157\nRGB LED, controlling, 263\nPrintWriter class, 259–260\nProcessing, 3–4\nCartesian coordinate plane, 13–15\ndata types, 13\nerror messages, 9\nHello World program, 10–11\nIDE, 7–10\ninstalling, 6–7\nas open source project, 5–6\nPreferences window, 9–10\nas programming language, 4\nstructural functions, 11–12\nsyntax, 11, 12–13\nas tool for art and design, 4–5\nProcessing Foundation, 4, 6\nprogramming language, Processing \nas, 4\nPROJECT parameter, strokeCap() \nfunction, 38–39\nproperties, JSON object, 210–211\npulsating shapes, creating, 59\npush button, SparkFun Digital \nSandbox, 236\npushMatrix() function, 83, 90\n275 • I N DEX\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2161
  },
  {
    "chunk_full": "Q\nquad() function, 39–40, 41\nquadrilaterals, drawing, 39–40\nR\nr variable, 262, 263\nRADIUS mode, 98\nrainbow-colored drawings application, \n138–140\nreading data\nfrom sensors, 247–250\nversus writing data, 246–247\nreadStringUntil() function, 252, 253\nReas, Casey, 4\nrectangles\nadding color to, 23–25\ncolor-changing feedback box, \n141–142\ndisplaying song position with, 193\ndrawing basic, 22–23\ndrawing pixel art with, 19–21\nmodes for, 98\norder, importance of, 25–26\norigin of, 19–20, 35\nremoving or modifying outlines, \n26–28\nscaling, 29–30\nfor snowman scene, 43\nvisualizing sensor data, 257\nrect() function, 22–23\nrectMode() function, 98\nRedBoard, SparkFun, 235\nred() function, 156–157\nred green blue (RGB) color format, \n23–24, 25, 140–142\nrelational operators, 54\nreset button, SparkFun Digital \nSandbox, 236\nResig, John, 6\nresolution\nimage, 96\nvideo, 172\nwebcam, 181\nrewind() function, 188\nRFID reader kit, 264\nRGB (red green blue) color format, \n23–24, 25, 140–142\nRGB LED, SparkFun Digital Sandbox, \n236, 261–265\nRIGHT global variable, 151, 153, 205\nrotate() function, 70\nabstract clock project, 74\nimage processing, 105\nmatrices, 84, 86–87\nROUND parameter, strokeCap() function, \n38–39\nRun button, 8, 26\nRX LED, SparkFun Digital Sandbox, 245\nS\nSave button\nArduino IDE, 241\nProcessing, 8\nsaveFrame() function, 182\nscale() function, 70\nimage processing, 99, 105\nmatrices, 87–88\nscaling pixel art, 28–30\nsecond() function, 67\nabstract clock project, 71–72, 73, 74\nextending range of values, 68–70\nmatrices, 86, 88\nsemicolon (;), 13\nsensor data dashboard, 250\nfetching serial data, 252–254\nimporting libraries and creating \nvariables, 250–251\npreparing Processing for serial \ncommunication, 251–252\ntesting serial connection, 254–256\nvisualizing data, 256–259\nsensors, 233–234. See also sensor \ndata dashboard\nanalog versus digital data, 246\nArduino\ndefined, 235\nIDE, 240–241\ninstalling software, 237–240\nblinking LED project, 243–245\nexperimenting with, 261–265\ninstalling Arduino software, 237–240\n276 • I N DEX\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2162
  },
  {
    "chunk_full": "logging data from, 259–260\nmicrocontroller, 234–235\nreading data from, 247–250\nreading versus writing data, \n246–247\nRGB LED, controlling, 261–265\nselecting board and choosing \nport, 242\nSparkFun Digital Sandbox, 235–237\nSerial.available() function, 264\nSerial.begin() function, 247\nserial communication, 250\nanalog data, 247\nfetching serial data, 252–254\npreparing Processing for, 251–252\ntesting serial connection, 254–256\ntip for Windows users, 259\nvisualizing sensor data, 256–259\nserialEvent() function, 252\nSerial library, 250, 259, 261\nSerial.list() function, 251\nSerial Monitor, Arduino IDE, 248, \n249, 250\nSerial object, 250\nSerial.parseInt() function, 264\nserial ports, Arduino, 242, 251, 255\nSerial.println() function, 248\nsetup() function, 11–12\narrays, 176\naudio input, 199\nAudioMetaData class, 196\nbasic animation, 55–56, 57\nbasic audio player application, 188\nblinking LED project, 243–244\ncapturing video, 177–179\ncustom functions, 221, 223\ndata dashboard, 129–130\nimage processing, 105\nJSON data, 220\nJSONObject class, 219\nlocal variables, 51\nmaze game, 155\nMinim library, 187\nmoving shapes with arrow keys, 151\nmultiple ellipses, animating, 60\nobject-oriented programming, 114\nparameters, 13\nphoto booth project, 180–181\npixel art, 21–22\npreparing for serial \ncommunication, 251\nreading data from sensors, 247\nRGB LED, controlling, 262, 264\nsingle-song audio player, 190\nfor snowman scene, 42\nfor soundboard project, 203–204\ntext, 127\nweather dashboard project, 227, \n229–230, 231\nshapes. See also ellipses; rectangles\nabstract clock project, 73–74\nanimating, 56–59\ncreative uses, 47\ndrawing, overview, 34\nlines, 35–39\nmoving with arrow keys, 151–153\nmoving with matrices, 82\nquadrilaterals, 39–40\nfor snowman scene, 43–45\ntriangles, 41\nShow Sketch Folder option, 95, 100\nsine wave\nanalog signal, 246\naudio, 200\nsingle-song audio player, 189–193\nAudioSample class, 193–195\ndisplaying metadata, 195–198\nsize, font, 125, 127\nsize() function, 13, 22, 42\nsketchbook, explained, 8\nsketch folder, 95\nSketch menu, 94, 95\nsketch window, 8\nfor audio input, 199\nCartesian coordinate plane, \n13–15, 19\ndisplaying song position in, 191–193\nscaling, 30\nskip() function, 189\nslide potentiometer, SparkFun Digital \nSandbox, 236\nslide switch, SparkFun Digital \nSandbox, 236\nsmooth() function, 55–56\n27 7 • I N DEX\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2163
  },
  {
    "chunk_full": "snowman project\nanimating with matrices, 88–90\ndrawing snowman, 42–45\nsoftware, Arduino, 237–241\nsong.mp3 file, 188\nsong object, 196\nsong.position(), 192\nsound. See audio processing\nsoundboard project, 203–206\nsound page tutorial, 207\nsound sensor, SparkFun Digital \nSandbox, 249, 256, 258\nsound variable, 249, 251, 254, 256\nSparkFun Digital Sandbox. See also \nsensor data dashboard\nArduino IDE, 240–241\nblinking LED project, 243–245\noverview, 234, 235–237\nreading data from sensors, 247–250\nRGB LED, controlling, 261–265\nselecting board and choosing \nport, 242\nSparkFun Inventor’s Kit, 211–213\nSparkFun RedBoard, 235\nsplit(inString), 253\nsquare brackets ([ ])\narrays, 175\nJSON arrays, 213, 214\nSQUARE parameter, strokeCap() \nfunction, 38–39\nsquare wave, 246\nstacking filters, 110–111\nstand-alone filters, 110\nstatistical data, dashboard for, 129–132\nStearns, Phillip, 5\nStillman, Dave, 171\nStop button, 8\nstr() function, 263\nString data type, 46, 50, 120–121, \n127, 132\nstrings, JSON data, 210\nstroke, defined, 27\nstroke() function, 27–28, 36, 138, \n143, 201\nstrokeCap() function, 38–39, 45\nstrokeWeight() function, 37–38, 138\nstructural functions, 11–12\nsyntax, Processing, 11, 12–13\nsynthesizer project, 206–207\n\"sys\" property, JSON data, 217\nsystem functions, 66–67\nsystem variables, 66–67, 136, 149\nT\ntabs, in Processing, 220–221\ntemperature, weather dashboard \nproject, 218\ntemperature sensor, SparkFun Digital \nSandbox, 236, 249, \n256, 258\ntemp variable, 249, 251, 254, 256\ntesting serial connection, 254–256\ntext, 119–120\ndata dashboard, 129–132\ndelay() function, 128–129\nexperimenting with, 133\nfonts, 124–126\nmodifier functions, 122–123\norigin of, 121–122\nString data type, 120–121\ntext() function, 121–122\ntypewriter application, 126–129\ntextAlign() function, 122, 131\ntext boxes, 122–123, 127\ntext file, logging sensor data in, \n259–260\ntextFont() function, 127, 131\ntext() function, 121–122\nAudioMetaData class, 196–197\ncolor-changing feedback box, 141\ndata dashboard project, 131\nsingle-song audio player, 191\ntypewriter application, 127\nweather dashboard project, 227\ntextSize() function, 122, 127, 131\nthickness, line, 37–38\nthis keyword, 170\nTHRESHOLD filter, 109, 110, 117\ntime-based art, 65–66\nabstract clock, 71–75\nbuilt-in values, 66–68\ndata dashboard project, 132\n278 • I N DEX\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2164
  },
  {
    "chunk_full": "extending range of values, 68–70\nmatrices, 90\nmouse and keypresses, 67\nsharing, 75–79\ntime-related functions, 67–68, 71–72\ntransformation functions, 70–71\nuseful, 79\ntime-lapse program, 182\ntint() function, 105–108, 172–173\ntints\napplying to images, 105–108\napplying to videos, 172–174\ntitle() method, 198\nTools Manager, 125\nTools menu, 25, 125\ntouch variable, 157\ntransformation functions, 70–71. See \nalso specific functions\nimage processing, 99–100, 103–105\nmatrices, 84–88\ntranslate() function, 70–71\nimage processing, 103\nmatrices, 85–86, 90\ntransparency, image, 105, 107\ntriangle() function, 41\ntriangles, drawing, 41\ntrigger() function, 195\ntrim() function, 253\nTX LED, SparkFun Digital Sandbox, 245\ntypewriter application, 126–129, 133\nU\nUbuntu Linux, installing Arduino \nsoftware on, 239–240\nUnfolding library, 217\nunMute() function, 188\nupdate_data() custom function, \n223–229\nupdate_data tab\ncreating, 220–221\nlisting data variables, 221–222\nwriting basic custom function in, \n222–224\nUP global variable, 151, 153, 205\nUpload button, Arduino IDE, 241, 245\nuploading to OpenProcessing, 76, \n77–79\nUSB Mini-B connector, SparkFun Digital \nSandbox, 236\nV\nvalues\nbuilt-in, 66–68\nJSON object, 210–211\nvals float array, 253–254\nval variable, 247–248\nvariables. See also specific variables\nbasic animation, 55–59\ncustom functions, 221–222\ndefined, 46\nfonts, 125–126\nglobal, 51, 55, 95, 129, 140–141\nfor images, creating, 100–101\ninitializing, 50–51, 95–96\nlocal, 51\nmathematical operators, 51–52\nmultiple ellipses, animating, 59–62\nparts of, 50–51\nfor sensor data dashboard, \n250–251\nsystem, 66–67, 136, 149\nwhere to use, 51\nVerify button, Arduino IDE, 241\nvictory condition, adding to maze game, \n157–159\nvideo, 167–168\nadding to sketch, 171–172\napplying tints and filters, 172–174\narrays, 175–177\ncapturing, 177–180\nexperimenting with, 182–183\nfor() loop, 174–175, 176–177\nlibraries, 168–171\nphoto booth, 180–182\nVideo library, 168, 180, 182–183\nvisualizing\nsensor data, 256–259\nsound, 199–202\n.vlw files, 125\nvolume, 199\n279 • I N DEX\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2165
  },
  {
    "chunk_full": "W\nwalls\ncreating for bouncing ellipse \nanimation, 57–59\ntouches, detecting with get(), \n156–157\nWarhol, Andy, projects inspired by, \n115–117\nweather array object, 226\nweather dashboard project\ncustom data parsing function, \n220–227\ndrawing dashboard in main tab, \n227–229\nexperimenting with, 231\ngetting weather data in JSON, \n215–218\nJSON arrays, 213–215\nJSON data overview, 210–213\noverview, 209–210\npulling weather icon from Web, \n229–230\nusing JSON data in Processing, \n218–220\nweather.getJSONObject(), 226\nweatherIcon object, 229\n\"weather\" object, JSON data, 217\nwebcam, capturing video with, 177–180\nweb-export folder, 77, 78\nwhitespace, 253\nwidth. See x-coordinates\nwidth value, 58, 85\n\"wind\" JSON object, 218\nWindows\ninstalling Arduino software on, \n237–238, 240\ninstalling Processing on, 6, 7\nserial communication tip, 259\nWolfram MathWorld, 83\nwriting data, 246–247\nX\nx-coordinates\nCartesian coordinate plane, 14, 15\nfor ellipses, 34\nmaze game, 155\nof mouse cursor, 46–47\nmoving shapes with arrow keys, \n151, 153\nfor pixel art, 20–21\nrect() function, 22\nx global variable\naudio input, 199\nbouncing ellipse animation, 55, \n56, 58\nmultiple ellipses, animating, \n59–60, 62\nsound visualization, 201\nY\nY1 value, sound visualization, 200\nY2 value, sound visualization, 200\ny-coordinates\nCartesian coordinate plane, 14, 15\nfor ellipses, 34\nmaze game, 155\nof mouse cursor, 46–47\nmoving shapes with arrow keys, \n151, 153\nfor pixel art, 20–21\nrect() function, 22\nyear() function, 67\n280 • I N DEX\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2166
  },
  {
    "chunk_full": "ABOUT THE\nSPARKFUN GUIDE SERIES\nThe SparkFun Guide series is a collaboration between No Starch Press and \nSparkFun Electronics, an online retailer that sells bits and pieces to make your \nown electronics projects possible. Each title in the series is written by an experi­\nenced maker on the SparkFun staff and edited by the folks at No Starch Press. \nThe result? The book you’re reading now.\nCOMING SOON\nThe SparkFun Guide to Arduino will teach you how to use the open source \nArduino hardware platform to explore electronics. With the help of 13 hands-on \nprojects like a robot that draws, a servo-controlled balance beam, and even a \ndigital Etch-a-Sketch, you’ll learn to build circuits, write programs, collect sensor \ndata, and control motors, as well as other skills essential for any aspiring maker. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2167
  },
  {
    "chunk_full": "The SparkFun Guide to Processing is set in Gauge, Helvetica Neue, \nMontserrat, and TheSansMono Condensed. \nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2168
  },
  {
    "chunk_full": "UPDATES\nVisit http://www.nostarch.com/sparkfunprocessing/ for updates, errata, and other \ninformation.\nphone:\n800.420.7240 or\n415.863.9900\nemail:\nsales@nostarch.com\nweb:\nwww.nostarch.com\nTHE SPARKFUN GUIDE \nTO ARDUINO\nby derek runberg and brian huang\nwinter 2016, 200 pp., $29.95\nisbn 978-1-59327-652-2\nfull color\nJUNKYARD JAM BAND\nDIY Musical Instruments \nand Noisemakers\nby david erik nelson\nfall 2015, 408 pp., $24.95\nisbn 978-1-59327-611-9\nLEARN TO PROGRAM \nWITH MINECRAFT\nby craig richardson\nfall 2015, 304 pp., $29.95\nisbn 978-1-59327-670-6\nfull color\nTHE MAKER’S GUIDE \nTO THE ZOMBIE \nAPOCALYPSE\nDefend your Base with \nSimple Circuits, Arduino, \nand Raspberry Pi\nby simon monk\nfall 2015, 300 pp., $24.95\nisbn 978-1-59327-667-6\nPYTHON FOR KIDS\nA Playful Introduction to \nProgramming\nby jason r. briggs\ndecember 2012, 344 pp., $34.95\nisbn 978-1-59327-407-8\nfull color\nJAVASCRIPT FOR KIDS\nA Playful Introduction to \nProgramming\nby nick morgan\ndecember 2014, 336 pp., $34.95\nisbn 978-1-59327-408-5\nfull color\nMore no-nonsense books from \nNO STARCH PRESS\nwww.it-ebooks.info\n",
    "book_id": "the_sparkfun_guide_to_processing",
    "book_title": "The SparkFun Guide to Processing",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2169
  },
  {
    "chunk_full": "Visualizing Data\nBen Fry\nBeijing • Cambridge • Farnham • Köln • Paris • Sebastopol • Taipei • Tokyo\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2170
  },
  {
    "chunk_full": "Visualizing Data\nby Ben Fry\nCopyright © 2008 Ben Fry. All rights reserved.\nPrinted in the United States of America.\nPublished by O’Reilly Media, Inc., 1005 Gravenstein Highway North, Sebastopol, CA 95472.\nO’Reilly books may be purchased for educational, business, or sales promotional use. Online editions\nare also available for most titles (safari.oreilly.com). For more information, contact our\ncorporate/institutional sales department: (800) 998-9938 or corporate@oreilly.com.\nEditor: Andy Oram\nProduction Editor: Loranah Dimant\nCopyeditor: Genevieve d’Entremont\nProofreader: Loranah Dimant\nIndexer: Ellen Troutman Zaig\nCover Designer: Karen Montgomery\nInterior Designer: David Futato\nIllustrator: Jessamyn Read\nPrinting History:\nDecember 2007:\nFirst Edition.\nNutshell Handbook, the Nutshell Handbook logo, and the O’Reilly logo are registered trademarks of\nO’Reilly Media, Inc. Visualizing Data, the image of an owl, and related trade dress are trademarks of\nO’Reilly Media, Inc.\nMany of the designations used by manufacturers and sellers to distinguish their products are claimed as\ntrademarks. Where those designations appear in this book, and O’Reilly Media, Inc. was aware of a\ntrademark claim, the designations have been printed in caps or initial caps.\nWhile every precaution has been taken in the preparation of this book, the publisher and author assume\nno responsibility for errors or omissions, or for damages resulting from the use of the information\ncontained herein.\nThis book uses RepKover™,  a durable and flexible lay-flat binding.\nISBN-10: 0-596-51455-7\nISBN-13: 978-0-596-51455-6\n[C]\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2171
  },
  {
    "chunk_full": "iii\nTable of Contents\nPreface  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . vii\n1. The Seven Stages of Visualizing Data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1\nWhy Data Display Requires Planning\n 2\nAn Example\n 6\nIteration and Combination\n 14\nPrinciples\n 15\nOnward\n 18\n2. Getting Started with Processing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19\nSketching with Processing\n 20\nExporting and Distributing Your Work\n 23\nExamples and Reference\n 24\nFunctions\n 27\nSketching and Scripting\n 28\nReady?\n 30\n3. Mapping  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 31\nDrawing a Map\n 31\nLocations on a Map\n 32\nData on a Map\n 34\nUsing Your Own Data\n 51\nNext Steps\n 53\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2172
  },
  {
    "chunk_full": "iv\n|\nTable of Contents\n4. Time Series  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 54\nMilk, Tea, and Coffee (Acquire and Parse)\n 55\nCleaning the Table (Filter and Mine)\n 55\nA Simple Plot (Represent and Refine)\n 57\nLabeling the Current Data Set (Refine and Interact)\n 59\nDrawing Axis Labels (Refine)\n 62\nChoosing a Proper Representation (Represent and Refine)\n 73\nUsing Rollovers to Highlight Points (Interact)\n 76\nWays to Connect Points (Refine)\n 77\nText Labels As Tabbed Panes (Interact)\n 83\nInterpolation Between Data Sets (Interact)\n 87\nEnd of the Series\n 92\n5. Connections and Correlations  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 94\nChanging Data Sources\n 94\nProblem Statement\n 95\nPreprocessing\n 96\nUsing the Preprocessed Data (Acquire, Parse, Filter, Mine)\n 111\nDisplaying the Results (Represent)\n 118\nReturning to the Question (Refine)\n 121\nSophisticated Sorting: Using Salary As a Tiebreaker (Mine)\n 126\nMoving to Multiple Days (Interact)\n 127\nSmoothing Out the Interaction (Refine)\n 132\nDeployment Considerations (Acquire, Parse, Filter)\n 133\n6. Scatterplot Maps  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 145\nPreprocessing\n 145\nLoading the Data (Acquire and Parse)\n 155\nDrawing a Scatterplot of Zip Codes (Mine and Represent)\n 157\nHighlighting Points While Typing (Refine and Interact)\n 158\nShow the Currently Selected Point (Refine)\n 162\nProgressively Dimming and Brightening Points (Refine)\n 165\nZooming In (Interact)\n 167\nChanging How Points Are Drawn When Zooming (Refine)\n 177\nDeployment Issues (Acquire and Refine)\n 178\nNext Steps\n 180\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2173
  },
  {
    "chunk_full": "Table of Contents\n|\nv\n7. Trees, Hierarchies, and Recursion  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 182\nUsing Recursion to Build a Directory Tree\n 182\nUsing a Queue to Load Asynchronously (Interact)\n 186\nAn Introduction to Treemaps\n 189\nWhich Files Are Using the Most Space?\n 194\nViewing Folder Contents (Interact)\n 199\nImproving the Treemap Display (Refine)\n 201\nFlying Through Files (Interact)\n 208\nNext Steps\n 219\n8. Networks and Graphs  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 220\nSimple Graph Demo\n 220\nA More Complicated Graph\n 229\nApproaching Network Problems\n 240\nAdvanced Graph Example\n 242\nMining Additional Information\n 262\n9. Acquiring Data  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 264\nWhere to Find Data\n 265\nTools for Acquiring Data from the Internet\n 266\nLocating Files for Use with Processing\n 268\nLoading Text Data\n 270\nDealing with Files and Folders\n 276\nListing Files in a Folder\n 277\nAsynchronous Image Downloads\n 281\nUsing openStream( ) As a Bridge to Java\n 284\nDealing with Byte Arrays\n 284\nAdvanced Web Techniques\n 284\nUsing a Database\n 288\nDealing with a Large Number of Files\n 295\n10. Parsing Data  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 296\nLevels of Effort\n 296\nTools for Gathering Clues\n 298\nText Is Best\n 299\nText Markup Languages\n 303\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2174
  },
  {
    "chunk_full": "vi\n|\nTable of Contents\nRegular Expressions (regexps)\n 316\nGrammars and BNF Notation\n 316\nCompressed Data\n 317\nVectors and Geometry\n 320\nBinary Data Formats\n 325\nAdvanced Detective Work\n 328\n11. Integrating Processing with Java  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 331\nProgramming Modes\n 331\nAdditional Source Files (Tabs)\n 334\nThe Preprocessor\n 335\nAPI Structure\n 336\nEmbedding PApplet into Java Applications\n 338\nUsing Java Code in a Processing Sketch\n 342\nUsing Libraries\n 343\nBuilding with the Source for processing.core\n 343\nBibliography . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 345\nIndex  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 349\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2175
  },
  {
    "chunk_full": "vii\nPreface1\nWhen I show visualization projects to an audience, one of the most common ques-\ntions is, “How do you do this?” Other books about data visualization do exist, but\nthe most prominent ones are often collections of academic papers; in any case, few\nexplain how to actually build representations. Books from the field of design that\noffer advice for creating visualizations see the field only in terms of static displays,\nignoring the possibility of dynamic, software-based visualizations. A number spend\nmost of their time dissecting what’s wrong with given representations—sometimes\nproviding solutions, but more often not.\nIn this book, I wanted to offer something for people who want to get started build-\ning their own visualizations, something to use as a jumping-off point for more com-\nplicated work. I don’t cover everything, but I’ve tried to provide enough background\nso that you’ll know where to go next.\nI wrote this book because I wanted to have a way to make the ideas from\nComputational Information Design, my Ph.D. dissertation, more accessible to a wider\naudience. More specifically, I wanted to see these ideas actually applied, rather than\nlimited to an academic document on a shelf. My dissertation covered the process of\ngetting from data to understanding; in other words, from considering a pile of infor-\nmation to presenting it usefully, in a way that can be easily understood and inter-\nacted with. This process is covered in Chapter 1, and used throughout the book as a\nframework for working through visualizations.\nMost of the examples in this book are written from scratch. Rather than relying on\ntoolkits or libraries that produce charts or graphs, instead you learn how to create\nthem using a little math, some lines and rectangles, and bits of text. Many readers\nmay have tried some toolkits and found them lacking, particularly because they want\nto customize the display of their information. A tool that has generic uses will pro-\nduce only generic displays, which can be disappointing if the displays do not suit\nyour data set. Data can take many interesting forms that require unique types of dis-\nplay and interaction; this book aims to open up your imagination in ways that collec-\ntions of bar and pie charts cannot.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2176
  },
  {
    "chunk_full": "viii\n|\nPreface\nThis book uses Processing (http://processing.org), a simple programming environ-\nment and API that I co-developed with Casey Reas of UCLA. Processing’s program-\nming environment makes it easy to sit down and “sketch” code to produce visual\nimages quickly. Once you outgrow the environment, it’s possible to use a regular\nJava IDE to write Processing code because the API is based on Java. Processing is free\nto download and open source. It has been in development since 2001, and we’ve had\nabout 100,000 people try it out in the last 12 months. Today Processing is used by\ntens of thousands of people for all manners of work. When I began writing this\nbook, I debated which language and API to use. It could have been based on Java,\nbut I realized I would have found myself re-implementing the Processing API to\nmake things simple. It could have been based on Actionscript and Flash, but Flash is\nexpensive to buy and tends to break down when dealing with larger data sets. Other\nscripting languages such as Python and Ruby are useful, but their execution speeds\ndon’t keep up with Java. In the end, Processing was the right combination of cost,\nease of use, and execution speed.\nThe Audience for This Book\nIn the spring of 2007, I co-taught an Information Visualization course at Carnegie\nMellon. Our 30 students ranged from a freshman in the art school to a Ph.D. candi-\ndate in computer science. In between were graduate students from the School of\nDesign and various other undergrads. Their skill levels were enormously varied, but\nthat was less important than their level of curiosity, and students who were curious\nand willing to put in some work managed to overcome the technical difficulties (for\nthe art and design students) or the visual demands (for those with an engineering\nbackground).\nThis book is targeted at a similar range of backgrounds, if less academic. I’m trying\nto address people who want to ask questions, play with data, and gain an under-\nstanding of how to communicate information to others. For instance, the book is for\nweb designers who want to build more complex visualizations than their tools will\nallow. It’s also for software engineers who want to become adept at writing software\nthat represents data—that calls on them to try out new skills, even if they have some\nbackground in building UIs. None of this is rocket science, but it isn’t always obvi-\nous how to get started.\nFundamentally, this book is for people who have a data set, a curiosity to explore it,\nand an idea of what they want to communicate about it. The set of people who visu-\nalize data is growing extremely quickly as we deal with more and more information.\nEven more important, the audience has moved far beyond those who are experts in\nvisualization. By making these ideas accessible to a wide range of people, we should\nsee some truly amazing things in the next decade.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2177
  },
  {
    "chunk_full": "Preface\n|\nix\nBackground Information\nBecause the audience for this book includes both programmers and non-\nprogrammers, the material varies in complexity. Beginners should be able to pick it\nup and get through the first few chapters, but they may find themselves lost as we get\ninto more complicated programming topics. If you’re looking for a gentler introduc-\ntion to programming with Processing, other books are available (including one writ-\nten by Casey Reas and me) that are more suited to learning the concepts from\nscratch, though they don’t cover the specifics of visualizing data. Chapters 1–4 can\nbe understood by someone without any programming background, but the later\nchapters quickly become more difficult.\nYou’ll be most successful with this book if you have some familiarity with writing\ncode—whether it’s Java, C++, or Actionscript. This is not an advanced text by any\nmeans, but a little background in writing code will go a long way toward understand-\ning the concepts.\nOverview of the Book\nChapter 1, The Seven Stages of Visualizing Data, covers the process for developing a\nuseful visualization, from acquiring data to interacting with it. This is the framework\nwe’ll use as we attack problems in later chapters.\nChapter 2, Getting Started with Processing, is a basic introduction to the Processing\nenvironment and syntax. It provides a bit of background on the structure of the API\nand the philosophy behind the project’s development.\nChapters 3 through 8 cover example projects that get progressively more\ncomplicated.\nChapter 3, Mapping, plots data points on a map, our first introduction to reading\ndata from the disk and representing it on the screen.\nChapter 4, Time Series, covers several methods of plotting charts that represent how\ndata changes over time.\nChapter 5, Connections and Correlations, is the first chapter that really delves into\nhow we acquire and parse a data set. The example in this chapter reads data from the\nMLB.com web site and produces an image correlating player salaries and team per-\nformance over the course of a baseball season. It’s an in-depth example illustrating\nhow to scrape data from a web site that lacks an official API. These techniques can\nbe applied to many other projects, even if you’re not interested in baseball.\nChapter 6, Scatterplot Maps, answers the question, “How do zip codes relate to geog-\nraphy?” by developing a project that allows users to progressively refine a U.S. map\nas they type a zip code.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2178
  },
  {
    "chunk_full": "x\n|\nPreface\nChapter 7, Trees, Hierarchies, and Recursion, discusses trees and hierarchies. It cov-\ners recursion, an important topic when dealing with tree structures, and treemaps, a\nuseful representation for certain kinds of tree data.\nChapter 8, Networks and Graphs, is about networks of information, also called\ngraphs. The first half discusses ways to produce a representation of connections\nbetween many nodes in a network, and the second half shows an example of doing\nthe same with web site traffic data to see how a site is used over time. The latter\nproject also covers how to integrate Processing with Eclipse, a Java IDE.\nThe last three chapters contain reference material, including more background and\ntechniques for acquiring and parsing data.\nChapter 9, Acquiring Data, is a kind of cookbook that covers all sorts of practical\ntechniques, from reading data from files, to spoofing a web browser, to storing data\nin databases.\nChapter 10, Parsing Data, is also written in cookbook-style, with examples that illus-\ntrate the detective work involved in parsing data. Examples include parsing HTML\ntables, XML, compressed data, and SVG shapes. It even includes a basic example of\nwatching a network connection to understand how an undocumented data protocol\nworks.\nChapter 11, Integrating Processing with Java, covers the specifics of how the Process-\ning API integrates with Java. It’s more of an appendix aimed at advanced Java pro-\ngrammers who want to use the API with their own projects.\nSafari® Books Online\nWhen you see a Safari® Books Online icon on the cover of your\nfavorite technology book, that means the book is available online\nthrough the O’Reilly Network Safari Bookshelf.\nSafari offers a solution that’s better than e-books. It’s a virtual library that lets you\neasily search thousands of top tech books, cut and paste code samples, download\nchapters, and find quick answers when you need the most accurate, current informa-\ntion. Try it for free at http://safari.oreilly.com.\nAcknowledgments\nI’d first like to thank O’Reilly Media for taking on this book. I was initially put in\ntouch with Steve Weiss, who met with me to discuss the book in the spring of 2006.\nSteve later put me in touch with the Cambridge office, where Mike Hendrickson\nbecame a champion for the book and worked to make sure that the contract hap-\npened. Tim O’Reilly’s enthusiasm along the way helped seal it.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2179
  },
  {
    "chunk_full": "Preface\n|\nxi\nI owe a great deal to my editor, Andy Oram, and assistant editor, Isabel Kunkle. With-\nout Andy’s hard work and helpful suggestions, or Isabel’s focus on our schedule, I\nmight still be working on the outline for Chapter 4. Thanks also to those who reviewed\nthe draft manuscript: Brian DeLacey, Aidan Delaney, and Harry Hochheiser.\nThis book is based on ideas first developed as part of my doctoral work at the MIT\nMedia Laboratory. For that I owe my advisor of six years, John Maeda, and my\ncommittee members, David Altshuler and Chris Pullman. Chris also pushed to have\nthe ideas published properly, which was a great encouragement.\nI’d also like to thank Casey Reas, my friend, inspiration, and collaborator on Process-\ning, who has ensured that the project continues several years after its inception.\nThe content of the examples has been influenced by many courses I’ve taught as\nworkshops or in classrooms over the last few years—in particular, my visualization\ncourses at Harvard University and Carnegie Mellon (co-taught with Golan Levin),\nand workshops at Anderson Ranch in Colorado and at Hangar in Barcelona. I owe a\nlot to these student guinea pigs who taught me how to best explain this work.\nFinally, thanks to my family, and immeasurable thanks to Shannon Hunt for edit-\ning, input, and moral support. Hers will be a tough act to follow while I return in\nkind as she writes her book in the coming months.\nConventions Used in This Book\nThe following typographical conventions are used in this book:\nPlain text\nIndicates menu titles, menu options, menu buttons, and keyboard accelerators\n(such as Alt and Ctrl).\nItalic\nIndicates new terms, URLs, email addresses, filenames, file extensions, path-\nnames, directories, and Unix utilities.\nConstant width\nIndicates commands, options, variables, functions, types, classes, methods,\nHTML and XML tags, the contents of files, and the output from commands.\nConstant width bold\nShows commands or other text that should be typed literally by the user.\nConstant width italic\nShows text that should be replaced with user-supplied values.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2180
  },
  {
    "chunk_full": "xii\n|\nPreface\nThis icon signifies a tip, suggestion, or general note.\nThis icon indicates a warning or caution.\nUsing Code Examples\nThis book is here to help you get your job done. In general, you may use the code in\nthis book in your programs and documentation. You do not need to contact us for\npermission unless you’re reproducing a significant portion of the code. For example,\nwriting a program that uses several chunks of code from this book does not require\npermission. Selling or distributing a CD-ROM of examples from O’Reilly books does\nrequire permission. Answering a question by citing this book and quoting example\ncode does not require permission. Incorporating a significant amount of example\ncode from this book into your product’s documentation does require permission.\nWe appreciate, but do not require, attribution. An attribution usually includes the\ntitle, author, publisher, and ISBN. For example: “Visualizing Data by Ben Fry. Copy-\nright 2008 Ben Fry, 978-0-596-51455-6.”\nIf you think your use of code examples falls outside fair use or the permission given\nhere, feel free to contact us at permissions@oreilly.com.\nWe’d Like to Hear from You\nPlease address comments and questions concerning this book to the publisher:\nO’Reilly Media, Inc.\n1005 Gravenstein Highway North\nSebastopol, CA 95472\n800-998-9938 (in the United States or Canada)\n707-829-0515 (international or local)\n707-829-0104 (fax)\nWe have a web page for this book, where we list errata, examples, and any addi-\ntional information. You can access this page at:\nhttp://www.oreilly.com/catalog/9780596514556\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2181
  },
  {
    "chunk_full": "Preface\n|\nxiii\nThe author also has a site for the book at:\nhttp://benfry.com/writing\nTo comment or ask technical questions about this book, send email to:\nbookquestions@oreilly.com\nFor more information about our books, conferences, Resource Centers, and the\nO’Reilly Network, see our web site at:\nhttp://www.oreilly.com\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2182
  },
  {
    "chunk_full": "",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2183
  },
  {
    "chunk_full": "1\nChapter 1\nCHAPTER 1\nThe Seven Stages of Visualizing Data1\nThe greatest value of a picture is when it forces us to\nnotice what we never expected to see.\n—John Tukey\nWhat do the paths that millions of visitors take through a web site look like? How do\nthe 3.1 billion A, C, G, and T letters of the human genome compare to those of the\nchimp or the mouse? Out of a few hundred thousand files on your computer’s hard\ndisk, which ones are taking up the most space, and how often do you use them? By\napplying methods from the fields of computer science, statistics, data mining,\ngraphic design, and visualization, we can begin to answer these questions in a mean-\ningful way that also makes the answers accessible to others.\nAll of the previous questions involve a large quantity of data, which makes it\nextremely difficult to gain a “big picture” understanding of its meaning. The prob-\nlem is further compounded by the data’s continually changing nature, which can\nresult from new information being added or older information continuously being\nrefined. This deluge of data necessitates new software-based tools, and its complex-\nity requires extra consideration. Whenever we analyze data, our goal is to highlight\nits features in order of their importance, reveal patterns, and simultaneously show\nfeatures that exist across multiple dimensions.\nThis book shows you how to make use of data as a resource that you might other-\nwise never tap. You’ll learn basic visualization principles, how to choose the right\nkind of display for your purposes, and how to provide interactive features that will\nbring users to your site over and over again. You’ll also learn to program in Process-\ning, a simple but powerful environment that lets you quickly carry out the tech-\nniques in this book. You’ll find Processing a good basis for designing interfaces\naround large data sets, but even if you move to other visualization tools, the ways of\nthinking presented here will serve you as long as human beings continue to process\ninformation the same way they’ve always done.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2184
  },
  {
    "chunk_full": "2\n|\nChapter 1: The Seven Stages of Visualizing Data\nWhy Data Display Requires Planning\nEach set of data has particular display needs, and the purpose for which you’re using\nthe data set has just as much of an effect on those needs as the data itself. There are\ndozens of quick tools for developing graphics in a cookie-cutter fashion in office pro-\ngrams, on the Web, and elsewhere, but complex data sets used for specialized appli-\ncations require unique treatment. Throughout this book, we’ll discuss how the\ncharacteristics of a data set help determine what kind of visualization you’ll use.\nToo Much Information\nWhen you hear the term “information overload,” you probably know exactly what it\nmeans because it’s something you deal with daily. In Richard Saul Wurman’s book\nInformation Anxiety (Doubleday), he describes how the New York Times on an aver-\nage Sunday contains more information than a Renaissance-era person had access to\nin his entire lifetime.\nBut this is an exciting time. For $300, you can purchase a commodity PC that has\nthousands of times more computing power than the first computers used to tabulate\nthe U.S. Census. The capability of modern machines is astounding. Performing\nsophisticated data analysis no longer requires a research laboratory, just a cheap\nmachine and some code. Complex data sets can be accessed, explored, and analyzed\nby the public in a way that simply was not possible in the past.\nThe past 10 years have also brought about significant changes in the graphic capabil-\nities of average machines. Driven by the gaming industry, high-end 2D and 3D\ngraphics hardware no longer requires dedicated machines from specific vendors, but\ncan instead be purchased as a $100 add-on card and is standard equipment for any\nmachine costing $700 or more. When not used for gaming, these cards can render\nextremely sophisticated models with thousands of shapes, and can do so quickly\nenough to provide smooth, interactive animation. And these prices will only\ndecrease—within a few years’ time, accelerated graphics will be standard equipment\non the aforementioned commodity PC.\nData Collection\nWe’re getting better and better at collecting data, but we lag in what we can do with\nit. Most of the examples in this book come from freely available data sources on the\nInternet. Lots of data is out there, but it’s not being used to its greatest potential\nbecause it’s not being visualized as well as it could be. (More about this can be found\nin Chapter 9, which covers places to find data and how to retrieve it.)\nWith all the data we’ve collected, we still don’t have many satisfactory answers to the\nsort of questions that we started with. This is the greatest challenge of our information-\nrich era: how can these questions be answered quickly, if not instantaneously? We’re\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2185
  },
  {
    "chunk_full": "Why Data Display Requires Planning\n|\n3\ngetting so good at measuring and recording things, why haven’t we kept up with the\nmethods to understand and communicate this information?\nThinking About Data\nWe also do very little sophisticated thinking about information itself. When AOL\nreleased a data set containing the search queries of millions of users that had been\n“randomized” to protect the innocent, articles soon appeared about how people\ncould be identified by—and embarrassed by—information regarding their search\nhabits. Even though we can collect this kind of information, we often don’t know\nquite what it means. Was this a major issue or did it simply embarrass a few AOL\nusers? Similarly, when millions of records of personal data are lost or accessed ille-\ngally, what does that mean? With so few people addressing data, our understanding\nremains quite narrow, boiling down to things like, “My credit card number might be\nstolen” or “Do I care if anyone sees what I search?”\nData Never Stays the Same\nWe might be accustomed to thinking about data as fixed values to be analyzed, but\ndata is a moving target. How do we build representations of data that adjust to new\nvalues every second, hour, or week? This is a necessity because most data comes from\nthe real world, where there are no absolutes. The temperature changes, the train runs\nlate, or a product launch causes the traffic pattern on a web site to change drastically.\nWhat happens when things start moving? How do we interact with “live” data? How\ndo we unravel data as it changes over time? We might use animation to play back the\nevolution of a data set, or interaction to control what time span we’re looking at.\nHow can we write code for these situations?\nWhat Is the Question?\nAs machines have enormously increased the capacity with which we can create\n(through measurements and sampling) and store data, it becomes easier to dis-\nassociate the data from the original reason for collecting it. This leads to an all-too\nfrequent situation: approaching visualization problems with the question, “How can\nwe possibly understand so much data?”\nAs a contrast, think about subway maps, which are abstracted from the complex shape\nof the city and are focused on the rider’s goal: to get from one place to the next. Limit-\ning the detail of each shape, turn, and geographical formation reduces this complex\ndata set to answering the rider’s question: “How do I get from point A to point B?”\nHarry Beck invented the format now commonly used for subway maps in the 1930s,\nwhen he redesigned the map of the London Underground. Inspired by the layout of\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2186
  },
  {
    "chunk_full": "4\n|\nChapter 1: The Seven Stages of Visualizing Data\ncircuit boards, the map simplified the complicated Tube system to a series of verti-\ncal, horizontal, and 45˚diagonal lines. While attempting to preserve as much of the\nrelative physical layout as possible, the map shows only the connections between sta-\ntions, as that is the only information that riders use to decide their paths.\nWhen beginning a visualization project, it’s common to focus on all the data that has\nbeen collected so far. The amounts of information might be enormous—people like\nto brag about how many gigabytes of data they’ve collected and how difficult their\nvisualization problem is. But great information visualization never starts from the\nstandpoint of the data set; it starts with questions. Why was the data collected,\nwhat’s interesting about it, and what stories can it tell?\nThe most important part of understanding data is identifying the question that you\nwant to answer. Rather than thinking about the data that was collected, think about\nhow it will be used and work backward to what was collected. You collect data\nbecause you want to know something about it. If you don’t really know why you’re\ncollecting it, you’re just hoarding it. It’s easy to say things like, “I want to know\nwhat’s in it,” or “I want to know what it means.” Sure, but what’s meaningful?\nThe more specific you can make your question, the more specific and clear the visual\nresult will be. When questions have a broad scope, as in “exploratory data analysis”\ntasks, the answers themselves will be broad and often geared toward those who are\nthemselves versed in the data. John Tukey, who coined the term Exploratory Data\nAnalysis, said “...pictures based on exploration of data should force their messages\nupon us.”* Too many data problems are labeled “exploratory” because the data col-\nlected is overwhelming, even though the original purpose was to answer a specific\nquestion or achieve specific results.\nOne of the most important (and least technical) skills in understanding data is ask-\ning good questions. An appropriate question shares an interest you have in the data,\ntries to convey it to others, and is curiosity-oriented rather than math-oriented.\nVisualizing data is just like any other type of communication: success is defined by\nyour audience’s ability to pick up on, and be excited about, your insight.\nAdmittedly, you may have a rich set of data to which you want to provide flexible\naccess by not defining your question too narrowly. Even then, your goal should be to\nhighlight key findings. There is a tendency in the visualization field to borrow from\nthe statistics field and separate problems into exploratory and expository, but for the\npurposes of this book, this distinction is not useful. The same methods and process\nare used for both.\nIn short, a proper visualization is a kind of narrative, providing a clear answer to a\nquestion without extraneous details. By focusing on the original intent of the ques-\ntion, you can eliminate such details because the question provides a benchmark for\nwhat is and is not necessary.\n* Tukey, John Wilder. Exploratory Data Analysis. Reading, MA: Addison-Wesley, 1977.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2187
  },
  {
    "chunk_full": "Why Data Display Requires Planning\n|\n5\nA Combination of Many Disciplines\nGiven the complexity of data, using it to provide a meaningful solution requires\ninsights from diverse fields: statistics, data mining, graphic design, and information\nvisualization. However, each field has evolved in isolation from the others.\nThus, visual design—-the field of mapping data to a visual form—typically does not\naddress how to handle thousands or tens of thousands of items of data. Data mining\ntechniques have such capabilities, but they are disconnected from the means to inter-\nact with the data. Software-based information visualization adds building blocks for\ninteracting with and representing various kinds of abstract data, but typically these\nmethods undervalue the aesthetic principles of visual design rather than embrace their\nstrength as a necessary aid to effective communication. Someone approaching a data\nrepresentation problem (such as a scientist trying to visualize the results of a study\ninvolving a few thousand pieces of genetic data) often finds it difficult to choose a rep-\nresentation and wouldn’t even know what tools to use or books to read to begin.\nProcess\nWe must reconcile these fields as parts of a single process. Graphic designers can learn\nthe computer science necessary for visualization, and statisticians can communicate\ntheir data more effectively by understanding the visual design principles behind data\nrepresentation. The methods themselves are not new, but their isolation within indi-\nvidual fields has prevented them from being used together. In this book, we use a pro-\ncess that bridges the individual disciplines, placing the focus and consideration on how\ndata is understood rather than on the viewpoint and tools of each individual field.\nThe process of understanding data begins with a set of numbers and a question. The\nfollowing steps form a path to the answer:\nAcquire\nObtain the data, whether from a file on a disk or a source over a network.\nParse\nProvide some structure for the data’s meaning, and order it into categories.\nFilter\nRemove all but the data of interest.\nMine\nApply methods from statistics or data mining as a way to discern patterns or\nplace the data in mathematical context.\nRepresent\nChoose a basic visual model, such as a bar graph, list, or tree.\nRefine\nImprove the basic representation to make it clearer and more visually engaging.\nInteract\nAdd methods for manipulating the data or controlling what features are visible.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2188
  },
  {
    "chunk_full": "6\n|\nChapter 1: The Seven Stages of Visualizing Data\nOf course, these steps can’t be followed slavishly. You can expect that they’ll be\ninvolved at one time or another in projects you develop, but sometimes it will be four\nof the seven, and at other times all of them.\nPart of the problem with the individual approaches to dealing with data is that the\nseparation of fields leads to different people each solving an isolated part of the prob-\nlem. When this occurs, something is lost at each transition—like a “telephone game”\nin which each step of the process diminishes aspects of the initial question under\nconsideration. The initial format of the data (determined by how it is acquired and\nparsed) will often drive how it is considered for filtering or mining. The statistical\nmethod used to glean useful information from the data might drive the initial presen-\ntation. In other words, the final representation reflects the results of the statistical\nmethod rather than a response to the initial question.\nSimilarly, a graphic designer brought in at the next stage will most often respond to\nspecific problems with the representation provided by the previous steps, rather than\nfocus on the initial question. The visualization step might add a compelling and\ninteractive means to look at the data filtered from the earlier steps, but the display is\ninflexible because the earlier stages of the process are hidden. Furthermore,\npractitioners of each of the fields that commonly deal with data problems are often\nunclear about how to traverse the wider set of methods and arrive at an answer.\nThis book covers the whole path from data to understanding: the transformation of a\njumble of raw numbers into something coherent and useful. The data under consid-\neration might be numbers, lists, or relationships between multiple entities.\nIt should be kept in mind that the term visualization is often used to describe the art\nof conveying a physical relationship, such as the subway map mentioned near the\nstart of this chapter. That’s a different kind of analysis and skill from information\nvisualization, where the data is primarily numeric or symbolic (e.g., A, C, G, and T—\nthe letters of genetic code—and additional annotations about them). The primary\nfocus of this book is information visualization: for instance, a series of numbers that\ndescribes temperatures in a weather forecast rather than the shape of the cloud cover\ncontributing to them.\nAn Example\nTo illustrate the seven steps listed in the previous section, and how they contribute\nto effective information visualization, let’s look at how the process can be applied to\nunderstanding a simple data set. In this case, we’ll take the zip code numbering sys-\ntem that the U.S. Postal Service uses. The application is not particularly advanced,\nbut it provides a skeleton for how the process works. (Chapter 6 contains a full\nimplementation of the project.)\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2189
  },
  {
    "chunk_full": "An Example\n|\n7\nWhat Is the Question?\nAll data problems begin with a question and end with a narrative construct that pro-\nvides a clear answer. The Zipdecode project (described further in Chapter 6) was\ndeveloped out of a personal interest in the relationship of the zip code numbering\nsystem to geographic areas. Living in Boston, I knew that numbers starting with a\nzero denoted places on the East Coast. Having spent time in San Francisco, I knew\nthe initial numbers for the West Coast were all nines. I grew up in Michigan, where\nall our codes were four-prefixed. But what sort of area does the second digit specify?\nOr the third?\nThe finished application was initially constructed in a few hours as a quick way to\ntake what might be considered a boring data set (a long list of zip codes, towns, and\ntheir latitudes and longitudes) and create something engaging for a web audience\nthat explained how the codes related to their geography.\nAcquire\nThe acquisition step involves obtaining the data. Like many of the other steps, this\ncan be either extremely complicated (i.e., trying to glean useful data from a large sys-\ntem) or very simple (reading a readily available text file).\nA copy of the zip code listing can be found on the U.S. Census Bureau web site, as it\nis frequently used for geographic coding of statistical data. The listing is a freely\navailable file with approximately 42,000 lines, one for each of the codes, a tiny por-\ntion of which is shown in Figure 1-1.\nFigure 1-1. Zip codes in the format provided by the U.S. Census Bureau\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2190
  },
  {
    "chunk_full": "8\n|\nChapter 1: The Seven Stages of Visualizing Data\nAcquisition concerns how the user downloads your data as well as how you obtained\nthe data in the first place. If the final project will be distributed over the Internet, as\nyou design the application, you have to take into account the time required to down-\nload data into the browser. And because data downloaded to the browser is proba-\nbly part of an even larger data set stored on the server, you may have to structure the\ndata on the server to facilitate retrieval of common subsets.\nParse\nAfter you acquire the data, it needs to be parsed—changed into a format that tags\neach part of the data with its intended use. Each line of the file must be broken along\nits individual parts; in this case, it must be delimited at each tab character. Then,\neach piece of data needs to be converted to a useful format. Figure 1-2 shows the lay-\nout of each line in the census listing, which we have to understand to parse it and get\nout of it what we want.\nEach field is formatted as a data type that we’ll handle in a conversion program:\nString\nA set of characters that forms a word or a sentence. Here, the city or town name\nis designated as a string. Because the zip codes themselves are not so much num-\nbers as a series of digits (if they were numbers, the code 02139 would be stored\nas 2139, which is not the same thing), they also might be considered strings.\nFloat\nA number with decimal points (used for the latitudes and longitudes of each\nlocation). The name is short for floating point, from programming nomenclature\nthat describes how the numbers are stored in the computer’s memory.\nFigure 1-2. Structure of acquired data\nstring\nTAB\nfloat\nTAB\nfloat\nTAB\ncharacter\nTAB\nstring\nTAB\nindex TAB index\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2191
  },
  {
    "chunk_full": "An Example\n|\n9\nCharacter\nA single letter or other symbol. In this data set, a character sometimes desig-\nnates special post offices.\nInteger\nA number without a fractional portion, and hence no decimal points (e.g., –14,\n0, or 237).\nIndex\nData (commonly an integer or string) that maps to a location in another table of\ndata. In this case, the index maps numbered codes to the names and two-digit\nabbreviations of states. This is common in databases, where such an index is\nused as a pointer into another table, sometimes as a way to compact the data\nfurther (e.g., a two-digit code requires less storage than the full name of the state\nor territory).\nWith the completion of this step, the data is successfully tagged and consequently\nmore useful to a program that will manipulate or represent it in some way.\nFilter\nThe next step involves filtering the data to remove portions not relevant to our use.\nIn this example, for the sake of keeping it simple, we’ll be focusing on the contigu-\nous 48 states, so the records for cities and towns that are not part of those states—\nAlaska, Hawaii, and territories such as Puerto Rico—are removed. Another project\ncould require significant mathematical work to place the data into a mathematical\nmodel or normalize it (convert it to an acceptable range of numbers).\nMine\nThis step involves math, statistics, and data mining. The data in this case receives\nonly a simple treatment: the program must figure out the minimum and maximum\nvalues for latitude and longitude by running through the data (as shown in\nFigure 1-3) so that it can be presented on a screen at a proper scale. Most of the time,\nthis step will be far more complicated than a pair of simple math operations.\nRepresent\nThis step determines the basic form that a set of data will take. Some data sets are\nshown as lists, others are structured like trees, and so forth. In this case, each zip\ncode has a latitude and longitude, so the codes can be mapped as a two-dimensional\nplot, with the minimum and maximum values for the latitude and longitude used for\nthe start and end of the scale in each dimension. This is illustrated in Figure 1-4.\nThe Represent stage is a linchpin that informs the single most important decision in\na visualization project and can make you rethink earlier stages. How you choose to\nrepresent the data can influence the very first step (what data you acquire) and the\nthird step (what particular pieces you extract).\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2192
  },
  {
    "chunk_full": "10\n|\nChapter 1: The Seven Stages of Visualizing Data\nFigure 1-3. Mining the data: just compare values to find the minimum and maximum\nFigure 1-4. Basic visual representation of zip code data\nmin\n24.655691\nmax\n48.987385\nmax\n-67.040764\nmin\n-124.62608\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2193
  },
  {
    "chunk_full": "An Example\n|\n11\nReﬁne\nIn this step, graphic design methods are used to further clarify the representation by\ncalling more attention to particular data (establishing hierarchy) or by changing\nattributes (such as color) that contribute to readability.\nHierarchy is established in Figure 1-5, for instance, by coloring the background deep\ngray and displaying the selected points (all codes beginning with four) in white and\nthe deselected points in medium yellow.\nInteract\nThe next stage of the process adds interaction, letting the user control or explore the\ndata. Interaction might cover things like selecting a subset of the data or changing\nthe viewpoint. As another example of a stage affecting an earlier part of the process,\nthis stage can also affect the refinement step, as a change in viewpoint might require\nthe data to be designed differently.\nIn the Zipdecode project, typing a number selects all zip codes that begin with that\nnumber. Figures 1-6 and 1-7 show all the zip codes beginning with zero and nine,\nrespectively.\nAnother enhancement to user interaction (not shown here) enables the users to\ntraverse the display laterally and run through several of the prefixes. After typing part\nor all of a zip code, holding down the Shift key allows users to replace the last num-\nber typed without having to hit the Delete key to back up.\nFigure 1-5. Using color to refine the representation\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2194
  },
  {
    "chunk_full": "12\n|\nChapter 1: The Seven Stages of Visualizing Data\nTyping is a very simple form of interaction, but it allows the user to rapidly gain an\nunderstanding of the zip code system’s layout. Just contrast this sample application\nwith the difficulty of deducing the same information from a table of zip codes and\ncity names.\nThe viewer can continue to type digits to see the area covered by each subsequent set\nof prefixes. Figure 1-8 shows the region highlighted by the two digits 02, Figure 1-9\nshows the three digits 021, and Figure 1-10 shows the four digits 0213. Finally,\nFigure 1-11 shows what you get by entering a full zip code, 02139—a city name pops\nup on the display.\nFigure 1-6. The user can alter the display through choices (zip codes starting with 0)\nFigure 1-7. The user can alter the display through choices (zip codes starting with 9)\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2195
  },
  {
    "chunk_full": "An Example\n|\n13\nIn addition, users can enable a “zoom” feature that draws them closer to each sub-\nsequent digit, revealing more detail around the area and showing a constant rate of\ndetail at each level. Because we’ve chosen a map as a representation, we could add\nmore details of state and county boundaries or other geographic features to help\nviewers associate the “data” space of zip code points with what they know about the\nlocal environment.\nFigure 1-8. Honing in with two digits (02)\nFigure 1-9. Honing in with three digits (021)\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2196
  },
  {
    "chunk_full": "14\n|\nChapter 1: The Seven Stages of Visualizing Data\nIteration and Combination\nFigure 1-12 shows the stages in order and demonstrates how later decisions com-\nmonly reflect on earlier stages. Each step of the process is inextricably linked because\nof how the steps affect one another. In the Zipdecode application, for instance:\n• The need for a compact representation on the screen led me to refilter the data\nto include only the contiguous 48 states.\n• The representation step affected acquisition because after I developed the appli-\ncation I modified it so it could show data that was downloaded over a slow\nFigure 1-10. Honing in further with four digits (0213)\nFigure 1-11. Honing in even further with the full zip code (02139)\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2197
  },
  {
    "chunk_full": "Principles\n|\n15\nInternet connection to the browser. My change to the structure of the data\nallows the points to appear slowly, as they are first read from the data file,\nemploying the data itself as a “progress bar.”\n• Interaction by typing successive numbers meant that the colors had to be modi-\nfied in the visual refinement step to show a slow transition as points in the dis-\nplay are added or removed. This helps the user maintain context by preventing\nthe updates on-screen from being too jarring.\nThe connections between the steps in the process illustrate the importance of the\nindividual or team in addressing the project as a whole. This runs counter to the com-\nmon fondness for assembly-line style projects, where programmers handle the techni-\ncal portions, such as acquiring and parsing data, and visual designers are left to\nchoose colors and typefaces. At the intersection of these fields is a more interesting\nset of properties that demonstrates their strength in combination.\nWhen acquiring data, consider how it can change, whether sporadically (such as\nonce a month) or continuously. This expands the notion of graphic design that’s tra-\nditionally focused on solving a specific problem for a specific data set, and instead\nconsiders the meta-problem of how to handle a certain kind of data that might be\nupdated in the future.\nIn the filtering step, data can be filtered in real time, as in the Zipdecode application.\nDuring visual refinement, changes to the design can be applied across the entire sys-\ntem. For instance, a color change can be automatically applied to the thousands of\nelements that require it, rather having to make such a tedious modification by hand.\nThis is the strength of a computational approach, where tedious processes are mini-\nmized through automation.\nPrinciples\nI’ll finish this general introduction to visualization by laying out some ways of think-\ning about data and its representation that have served me well over many years and\nmany diverse projects. They may seem abstract at first, or of minor importance to the\njob you’re facing, but I urge you to return and reread them as you practice visualiza-\ntion; they just may help you in later tasks.\nFigure 1-12. Interactions between the seven stages\nacquire\nparse\nfilter\nmine\nrepresent\nrefine\ninteract\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2198
  },
  {
    "chunk_full": "16\n|\nChapter 1: The Seven Stages of Visualizing Data\nEach Project Has Unique Requirements\nA visualization should convey the unique properties of the data set it represents. This\nbook is not concerned with providing a handful of ready-made “visualizations” that\ncan be plugged into any data set. Ready-made visualizations can help produce a\nquick view of your data set, but they’re inflexible commodity items that can be\nimplemented in packaged software. Any bar chart or scatter plot made with Excel\nwill look like a bar chart or scatter plot made with Excel. Packaged solutions can\nprovide only packaged answers, like a pull-string toy that is limited to a handful of\ncanned phrases, such as “Sales show a slight increase in each of the last five years!”\nEvery problem is unique, so capitalize on that uniqueness to solve the problem.\nChapters in this book are divided by types of data, rather than types of display. In\nother words, we’re not saying, “Here’s how to make a bar graph,” but “Here are sev-\neral ways to show a correlation.” This gives you a more powerful way to think about\nmaximizing what can be said about the data set in question.\nI’m often asked for a library of tools that will automatically make attractive represen-\ntations of any given data set. But if each data set is different, the point of visualiza-\ntion is to expose that fascinating aspect of the data and make it self-evident.\nAlthough readily available representation toolkits are useful starting points, they\nmust be customized during an in-depth study of the task.\nData is often stored in a generic format. For instance, databases used for annotation\nof genomic data might consist of enormous lists of start and stop positions, but those\nlists vary in importance depending on the situation in which they’re being used. We\ndon’t view books as long abstract sequences of words, yet when it comes to informa-\ntion, we’re often so taken with the enormity of the information and the low-level\nabstractions used to store it that the narrative is lost. Unless you stop thinking about\ndatabases, everything looks like a table—millions of rows and columns to be stored,\nqueried, and viewed.\nIn this book, we use a small collection of simple helper classes as starting points.\nOften, we’ll be targeting the Web as a delivery platform, so the classes are designed\nto take up minimal time for download and display. But I will also discuss more\nrobust versions of similar tools that can be used for more in-depth work.\nThis book aims to help you learn to understand data as a tool for human decision-\nmaking—how it varies, how it can be used, and how to find what’s unique about\nyour data set. We’ll cover many standard methods of visualization and give you the\nbackground necessary for making a decision about what sort of representation is\nsuitable for your data. For each representation, we consider its positive and negative\npoints and focus on customizing it so that it’s best suited to what you’re trying to\nconvey about your data set.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2199
  },
  {
    "chunk_full": "Principles\n|\n17\nAvoid the All-You-Can-Eat Buffet\nOften, less detail will actually convey more information because the inclusion of\noverly specific details causes the viewer to miss what’s most important or disregard\nthe image entirely because it’s too complex. Use as little data as possible, no matter\nhow precious it seems.\nConsider a weather map, with curved bands of temperatures across the country. The\ndesigners avoid giving each band a detailed edge (particularly because the data is\noften fuzzy). Instead, they convey a broader pattern in the data.\nSubway maps leave out the details of surface roads because the additional detail adds\nmore complexity to the map than necessary. Before maps were created in Beck’s\nstyle, it seemed that knowing street locations was essential to navigating the subway.\nInstead, individual stations are used as waypoints for direction finding. The impor-\ntant detail is that your target destination is near a particular station. Directions can\nbe given in terms of the last few turns to be taken after you exit the station, or you\ncan consult a map posted at the station that describes the immediate area\naboveground.\nIt’s easy to collect data, and some people become preoccupied with simply accumu-\nlating more complex data or data in mass quantities. But more data is not implicitly\nbetter, and often serves to confuse the situation. Just because it can be measured\ndoesn’t mean it should. Perhaps making things simple is worth bragging about, but\nmaking complex messes is not. Find the smallest amount of data that can still con-\nvey something meaningful about the contents of the data set. As with Beck’s under-\nground map, focusing on the question helps define those minimum requirements.\nThe same holds for the many “dimensions” that are found in data sets. Web site traf-\nfic statistics have many dimensions: IP address, date, time of day, page visited, previ-\nous page visited, result code, browser, machine type, and so on. While each of these\nmight be examined in turn, they relate to distinct questions. Only a few of the vari-\nables are required to answer a typical question, such as “How many people visited\npage x over the last three months, and how has that figure changed each month?”\nAvoid trying to show a burdensome multidimensional space that maps too many\npoints of information.\nKnow Your Audience\nFinally, who is your audience? What are their goals when approaching a visualiza-\ntion? What do they stand to learn? Unless it’s accessible to your audience, why are\nyou doing it? Making things simple and clear doesn’t mean assuming that your users\nare idiots and “dumbing down” the interface for them.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2200
  },
  {
    "chunk_full": "18\n|\nChapter 1: The Seven Stages of Visualizing Data\nIn what way will your audience use the piece? A mapping application used on a\nmobile device has to be designed with a completely different set of criteria than one\nused on a desktop computer. Although both applications use maps, they have little\nto do with each other. The focus of the desktop application may be finding locations\nand print maps, whereas the focus of the mobile version is actively following the\ndirections to a particular location.\nOnward\nIn this chapter, we covered the process for attacking the common modern problems\nof having too much data and having data that changes. In the next chapter, we’ll dis-\ncuss Processing, the software tool used to handle data sets in this book.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2201
  },
  {
    "chunk_full": "19\nChapter 2\nCHAPTER 2\nGetting Started with Processing2\nThe Processing project began in the spring of 2001 and was first used at a workshop\nin Japan that August. Originally built as a domain-specific extension to Java targeted\nat artists and designers, Processing has evolved into a full-blown design and proto-\ntyping tool used for large-scale installation work, motion graphics, and complex data\nvisualization. Processing is a simple programming environment that was created to\nmake it easier to develop visually oriented applications with an emphasis on anima-\ntion and provide users with instant feedback through interaction. As its capabilities\nhave expanded over the past six years, Processing has come to be used for more\nadvanced production-level work in addition to its sketching role.\nProcessing is based on Java, but because program elements in Processing are fairly\nsimple, you can learn to use it from this book even if you don’t know any Java. If\nyou’re familiar with Java, it’s best to forget that Processing has anything to do with it\nfor a while, at least until you get the hang of how the API works. We’ll cover how to\nintegrate Java and Processing toward the end of the book.\nThe latest version of Processing can be downloaded at:\nhttp://processing.org/download\nAn important goal for the project was to make this type of programming accessible\nto a wider audience. For this reason, Processing is free to download, free to use, and\nopen source. But projects developed using the Processing environment and core\nlibraries can be used for any purpose. This model is identical to GCC, the GNU\nCompiler Collection. GCC and its associated libraries (e.g., libc) are open source\nunder the GNU Public License (GPL), which stipulates that changes to the code\nmust be made available. However, programs created with GCC (examples too\nnumerous to mention) are not themselves required to be open source.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2202
  },
  {
    "chunk_full": "20\n|\nChapter 2: Getting Started with Processing\nProcessing consists of:\n• The Processing Development Environment (PDE). This is the software that runs\nwhen you double-click the Processing icon. The PDE is an Integrated\nDevelopment Environment with a minimalist set of features designed as a sim-\nple introduction to programming or for testing one-off ideas.\n• A collection of commands (also referred to as functions or methods) that make\nup the “core” programming interface, or API, as well as several libraries that sup-\nport more advanced features, such as drawing with OpenGL, reading XML files,\nand saving complex imagery in PDF format.\n• A language syntax, identical to Java but with a few modifications. The changes\nare laid out in detail toward the end of the book.\n• An active online community, hosted at http://processing.org.\nFor this reason, references to “Processing” can be somewhat ambiguous. Are we talk-\ning about the API, the development environment, or the web site? I’ll be careful to\ndifferentiate them when referring to each.\nSketching with Processing\nA Processing program is called a sketch. The idea is to make Java-style programming\nfeel more like scripting, and adopt the process of scripting to quickly write code.\nSketches are stored in the sketchbook, a folder that’s used as the default location for\nsaving all of your projects. When you run Processing, the sketch last used will auto-\nmatically open. If this is the first time Processing is used (or if the sketch is no longer\navailable), a new sketch will open.\nSketches that are stored in the sketchbook can be accessed from File ➝Sketchbook.\nAlternatively, File ➝Open... can be used to open a sketch from elsewhere on the\nsystem.\nAdvanced programmers need not use the PDE and may instead use its libraries with\nthe Java environment of choice. (This is covered toward the end of the book.) How-\never, if you’re just getting started, it’s recommended that you use the PDE for your\nfirst few projects to gain familiarity with the way things are done. Although Process-\ning is based on Java, it was never meant to be a Java IDE with training wheels. To\nbetter address our target audience, its conceptual model (how programs work, how\ninterfaces are built, and how files are handled) is somewhat different from Java’s.\nHello World\nProgramming languages are often introduced with a simple program that prints\n“Hello World” to the console. The Processing equivalent is simply to draw a line:\nline(15, 25, 70, 90);\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2203
  },
  {
    "chunk_full": "Sketching with Processing\n|\n21\nEnter this example and press the Run button, which is an icon that looks like the Play\nbutton on any audio or video device. The result will appear in a new window, with a\ngray background and a black line from coordinate (15, 25) to (70, 90). The (0, 0) coor-\ndinate is the upper-lefthand corner of the display window. Building on this program to\nchange the size of the display window and set the background color, type in the code\nfrom Example 2-1.\nThis version sets the window size to 400 × 400 pixels, sets the background to an\norange-red, and draws the line in white, by setting the stroke color to 255. By\ndefault, colors are specified in the range 0 to 255. Other variations of the parameters\nto the stroke( ) function provide alternate results:\nstroke(255);              // sets the stroke color to white\nstroke(255, 255, 255);    // identical to stroke(255)\nstroke(255, 128, 0);      // bright orange (red 255, green 128, blue 0)\nstroke(#FF8000);          // bright orange as a web color\nstroke(255, 128, 0, 128); // bright orange with 50% transparency\nThe same alternatives work for the fill( ) command, which sets the fill color, and\nthe background( ) command, which clears the display window. Like all Processing\nmethods that affect drawing properties, the fill and stroke colors affect all geometry\ndrawn to the screen until the next fill and stroke commands are executed.\nIt’s also possible to use the editor of your choice instead of the built-in\neditor. Simply select “Use External Editor” in the Preferences window\n(Processing ➝Preferences on Mac OS X, or File ➝Preferences on\nWindows and Linux). When using an external editor, editing will be\ndisabled in the PDE, but the text will reload whenever you press Run.\nHello Mouse\nA program written as a list of statements (like the previous examples) is called a basic\nmode sketch. In basic mode, a series of commands are used to perform tasks or cre-\nate a single image without any animation or interaction. Interactive programs are\ndrawn as a series of frames, which you can create by adding functions titled setup( )\nand draw( ), as shown in the continuous mode sketch in Example 2-2. They are built-\nin functions that are called automatically.\nExample 2-1. Simple sketch\nsize(400, 400);\nbackground(192, 64, 0);\nstroke(255);\nline(150, 25, 270, 350);\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2204
  },
  {
    "chunk_full": "22\n|\nChapter 2: Getting Started with Processing\nExample 2-2 is identical in function to Example 2-1, except that now the line follows\nthe mouse. The setup( ) block runs once, and the draw( ) block runs repeatedly. As\nsuch, setup( ) can be used for any initialization; in this case, it’s used for setting the\nscreen size, making the background orange, and setting the stroke color to white.\nThe draw( ) block is used to handle animation. The size( ) command must always be\nthe first line inside setup( ).\nBecause the background( ) command is used only once, the screen will fill with lines\nas the mouse is moved. To draw just a single line that follows the mouse, move the\nbackground( ) command to the draw( ) function, which will clear the display window\n(filling it with orange) each time draw( ) runs:\nvoid setup( ) {\n  size(400, 400);\n  stroke(255);\n}\nvoid draw( ) {\n  background(192, 64, 0);\n  line(150, 25, mouseX, mouseY);\n}\nBasic mode programs are most commonly used for extremely simple examples, or for\nscripts that run in a linear fashion and then exit. For instance, a basic mode program\nmight start, draw a page to a PDF file, and then exit.\nMost programs employ continuous mode, which uses the setup( ) and draw( )\nblocks. More advanced mouse handling can also be introduced; for instance, the\nmousePressed( ) method will be called whenever the mouse is pressed. So, in the\nfollowing example, when the mouse is pressed, the screen is cleared via the\nbackground( ) command:\nvoid setup( ) {\n  size(400, 400);\n  stroke(255);\n}\nvoid draw( ) {\n  line(150, 25, mouseX, mouseY);\n}\nExample 2-2. Simple continuous mode sketch\nvoid setup( ) {\n  size(400, 400);\n  stroke(255);\n  background(192, 64, 0);\n}\nvoid draw( ) {\n  line(150, 25, mouseX, mouseY);\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2205
  },
  {
    "chunk_full": "Exporting and Distributing Your Work\n|\n23\nvoid mousePressed( ) {\n  background(192, 64, 0);\n}\nMore about basic versus continuous mode programs can be found in the Program-\nming Modes section of the Processing reference, which can be viewed from Help ➝\nGetting Started or online at http://processing.org/reference/environment.\nExporting and Distributing Your Work\nOne of the most significant features of the Processing environment is its ability to\nbundle your sketch into an applet or application with just one click. Select File ➝\nExport to package your current sketch as an applet. This will create a folder named\napplet inside your sketch folder. Opening the index.html file inside that folder will\nopen your sketch in a browser. The applet folder can be copied to a web site intact\nand will be viewable by users who have Java installed on their systems. Similarly, you\ncan use File ➝Export Application to bundle your sketch as an application for Win-\ndows, Mac OS X, and Linux.\nThe applet and application folders are overwritten whenever you export—make a\ncopy or remove them from the sketch folder before making changes to the index.html\nfile or the contents of the folder.\nMore about the export features can be found in the reference; see http://processing.\norg/reference/environment/export.html.\nSaving Your Work\nIf you don’t want to distribute the actual project, you might want to create images of\nits output instead. Images are saved with the saveFrame( ) function. Adding\nsaveFrame( ) at the end of draw( ) will produce a numbered sequence of TIFF-format\nimages of the program’s output, named screen-0001.tif, screen-0002.tif, and so on. A\nnew file will be saved each time draw( ) runs. Watch out because this can quickly fill\nyour sketch folder with hundreds of files. You can also specify your own name and\nfile type for the file to be saved with a command like:\nsaveFrame(\"output.png\")\nTo do the same for a numbered sequence, use #s (hash marks) where the numbers\nshould be placed:\nsaveFrame(\"output-####.png\");\nFor high-quality output, you can write geometry to PDF files instead of the screen, as\ndescribed in the section “More About the size( ) Method,” later in this chapter.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2206
  },
  {
    "chunk_full": "24\n|\nChapter 2: Getting Started with Processing\nExamples and Reference\nWhile many programmers learn to code in school, others teach themselves. Learning\non your own involves looking at lots of other code: running, altering, breaking, and\nenhancing it until you can reshape it into something new. With this learning model\nin mind, the Processing software download includes dozens of examples that demon-\nstrate different features of the environment and API.\nThe examples can be accessed from the File ➝Examples menu. They’re grouped into\ncategories based on their functions (such as Motion, Typography, and Image) or the\nlibraries they use (such as PDF, Network, and Video).\nFind an interesting topic in the list and try an example. You’ll see commands that are\nfamiliar, such as stroke( ), line( ), and background( ), as well as others that have not\nyet been covered. To see how a function works, select its name, and then right-click\nand choose Find in Reference from the pop-up menu (Find in Reference can also be\nfound beneath the Help menu). That will open the reference for that function in your\ndefault web browser.\nIn addition to a description of the function’s syntax, each reference page includes an\nexample that uses the function. The reference examples are much shorter (usually\nfour or five lines apiece) and easier to follow than the longer code examples.\nMore About the size( ) Method\nThe size( ) command also sets the global variables width and height. For objects\nwhose size is dependent on the screen, always use the width and height variables\ninstead of a number (this prevents problems when the size( ) line is altered):\nsize(400, 400);\n// The wrong way to specify the middle of the screen\nellipse(200, 200, 50, 50);\n// Always the middle, no matter how the size( ) line changes\nellipse(width/2, height/2, 50, 50);\nIn the earlier examples, the size( ) command specified only a width and height for\nthe new window. An optional parameter to the size( ) method specifies how graph-\nics are rendered. A renderer handles how the Processing API is implemented for a\nparticular output method (whether the screen, or a screen driven by a high-end\ngraphics card, or a PDF file). Several renderers are included with Processing, and\neach has a unique function. At the risk of getting too far into the specifics, here are\nexamples of how to specify them with the size( ) command along with descriptions\nof their capabilities.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2207
  },
  {
    "chunk_full": "Examples and Reference\n|\n25\nsize(400, 400, JAVA2D);\nThe Java2D renderer is used by default, so this statement is identical to\nsize(400, 400). The Java2D renderer does an excellent job with high-quality 2D\nvector graphics, but at the expense of speed. In particular, working with pixels is\nslower compared to the P2D and P3D renderers.\nsize(400, 400, P2D);\nThe Processing 2D renderer is intended for simpler graphics and fast pixel opera-\ntions. It lacks niceties such as stroke caps and joins on thick lines, but makes up\nfor it when you need to draw thousands of simple shapes or directly manipulate\nthe pixels of an image or video.\nsize(400, 400, P3D);\nSimilar to P2D, the Processing 3D renderer is intended for speed and pixel oper-\nations. It also produces 3D graphics inside a web browser, even without the use\nof a library like Java3D. Image quality is poorer (the smooth( ) command is dis-\nabled, and image accuracy is low), but you can draw thousands of triangles very\nquickly.\nsize(400, 400, OPENGL);\nThe OpenGL renderer uses Sun’s Java for OpenGL (JOGL) library for faster ren-\ndering, while retaining Processing’s simpler graphics APIs and the PDE’s easy\napplet and application export. To use OpenGL graphics, you must select Sketch\n➝Import Library ➝OpenGL in addition to altering your size( ) command.\nOpenGL applets also run within a web browser without additional modifica-\ntion, but a dialog box will appear asking users whether they trust “Sun Micro-\nsystems, Inc.” to run Java for OpenGL on their computers. If this poses a\nproblem, the P3D renderer is a simpler, if less full-featured, solution.\nsize(400, 400, PDF, \"output.pdf\");\nThe PDF renderer draws all geometry to a file instead of the screen. Like the\nOpenGL library, you must import the PDF library before using this renderer.\nThis is a cousin of the Java2D renderer, but instead writes directly to PDF files.\nEach renderer has a specific role. P2D and P3D are great for pixel-based work, while\nthe JAVA2D and PDF settings will give you the highest quality 2D graphics. When\nthe Processing project first began, the P2D and P3D renderers were a single choice\n(and, in fact, the only available renderer). This was an attempt to offer a unified\nmode of thinking about drawing, whether in two or three dimensions. However, this\nbecame too burdensome because of the number of tradeoffs that must be made\nbetween 2D and 3D. A very different expectation of quality exists for 2D and 3D, for\ninstance, and trying to cover both sides in one renderer meant doing both poorly.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2208
  },
  {
    "chunk_full": "26\n|\nChapter 2: Getting Started with Processing\nLoading and Displaying Data\nOne of the unique aspects of the Processing API is the way files are handled. The\nloadImage( ) and loadStrings( ) functions each expect to find a file inside a folder\nnamed data, which is a subdirectory of the sketch folder.\nFile handling functions include loadStrings( ), which reads a text file into an array of\nString objects, and loadImage( ), which reads an image into a PImage object, the con-\ntainer for image data in Processing.\n// Examples of loading a text file and a JPEG image\n// from the data folder of a sketch.\nString[] lines = loadStrings(\"something.txt\");\nPImage image = loadImage(\"picture.jpg\");\nThese examples may be a bit easier to read if you know the programming concepts of\ndata types and classes. Each variable has to have a data type, such as String or\nPImage.\nThe String[] syntax means “an array of data of the class String.” This array is cre-\nated by the loadStrings command and is given the name lines; it will presumably be\nused later in the program under that name. The reason loadStrings creates an array\nis that it splits the something.txt file into its individual lines. The second command\ncreates a single variable of class PImage, with the name image.\nThe data Folder\nThe data folder addresses a common frustration when dealing with code that is tested\nlocally but deployed over the Web. Like Java, software written with Processing is sub-\nject to security restrictions that determine how a program can access resources such as\nthe local hard disk or other servers via the Internet. This prevents malicious developers\nfrom writing code that could harm your computer or compromise your data.\nThe security restrictions can be tricky to work with during development. When run-\nning a program locally, data can be read directly from the disk, though it must be\nplaced relative to the user’s “working directory,” generally the location of the applica-\ntion. When running online, data must come from a location on the same server. It\nmight be bundled with the code itself (in a JAR archive, discussed later, or from\nanother URL on the same server). For a local file, Java’s FileInputStream class can be\nused. If the file is bundled in a JAR archive, the getResource( ) function is used. For a\nfile on the server, URL.openStream( ) might be employed. During the journey from\ndevelopment to deployment, it may be necessary to use all three of these methods.\nWith Processing, these scenarios (and some others) are handled transparently by the\nfile API methods. By placing resources in the data folder, Processing packages the files\nas necessary for online and offline use.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2209
  },
  {
    "chunk_full": "Functions\n|\n27\nTo add a file to a Processing sketch, use the Sketch ➝Add File command, or drag the\nfile into the editor window of the PDE. The data folder will be created if it does not\nexist already.\nTo view the contents of the sketch folder, use the Sketch ➝Show Sketch Folder com-\nmand. This opens the sketch window in your operating system’s file browser.\nIn the file commands, it’s also possible to use full path names to local files, or URLs\nto other locations if the data folder is not suitable:\n// Load a text file and an image from the specified URLs\nString[] lines = loadStrings(\"http://benfry.com/writing/map/locations.tsv\");\nPImage image = loadImage(\"http://benfry.com/writing/map/map.png\");\nFunctions\nThe steps of the process outlined in the first chapter are commonly associated with\nspecific functions in the Processing API. For instance:\nAcquire\nloadStrings( ), loadBytes( )\nParse\nsplit( )\nFilter\nfor( ), if (item[i].startsWith( ))\nMine\nmin( ), max( ), abs( )\nRepresent\nmap( ), beginShape( ), endShape( )\nRefine\nfill( ), strokeWeight( ), smooth( )\nInteract\nmouseMoved( ), mouseDragged( ), keyPressed( )\nThis is not an exhaustive list, but simply another way to frame the stages of visualiza-\ntion for those more familiar with code.\nLibraries Add New Features\nA library is a collection of code in a specified format that makes it easy to use within\nProcessing. Libraries have been important to the growth of the project because they\nlet developers make new features accessible to users without making them part of the\ncore Processing API.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2210
  },
  {
    "chunk_full": "28\n|\nChapter 2: Getting Started with Processing\nSeveral core libraries come with Processing. These can be seen in the Libraries sec-\ntion of the online reference (also available from the Help menu from within the\nPDE); see http://processing.org/reference/libraries.\nOne example is the XML import library. This is an extremely minimal XML parser\n(based on the open source project NanoXML) with a small download footprint\n(approximately 30KB) that makes it ideal for online use.\nTo use the XML library in a project, choose Sketch ➝Import Library ➝xml. This\nwill add the following line to the top of the sketch:\nimport processing.xml.*;\nJava programmers will recognize the import command. In Processing, this line also\ndetermines what code is packaged with a sketch when it is exported as an applet or\napplication.\nNow that the XML library is imported, you can issue commands from it. For instance,\nthe following line loads an XML file named sites.xml into a variable named xml:\nXMLElement xml = new XMLElement(this, \"sites.xml\");\nThe xml variable can now be manipulated as necessary to read the contents. The full\nexample can be seen in the reference for its class, XMLElement, at http://processing.org/\nreference/libraries/xml/XMLElement.html.\nThe this variable is used frequently with library objects because it lets the library\nmake use of the core API functions to draw to the screen or load files. The latter case\napplies to the XML library, allowing XML files to be read from the data folder or\nother locations supported by the file API methods.\nOther libraries provide features such as writing QuickTime movie files, sending and\nreceiving MIDI commands, sophisticated 3D camera control, and access to MySQL\ndatabases.\nSketching and Scripting\nProcessing sketches are made up of one or more tabs, with each tab representing a\npiece of code. The environment is designed around projects that are a few pages of\ncode, and often three to five tabs in total. This covers a significant number of\nprojects developed to test and prototype ideas, often before embedding them into a\nlarger project or building a more robust application for broader deployment.\nThis small-scale development style is useful for data visualization in two primary sce-\nnarios. The most common scenario is when you have a data set in mind, or a ques-\ntion that you’re trying to answer, and you need a quick way to load the data,\nrepresent it, and see what’s there. This is important because it lets you take an inven-\ntory of the data in question. How many elements are there? What are the largest and\nsmallest values? How many dimensions are we looking at? We’ll return to this notion\nof exploring data in future chapters.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2211
  },
  {
    "chunk_full": "Sketching and Scripting\n|\n29\nIn the second scenario, the desired outcome is known, but the correct means of rep-\nresenting the data and interacting with it have not yet been determined.\nThe idea of sketching is identical to that of scripting, except that you’re not working\nin an interpreted scripting language, but rather gaining the performance benefit of\ncompiling to Java class files. Of course, strictly speaking, Java itself is an interpreted\nlanguage, but its bytecode compilation brings it much closer to the “metal” than lan-\nguages such as JavaScript, ActionScript, Python, or Ruby.\nProcessing was never intended as the ultimate language for visual programming;\ninstead, we set out to make something that was:\n• A sketchbook for our own work, simplifying the majority of tasks that we\nundertake\n• A programming environment suitable for teaching programming to a non-\ntraditional audience\n• A stepping stone from scripting languages to more complicated or difficult lan-\nguages such as full-blown Java or C++\nAt the intersection of these points is a tradeoff between speed and simplicity of use.\nIf we didn’t care about speed, it might make sense to use Python, Ruby, or many\nother scripting languages. That is especially true for the education side. If we didn’t\ncare about making a transition to more advanced languages, we’d probably avoid a\nC++ or Java-style syntax. But Java is a nice starting point for a sketching language\nbecause it’s far more forgiving than C/C++ and also allows users to export sketches\nfor distribution via the Web.\nProcessing assembles our experience in building software of this kind (sketches of\ninteractive works or data-driven visualization) and simplifies the parts that we felt\nshould be easier, such as getting started quickly, and insulates new users from issues\nlike those associated with setting up Java.\nDon’t Start by Trying to Build a Cathedral\nIf you’re already familiar with programming, it’s important to understand how Pro-\ncessing differs from other development environments and languages. The Processing\nproject encourages a style of work that builds code quickly, understanding that\neither the code will be used as a quick sketch or that ideas are being tested before\ndeveloping a final project. This could be misconstrued as software engineering her-\nesy. Perhaps we’re not far from “hacking,” but this is more appropriate for the roles\nin which Processing is used. Why force students or casual programmers to learn\nabout graphics contexts, threading, and event handling methods before they can\nshow something on the screen that interacts with the mouse? The same goes for\nadvanced developers; why should they always need to start with the same two pages\nof code whenever they begin a project?\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2212
  },
  {
    "chunk_full": "30\n|\nChapter 2: Getting Started with Processing\nIn another scenario, if you’re doing scientific visualization, the ability to try things\nout quickly is a far higher priority than sophisticated code structure. Usually you\ndon’t know what the outcome will be, so you might build something one week to try\nan initial hypothesis and build something new the next based on what was learned in\nthe first week. To this end, remember the following considerations as you begin\nvisualizing data with Processing:\n• Be careful about creating unnecessary structures in your code. As you learn\nabout encapsulating your code into classes, it’s tempting to make ever-smaller\nclasses because data can always be distilled further. Do you need classes at the\nlevel of molecules, atoms, or quarks? Just because atoms go smaller doesn’t\nmean that we need to work at a lower level of abstraction. If a class is half a page\nlong, does it make sense to have six additional subclasses that are each half a\npage long? Could the same thing be accomplished with a single class that is a\npage and a half in total?\n• Consider the scale of the project. It’s not always necessary to build enterprise-\nlevel software on the first day. We’re asking questions about data, so figure out\nthe minimum code necessary to help answer that question.\n• Do you really need to use a database? If you’re manipulating half a gigabyte of\ndata and have a gigabyte of RAM, can you shove the data into memory and play\nwith it directly? If so, use that option; it lets you avoid developing a schema for\nthe database before you actually know what you’re doing (or want to do) with\nthe data.\n• Do you need to start with all the data? Having collected precious terabytes of\npotentially useful information, do you need all of it to answer your first round of\nquestions? A small percentage, which will require less infrastructure, is usually\nenough to indicate whether a larger project is even worth pursuing.\nThe point is to delay engineering work until it’s appropriate. The threshold for where\nto begin engineering a piece of visualization software is much later than for tradi-\ntional programming projects because there is a kind of “art” to the early process of\nquick iteration.\nOf course, once things are working, avoid the urge to rewrite for its own sake. A\nrewrite should be used when addressing a completely different problem. If you’ve\nmanaged to hit the nail on the head, you should refactor to clean up method names\nand class interactions. But a full rewrite of already finished code is almost always a\nbad idea, no matter how “ugly” it seems.\nReady?\nIn this chapter, we covered the basics of the Processing environment, as well as a bit\nof the philosophy behind the environment itself and the type of software built with\nthe language. In the next chapter, we’ll get started representing our first data set.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2213
  },
  {
    "chunk_full": "31\nChapter 3\nCHAPTER 3\nMapping3\nThis chapter covers the basics of reading, displaying, and interacting with a data set.\nAs an example, we’ll use a map of the United States, and a set of data values for all\n50 states. Drawing such a map is a simple enough task that could be done without\nprogramming—either with mapping software or by hand—but it gives us an exam-\nple upon which to build. The process of designing with data involves a great deal of\niteration: small changes that help your project evolve in usefulness and clarity. And\nas this project evolves through the course of the chapter, it will become clear how\nsoftware can be used to create representations that automatically update themselves,\nor how interaction can be used to provide additional layers of information.\nDrawing a Map\nSome development environments separate work into projects; the equivalent term\nfor Processing is a sketch. Start a new Processing sketch by selecting File ➝ New.\nFor this example, we’ll use a map of the United States to use as a background image.\nThe map can be downloaded from http://benfry.com/writing/map/map.png.\nDrag and drop the map.png file into the Processing editor window. A message at the\nbottom will appear confirming that the file has been added to the sketch. You can also\nadd files by selecting Sketch ➝Add File. A sketch is organized as a folder, and all data\nfiles are placed in a subfolder named data. (The data folder is covered in Chapter 2.)\nThen, enter the following code:\nPImage mapImage;\nvoid setup( ) {\n  size(640, 400);\n  mapImage = loadImage(\"map.png\");\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2214
  },
  {
    "chunk_full": "32\n|\nChapter 3: Mapping\nvoid draw( ) {\n  background(255);\n  image(mapImage, 0, 0);\n}\nFinally, click the Run button. Assuming everything was entered correctly, a map of\nthe United States will appear in a new window.\nExplanation of the Processing Code\nProcessing API functions are named to make their uses as obvious as possible.\nMethod names, such as loadImage( ), convey the purpose of the calls in simple lan-\nguage. What you may need to get used to is dividing your code into functions such\nas setup( ) and draw( ), which determine how the code is handled. After clicking the\nRun button, the setup( ) method executes once. After setup( ) has completed, the\ndraw( ) method runs repeatedly. Use the setup( ) method to load images, fonts, and\nset initial values for variables. The draw( ) method runs at 60 frames per second (or\nslower if it takes longer than 1/60th of a second to run the code inside the draw( )\nmethod); it can be used to update the screen to show animation or respond to mouse\nmovement and other types of input.\nOur first function calls are very basic. The loadImage( ) function reads an image from\nthe data folder (URLs or absolute paths also work). The PImage class is a container\nfor image data, and the image( ) command draws it to the screen at a specific\nlocation.\nLocations on a Map\nThe next step is to specify some points on the map. To simplify this, a file contain-\ning the coordinates for the center of each state can be found at http://benfry.com/\nwriting/map/locations.tsv.\nIn future chapters, we’ll explore how this data is read. In the meantime, some code\nto read the location data file can be found at http://benfry.com/writing/map/Table.pde.\nAdd both of these files to your sketch the same way that you added the map.png file\nearlier.\nThe Table class is just two pages of code, and we’ll get into its function later. In the\nmeantime, suffice it to say that it reads a file as a grid of rows and columns. The class\nhas methods to get an int, float, or String for a specific row and column. To get\nfloat values, for instance, use the following format:\ntable.getFloat(row, column)\nRows and columns are numbered starting at zero, so the column titles (if any) will be\nrow 0, and the row titles will be column 0.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2215
  },
  {
    "chunk_full": "Locations on a Map\n|\n33\nIn the previous section, we saw how displaying a map in Processing is a two-step\nprocess:\n1. Load the data.\n2. Display the data in the desired format.\nDisplaying the centers of states follows the same pattern, although a little more code\nis involved:\n1. Create locationTable and use the locationTable.getFloat( ) function to read\neach location’s coordinates (x and y values).\n2. Draw a circle using those values. Because a circle, geometrically speaking, is just\nan ellipse whose width and height are the same, graphics libraries provide an\nellipse-drawing function that covers circle drawing as well.\nA new version of the code follows, with modifications highlighted:\nPImage mapImage;\nTable locationTable;\nint rowCount;\nvoid setup( ) {\n  size(640, 400);\n  mapImage = loadImage(\"map.png\");\n// Make a data table from a file that contains\n  // the coordinates of each state.\n  locationTable = new Table(\"locations.tsv\");\n  // The row count will be used a lot, so store it globally.\n  rowCount = locationTable.getRowCount( );\n}\nvoid draw( ) {\n  background(255);\n  image(mapImage, 0, 0);\n // Drawing attributes for the ellipses.\n  smooth( );\n  fill(192, 0, 0);\n  noStroke( );\n// Loop through the rows of the locations file and draw the points.\n  for (int row = 0; row < rowCount; row++) {\n    float x = locationTable.getFloat(row, 1);  // column 1\n    float y = locationTable.getFloat(row, 2);  // column 2\n    ellipse(x, y, 9, 9);\n  }\n}\nThe smooth( ), fill( ), and noStroke( ) functions apply to any drawing we subse-\nquently do in the draw( ) function. Later, we’ll look at the aspects of drawing you can\ncontrol; here I’ll just mention that the fill( ) function assigns red, green, and blue\nelements to the color. I’ve chosen to show all of the circles in red.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2216
  },
  {
    "chunk_full": "34\n|\nChapter 3: Mapping\nFigure 3-1 shows the map and points for each location.\nData on a Map\nNext we want to load a set of values that will appear on the map itself. For this, we\nadd another Table object and load the data from a file called random.tsv, available at\nhttp://benfry.com/writing/map/random.tsv.\nIt’s always important to find the minimum and maximum values for the data,\nbecause that range will need to be mapped to other features (such as size or color) for\ndisplay. To do this, use a for loop to walk through each line of the data table and\ncheck to see whether each value is bigger than the maximum found so far, or smaller\nthan the minimum. To begin, the dataMin variable is set to MAX_FLOAT, a built-in value\nfor the maximum possible float value. This ensures that dataMin will be replaced\nwith the first value found in the table. The same is done for dataMax, by setting it to\nMIN_FLOAT. Using 0 instead of MIN_FLOAT and MAX_FLOAT will not work in cases where\nthe minimum value in the data set is a positive number (e.g., 2.4) or the maximum is\na negative number (e.g., –3.75).\nThe data table is loaded in the same fashion as the location data, and the code to find\nthe minimum and maximum immediately follows:\nPImage mapImage;\nTable locationTable;\nint rowCount;\nFigure 3-1. U.S. map and centers of states\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2217
  },
  {
    "chunk_full": "Data on a Map\n|\n35\nTable dataTable;\nfloat dataMin = MAX_FLOAT;\nfloat dataMax = MIN_FLOAT;\nvoid setup( ) {\n  size(640, 400);\n  mapImage = loadImage(\"map.png\");\n  locationTable = new Table(\"locations.tsv\");\n  rowCount = locationTable.getRowCount( );\n// Read the data table.\n  dataTable = new Table(\"random.tsv\");\n  // Find the minimum and maximum values.\n  for (int row = 0; row < rowCount; row++) {\n    float value = dataTable.getFloat(row, 1);\n    if (value > dataMax) {\n      dataMax = value;\n    }\n    if (value < dataMin) {\n      dataMin = value;\n    }\n  }\n}\nThe other half of the program (shown later) draws a data point for each location. A\ndrawData( ) function is introduced, which takes x and y coordinates as parameters,\nalong with an abbreviation for a state. The drawData( ) function grabs the float value\nfrom column 1 based on a state abbreviation (which can be found in column 0).\nThe getRowName( ) function gets the name of a particular row. This is just a conve-\nnience function because the row name is usually in column 0, so it’s identical to\ngetString(row, 0). The row titles for this data set are the two-letter state abbrevia-\ntions. In the modified example, getRowName( ) is used to get the state abbreviation for\neach row of the data file.\nThe getFloat( ) function can also use a row name instead of a row number, which\nsimply matches the String supplied against the abbreviation found in column 0 of\nthe random.tsv data file. The results are shown in Figure 3-2.\nThe rest of the program follows:\nvoid draw( ) {\n  background(255);\n  image(mapImage, 0, 0);\n  smooth( );\n  fill(192, 0, 0);\n  noStroke( );\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2218
  },
  {
    "chunk_full": "36\n|\nChapter 3: Mapping\n  for (int row = 0; row < rowCount; row++) {\n    String abbrev = dataTable.getRowName(row);\n    float x = locationTable.getFloat(abbrev, 1);\n    float y = locationTable.getFloat(abbrev, 2);\n    drawData(x, y, abbrev);\n  }\n}\n// Map the size of the ellipse to the data value\nvoid drawData(float x, float y, String abbrev) {\n  // Get data value for state\n  float value = dataTable.getFloat(abbrev, 1);\n  // Re-map the value to a number between 2 and 40\n  float mapped = map(value, dataMin, dataMax, 2, 40);\n  // Draw an ellipse for this item\n  ellipse(x, y, mapped, mapped);\n}\nThe map( ) function converts numbers from one range to another. In this case, value\nis expected to be somewhere between dataMin and dataMax. Using map( ) repropor-\ntions value to be a number between 2 and 40. The map( ) function is useful for hid-\ning the math involved in the conversion, which makes code quicker to write and\neasier to read. A lot of visualization problems revolve around mapping data from one\nrange to another (e.g., from the min and max of the input data to the width or height\nof a plot), so the map( ) method is used frequently in this book.\nFigure 3-2. Varying data by size\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2219
  },
  {
    "chunk_full": "Data on a Map\n|\n37\nAnother refinement option is to keep the ellipse the same size but interpolate\nbetween two different colors for high and low values. The norm( ) function maps val-\nues from a user-specified range to a normalized range between 0.0 and 1.0. The\npercent value is a percentage of where value lies in the range from dataMin to\ndataMax. For instance, a percent value of 0.5 represents 50%, or halfway between\ndataMin and dataMax:\nfloat percent = norm(value, dataMin, dataMax);\nThe lerp( ) function converts a normalized value to another range (norm( ) and lerp( )\ntogether make up the map( ) function), and the lerpColor( ) function does the same,\nexcept it interpolates between two colors. The syntax:\ncolor between = lerpColor(color1, color2, percent)\nreturns a between value based on the percentage (a number between 0.0 and 0.1)\nspecified. To make the colors interpolate between red and blue for low and high val-\nues, replace the drawData( ) function with the following:\nvoid drawData(float x, float y, String abbrev) {\n  float value = dataTable.getFloat(abbrev, 1);\n  float percent = norm(value, dataMin, dataMax);\n  color between = lerpColor(#FF4422, #4422CC, percent);  // red to blue\n  fill(between);\n  ellipse(x, y, 15, 15);\n}\nResults are shown in Figure 3-3.\nFigure 3-3. Varying data by color\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2220
  },
  {
    "chunk_full": "38\n|\nChapter 3: Mapping\nThis illustrates the problem with interpolating between two unrelated colors. Two\nseparate colors make sense for positive and negative values (see the next section\n“Two-Sided Data Ranges” and Figure 3-6), but the idea of purple as an in-between\nvalue is confusing to read because it’s difficult to say just how red or blue the values\nare—everything becomes a muddy purple. If using two different colors, a better\noption is to provide a neutral value in between the two colors, such as white or\nblack.\nOn the other hand, to make color interpolation work, it’s better to employ a pair of\nsimilar colors. For instance, blue and green provide an alternative gradation of val-\nues that is easier to read than the red-to-purple-to-blue range. Replace the lerpColor\nline with the following:\n  color between = lerpColor(#296F34, #61E2F0, percent);\nand take a look at the result in Figure 3-4.\nThe interpolated values tend to be “muddy” because the interpolation is calculated\nin RGB color space. To preserve the saturation and brightness of colors, a better\noption is the HSB color space, particularly when dealing with colors that are similar\nin hue. A fourth parameter to lerpColor( ) allows you to change the color space used\nfor interpolation:\n  color between = lerpColor(#296F34, #61E2F0, percent, HSB);\nChanging to the HSB color model improves brightness and contrast; see Figure 3-5.\nFigure 3-4. Varying data by color: better color choices\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2221
  },
  {
    "chunk_full": "Data on a Map\n|\n39\nBut the color mix is still lacking, so next let’s look at other options.\nRGB and HSB Color Spaces\nThe HSB color space defines colors based on hue, saturation, and brightness instead of\nthe red, green, and blue values used in RGB. The RGB color space has more to do with\nhow color is represented by computer screens than how we actually perceive color.\nIntermediate steps in each of the hue, saturation, and brightness components of a color\nprovide better interpolation because each of the perceptual aspects of the color are bro-\nken apart—the shift in the hue component is separated from the shift in saturation and\nthe shift in brightness.\nIn the RGB color space, a gray value occurs whenever the R, G, and B components are\nidentical (or at least similar). In RGB space, the color halfway between orange (255,\n128, 0) and light blue (0, 128, 255) is gray (128, 128, 128). So using lerpColor( ) in\nRGB mode would cause the orange to become more gray at each step, until it reaches\ngray; then, it would slowly move from gray to blue. Not too pleasing to look at.\nOn the other hand, RGB mode is preferred when there are significant changes in hue.\nFor instance, if you begin at red and interpolate to green in HSB space, you’ll iterate\nthrough all the spectrum colors in between: from red, to orange, then to yellow, and\nfinally to green.\nFigure 3-5. Varying data by color: better color space\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2222
  },
  {
    "chunk_full": "40\n|\nChapter 3: Mapping\nTwo-Sided Data Ranges\nBecause the values in the data set are positive and negative, a better option would be\nto use separate colors for positive or negative while changing the size of each ellipse\nto reflect the range. The following replacement for drawData( ) separates positive and\nnegative values as well as indicating the magnitude (absolute value) of each value.\nIn this case, positive values are remapped from 0 through the maximum data value\ninto a value between 3 and 30 for the diameter of the ellipse. Negative values are\nmapped in a similar fashion, where the most negative (dataMin) will be mapped to\nsize 30, and the least negative (0) will be mapped to size 3. Positive values are drawn\nwith blue ellipses and negative values with red; see Figure 3-6.\nvoid drawData(float x, float y, String abbrev) {\n  float value = dataTable.getFloat(abbrev, 1);\n  float diameter = 0;\n  if (value >= 0) {\n    diameter = map(value, 0, dataMax, 3, 30);\n    fill(#333366);  // blue\n  } else {\n    diameter = map(value, 0, dataMin, 3, 30);\n    fill(#EC5166);  // red\n  }\n  ellipse(x, y, diameter, diameter);\n}\nFigure 3-6. Magnitude and positive/negative\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2223
  },
  {
    "chunk_full": "Data on a Map\n|\n41\nFigure 3-6 is much easier to read and interpret than the previous representations;\nhowever, we’ve used up two visual features (size and color) on a single dimension of\nthe data. For a simple data set such as this one, it’s not a problem, but if we look at a\npair of data values, we would want to use color for one dimension of the data and\nsize for the other. In some cases, showing one variable two ways can be helpful for\nreinforcing the meaning of the values, but it’s often done without consideration. The\napproach used in Figure 3-6 would be an appropriate solution if the difference\nbetween positive and negative values was our primary or secondary interest.\nTo preserve size for another aspect of the data, another option would be to map the\ntransparency of the ellipses to their relative values. Transparency is also referred to as\nalpha transparency or usually just alpha. It’s controlled by an optional second param-\neter to the fill( ) function; 0 means that the entire background shows though the\nobject, whereas 255 means the object is totally opaque.\nYet another revision of the drawData( ) function shows how transparency is con-\ntrolled; see Figure 3-7.\nvoid drawData(float x, float y, String abbrev) {\n  float value = dataTable.getFloat(abbrev, 1);\n  if (value >= 0) {\n    float a = map(value, 0, dataMax, 0, 255);\n    fill(#333366, a);\n  } else {\n    float a = map(value, 0, dataMin, 0, 255);\nFigure 3-7. Magnitude and positive/negative using transparency\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2224
  },
  {
    "chunk_full": "42\n|\nChapter 3: Mapping\n    fill(#EC5166, a);\n  }\n  ellipse(x, y, 15, 15);\n}\nTransparency can be useful for features at a glance, but it doesn’t provide a lot of dif-\nferentiation between the values (as can be seen here). For this particular data set, Fig-\nures 3-2 and 3-6 provide the best solutions in terms of visual design. The others are\nincluded to show alternatives and demonstrate the thinking process behind visual\nrefinements.\nProvide More Information with a Mouse Rollover (Interact)\nAdding a small amount of interaction can help make a display more useful, and this\nfeature shows how Processing makes mouse information readily available. As the\nmouse hovers above a particular state, additional information about that location\ncan be revealed.\nTo show the extra information as text, a font is required. Use the Create Font option\nunder the Tools menu. For this example, a typeface named Univers Bold was chosen\nfrom the list, and the size was set to 12. (Univers may not be available on your\nmachine, so choose any font you’d like.)\nClicking OK adds a file named Univers-Bold-12.vlw to the data folder. Now when\nthe sketch is exported as an applet or application, the font can be used on other\nmachines, even if Univers is not installed on them.\nAdding these lines to setup( ) sets the font:\n  PFont font = loadFont(\"Univers-Bold-12.vlw\");\n  textFont(font);\nBecause fonts are loaded from files, loadFont( ) should be used only inside setup( )\n(and not from the draw( ) method); otherwise, the font will be loaded repeatedly and\nslow down the program.\nThe location of the loadFont( ) call reiterates a valuable principle that\nmay guide you when placing other function calls. The setup( ) method\nruns only once, when a browser or other program loads a sketch. The\ndraw( ) method runs repeatedly (several times a second) so that\nsketches can be updated over time and animated.\nThe textFont( ) command sets the current font.\nThe rollover itself is handled by checking the distance between the mouse and the\ndata point. If the mouse is within a certain range of the point, the text appears. The\ndistance is calculated with the dist( ) function, and because this will calculate the\nradius between the location and the mouse, we issue ellipseMode(RADIUS) to draw\nthe data points before dist( ). Using the radius also helps because it can be used to\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2225
  },
  {
    "chunk_full": "Data on a Map\n|\n43\nplace the text above the data point: the distance to the bottom of the text will be the\nradius plus a few pixels of space. As the default ellipseMode is DIAMETER (and a radius\nis half a diameter), we’ll adjust the preceding map( ) function to use the values 1.5\nand 15 instead of 3 and 30:\nvoid drawData(float x, float y, String abbrev) {\n  float value = dataTable.getFloat(abbrev, 1);\n  float radius = 0;\n  if (value >= 0) {\n    radius = map(value, 0, dataMax, 1.5, 15);\n    fill(#4422CC);  // blue\n  } else {\n    radius = map(value, 0, dataMin, 1.5, 15);\n    fill(#FF4422);  // red\n  }\n  ellipseMode(RADIUS);\n  ellipse(x, y, radius, radius);\n  if (dist(x, y, mouseX, mouseY) < radius+2) {\n    fill(0);\n    textAlign(CENTER);\n    // Show the data value and the state abbreviation in parentheses.\n    text(value + \" (\" + abbrev + \")\", x, y-radius-4);\n  }\n}\nThe parameters to text( ) are a bit complex. The first argument—which is the text to\ndisplay—combines the data itself (value) with the state abbreviation (abbrev), enclos-\ning the abbreviation in parentheses. The second and third parameters specify the x\nand y position of the text. The vertical location is y-radius-4, which is the y-\ncoordinate at the center of the circle, minus the radius to get to the edge of the cir-\ncle, minus four more pixels.\nBecause the mouse cursor extends to the right and downward, we’ve placed the text\nabove the circle to prevent the arrow from covering up the data itself. This is a gen-\neral problem with rollovers that we’ll return to later: rollover text or the means for\nselecting it can obscure the data underneath.\nWith the rollover, you might want to bring in additional types of data as well. An\nadditional data file that maps abbreviations to the full state name can be found at\nhttp://benfry.com/writing/map/names.tsv.\nThe table in this data file will be used in conjunction with the others to look up\nnames for the individual states. More commonly, this particular data would be found\nin the same data file as the others, but it’s useful to introduce the idea of joining mul-\ntiple sets of data. Joining data frequently is necessary, and the opportunity to com-\nbine data sets from different sources is a powerful aspect of data visualization.\nFirst, add a nameTable declaration after the locationTable declaration at the begin-\nning of the code:\nTable nameTable;\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2226
  },
  {
    "chunk_full": "44\n|\nChapter 3: Mapping\nNext, load the nameTable along with the others inside the setup( ) function:\nnameTable = new Table(\"names.tsv\");\nFinally, when drawing the text for the rollover, grab the full name from the table and\ndisplay it:\nString name = nameTable.getString(abbrev, 1);\ntext(name + \" \" + value, x, y-radius-4);\nWith the longer text showing, sometimes the parts of the text will appear behind\nother points because the states are all drawn in order. Because Massachusetts is\ndrawn after Connecticut, the dot for Massachusetts will cover the rollover text for\nConnecticut. To change this behavior, first draw the data points for all the states,\nand then draw the rollover text for the current selection. When drawing each state,\nwe’ll check to see whether the mouse is in the vicinity, and if so, that state is a candi-\ndate for having its name drawn.\nYou might also notice that when using the mouse in the area of smaller states (such\nas those in the Northeast), several names will show up. To handle this, we’ll keep\ntrack of the state that is closest to the mouse and show only the information for that\nstate. As each state is drawn, we’ll check whether the distance from the state’s loca-\ntion to the mouse is the smallest found so far, and if so, store its X and Y position\nalong with the text to show at that position. These three variables will be updated as\neach data point within range of the mouse is drawn. After the data points have fin-\nished drawing, the text can be drawn at that particular X and Y point.\nThe mouseX and mouseY variables are updated on each trip through draw( ). Because\nthe draw( ) method runs repeatedly (at around 60 frames per second), updates for the\nrollover happen almost instantaneously.\nThe top of the program remains unchanged, but the draw( ) and drawData( ) func-\ntions are replaced with the following:\nHandling Mouse Interaction\nIn more sophisticated programs, it’s common to package how elements are drawn into\nan individual class—a set of code that groups together related functions and variables.\nFor instance, each state could be an instance of a class that contains the name, data\nvalue, and location on screen for each state. Mouse interaction would be handled by a\nfunction inside the class that checks whether the mouse location is near the location\nvalue for the state. We’ll see this method used in later chapters.\nThe Processing API provides few high-level elements—there is currently no Shape class\nthat handles such things automatically. Instead, the API is designed so that such classes\nare either unnecessary or simple for others to build into their own projects.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2227
  },
  {
    "chunk_full": "Data on a Map\n|\n45\n// Global variables set in drawData( ) and read in draw( )\nfloat closestDist;\nString closestText;\nfloat closestTextX;\nfloat closestTextY;\nvoid draw( ) {\n  background(255);\n  image(mapImage, 0, 0);\n  closestDist = MAX_FLOAT;\n  for (int row = 0; row < rowCount; row++) {\n    String abbrev = dataTable.getRowName(row);\n    float x = locationTable.getFloat(abbrev, 1);\n    float y = locationTable.getFloat(abbrev, 2);\n    drawData(x, y, abbrev);\n  }\n  // Use global variables set in drawData( )\n  // to draw text related to closest circle.\n  if (closestDist != MAX_FLOAT) {\n    fill(0);\n    textAlign(CENTER);\n    text(closestText, closestTextX, closestTextY);\n  }\n}\nvoid drawData(float x, float y, String abbrev) {\n  float value = dataTable.getFloat(abbrev, 1);\n  float radius = 0;\n  if (value >= 0) {\n    radius = map(value, 0, dataMax, 1.5, 15);\n    fill(#4422CC);  // blue\n  } else {\n    radius = map(value, 0, dataMin, 1.5, 15);\n    fill(#FF4422);  // red\n  }\n  ellipseMode(RADIUS);\n  ellipse(x, y, radius, radius);\n  float d = dist(x, y, mouseX, mouseY);\n  // Because the following check is done each time a new\n  // circle is drawn, we end up with the values of the\n  // circle closest to the mouse.\n  if ((d < radius + 2) && (d < closestDist)) {\n    closestDist = d;\n    String name = nameTable.getString(abbrev, 1);\n    closestText = name + \" \" + value;\n    closestTextX = x;\n    closestTextY = y-radius-4;\n  }\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2228
  },
  {
    "chunk_full": "46\n|\nChapter 3: Mapping\nUpdating Values over Time (Acquire, Mine)\nA static map isn’t particularly interesting, especially when there’s the possibility of an\ninteractive environment. In addition, data values are often dynamic. They might\nchange every second, every hour, or every year, but in each case, we’ll want to depict\nthe change over time. For example, we can replace the data with random values each\ntime a key is pressed. Again, because draw( ) is called repeatedly, the values shown\non screen will update immediately.\nThe code in this section provides an initial illustration of how to handle user inter-\naction, a theme I’ll expand in the book.\nOne problem with changing data is that the minimum and maximum values need to\nstay fixed. You’ll need to figure out the absolute values for each because recalculat-\ning dataMin and dataMax each time new data is found will make the data points\nappear out of proportion to the previous set of values. For this example, we’ll set the\nminimum and maximum values to –10 and 10, when the variables are first declared\nat the beginning of the program:\nTable dataTable;\nfloat dataMin = -10;\nfloat dataMax = 10;\nThis change means that the code to find the minimum and maximum values can be\nremoved from the setup( ) method.\nThe following code builds on the previous step and adds a function to randomize the\ndata values each time the Space bar is pressed:\nvoid keyPressed( ) {\n  if (key == ' ') {\n    updateTable( );\n  }\n}\nvoid updateTable( ) {\n  for (int row = 0; row < rowCount; row++) {\n    float newValue = random(dataMin, dataMax);\n    dataTable.setFloat(row, 1, newValue);\n  }\n}\nThe random( ) function takes a minimum and maximum value, and returns a value\nstarting with the minimum, up to but not including the maximum. The setFloat( )\nfunction overwrites the old value from the data table with the new random value.\nWhen running this code, press the Space bar once to see a new set of data appear.\nYou might also notice that the rollovers now look a bit silly because the randomized\nvalues might have six or seven digits of precision. This can be changed with the nf( )\nfunction, which is used to format numbers for printing.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2229
  },
  {
    "chunk_full": "Data on a Map\n|\n47\nThe basic form of nf( ) specifies the number of digits to the left and right of the deci-\nmal point. Specifying 0 for either position means “any” number of digits. So, to allow\nany number of digits to the left of the decimal point and two digits to the right, the\nline that sets closestText changes from:\n    closestText = name + \" \" + value;\nto the following:\n    closestText = name + \" \" + nf(value, 0, 2);\nThe name for nf( ) is intentionally terse (if a bit cryptic) because it’s almost always\nused in situations when it’s being concatenated to another part of a String. Two\nrelated functions are:\nnfp( )\nRequires each number to be shown with a + or – sign.\nnfs( )\nPads values with spaces to fill out the number of digits specified. This is useful in\nsome situations for lining up values in vertical columns.\nBecause we care about positive and negative, nfp( ) is probably best suited for our\npurpose. This turns “North Dakota 6.15234534” into “North Dakota +6.15”, which\nis far more readable.\nInstead of randomizing the data, updateTable( ) could be used to load a new set of\nvalues from another data source, whether another file or a location online. For\ninstance, the following URL can be used to read a new set of data from the Web:\nhttp://benfry.com/writing/map/random.cgi\nAt this location is a simple Perl script that generates a new set of values and sends\nthem over a CGI connection. The code follows, with comments for those not famil-\niar with Perl syntax:\n#!/usr/bin/perl\n# An array of the 50 state abbreviations\n@states = ('AL', 'AK', 'AZ', 'AR', 'CA', 'CO', 'CT', 'DE', 'FL', 'GA',\n           'HI', 'ID', 'IL', 'IN', 'IA', 'KS', 'KY', 'LA', 'ME', 'MD',\n           'MA', 'MI', 'MN', 'MS', 'MO', 'MT', 'NE', 'NV', 'NH', 'NJ',\n           'NM', 'NY', 'NC', 'ND', 'OH', 'OK', 'OR', 'PA', 'RI', 'SC',\n           'SD', 'TN', 'TX', 'UT', 'VT', 'VA', 'WA', 'WV', 'WI', 'WY');\n# A CGI script must identify the type of data it's sending;\n# this line specifies that plain text data will follow.\nprint \"Content-type: text/plain\\n\\n\";\n# Loop through each of the state abbreviations in the array.\nforeach $state (@states) {\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2230
  },
  {
    "chunk_full": "48\n|\nChapter 3: Mapping\n    # Pick a random number between -10 and 10. (rand( ) returns a\n    # number between 0 and 1; multiply that by 20 and subtract 10.)\n    $r = (rand( ) * 20) - 10;\n    # Print the state name, followed by a tab,\n    # then the random value, followed by a new line.\n    print \"$state\\t$r\\n\";\n}\nTo use this URL, the code for the updateTable( ) function changes to the following:\nvoid updateTable( ) {\n  dataTable = new Table(\"http://benfry.com/writing/map/random.cgi\");\n}\nEven though this script just produces randomized data, the same model could be\nused in actual practice, where a data set is generated online—perhaps from a data-\nbase or something else that is accessible only through a network connection.\nSmooth Interpolation of Values over Time (Reﬁne)\nWhen updating data, it’s important to show users the transition over time. Interpo-\nlating between values helps users track where the changes occur and provides con-\ntext for the change as it happens. The way to think about interpolation is that your\ndata values are never “equal” to some number; rather, they’re always “becoming” or\n“transitioning to” another value.\nFor this, we use another class called an Integrator. The contents of the code will be\nexplained shortly, but for the time being, it can be downloaded from http://benfry.\ncom/writing/map/Integrator.pde.\nThis code implements a simple physics-based interpolator. A force is exerted by\nwhich a value can “target” another, in the manner of a spring (more about this later).\nThe important thing to understand is that an Integrator object represents a single\ndata value. When the Integrator is constructed, an initial value is set:\nIntegrator changingNumber = new Integrator(4);\nTo make the value transition from 4 (its initial value) to –2, use the target( ) method:\nchangingNumber.target(-2);\nThis has no effect yet on the display. For the value to update, you must call the\nupdate( ) method of the Integrator:\nchangingNumber.update( );\nUsually this is done at the beginning of draw( ). The target( ) method is called when-\never a state changes, and the constructor is used inside setup( ). The Integrator has\na value field that always holds its current value. To set the diameter of an ellipse\nbased on the changing value, a line like this would be used inside draw( ):\nellipse(x, y, changingNumber.value, changingNumber.value);\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2231
  },
  {
    "chunk_full": "Data on a Map\n|\n49\nBecause our state example uses 50 values, we need to create an array of Integrator\nobjects inside setup( ), update each of them at the beginning of setup( ), and\ntarget( ) them to new values each time the display changes, effectively producing\nan animation. Instead of using getFloat( ) to read values from the dataTable object,\nthe dataTable object will be used to target( ) the Integrator list.\nThe modified code looks like this:\nPImage mapImage;\nTable locationTable;\nTable nameTable;\nint rowCount;\nTable dataTable;\nfloat dataMin = -10;\nfloat dataMax = 10;\nIntegrator[] interpolators;\nvoid setup( ) {\n  size(640, 400);\n  mapImage = loadImage(\"map.png\");\n  locationTable = new Table(\"locations.tsv\");\n  nameTable = new Table(\"names.tsv\");\n  rowCount = locationTable.getRowCount( );\n  dataTable = new Table(\"random.tsv\");\n  // Setup: load initial values into the Integrator.\n  interpolators = new Integrator[rowCount];\n  for (int row = 0; row < rowCount; row++) {\n    float initialValue = dataTable.getFloat(row, 1);\n    interpolators[row] = new Integrator(initialValue);\n  }\n  PFont font = loadFont(\"Univers-Bold-12.vlw\");\n  textFont(font);\n  smooth( );\n  noStroke( );\n}\nfloat closestDist;\nString closestText;\nfloat closestTextX;\nfloat closestTextY;\nvoid draw( ) {\n  background(255);\n  image(mapImage, 0, 0);\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2232
  },
  {
    "chunk_full": "50\n|\nChapter 3: Mapping\n   // Draw: update the Integrator with the current values,\n   // which are either those from the setup( ) function\n   // or those loaded by the target( ) function issued in\n   // updateTable( ).\n   for (int row = 0; row < rowCount; row++) {\n    interpolators[row].update( );\n  }\n  closestDist = MAX_FLOAT;\n  for (int row = 0; row < rowCount; row++) {\n    String abbrev = dataTable.getRowName(row);\n    float x = locationTable.getFloat(abbrev, 1);\n    float y = locationTable.getFloat(abbrev, 2);\n    drawData(x, y, abbrev);\n  }\n  if (closestDist != MAX_FLOAT) {\n    fill(0);\n    textAlign(CENTER);\n    text(closestText, closestTextX, closestTextY);\n  }\n}\nvoid drawData(float x, float y, String abbrev) {\n  // Figure out what row this is.\n  int row = dataTable.getRowIndex(abbrev);\n  // Get the current value.\n  float value = interpolators[row].value;\n  float radius = 0;\n  if (value >= 0) {\n    radius = map(value, 0, dataMax, 1.5, 15);\n    fill(#4422CC);  // blue\n  } else {\n    radius = map(value, 0, dataMin, 1.5, 15);\n    fill(#FF4422);  // red\n  }\n  ellipseMode(RADIUS);\n  ellipse(x, y, radius, radius);\n  float d = dist(x, y, mouseX, mouseY);\n  if ((d < radius + 2) && (d < closestDist)) {\n    closestDist = d;\n    String name = nameTable.getString(abbrev, 1);\n    // Use target (not current) value for showing the data point.\n    String val = nfp(interpolators[row].target, 0, 2);\n    closestText = name + \" \" + val;\n    closestTextX = x;\n    closestTextY = y-radius-4;\n  }\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2233
  },
  {
    "chunk_full": "Using Your Own Data\n|\n51\nvoid keyPressed( ) {\n  if (key == ' ') {\n    updateTable( );\n  }\n}\nvoid updateTable( ) {\n  for (int row = 0; row < rowCount; row++) {\n    float newValue = random(-10, 10);\n    interpolators[row].target(newValue);\n  }\n}\nThe changes will transition very quickly, and there are two ways to handle this. The\nfirst is to adjust the frame rate of your application, which may be very high. By\ndefault, the frame rate is capped to 60 frames per second (fps). When building ani-\nmated graphics, it’s important to keep an eye on the frame rate to avoid situations in\nwhich a faster computer runs your code too quickly. Simply setting the maximum\nframe rate lower results in a more visually pleasing presentation. This line, added to\nthe end of setup( ), sets the maximum to 30 fps:\nframeRate(30);\nAnother option is to use the Integrator class’s own parameters. We mentioned that\nthe Integrator class uses math for simple physics that simulate a spring. The target\nvalue is the resting length of the spring. The other parameters are defined in terms of\nphysical properties, which include the damping (how much friction exists to prevent\nthe changes from being too wobbly) and the degree of attraction (how quickly the\nvalue will become another). You can set the damping and attraction in the construc-\ntor. The default damping is 0.5 and the attraction is 0.2. Even without modifying the\nframeRate( ) setting, changing the constructor can make things move much more\nslowly:\n    interpolators[row] = new Integrator(initialValue, 0.5, 0.01);\nCutting down the damping makes things bouncy:\n    interpolators[row] = new Integrator(initialValue, 0.9, 0.1);\nUsing Your Own Data\nThe file format presented in this chapter is straightforward, so try replacing the\nrandom.tsv file with your own data based on the 50 states. It’s remarkably easy to\nplot your own values to individual locations. You’ll probably still use the map( ) func-\ntion, but you don’t have to use ellipses or colors to plot your data points. You could\ndraw an image at each location, varying its size based on the data. Or some points\ncould be hidden or reorganize themselves in various ways. The points might refer to\nanything from chain coffee shops per capita to poverty levels in each state.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2234
  },
  {
    "chunk_full": "52\n|\nChapter 3: Mapping\nTaking Data from the User\nNot everyone wants to employ data relating to the United States, but the same tech-\nnique is sound for any type of data mapped to particular points. In later chapters,\nwe’ll get into mapping latitude and longitude coordinates, as well as using shape\ndata for locations, but even the simple example presented in this chapter can be used\nin many other ways.\nThe following code reads from the names.tsv file and asks the user to indicate a loca-\ntion for each in turn, by clicking the mouse where the user wants the data to be\nplaced. Start this example as a separate sketch. It requires a map.png file, a names.tsv\nfile, and the Table.pde file used throughout this chapter. The map image and names\nfile can be replaced with data of your choice, and this code produces a locations.tsv\nfile that can be added to the data folder of the new sketch:\nPImage mapImage;\nTable nameTable;\nint currentRow = -1;\nPrintWriter writer;\nvoid setup( ) {\n  size(640, 400);\n  mapImage = loadImage(\"map.png\");\n  nameTable = new Table(\"names.tsv\");\n  writer = createWriter(\"locations.tsv\");\n  cursor(CROSS);  // make easier to pinpoint a location\n  println(\"Click the mouse to begin.\");\n}\nvoid draw( ) {\n  image(mapImage, 0, 0);\n}\nvoid mousePressed( ) {\n  if (currentRow != -1) {\n    String abbrev = nameTable.getRowName(currentRow);\n    writer.println(abbrev + \"\\t\" + mouseX + \"\\t\" + mouseY);\n  }\n  currentRow++;\n  if (currentRow == nameTable.getRowCount( )) {\n    // Close the file and finish.\n    writer.flush( );\n    writer.close( );\n    exit( );\n  } else {\n    // Ask for the next coordinate.\n    String name = nameTable.getString(currentRow, 1);\n    println(\"Choose location for \" + name + \".\");\n  }\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2235
  },
  {
    "chunk_full": "Next Steps\n|\n53\nNext Steps\nIn this chapter, we learned the basics of reading, displaying, and interacting with a\ndata set. The chapters that follow delve into far more sophisticated aspects of each,\nbut all of them build on the basic skills you’ve picked up here.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2236
  },
  {
    "chunk_full": "54\nChapter 4\nCHAPTER 4\nTime Series\n4\nThe time series is a ubiquitous type of data set. It describes how some measurable\nfeature (for instance, population, snowfall, or items sold) has changed over a period\nof time. Edward Tufte credits Johann Heinrich Lambert with the formal introduc-\ntion of the time series to scientific literature in the 1700s.*\nBecause of its ubiquity, the time series is a good place to start when learning about\nvisualization. With it we can cover:\n• Acquiring a table of data from a text file\n• Parsing the contents of the file into a usable data structure\n• Calculating the boundaries of the data to facilitate representation\n• Finding a suitable representation and considering alternatives\n• Refining the representation with consideration for placement, type, line weight,\nand color\n• Providing a means of interacting with the data so that we can compare variables\nagainst one another or against the average of the whole data set\nFor a straightforward data set, let’s turn to the U.S. Department of Agriculture\n(USDA) for statistics on beverage consumption. Government sites are a terrific\nresource for data; see Chapter 9 for more information about them and other sources\nof data.\nMost methods will be implemented “by hand” in this section. Further down the line,\nwe’ll make generalized code to handle different scenarios, such as reading a table\nfrom a file or placing labels and grid lines on a plot.\n* Tufte, Edward R. The Visual Display of Quantitative Information. Cheshire, Conn.: Graphics Press, 1983.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2237
  },
  {
    "chunk_full": "Cleaning the Table (Filter and Mine)\n|\n55\nMilk, Tea, and Coffee (Acquire and Parse)\nThe data set we use was originally downloaded from http://www.ers.usda.gov/Data/\nFoodConsumption/FoodAvailQueriable.aspx.\nThe page lets you define a query to download a data set of interest. The site claims\nthat the data is in Excel format, but a glance at the contents of the resulting file\nshows that it’s only an HTML file with an .xls extension that fools Excel into open-\ning it. Rather than getting into the specifics of how to download and clean the data, I\noffer an already processed version here:\nhttp://benfry.com/writing/series/milk-tea-coffee.tsv\nThis data set contains three columns: the first for milk, the second for coffee, and the\nthird for tea consumption in the United States from 1910 to 2004.\nTo read this file, use this modified version of the Table class from the previous\nchapter:\nhttp://benfry.com/writing/series/FloatTable.pde\nThe modified version handles data stored as float values, making it more efficient\nthan the previous version, which simply converted the data whenever getString( ),\ngetFloat( ), or getInt( ) were used.\nOpen Processing and start a new sketch. Add both files to the sketch by either drag-\nging each into the editor window or using Sketch ➝ Add File.\nCleaning the Table (Filter and Mine)\nIt’s necessary to determine the minimum and maximum of each of the columns in\nthe pre-filtered data set. These values are used to properly scale plotted points to\nlocations on the screen.\nThe FloatTable class has methods for calculating the min and max for the rows and\ncolumns. These methods are worth discussing because they are important in later\ncode. The following example calculates the minimum value for a column (comments\ndenote important portions of the code):\n  float getColumnMax(int col) {\n    // Set the value of m arbitrarily high, so the first value\n    // found will be set as the maximum.\n    float m = MIN_FLOAT;\n    // Loop through each row.\n    for (int row = 0; row < rowCount; row++) {\n      // Only consider valid data elements (see later text).\n      if (isValid(row, col)) {\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2238
  },
  {
    "chunk_full": "56\n|\nChapter 4: Time Series\n        // Finally, check to see if the value\n        // is greater than the maximum found so far.\n        if (data[row][col] > m) {\n          m = data[row][col];\n        }\n      }\n    }\n    return m;\n  }\nThe isValid( ) method is important because most data sets have incomplete data. In\nthe milk-tea-coffee.tsv file, all of the data is valid, but in most data sets (including\nothers used in this chapter), missing values require extra consideration.\nBecause the values for milk, coffee, and tea will be compared against one another, it’s\nnecessary to calculate the maximum value across all of the columns. The following\nbit of code does this after loading the milk-tea-coffee.tsv file:\nFloatTable data;\nfloat dataMin, dataMax;\nvoid setup( ) {\n  data = new FloatTable(\"milk-tea-coffee.tsv\");\n  dataMin = 0;\n  dataMax = data.getTableMax( );\n}\nSometimes, it’s also useful to calculate the minimum value, but setting the minimum\nto zero provides a more accurate comparison between the three data sets. The mini-\nmum for this data set is 5.1, and the values for the tea column hover around 6, so\nusing 5.1 as the dataMin value would produce a chart that looked as though the bev-\nerage history included periods of no (or nearly no) tea consumption in the U.S. In\naddition, if the value is 6, it’s important that the relative difference seen by the viewer\nis not just 0.9, but that it shows the full range from 0 up to 5.1 and how it compares\nto a value of 6.\nEach row name specifies a year, which will be used later to draw labels on the plot.\nTo make them useful in code, it’s also necessary to get the minimum and maximum\nyear after converting the entire group to an int array. The getRowNames( ) method\ninside FloatTable returns a String array that can be converted with the int( ) casting\nfunction:\nFloatTable data;\nfloat dataMin, dataMax;\nint yearMin, yearMax;\nint[] years;\nvoid setup( ) {\n  data = new FloatTable(\"milk-tea-coffee.tsv\");\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2239
  },
  {
    "chunk_full": "A Simple Plot (Represent and Refine)\n|\n57\n  years = int(data.getRowNames( ));\n  yearMin = years[0];\n  yearMax = years[years.length - 1];\n  dataMin = 0;\n  dataMax = data.getTableMax( );\n}\nA Simple Plot (Represent and Reﬁne)\nTo begin the representation, it’s first necessary to set the boundaries for the plot\nlocation. The plotX1, plotY1, plotX2, and plotY2 variables define the corners of the\nplot. To provide a nice margin on the left, set plotX1 to 50, and then set the plotX2\ncoordinate by subtracting this value from width. This keeps the two sides even, and\nrequires only a single change to adjust the position of both. The same technique is\nused for the vertical location of the plot:\nFloatTable data;\nfloat dataMin, dataMax;\nfloat plotX1, plotY1;\nfloat plotX2, plotY2;\nint yearMin, yearMax;\nint[] years;\nvoid setup( ) {\n  size(720, 405);\n  data = new FloatTable(\"milk-tea-coffee.tsv\");\n  years = int(data.getRowNames( ));\n  yearMin = years[0];\n  yearMax = years[years.length - 1];\n  dataMin = 0;\n  dataMax = data.getTableMax( );\n  // Corners of the plotted time series\n  plotX1 = 50;\n  plotX2 = width - plotX1;\n  plotY1 = 60;\n  plotY2 = height - plotY1;\n  smooth( );\n}\nNext, add a draw( ) method that sets the background to a light gray and draws a\nfilled white rectangle for the plotting area. That will make the plot stand out against\nthe background, rather than a color behind the plot itself—which can muddy its\nappearance.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2240
  },
  {
    "chunk_full": "58\n|\nChapter 4: Time Series\nThe rect( ) function normally takes the form rect(x, y, width, height), but\nrectMode(CORNERS) changes the parameters to rect(left, top, right, bottom), which\nis useful because our plot’s shape is defined by the corners. Like other methods that\naffect drawing properties, such as fill( ) and stroke( ), rectMode( ) affects all geom-\netry that is drawn after it until the next time rectMode( ) is called:\nvoid draw( ) {\n  background(224);\n  // Show the plot area as a white box.\n  fill(255);\n  rectMode(CORNERS);\n  noStroke( );\n  rect(plotX1, plotY1, plotX2, plotY2);\n  strokeWeight(5);\n  // Draw the data for the first column.\n  stroke(#5679C1);\n  drawDataPoints(0);\n}\n// Draw the data as a series of points.\nvoid drawDataPoints(int col) {\n  int rowCount = data.getRowCount( );\n  for (int row = 0; row < rowCount; row++) {\n    if (data.isValid(row, col)) {\n      float value = data.getFloat(row, col);\n      float x = map(years[row], yearMin, yearMax, plotX1, plotX2);\n      float y = map(value, dataMin, dataMax, plotY2, plotY1);\n      point(x, y);\n    }\n  }\n}\nBecause the data is drawn as points using the drawDataPoints( ) method, a stroke\ncolor and weight are set. This method also takes a column index to draw as a param-\neter. The results are in Figure 4-1. For the first step, I’ve shown only the first column\nof data (the values for milk consumption).\nThe map( ) function does most of the work. The x coordinate is calculated by map-\nping the year for each row from yearMin and yearMax to plotX1 and plotX2. Another\noption would be to use the row variable, instead of the year:\nfloat x = map(row, 0, rowCount-1, plotX1, plotX2);\nBut a value for row would be less accurate because a year or two might be missing\nfrom the data set, which would skew the representation. Again, this data set is com-\nplete, but often that is not the case.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2241
  },
  {
    "chunk_full": "Labeling the Current Data Set (Refine and Interact)\n|\n59\nLabeling the Current Data Set (Reﬁne and Interact)\nMissing from the previous code is an indicator of the currently visible column of data\n(whether milk, tea, or coffee) and a means to swap between each of the three. For\nthis, we add a variable to keep track of the current column, and another for the font\nused for the title. And few lines of code are added to the draw( ) method to write the\nname of the column with the text( ) method:\nFloatTable data;\nfloat dataMin, dataMax;\nfloat plotX1, plotY1;\nfloat plotX2, plotY2;\nint currentColumn = 0;\nint columnCount;\nint yearMin, yearMax;\nint[] years;\nPFont plotFont;\nvoid setup( ) {\n  size(720, 405);\nFigure 4-1. One set of points over time\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2242
  },
  {
    "chunk_full": "60\n|\nChapter 4: Time Series\n  data = new FloatTable(\"milk-tea-coffee.tsv\");\n  columnCount = data.getColumnCount( );\n  years = int(data.getRowNames( ));\n  yearMin = years[0];\n  yearMax = years[years.length - 1];\n  dataMin = 0;\n  dataMax = data.getTableMax( );\n  // Corners of the plotted time series\n  plotX1 = 50;\n  plotX2 = width - plotX1;\n  plotY1 = 60;\n  plotY2 = height - plotY1;\n  plotFont = createFont(\"SansSerif\", 20);\n  textFont(plotFont);\n  smooth( );\n}\nvoid draw( ) {\n  background(224);\n  // Show the plot area as a white box.\n  fill(255);\n  rectMode(CORNERS);\n  noStroke( );\n  rect(plotX1, plotY1, plotX2, plotY2);\n  // Draw the title of the current plot.\n  fill(0);\n  textSize(20);\n  String title = data.getColumnName(currentColumn);\n  text(title, plotX1, plotY1 - 10);\n  stroke(#5679C1);\n  strokeWeight(5);\n  drawDataPoints(currentColumn);\n}\nThe text( ) line draws the text 10 pixels above plotY1, which represents the top of\nthe plot, and the drawDataPoints( ) line uses currentColumn instead of just 0. Results\nare shown in Figure 4-2.\nThe createFont( ) function is used to create a font from one of the built-in typefaces.\nThe built-in typefaces are Serif, SansSerif, Monospaced, Dialog, and DialogInput;\nthey map to the default fonts on each operating system. On Mac OS X, for instance,\nSansSerif maps to Lucida Sans, whereas on Windows it maps to Arial. The default\nfonts are useful when you don’t want to deal with the Create Font tool, but the font\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2243
  },
  {
    "chunk_full": "Labeling the Current Data Set (Refine and Interact)\n|\n61\nchoices are not particularly inspiring, and they don’t guarantee consistent output\nacross different operating systems. For instance, making pixel-level decisions with a\nbuilt-in font is a bad idea because the shaping and spacing of the characters can be\nsignificantly different on other operating systems.\nOne advantage of using createFont( ) is that the text will look smooth at any size,\nunlike a font used with loadFont( ), which may be distorted as it is resized.\nIt is possible to use createFont( ) to specify something besides a built-in font, but\nthere’s no guarantee that the font will be installed on another user’s system. This can\nbe useful for testing, after which you can use the Create Font tool before deploy-\nment. The name of a font used by createFont( ) should be identical to how it is listed\nin the Create Font tool. You can also get a list of the available fonts with the PFont.\nlist( ) method, which returns a String array. The following will print the list of all\navailable fonts to the console:\nprintln(PFont.list( ));\nIf you have a lot of fonts installed on your system, there might be a\nlong delay before they are listed.\nThe createFont( ) method can also be used with a TrueType (.ttf) or OpenType (.otf)\nfile added to the data folder. Most TrueType fonts will work, but OpenType support\nvaries by platform. Be mindful of copyrighted fonts when using this method in a\nsketch for public distribution.\nFigure 4-2. Time series with data set labeled\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2244
  },
  {
    "chunk_full": "62\n|\nChapter 4: Time Series\nA simple means of swapping between columns of data is to add a keyPressed( )\nmethod, which will automatically run any time a key is pressed:\nvoid keyPressed( ) {\n  if (key == '[') {\n    currentColumn--;\n    if (currentColumn < 0) {\n      currentColumn = columnCount - 1;\n    }\n  } else if (key == ']') {\n    currentColumn++;\n    if (currentColumn == columnCount) {\n      currentColumn = 0;\n    }\n  }\n}\nThis method will rotate through the columns as the user presses the [ and ] (bracket)\nkeys. When the number gets too big or too small, it wraps around to the beginning\nor end of the list. Because columnCount is 3, the possible currentColumn values are 0,\n1, and 2. So, when currentColumn reaches a value less than zero, it wraps around to 2\n(columnCount - 1).\nDrawing Axis Labels (Reﬁne)\nAn unlabeled plot has minimal utility. It clearly displays relative up or down swings,\nbut without a sense of the time period or amounts to indicate the degree of swing,\nit’s impossible to know whether values have changed by, say, 5% or 50%. And some\nindication is required to explain that the horizontal axis represents the year and the\nvertical axis represents actual volumes: the amount consumed of a particular bever-\nage, measured in gallons per capita per year.\nThere are clever (and complicated) means of selecting intervals, but for this project,\nwe will pick the interval by hand. Choosing a proper interval and deciding whether\nto include major and minor tick marks depends on the data, but a general rule of\nthumb is that five intervals is at the low end, and more than ten is likely a problem.\nToo many labels make the diagram look like graph paper, and too few suggests that\nonly the minimum and maximum values need to be shown.\nThe most important consideration is the way the data is used. Are minute, year-by-\nyear comparisons needed? Always use the fewest intervals you can get away with, as\nlong as the plot shows the level of detail the reader needs. Sometimes no labels are\nnecessary—if values are only meant to be compared against one another. For\ninstance, you might dispense with labels if you want to show only upward and\ndownward trends. Other factors, such as the width of the plot, also play a role, so\ndetermining the correct level of detail usually requires a little trial and error.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2245
  },
  {
    "chunk_full": "Drawing Axis Labels (Refine)\n|\n63\nYear Labels\nCreating the year axis is straightforward. The data ranges from 1910 to 2004, so an\ninterval of 10 years means marking 10 individual years: 1910, 1920, 1930, and so\non, up to 2000. Add the yearInterval variable to the beginning of the code before\nsetup( ):\nint yearInterval = 10;\nNext, add the following function to draw the year labels:\nvoid drawYearLabels( ) {\n  fill(0);\n  textSize(10);\n  textAlign(CENTER, TOP);\n  for (int row = 0; row < rowCount; row++) {\n    if (years[row] % yearInterval == 0) {\n      float x = map(years[row], yearMin, yearMax, plotX1, plotX2);\n      text(years[row], x, plotY2 + 10);\n    }\n  }\n}\nThe fill color is set to black, the text size to 10, and the alignment to the middle so\nthat the year number centers on the position of the data point for that year.\nTwo lines in this code deserve further consideration. The first is the line that makes use\nof the %, or modulo, operator. A modulo operation returns the remainder from a divi-\nsion. So, for example, 7 % 2 is equal to 1, and 8 % 5 equals 3. It’s useful for drawing\nlabels because it provides a way to easily identify a year ending in 0. Dividing 1910 by\n10 returns 0, so a label is drawn, whereas dividing 1911 by 10 produces 1, and so it\ncontinues until the loop reaches 1920, which also returns 0 when divided by 10.\nA second parameter to textAlign( ) sets the vertical alignment of the text. The\noptions are TOP, BOTTOM, CENTER, and BASELINE (the default). The TOP and CENTER\nparameters are straightforward. The BOTTOM parameter is the same as BASELINE when\nonly one line of text is used, but for multiple lines, the final line will be aligned to the\nbaseline, with the previous lines appearing above it. When only one parameter is\nused, the vertical alignment resets to BASELINE.\nThe resulting image is shown in Figure 4-3.\nTo draw text that does not bump into the elements above it, you need\nto know the height of the tallest character in the font. Typographers\nrefer to this as the ascent. Traditionally, the ascent of a font is the\nheight to the top of a capital H character. Characters such as the capi-\ntal O or a capital B are in fact slightly taller than the letter H and dip\nslightly below the baseline—the bottom line from which text is drawn.\nThe ascent value essentially refers to the optical height of the font,\nwhich is the height perceived by our eyes.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2246
  },
  {
    "chunk_full": "64\n|\nChapter 4: Time Series\nSimple grid lines can also help the presentation by identifying each interval. The fol-\nlowing modifications add a grid to the drawYearLabels( ) function:\nvoid drawYearLabels( ) {\n  fill(0);\n  textSize(10);\n  textAlign(CENTER, TOP);\n  // Use thin, gray lines to draw the grid.\n  stroke(224);\n  strokeWeight(1);\n  for (int row = 0; row < rowCount; row++) {\n    if (years[row] % yearInterval == 0) {\n      float x = map(years[row], yearMin, yearMax, plotX1, plotX2);\n      text(years[row], x, plotY2 + 10);\n      line(x, plotY1, x, plotY2);\n    }\n  }\n}\nFigure 4-4 shows the result.\nNotice that because the fill color does not affect lines, and a stroke color does not\naffect text, it is not necessary to use noFill( ) or noStroke( ) in this method.\nWith a separate method to draw the year labels, it makes sense to put the code that\ndraws the title into its own method. The drawTitle( ) method takes this code from\nthe draw( ) function. Just replace the title drawing code inside draw( ) with:\ndrawTitle( );\nFigure 4-3. Time series with labeled x-axis\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2247
  },
  {
    "chunk_full": "Drawing Axis Labels (Refine)\n|\n65\nand then add the following method to the code:\nvoid drawTitle( ) {\n  fill(0);\n  textSize(20);\n  textAlign(LEFT);\n  String title = data.getColumnName(currentColumn);\n  text(title, plotX1, plotY1 - 10);\n}\nBecause the drawYearLabels( ) function changes the text alignment, a line is added to\nreset to textAlign(LEFT) before drawing the title. Otherwise, the title would appear\ncentered at plotX1 on the next trip through the draw( ) method, inheriting the text\nalignment settings from the previous draw( ).\nLabeling Volume on the Vertical Axis\nThe vertical axis can be handled the same way as the horizontal, but it is a bit trick-\nier. A quick println(dataMax) added to setup( ) tells us that the maximum value is\n46.4. Intervals of 10 will again suffice, this time producing only 5 divisions (as\nopposed to 10 in the horizontal):\nint volumeInterval = 10;\nWith a dataMax value of 46.4 and intervals of 10, rounding up dataMax to the nearest\ninterval will make the maximum value on the plot 50, making it a little easier to read\nchanges in vertical values. To do so automatically, divide dataMax by volumeInterval.\nFigure 4-4. Time series with vertical grid\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2248
  },
  {
    "chunk_full": "66\n|\nChapter 4: Time Series\nThe result is 4.64. Next, use ceil( ), which rounds a float up to the next int value\n(in this case, 5), called the ceiling of a float. Then, set dataMax to the rounded value\nmultiplied by volumeInterval. That calculation took a few sentences to explain, but\nthe code consists of a one-line change to setup( ):\ndataMax = ceil(data.getTableMax( ) / volumeInterval) * volumeInterval;\nTo draw the labels, create a loop that iterates from the minimum to maximum data\nvalues. Use an increment of volumeInterval to draw a label at each interval:\nvoid drawVolumeLabels( ) {\n  fill(0);\n  textSize(10);\n  textAlign(RIGHT, CENTER);\n  for (float v = dataMin; v < dataMax; v += volumeInterval) {\n    float y = map(v, dataMin, dataMax, plotY2, plotY1);\n    text(floor(v), plotX1 - 10, y);\n  }\n}\nWhen you’re drawing the text label, the floor( ) function removes decimals from the\nnumber value because there’s no need to write 10.0, 20.0, 30.0, etc. when 10, 20,\nand 30 will suffice. If dataInterval included decimal points, the nf( ) method could\nbe used instead to format the value to a specific number of decimal places.\nThe text( ) method can draw int or float values instead of just String\nobjects. For float values, it is best to use the nf( ) method to first con-\nvert the float to a specific number of decimal places. By default, text( )\nwill format a float to three decimal places. That is different from Java,\nwhich can have many digits in the decimal place for a float, because\nusing just a few digits is usually more useful for a graphical display. To\nget the full 4-, 8-, or 15-digit version of the float value, use the str( )\nfunction to convert the float to a String. For Java programmers, using\nstr( ) is equivalent to String.valueOf( ).\nThe x-coordinate of the label text is the lefthand edge of the plot minus a few pixels.\nAlso note the use of textAlign( ) to vertically center the text.\nWith the vertical centering, the label drawn at 0 is visually a little too close to the year\nmarkers below. In its current state, this example is not detailed enough to be used for\nreal analysis and is better at showing upward and downward trends. In that context,\nit’s clear from a glance that the bottom of the plot is 0, so the bottom label could be left\nout completely. The same goes for the top value, which gets close to the title. To leave\nthese out, alter the first value drawn by adding a volumeInterval to dataMin, and end\nthe loop at v < dataMax instead of v <= dataMax so that the 50 won’t be drawn:\nvoid drawVolumeLabels( ) {\n  fill(0);\n  textSize(10);\n  textAlign(RIGHT, CENTER);\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2249
  },
  {
    "chunk_full": "Drawing Axis Labels (Refine)\n|\n67\n  float dataFirst = dataMin + volumeInterval;\n  for (float v = dataFirst; v < dataMax; v += volumeInterval) {\n    float y = map(v, dataMin, dataMax, plotY2, plotY1);\n    text(floor(v), plotX1 - 10, y);\n  }\n}\nIn other cases, it might not be appropriate to remove upper and lower values. If\ndataMin were something other than 0, or the intervals more awkward than simple\nintervals of 10, viewers might be confused without the minimum and maximum val-\nues. In such cases, the maximum value (50) can be vertically aligned to the top of the\nplot, and the minimum value (0) to the bottom, rather than centered vertically like\nthe rest of the labels:\nvoid drawVolumeLabels( ) {\n  fill(0);\n  textSize(10);\n  for (float v = dataMin; v <= dataMax; v += volumeInterval) {\n    float y = map(v, dataMin, dataMax, plotY2, plotY1);\n    if (v == dataMin) {\n      textAlign(RIGHT); // Align by the bottom\n    } else if (v == dataMax) {\n      textAlign(RIGHT, TOP); // Align by the top\n    } else {\n      textAlign(RIGHT, CENTER); // Center vertically\n    }\n    text(floor(v), plotX1 - 10, y);\n  }\n}\nHorizontal lines can be fashioned in the same manner as those for the year. Choos-\ning whether to use a horizontal or vertical grid depends on the axis with data that is\nmost important to be measured. If this plot is being used to analyze exact changes in\nmilk consumption, the horizontal gridlines will better help with identifying changes.\nBut if the purpose is to compare upward and downward trends across different years\n(for instance, to understand how milk consumption changed during and after World\nWar II), the vertical gridlines are more valuable. For this data set, it’s most interest-\ning to compare changes over the years, so we’ll stick with vertical lines.\nInstead of gridlines, small tick marks near the labels on the vertical axis can be pro-\nduced with the same technique, by drawing a short line just outside the edge of the\nplot. Minor gridlines or tick marks can be drawn by including a variable for a second\ninterval that’s a multiple of the first and incrementing by that interval in the loop.\nThe following modification to drawVolumeLabels( ) adds major and minor tick marks\nto the volume axis:\nint volumeIntervalMinor = 5; // Add this above setup( )\nvoid drawVolumeLabels( ) {\n  fill(0);\n  textSize(10);\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2250
  },
  {
    "chunk_full": "68\n|\nChapter 4: Time Series\n  stroke(128);\n  strokeWeight(1);\n  for (float v = dataMin; v <= dataMax; v += volumeIntervalMinor) {\n    if (v % volumeIntervalMinor == 0) { // If a tick mark\n      float y = map(v, dataMin, dataMax, plotY2, plotY1);\n      if (v % volumeInterval == 0) { // If a major tick mark\n        if (v == dataMin) {\n          textAlign(RIGHT); // Align by the bottom\n        } else if (v == dataMax) {\n          textAlign(RIGHT, TOP); // Align by the top\n        } else {\n          textAlign(RIGHT, CENTER); // Center vertically\n        }\n        text(floor(v), plotX1 - 10, y);\n        line(plotX1 - 4, y, plotX1, y); // Draw major tick\n      } else {\n        line(plotX1 - 2, y, plotX1, y); // Draw minor tick\n      }\n    }\n  }\n}\nThe result with the tick marks and vertical labels is shown in Figure 4-5.\nStrictly speaking, the minor tickmarks in this example are not very informative. They\ncan be removed to avoid visual clutter; simply comment out the line that draws the\nminor ticks.\nFigure 4-5. Tick marks on the vertical axis\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2251
  },
  {
    "chunk_full": "Drawing Axis Labels (Refine)\n|\n69\nBringing It All Together and Titling Both Axes\nSo far, anyone looking at this diagram should be able to guess that it has something\nto do with milk from 1910 to sometime after 2000. To further explain the plot, the\nnext step is to provide titles for the year and volume axes. Informative axis titles are\nimportant for the people viewing your data.\nThe year axis title is simple: just a piece of text centered between plotX1 and plotX2.\nAfter centering the text in both directions with textAlign(CENTER, CENTER), the text is\ndrawn centered between plotY1 and plotY2. To fit both, the values for plotX1 and\nfriends must be changed to make room for the labels. In this case, eyeballing the\nplacement is sufficient, though textWidth( ) could be used to accurately size the left-\nhand margin, and textAscent( ) could do the same for the label below.\nFor the vertical axis, it might be tempting to rotate the title on its side, but more\noften than not it is more effective at giving your viewer eyestrain than it is at commu-\nnicating. I’ve kept the text horizontal and broken the label into three lines by insert-\ning newline characters (\\n) into the string.\nFigure 4-6 shows our progress.\nHere’s the code listing for the program thus far, with the lines highlighted that were\naltered to display the titles:\nFloatTable data;\nfloat dataMin, dataMax;\nFigure 4-6. Axis labels\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2252
  },
  {
    "chunk_full": "70\n|\nChapter 4: Time Series\nfloat plotX1, plotY1;\nfloat plotX2, plotY2;\nfloat labelX, labelY;\nint rowCount;\nint columnCount;\nint currentColumn = 0;\nint yearMin, yearMax;\nint[] years;\nint yearInterval = 10;\nint volumeInterval = 10;\nint volumeIntervalMinor = 5;\nPFont plotFont;\nvoid setup( ) {\n  size(720, 405);\n  data = new FloatTable(\"milk-tea-coffee.tsv\");\n  rowCount = data.getRowCount( );\n  columnCount = data.getColumnCount( );\n  years = int(data.getRowNames( ));\n  yearMin = years[0];\n  yearMax = years[years.length - 1];\n  dataMin = 0;\n  dataMax = ceil(data.getTableMax( ) / volumeInterval) * volumeInterval;\n  // Corners of the plotted time series\n  plotX1 = 120;\n  plotX2 = width - 80;\n  labelX = 50;\n  plotY1 = 60;\n  plotY2 = height - 70;\n  labelY = height - 25;\n  plotFont = createFont(\"SansSerif\", 20);\n  textFont(plotFont);\n  smooth( );\n}\nvoid draw( ) {\n  background(224);\n  // Show the plot area as a white box\n  fill(255);\n  rectMode(CORNERS);\n  noStroke( );\n  rect(plotX1, plotY1, plotX2, plotY2);\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2253
  },
  {
    "chunk_full": "Drawing Axis Labels (Refine)\n|\n71\n  drawTitle( );\n  drawAxisLabels( );\n  drawYearLabels( );\n  drawVolumeLabels( );\n  stroke(#5679C1);\n  strokeWeight(5);\n  drawDataPoints(currentColumn);\n}\nvoid drawTitle( ) {\n  fill(0);\n  textSize(20);\n  textAlign(LEFT);\n  String title = data.getColumnName(currentColumn);\n  text(title, plotX1, plotY1 - 10);\n}\nvoid drawAxisLabels( ) {\n  fill(0);\n  textSize(13);\n  textLeading(15);\n  textAlign(CENTER, CENTER);\n  // Use \\n (aka enter or linefeed) to break the text into separate lines.\n  text(\"Gallons\\nconsumed\\nper capita\", labelX, (plotY1+plotY2)/2);\n  textAlign(CENTER);\n  text(\"Year\", (plotX1+plotX2)/2, labelY);\n}\nvoid drawYearLabels( ) {\n  fill(0);\n  textSize(10);\n  textAlign(CENTER, TOP);\n  // Use thin, gray lines to draw the grid.\n  stroke(224);\n  strokeWeight(1);\n  for (int row = 0; row < rowCount; row++) {\n    if (years[row] % yearInterval == 0) {\n      float x = map(years[row], yearMin, yearMax, plotX1, plotX2);\n      text(years[row], x, plotY2 + 10);\n      line(x, plotY1, x, plotY2);\n    }\n  }\n}\nvoid drawVolumeLabels( ) {\n  fill(0);\n  textSize(10);\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2254
  },
  {
    "chunk_full": "72\n|\nChapter 4: Time Series\n  stroke(128);\n  strokeWeight(1);\n  for (float v = dataMin; v <= dataMax; v += volumeIntervalMinor) {\n    if (v % volumeIntervalMinor == 0) { // If a tick mark\n      float y = map(v, dataMin, dataMax, plotY2, plotY1);\n      if (v % volumeInterval == 0) { // If a major tick mark\n        if (v == dataMin) {\n          textAlign(RIGHT); // Align by the bottom\n        } else if (v == dataMax) {\n          textAlign(RIGHT, TOP); // Align by the top\n        } else {\n          textAlign(RIGHT, CENTER); // Center vertically\n        }\n        text(floor(v), plotX1 - 10, y);\n        line(plotX1 - 4, y, plotX1, y); // Draw major tick\n      } else {\n        // Commented out; too distracting visually\n        //line(plotX1 - 2, y, plotX1, y); // Draw minor tick\n      }\n    }\n  }\n}\nvoid drawDataPoints(int col) {\n  for (int row = 0; row < rowCount; row++) {\n    if (data.isValid(row, col)) {\n      float value = data.getFloat(row, col);\n      float x = map(years[row], yearMin, yearMax, plotX1, plotX2);\n      float y = map(value, dataMin, dataMax, plotY2, plotY1);\n      point(x, y);\n    }\n  }\n}\nvoid keyPressed( ) {\n  if (key == '[') {\n    currentColumn--;\n    if (currentColumn < 0) {\n      currentColumn = columnCount - 1;\n    }\n  } else if (key == ']') {\n    currentColumn++;\n    if (currentColumn == columnCount) {\n      currentColumn = 0;\n    }\n  }\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2255
  },
  {
    "chunk_full": "Choosing a Proper Representation (Represent and Refine)\n|\n73\nChoosing a Proper Representation (Represent and\nReﬁne)\nA series of points can be difficult to follow if they’re not connected. It’s not as easy to\ncompare milk and coffee in these images, for instance, because the predominant dif-\nference between the two plots is that the coffee values are far more erratic than those\nfor milk. Instead of a specific shape, the points make an indeterminate cloud that is\ndifficult to make sense of at a quick glance.\nWhen values are truly a series and there is no missing data, it’s possible to use a line\ngraph and simply connect the points. The beginShape( ) and endShape( ) methods\nprovide a means for drawing irregular shapes. The vertex( ) method adds a single\npoint to the shape. To connect the dots in a line, replace the point( ) method with\nvertex( ).\nThree examples follow that show the basic drawing modes of beginShape( ) and\nendShape( ). See Figure 4-7. Using noFill( ) will produce the image at left, and the\ndefault fill and stroke settings will produce the image in the center. The CLOSE param-\neter in the endShape( ) method handles the connection of the final point to the first,\nso that the stroke completely outlines the shape. Always use endShape(CLOSE) when\nclosing a shape because the alternative—repeating the first point—may cause unex-\npected visual defects.\n// Leftmost image: fill disabled and the default stroke\nnoFill( );\nbeginShape( );\nvertex(10, 10);\nvertex(90, 30);\nvertex(40, 90);\nvertex(50, 40);\nendShape( );\n// Center image: default fill (white) and stroke (black)\nbeginShape( );\nvertex(10, 10);\nvertex(90, 30);\nvertex(40, 90);\nvertex(50, 40);\nendShape( );\nFigure 4-7. Examples using beginShape( ) and endShape( )\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2256
  },
  {
    "chunk_full": "74\n|\nChapter 4: Time Series\n// Rightmost image: default fill and stroke, closed shape\nbeginShape( );\nvertex(10, 10);\nvertex(90, 30);\nvertex(40, 90);\nvertex(50, 40);\nendShape(CLOSE);\nTo represent a time series, we want a simple line with no fill, so we’ll use the nofill( )\nform of the shape. The following method is a variation of drawPoints( ) that draws the\ndata with beginShape( ) and endShape( ), with the alterations highlighted:\nvoid drawDataLine(int col) {\n  beginShape( );\n  int rowCount = data.getRowCount( );\n  for (int row = 0; row < rowCount; row++) {\n    if (data.isValid(row, col)) {\n      float value = data.getFloat(row, col);\n      float x = map(years[row], yearMin, yearMax, plotX1, plotX2);\n      float y = map(value, dataMin, dataMax, plotY2, plotY1);\n      vertex(x, y);\n    }\n  }\n  endShape( );\n}\nInside draw( ), comment out the line that reads:\n  drawDataPoints(currentColumn);\nby placing a pair of slashes (//) in front of it. On the line that follows, add:\n  noFill( );\n  drawDataLine(currentColumn);\nThe noFill() command is important; without it, the shape would have a strange black\nbackground because the fill was last set to black in the prior lines that draw the text\nlabel for the plot. This version of the code produces the image shown in Figure 4-8.\nIt could also be used to draw all three series (milk, tea, and coffee) on a single plot.\nTo do this, call drawDataLine( ) once for each of the three columns, and set a differ-\nent stroke color for each.\nIt’s also easy to mix lines and points in the representation to create a background line\nthat highlights the individual data points. To do so, set the stroke weight to\nsomething smaller while drawing the lines and keep the thicker weight for the points.\nModify the end of draw( ) to read as follows:\n  stroke(#5679C1);\n  strokeWeight(5);\n  drawDataPoints(currentColumn);\n  noFill( );\n  strokeWeight(0.5);\n  drawDataLine(currentColumn);\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2257
  },
  {
    "chunk_full": "Choosing a Proper Representation (Represent and Refine)\n|\n75\nThe result appears in Figure 4-9.\nNote that the functions themselves should not be merged, as other shape commands\n(such as point()) are not permitted inside a beginShape() and endShape() block.\nFigure 4-8. Continuously drawn time series using vertices\nFigure 4-9. Combined dots and continuous line\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2258
  },
  {
    "chunk_full": "76\n|\nChapter 4: Time Series\nDepending on how you use this code, it may be important to draw the points after\nthe lines. For example, if you set the stroke of the line to a light gray, it would be best\nto draw the blue points on top of the line so that the points are not bisected by an\nodd gray line (which has poor contrast with blue).\nUsing Rollovers to Highlight Points (Interact)\nThe lines and points combination is overkill for this data set: there are so many data\npoints horizontally that the individual dots (at a size of five pixels) are nearly the size\nof the space allotted for each data point (around seven pixels), leaving only two pix-\nels between them. Another option is to highlight individual points when the mouse is\nnearby. This is technique is nearly identical to the one used at the end of the previ-\nous chapter, and the function looks like the following:\nvoid drawDataHighlight(int col) {\n  for (int row = 0; row < rowCount; row++) {\n    if (data.isValid(row, col)) {\n      float value = data.getFloat(row, col);\n      float x = map(years[row], yearMin, yearMax, plotX1, plotX2);\n      float y = map(value, dataMin, dataMax, plotY2, plotY1);\n      if (dist(mouseX, mouseY, x, y) < 3) {\n        strokeWeight(10);\n        point(x, y);\n        fill(0);\n        textSize(10);\n        textAlign(CENTER);\n        text(nf(value, 0, 2) + \" (\" + years[row] + \")\", x, y-8);\n      }\n    }\n  }\n}\nThe stroke weight for the point is set to 10 because the weight used in the\ndrawDataPoints( ) method (5) would not contrast enough with the rest of the image.\nSimilarly, the stroke weight for the lines is set to 2, rather than the 0.5 stroke used\nwhen combining drawDataLines( ) and drawDataPoints( ), because it should stand\nout more. But strokeWeight(2) is still thinner than the strokeWeight(5) used when\nthe drawDataLines( ) method is run by itself because if the line itself is too thick, the\nrollover won’t be prominent enough.\nThe modified draw( ) method to draw the highlight follows:\nvoid draw( ) {\n  background(224);\n  // Show the plot area as a white box.\n  fill(255);\n  rectMode(CORNERS);\n  noStroke( );\n  rect(plotX1, plotY1, plotX2, plotY2);\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2259
  },
  {
    "chunk_full": "Ways to Connect Points (Refine)\n|\n77\n  drawTitle( );\n  drawAxisLabels( );\n  drawYearLabels( );\n  drawVolumeLabels( );\n  stroke(#5679C1);\n  noFill( );\n  strokeWeight(2);\n  drawDataLine(currentColumn);\n  drawDataHighlight(currentColumn);\n}\nAn image of the result is shown in Figure 4-10.\nWays to Connect Points (Reﬁne)\nConnecting the points with a curve is often a better option because it prevents the\nspikiness of the plot from overwhelming the data itself. The curveVertex( ) function\nis similar to the vertex( ) function, except that it connects successive points by fit-\nting them to a curve.\nThe drawDataCurve( ) method, a modification of drawDataLine( ), follows:\nvoid drawDataCurve(int col) {\n  beginShape( );\n  for (int row = 0; row < rowCount; row++) {\n    if (data.isValid(row, col)) {\n      float value = data.getFloat(row, col);\nFigure 4-10. Time series with user-selected highlight\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2260
  },
  {
    "chunk_full": "78\n|\nChapter 4: Time Series\n      float x = map(years[row], yearMin, yearMax, plotX1, plotX2);\n      float y = map(value, dataMin, dataMax, plotY2, plotY1);\n      curveVertex(x, y);\n      // Double the curve points for the start and stop\n      if ((row == 0) || (row == rowCount-1)) {\n        curveVertex(x, y);\n      }\n    }\n  }\n  endShape( );\n}\nTo draw a curve with curveVertex( ), at least four points are necessary because the\nfirst and last coordinates in curveVertex( ) are used to guide the angle at which the\ncurve begins and ends. In this particular example, doubling start and stop points will\nwork fine. In other cases, additional points can be used to maintain continuity\nbetween two connected curves.\nThe results of using a smooth curve can be seen most clearly when comparing the\ncoffee data drawn with vertex( ) and curveVertex( ) in Figure 4-11.\nShowing Data As an Area\nAnother variation of drawDataLine( ) draws the values as a filled area. Before calling\nendShape( ), add the lower-right corner and then the lower-left corner to complete\nthe outline of the shape to be filled. And instead of endShape( ) with no parameters,\nuse endShape(CLOSE) to close it, reconnecting it to the first vertex.\nThe new drawDataArea( ) function is:\nvoid drawDataArea(int col) {\n  beginShape( );\n  for (int row = 0; row < rowCount; row++) {\n    if (data.isValid(row, col)) {\n      float value = data.getFloat(row, col);\n      float x = map(years[row], yearMin, yearMax, plotX1, plotX2);\n      float y = map(value, dataMin, dataMax, plotY2, plotY1);\n      vertex(x, y);\n    }\n  }\n  // Draw the lower-right and lower-left corners.\n  vertex(plotX2, plotY2);\n  vertex(plotX1, plotY2);\n  endShape(CLOSE);\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2261
  },
  {
    "chunk_full": "Ways to Connect Points (Refine)\n|\n79\nFigure 4-11. Comparison of the use of vertices (top) and curve vertices (bottom)\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2262
  },
  {
    "chunk_full": "80\n|\nChapter 4: Time Series\nNext, modify the end of the draw( ) method to replace the stroke(#5679C1) line with\nfill(#5679C1), and change noFill( ) to noStroke( ); drawing an outline around an\nalready filled shape is unnecessary:\n  noStroke( );\n  fill(#5679C1);\n  drawDataArea(currentColumn);\nThe new plot is shown in Figure 4-12.\nThis makes a more attractive plot, and because the data set considers the actual vol-\nume of consumption—that is, the vertical axis starts at 0—it makes sense to fill the\narea beneath the data points. Whenever filling a plot, consider whether the data\nbeing shown refers to some kind of actual area or volume. For instance, it would not\nbe appropriate to fill the area beneath a plot of temperature because the lower bound\nis arbitrary (unless you’re measuring temperatures above absolute zero). A graph of\nrainfall, however, refers to the actual volume or amount that can be measured\nupward from “none,” making it a candidate for a filled plot.\nFurther Reﬁnements and Erasing Elements\nThe highest priority of any information graphic is to place the data it represents first\nand foremost. A filled area can seem too much like the background, so sometimes\nit’s best to remove the background. Without the gray background, the grid lines\nbecome awkward without some kind of box around them to contain the plot. A box\nFigure 4-12. Filled time series\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2263
  },
  {
    "chunk_full": "Ways to Connect Points (Refine)\n|\n81\nadds no additional usefulness, just clutters the composition, so a better option is to\nremove the background and make the gridlines part of the graphic itself by setting\ntheir color to white. To draw the gridlines on top of the data, move the\ndrawYearLabels( ) method after drawDataArea( ) inside draw( ) so that the grid lines\nwill be drawn after the filled shape. The new draw( ) method is very sparse:\nvoid draw( ) {\n  background(255);\n  drawTitle( );\n  drawAxisLabels( );\n  drawVolumeLabels( );\n  noStroke( );\n  fill(#5679C1);\n  drawDataArea(currentColumn);\n  drawYearLabels( );\n}\nInside drawYearLabels( ), use stroke(255) instead of stroke(224) to make the grid-\nlines white. The results are shown in Figure 4-13.\nSuch minimization of graphic elements has long been the province of those who\nchampion a “less is more” approach to design. Edward Tufte later popularized this\napproach in his series of books on information graphics.\nFigure 4-13. Unboxed plot with reverse-color gridlines\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2264
  },
  {
    "chunk_full": "82\n|\nChapter 4: Time Series\nDiscrete Values with a Bar Chart (Represent)\nWhen values are discrete and cannot be shown in a series, a bar chart might be more\nsuitable. A common example is when data is missing and therefore does not repre-\nsent a complete series. Drawing a bar chart is a matter of using rectangles instead of\nindividual points, and then drawing the data centered at each horizontal location.\nThe following replacement for drawDataArea( ) creates a bar chart:\nfloat barWidth = 4; // Add to the end of setup( )\nvoid drawDataBars(int col) {\n  noStroke( );\n  rectMode(CORNERS);\n  for (int row = 0; row < rowCount; row++) {\n    if (data.isValid(row, col)) {\n      float value = data.getFloat(row, col);\n      float x = map(years[row], yearMin, yearMax, plotX1, plotX2);\n      float y = map(value, dataMin, dataMax, plotY2, plotY1);\n      rect(x-barWidth/2, y, x+barWidth/2, plotY2);\n    }\n  }\n}\nHere, the barWidth variable makes the bars four pixels wide. Calculating widths for a\nbar chart can be done with algebra (by dividing the distance between plotX2 and\nplotX1 by the number of rows of data) or by trial and error.\nIt’s also necessary to disable the lines drawn in drawYearLabels( ) because vertical\ngrid lines will conflict with the bars.\nUnfortunately, this is too much data to show at this width, resulting in the vibrating\ntexture shown in Figure 4-14, which looks more like a swatch of patterned fabric.\nThis example highlights an important consideration: when deciding on a representa-\ntion, use a bar chart only when there’s enough room to leave clear gaps between bars.\nOnce a bar chart is laid out properly, the method of using white grid lines in\nFigure 4-13 could be better utilized to highlight the divisions on the left axis by eras-\ning thin horizontal lines across the plot. Like the version that sliced the area plot into\nindividual decades, this would provide another cue to help the viewer quickly read\ndata values.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2265
  },
  {
    "chunk_full": "Text Labels As Tabbed Panes (Interact)\n|\n83\nText Labels As Tabbed Panes (Interact)\nUsing keys to navigate an interface should be used only during testing. A more\nsophisticated method is to use on-screen buttons, as users expect from a modern\ninterface. This section describes how to replace the drawTitle( ) function with\ndrawTitleTabs( ) to introduce a series of tabbed panel—one for each data series.\nAdding the Necessary Variables\nThe tabTop and tabBottom variables specify the upper and lower edge of the tabs. The\ntabLeft and tabRight variables store the coordinates for the left and right edges of\neach tab so that we can detect mouse clicks inside the tabs. The tabPad variable spec-\nifies the amount of padding on the left and right of the tab text:\nfloat[] tabLeft, tabRight; // Add above setup( )\nfloat tabTop, tabBottom;\nfloat tabPad = 10;\nFigure 4-14. Overly busy bar chart\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2266
  },
  {
    "chunk_full": "84\n|\nChapter 4: Time Series\nDrawing Tabs Instead of a Single Title\nThe important part of this method keeps track of a value named runningX to calcu-\nlate the positions of each tab. The width of each tab is calculated using textWidth( ),\nand the tabPad value is added to provide padding on the sides:\nvoid drawTitleTabs( ) {\n  rectMode(CORNERS);\n  noStroke( );\n  textSize(20);\n  textAlign(LEFT);\n  // On first use of this method, allocate space for an array\n  // to store the values for the left and right edges of the tabs.\n  if (tabLeft == null) {\n    tabLeft = new float[columnCount];\n    tabRight = new float[columnCount];\n  }\n  float runningX = plotX1;\n  tabTop = plotY1 - textAscent( ) - 15;\n  tabBottom = plotY1;\n  for (int col = 0; col < columnCount; col++) {\n    String title = data.getColumnName(col);\n    tabLeft[col] = runningX;\n    float titleWidth = textWidth(title);\n    tabRight[col] = tabLeft[col] + tabPad + titleWidth + tabPad;\n    // If the current tab, set its background white; otherwise use pale gray.\n    fill(col == currentColumn ? 255 : 224);\n    rect(tabLeft[col], tabTop, tabRight[col], tabBottom);\n    // If the current tab, use black for the text; otherwise use dark gray.\n    fill(col == currentColumn ? 0 : 64);\n    text(title, runningX + tabPad, plotY1 - 10);\n    runningX = tabRight[col];\n  }\n}\nThis piece of code also introduces the conditional operator, identified by the ?. The\nconditional statement:\nfill(col == currentColumn ? 0 : 64);\nis equivalent to writing:\nif (col == currentColumn) {\n  fill(0);\n} else {\n  fill(64);\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2267
  },
  {
    "chunk_full": "Text Labels As Tabbed Panes (Interact)\n|\n85\nThe benefit of the former is compact code: a single line instead of five. The condi-\ntional operator is most useful in situations such as this one, where a simple if test is\nused to control something straightforward like the fill color. In this case, it can be\nargued that the shorter code is more readable than all five lines. However, use the con-\nditional operator sparingly because overuse can result in code that is difficult to read.\nHandling Mouse Input\nNext, we’ll add the mousePressed( ) method, which tests whether the mouse is inside\none tab or another. This method is a simple matter of iterating through each tab and\nchecking the mouseX and mouseY coordinates against the variables that contain the\nboundaries of each tab rectangle. If the mouseY value is in the correct range, mouseX is\ntested against each tabLeft and tabRight value. If inside, the value of currentColumn\nis updated with the setColumn( ) method:\nvoid mousePressed( ) {\n  if (mouseY > tabTop && mouseY < tabBottom) {\n    for (int col = 0; col < columnCount; col++) {\n      if (mouseX > tabLeft[col] && mouseX < tabRight[col]) {\n        setColumn(col);\n      }\n    }\n  }\n}\nvoid setColumn(int col) {\n  if (col != currentColumn) {\n    currentColumn = col;\n  }\n}\nThe setColumn( ) method is expressed in a separate piece of code because it will be\nmodified in the next section, and the keyPressed( ) method should simply be\nremoved.\nFinally, the result is shown in Figure 4-15.\nBetter Tab Images (Reﬁne)\nThe tabs in Figure 4-15 look pretty boring, but some tweaking of the text, the col-\nors, and a line here and there could improve them. Another option is to load the tabs\nfrom a series of image files. Three separate image files would be used for the non-\nselected state of the tabs, and three others would be used for the selected state. Then,\ninstead of setting the fill differently for the rectangle and the text title, one of the six\nimages would be used in its place. A modified version of the code looks like this:\nfloat[] tabLeft, tabRight; // Add above setup( )\nfloat tabTop, tabBottom;\nfloat tabPad = 10;\nPImage[] tabImageNormal;\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2268
  },
  {
    "chunk_full": "86\n|\nChapter 4: Time Series\nPImage[] tabImageHighlight;\nvoid drawTitleTabs( ) {\n  rectMode(CORNERS);\n  noStroke( );\n  textSize(20);\n  textAlign(LEFT);\n  // Allocate the tab position array, and load the tab images.\n  if (tabLeft == null) {\n    tabLeft = new float[columnCount];\n    tabRight = new float[columnCount];\n    tabImageNormal = new PImage[columnCount];\n    tabImageHighlight = new PImage[columnCount];\n    for (int col = 0; col < columnCount; col++) {\n      String title = data.getColumnName(col);\n      tabImageNormal[col] = loadImage(title + \"-unselected.png\");\n      tabImageHighlight[col] = loadImage(title + \"-selected.png\");\n    }\n  }\n  float runningX = plotX1;\n  tabBottom = plotY1;\n  // Size based on the height of the tabs by checking the\n  // height of the first (all images are the same height)\n  tabTop = plotY1 - tabImageNormal[0].height;\n  for (int col = 0; col < columnCount; col++) {\n    String title = data.getColumnName(col);\n    tabLeft[col] = runningX;\n    float titleWidth = tabImageNormal[col].width;\nFigure 4-15. Clickable tabs\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2269
  },
  {
    "chunk_full": "Interpolation Between Data Sets (Interact)\n|\n87\n    tabRight[col] = tabLeft[col] + tabPad + titleWidth + tabPad;\n    PImage tabImage = (col == currentColumn) ?\n      tabImageHighlight[col] : tabImageNormal[col];\n    image(tabImage, tabLeft[col], tabTop);\n    runningX = tabRight[col];\n  }\n}\nWhen preparing the images, be sure to keep their heights the same. As with the text\nversion, the widths of the titles can vary, but the width of the selected versus non-\nselected version should always be the same. The images should be named based on\nthe title of each column, so, in this case, the following six files are used:\n• Milk-selected.png\n• Tea-selected.png\n• Coffee-selected.png\n• Milk-unselected.png\n• Tea-unselected.png\n• Coffee-unselected.png\nFor those who want to use standard interface components instead of making their\nown, later chapters cover integrating Processing with Java code. Custom compo-\nnents are useful when a unique interface is preferred, but they are less helpful if a\nstandard interface is more appropriate for your audience.\nInterpolation Between Data Sets (Interact)\nChapter 3 showed how to interpolate between values in a data set with the use of the\nIntegrator class. Download itfrom http://benfry.com/writing/series/Integrator.pde.\nThe changes are identical to those in the previous chapter. First, declare the array of\nIntegrator objects before setup( ):\nIntegrator[] interpolators;\nInside setup( ), create each Integrator and set its initial value:\n  interpolators = new Integrator[rowCount];\n  for (int row = 0; row < rowCount; row++) {\n    float initialValue = data.getFloat(row, 0);\n    interpolators[row] = new Integrator(initialValue);\n    interpolators[row].attraction = 0.1; // Set lower than the default\n  }\nThe attraction value is set to 0.1 (instead of the default, 0.2) so that the interpola-\ntion occurs at a less frantic pace.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2270
  },
  {
    "chunk_full": "88\n|\nChapter 4: Time Series\nIn draw( ), each Integrator is updated:\n   for (int row = 0; row < rowCount; row++) {\n    interpolators[row].update( );\n  }\nNext, for whatever variation of the drawData( ) function you would like to use,\nreplace its data.getFloat( ) line. The original looks like this:\nfloat value = data.getFloat(row, col);\nChange the line to the following to use the interpolated values:\nfloat value = interpolators[row].value;\nFinally, modify setCurrent( ) to set each Integrator to target the value for the cur-\nrent column:\nvoid setCurrent(int col) {\n  currentColumn = col;\n  for (int row = 0; row < rowCount; row++) {\n    interpolators[row].target(data.getFloat(row, col));\n  }\n}\nThe final code, with modifications highlighted, follows:\nFloatTable data;\nfloat dataMin, dataMax;\nfloat plotX1, plotY1;\nfloat plotX2, plotY2;\nfloat labelX, labelY;\nint rowCount;\nint columnCount;\nint currentColumn = 0;\nint yearMin, yearMax;\nint[] years;\nint yearInterval = 10;\nint volumeInterval = 10;\nint volumeIntervalMinor = 5;\nfloat[] tabLeft, tabRight;\nfloat tabTop, tabBottom;\nfloat tabPad = 10;\nIntegrator[] interpolators;\nPFont plotFont;\nvoid setup( ) {\n  size(720, 405);\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2271
  },
  {
    "chunk_full": "Interpolation Between Data Sets (Interact)\n|\n89\n  data = new FloatTable(\"milk-tea-coffee.tsv\");\n  rowCount = data.getRowCount( );\n  columnCount = data.getColumnCount( );\n  years = int(data.getRowNames( ));\n  yearMin = years[0];\n  yearMax = years[years.length - 1];\n  dataMin = 0;\n  dataMax = ceil(data.getTableMax( ) / volumeInterval) * volumeInterval;\n  interpolators = new Integrator[rowCount];\n  for (int row = 0; row < rowCount; row++) {\n    float initialValue = data.getFloat(row, 0);\n    interpolators[row] = new Integrator(initialValue);\n    interpolators[row].attraction = 0.1; // Set lower than the default\n  }\n  plotX1 = 120;\n  plotX2 = width - 80;\n  labelX = 50;\n  plotY1 = 60;\n  plotY2 = height - 70;\n  labelY = height - 25;\n  plotFont = createFont(\"SansSerif\", 20);\n  textFont(plotFont);\n  smooth( );\n}\nvoid draw( ) {\n  background(224);\n  // Show the plot area as a white box\n  fill(255);\n  rectMode(CORNERS);\n  noStroke( );\n  rect(plotX1, plotY1, plotX2, plotY2);\n  drawTitleTabs( );\n  drawAxisLabels( );\n  for (int row = 0; row < rowCount; row++) {\n    interpolators[row].update( );\n  }\n  drawYearLabels( );\n  drawVolumeLabels( );\n  noStroke( );\n  fill(#5679C1);\n  drawDataArea(currentColumn);\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2272
  },
  {
    "chunk_full": "90\n|\nChapter 4: Time Series\nvoid drawTitleTabs( ) {\n  rectMode(CORNERS);\n  noStroke( );\n  textSize(20);\n  textAlign(LEFT);\n  // On first use of this method, allocate space for an array\n  // to store the values for the left and right edges of the tabs.\n  if (tabLeft == null) {\n    tabLeft = new float[columnCount];\n    tabRight = new float[columnCount];\n  }\n  float runningX = plotX1;\n  tabTop = plotY1 - textAscent( ) - 15;\n  tabBottom = plotY1;\n  for (int col = 0; col < columnCount; col++) {\n    String title = data.getColumnName(col);\n    tabLeft[col] = runningX;\n    float titleWidth = textWidth(title);\n    tabRight[col] = tabLeft[col] + tabPad + titleWidth + tabPad;\n    // If the current tab, set its background white; otherwise use pale gray.\n    fill(col == currentColumn ? 255 : 224);\n    rect(tabLeft[col], tabTop, tabRight[col], tabBottom);\n    // If the current tab, use black for the text; otherwise use dark gray.\n    fill(col == currentColumn ? 0 : 64);\n    text(title, runningX + tabPad, plotY1 - 10);\n    runningX = tabRight[col];\n  }\n}\nvoid mousePressed( ) {\n  if (mouseY > tabTop && mouseY < tabBottom) {\n    for (int col = 0; col < columnCount; col++) {\n      if (mouseX > tabLeft[col] && mouseX < tabRight[col]) {\n        setCurrent(col);\n      }\n    }\n  }\n}\nvoid setCurrent(int col) {\n  currentColumn = col;\n  for (int row = 0; row < rowCount; row++) {\n    interpolators[row].target(data.getFloat(row, col));\n  }\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2273
  },
  {
    "chunk_full": "Interpolation Between Data Sets (Interact)\n|\n91\nvoid drawAxisLabels( ) {\n  fill(0);\n  textSize(13);\n  textLeading(15);\n  textAlign(CENTER, CENTER);\n  text(\"Gallons\\nconsumed\\nper capita\", labelX, (plotY1+plotY2)/2);\n  textAlign(CENTER);\n  text(\"Year\", (plotX1+plotX2)/2, labelY);\n}\nvoid drawYearLabels( ) {\n  fill(0);\n  textSize(10);\n  textAlign(CENTER);\n  // Use thin, gray lines to draw the grid\n  stroke(224);\n  strokeWeight(1);\n  for (int row = 0; row < rowCount; row++) {\n    if (years[row] % yearInterval == 0) {\n      float x = map(years[row], yearMin, yearMax, plotX1, plotX2);\n      text(years[row], x, plotY2 + textAscent( ) + 10);\n      line(x, plotY1, x, plotY2);\n    }\n  }\n}\nvoid drawVolumeLabels( ) {\n  fill(0);\n  textSize(10);\n  textAlign(RIGHT);\n  stroke(128);\n  strokeWeight(1);\n  for (float v = dataMin; v <= dataMax; v += volumeIntervalMinor) {\n    if (v % volumeIntervalMinor == 0) { // If a tick mark\n      float y = map(v, dataMin, dataMax, plotY2, plotY1);\n      if (v % volumeInterval == 0) { // If a major tick mark\n        float textOffset = textAscent( )/2; // Center vertically\n        if (v == dataMin) {\n          textOffset = 0; // Align by the bottom\n        } else if (v == dataMax) {\n          textOffset = textAscent( ); // Align by the top\n        }\n        text(floor(v), plotX1 - 10, y + textOffset);\n        line(plotX1 - 4, y, plotX1, y); // Draw major tick\n      } else {\n        //line(plotX1 - 2, y, plotX1, y); // Draw minor tick\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2274
  },
  {
    "chunk_full": "92\n|\nChapter 4: Time Series\n      }\n    }\n  }\n}\nvoid drawDataArea(int col) {\n  beginShape( );\n  for (int row = 0; row < rowCount; row++) {\n    if (data.isValid(row, col)) {\n      float value = interpolators[row].value;\n      float x = map(years[row], yearMin, yearMax, plotX1, plotX2);\n      float y = map(value, dataMin, dataMax, plotY2, plotY1);\n      vertex(x, y);\n    }\n  }\n  vertex(plotX2, plotY2);\n  vertex(plotX1, plotY2);\n  endShape(CLOSE);\n}\nEnd of the Series\nIn this chapter, we looked at the most common form of data plot: the time series. The\npoint was to get comfortable with functions such as map(), pick up some principles on\nhow to choose a representation, and see how a few lines of code can help produce an\nalternate representation or a more refined appearance. The techniques implemented\nhere are useful for nearly any type of plot, as the algebra for placement and consider-\nations for use will be identical across all other data sets that we examine.\nDevelopers familiar with Processing or Java might want to make this code into a\nclass. Classes are a useful means for encapsulating data sets. For instance, this code\ncould be made into a class named TimeSeries to handle arbitrary data stored in a\ntable. This might be a useful abstraction, but keep in mind how you customize the\ncode once it’s in a class. The final version of the program listing in this chapter is just\nover 200 lines (a little more than three printed pages). Once you’ve moved this code\ninto a 200-line class, how do you keep it flexible? Do you modify it directly or sub-\nclass it? Is it necessary to create a new subclass for each new type of representation,\nwhen each new representation is between 5 and 20 lines apiece? Always weigh such\ndecisions in terms of how the code will be used. If only one representation is\nrequired for your particular project, why bother maintaining multiple subclasses?\nJust do the representation right the first time. And when reusing the code in your\nnext project, you’ll probably change at least 10% of the base code anyway, so there’s\nno need to maintain several subclasses. As our projects become more complicated,\nwe’ll do more to encapsulate code into modular units, while doing our best to avoid\nneedless levels of abstraction.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2275
  },
  {
    "chunk_full": "End of the Series\n|\n93\nOf course, there are libraries that allow you to plot data in a number of ways, partic-\nularly for simple things such as time series or bar charts. For Java coders, JFreeChart\nis a widely used example (see http://www.jfree.org/jfreechart). JFreeChart is a nice\ntool for basic charting and graphing, but it doesn’t allow the kind of flexible customi-\nzation taught here—which you are hopefully coming to appreciate. This book\nintends to teach you the starting point for drawing basic representations, such as a\nplot or chart, and then goes on to show how they can be manipulated in a more\nsophisticated manner than can be done with standard tools.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2276
  },
  {
    "chunk_full": "94\nChapter 5\nCHAPTER 5\nConnections and Correlations\n5\nData that varies across multiple dimensions is common, and it can be difficult to rep-\nresent in traditional charts that exploit only the two dimensions of the screen or\nprinted page. In particular, you often have an independent variable and a dependent\nvariable that change over time. Many techniques for representing change exist, but\none of the most engaging ways is animation.\nIn this chapter, we’ll create a display of baseball results to explore how relationships\ncan be instantly and powerfully conveyed through the spatial arrangement of data,\nvisual elements such as icons and lines, and most significantly, the use of animation.\nYou don’t have to understand baseball to understand this chapter; it’s less about the\ngame than it is about the numbers and depicting those numbers.\nThe display used in this chapter is uniquely suited to the baseball data provided and\nthe relationships within that data. You might choose to use a different sort of dis-\nplay for your data, but you can learn a lot by following the use of font, color, stroke\nweight, and other parameters shown here. The example demonstrates how to keep\nthe basic goal of a display in mind and how to choose each element to meet that\ngoal. Along the way, we’ll see how to parse text data and convert it from simple\nplain-text files to internal formats that are easy for our program to mine. We’ll also\nstudy how to mix text data (including numeric data) with lines and other visual ele-\nments and how to correlate parameters, such as dates, with physical screen positions\nthat allow the user to control the display using the mouse.\nChanging Data Sources\nData collection is significantly more involved here than in the other chapters, and\nwe’ll spend a lot more time learning about parsing HTML pages to acquire data, as\nwell as exploring tools for parsing text data.\nAt times, the methods we’re using will seem very specific to the data set we’re look-\ning at, which leaves us open to the danger of URLs changing or pages going out of\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2277
  },
  {
    "chunk_full": "Problem Statement\n|\n95\ndate. But therein lies the point of the chapter: when the data source does change,\nyou’ll use similar methods to parse the updated information, and you need to under-\nstand how this process works so that you can effectively handle the new data. Chap-\nters 9 and 10 also cover data acquisition and parsing in greater detail and provide a\nhelpful guide for common practices. The same methods can be applied to all man-\nner of information sources—even those that have nothing to do with baseball.\nProblem Statement\nIn 2004, the Boston Red Sox won the World Series after an 86-year championship\ndrought. As a Red Sox fan, this was a bittersweet victory in the sense that the Sox\nwere the second-highest-paid team in baseball and had just now managed to win a\nchampionship. With a total salary budget of around $133 million dollars, they\nweren’t exactly young upstarts. That made me curious about the relationships\nbetween raw salaries and the general performance of the individual teams across the\nleague.\nFor instance, George Steinbrenner, the owner of the New York Yankees, had in\nrecent years been accused of trying to “buy” the World Series trophy by assembling a\ncollection of highly paid all-stars. On the other hand, the performance of the Oak-\nland Athletics (the A’s) had in prior years far exceeded their overall salary. In the\nbook Moneyball (W.W. Norton & Company), Michael Lewis tells the story of how\nBilly Beane, the general manager (GM) of the A’s, made use of statistics to pursue\nplayers who had promising numbers but were below the radar because they weren’t\nalways standouts in the traditional sense.\nBill James was one of pioneers of statistics-oriented thinking in regards to baseball,\nfirst with his analytical sports columns and later with The Bill James Baseball\nAbstract, first published in 1977. Similar ideas led to the founding of the Society for\nAmerican Baseball Research (SABR), from which came the term for this numbers-\ndriven approach to the game, sabermetrics. The extent to which statistics can be\napplied to sports remains a controversial topic, pitting the appreciation of the intan-\ngible, underlying traits of highly talented people against a perceived reduction of\nnoble games to mere mathematics.\nAs with any narrative, Moneyball presents an over-simplification of the system, as\ndoes the simple relationship of total salaries in a given year to performance-to-date.\nMore complex factors come into play, including how contracts work over multiple\nyears, the health of a team’s farm system (their minor-league teams), and scoring\nmethods for individual players. The original version of this project was thrown\ntogether while watching a game on television and should not be ranked alongside the\nmany professional analyses of sports statistics.\nHowever, a win is a win, and as a gross measure, showing the simple correlation\nbetween team salaries and standings can be quite revealing, particularly to observe\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2278
  },
  {
    "chunk_full": "96\n|\nChapter 5: Connections and Correlations\nshifts over the course of a season. Non-baseball fans also seem to enjoy this demon-\nstration because wins and losses can be understood without intimate knowledge of\nthe game, and because it fuels a popular discussion topic: that of the seemingly limit-\nless salaries paid to professional athletes.\nPreprocessing\nIn the examples so far, the data has been reasonably clean. That is rare; most data\nsets you find will need some amount of preprocessing before they’re even usable.\nReturning to the seven-step process outlined in Chapter 1, it’s not uncommon to first\ntake a data set through the acquire, parse, filter, and mine steps, only to return to the\nbeginning of the process and go through each step again with the resulting clean set\nof data (acquiring the clean data, parsing it, filtering and mining, etc.). For this chap-\nter, we’ll be preprocessing the data, and then starting all over again to represent the\nresults.\nRetrieving Win/Loss Data (Acquire)\nIncreasingly, many organizations make data available through web services, APIs,\nand acquisition methods (known by acronyms such as REST and SOAP) that distrib-\nute data in a neatly packaged format (usually XML-formatted text). When available,\nsuch services can be extremely useful, and they are a good starting point when deal-\ning with a provider’s data.\nBut most data still appears in the form of HTML-formatted tables, which may be\nattractive to human readers but is difficult for programs to understand. Although the\nsites may look relatively structured from our perspective, they are quite unstruc-\ntured from the point of view of a program trying to organize and perform calcula-\ntions on the data. Extracting the data from the HTML with a program is often called\nscreen-scraping.\nTo get such data, you have to look at the HTML and write code to parse it. Luckily,\nmost HTML is machine-generated and therefore is in a pretty regular format. You\njust have to locate the table you want among the JavaScript and other HTML tags\nused to display the web page.\nThe main hurdle you face is that the web site designers can change the format on a\nwhim and with a click of a button in some web page layout tools. Upon complaints\nfrom users of your program that it no longer works, you’ll have to rush back to the\nsite where you got your data to see what change they introduced. REST and SOAP\neliminate this problem; they represent an implicit commitment by the data’s provid-\ners that they won’t change their means of publishing data, even if they decide to\nchange how the data is displayed.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2279
  },
  {
    "chunk_full": "Preprocessing\n|\n97\nData source for baseball statistics\nTo find win/loss records for each team, we turn to MLB.com, the web site of Major\nLeague Baseball. The standings page, found at http://mlb.mlb.com/mlb/standings/\nindex.jsp and illustrated in Figure 5-1, is a suitable place to get the information.\nWe’ll use this page to explore the general problem of extracting data from web sites\nthat are not deliberately designed to facilitate such extraction.\nFigure 5-1. The MLB.com standings page for 2007\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2280
  },
  {
    "chunk_full": "98\n|\nChapter 5: Connections and Correlations\nScreen-scraping requires the following general process:\n1. Navigate to the page that contains the data. Because there will be lots of header\nand footer material, make a note of unique text or HTML tags that will reliably\nidentify, even as the page is updated, the starting point of the data you want. In\nthis case, our program can assume the table starts after the text American League,\nspecifically beneath the table heading East.\nIt’s important to choose unique and stable identifiers. For instance, although it\nmight be tempting to use the first data element in the table, Boston, as a starting\npoint, it won’t work because the “Select favorite team” pop-up menu already\ncontains a “Boston” entry that will throw off your search.\n2. Choose View Source from the browser’s menu and take a look at the code. Use\nthe Find command to look for your identifiers (e.g., “American League” or\n“East”) to see where the data begins. In most cases, the data will begin near the\nidentifier you’ve chosen. In our data (and in most other web pages with interest-\ning data, because they’re arranged in tabular form), the identifying portions will\nbe part of an HTML <TABLE> tag, with the data stored inside a <TD> and </TD>\npair.\nTo make things trickier, in this example, the relevant HTML is actually built\nusing JavaScript. The location near American League, where we might normally\nfind the data, instead contains lines that use a pair of functions named\nbuildTitleRows( ) and buildRows( ):\n        <div style=\"padding-top:15px;\">\n            <h1>American League</h1>\n            <img src=\"/mlb/images/al_symbol.gif\" width=\"38\" height=\"31\"\nalt=\"American League\" border=\"0\" align=\"absmiddle\" />\n        </div>\n    </td>\n</tr>\n<script>dataExists( );</script>\n<script>buildTitleRows(\"ale\"); </script>\n<tbody id=\"ale\"><script>buildRows (standings_rs_ale); <script><tbody>\n<script>buildTitleRows(\"alc\"); </script>\n<tbody id=\"alc\"><script>buildRows (standings_rs_alc); <script><tbody>\n<script>buildTitleRows(\"alw\"); </script>\n<tbody id=\"alw\"><script>buildRows (standings_rs_alw); <script><tbody>\n<tr>\n    <td colspan=\"16\" style=\"padding-top:15px;\">\n        <h1>National Leaguew<h1>\n        <img src=\"/mlb/images/nl_symbol.gif\" width=\"38\" height=\"31\"\nt=\"National League\" border=\"0\" align=\"absmiddle\" />\n    </td>\n</tr>\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2281
  },
  {
    "chunk_full": "Preprocessing\n|\n99\n<script>buildTitleRows(\"nle\");</script>\n<tbody id=\"nle\"><script>buildRows(standings_rs_nle);</script><t/body>\n<script>buildTitleRows(\"nlc\");</script>\n<tbody id=\"nlc\"><script>buildRows(standings_rs_nlc);</script><t/body>\n<script>buildTitleRows(\"nlw\");</script>\n<tbody id=\"nlw\"><script>buildRows(standings_rs_nlw);</script><t/body>\nAn educated guess will tell you that ale is an abbreviation for the American\nLeague East division, alc stands for American League Central, and so on. (A\nless-educated guess could ascertain the same by noting that this is the American\nLeague [AL] table, with subheadings East, Central, and West, abbreviated E, C,\nand W.)\n3. If the web page we were interested in contained our data directly in its HTML,\nwe could write a program that read lines from the page and parsed them to\nremove the data. But in this case, we need to derive our data from JavaScript\noutput, so we have to look at the JavaScript code to find how that program\nstores the data.\nAnother use of the Find command reveals lines that load each array from indi-\nvidual .js (JavaScript) files:\n<script\nsrc=\"/components/game/year_2007/month_04/day_15/standings_rs_ale.js\"\ntype=\"text/javascript\">/* \" */</script>\n<script\nsrc=\"/components/game/year_2007/month_04/day_15/standings_rs_alc.js\"\ntype=\"text/javascript\">/* \" */</script>\n<script\nsrc=\"/components/game/year_2007/month_04/day_15/standings_rs_alw.js\"\ntype=\"text/javascript\">/* \" */</script>\n<script\nsrc=\"/components/game/year_2007/month_04/day_15/standings_rs_nle.js\"\ntype=\"text/javascript\">/* \" */</script>\n<script\nsrc=\"/components/game/year_2007/month_04/day_15/standings_rs_nlc.js\"\ntype=\"text/javascript\">/* \" */</script>\n<script\nsrc=\"/components/game/year_2007/month_04/day_15/standings_rs_nlw.js\"\ntype=\"text/javascript\">/* \" */</script>\n<script src=\"/components/game/year_2007/month_04/day_15/\n<script src=\"/components/game/year_2007/month_04/day_15/\n<script src=\"/components/game/year_2007/month_04/day_15/\n<script src=\"/components/game/year_2007/month_04/day_15/\n<script src=\"/components/game/year_2007/month_04/day_15/\nThe URL for the first item reads:\n/components/game/year_2007/month_04/day_15/standings_rs_ale.js\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2282
  },
  {
    "chunk_full": "100\n|\nChapter 5: Connections and Correlations\nBecause a forward slash is found at the beginning, the reference points to the\nroot of the site, http://mlb.mlb.com, meaning that the full URL is http://mlb.mlb.\ncom/components/game/year_2007/month_04/day_15/standings_rs_ale.js.\nIf the text did not begin with a slash, the URL would instead be relative to the\noriginal page number, meaning that you would have to append it to the direc-\ntory of the page that referred to it (http://mlb.mlb.com/mlb/standings/index.jsp),\nwhich would make the new URL http://mlb.mlb.com/mlb/standings/components/\ngame/year_2007/month_04/day_15/standings_rs_ale.js.\nSo, our data will come from three JavaScript files representing results for the three\nAmerican League divisions:\nhttp://mlb.mlb.com/components/game/year_2007/month_04/day_15/standings_rs_\nale.js\nhttp://mlb.mlb.com/components/game/year_2007/month_04/day_15/standings_rs_\nalc.js\nhttp://mlb.mlb.com/components/game/year_2007/month_04/day_15/standings_rs_\nalw.js\nand three more files for the National League (NL) teams:\nhttp://mlb.mlb.com/components/game/year_2007/month_04/day_15/standings_rs_\nnle.js\nhttp://mlb.mlb.com/components/game/year_2007/month_04/day_15/standings_rs_\nnlc.js\nhttp://mlb.mlb.com/components/game/year_2007/month_04/day_15/standings_rs_\nnlw.js\nUnpacking the Win/Loss ﬁles (Mine and Filter)\nEntering the first URL for standings_rs_ale.js into a browser will display the Java-\nScript source file. To parse the data, we are particularly interested in the structure\nthat the JavaScript program gives to that data. This structure is defined by a\nstandings_rs_ale array:\nvar standings_rs_ale = [{\n w: '6',\n elim: '-',\n rs: '51',\n div: 'ale',\n gameid: '2007_04_16_anamlb_bosmlb_1',\n status: 'F',\n pre: null,\n last10: '6-4',\n onerun: '1-0',\n xtr: '0-0',\n nextg: '4/16 v LAA, W 7-2',\n vsW: '4-3',\n ra: '28',\n gb: '-',\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2283
  },
  {
    "chunk_full": "Preprocessing\n|\n101\n wrap:\n'/NASApp/mlb/news/wrap.jsp?ymd=20070414&content_id=1898390&vkey=wrapup2005&fext=.\njsp&c_id=mlb',\n home: '3-1',\n code: 'bos',\n pct: '.600',\n league_sensitive_team_name: 'Boston',\n vsC: '2-1',\n vsE: '0-0',\n vsR: '5-4',\n vsL: '1-0',\n xwl: '7-3',\n strk: 'W2',\n l: '4',\n lastg: '4/14 v LAA, W 8-0',\n interleague: '0-0',\n team: 'Boston',\n road: '3-3'\n}, {\nWeb developers might recognize this as JavaScript Object Notation (JSON) syntax.\nWe won’t get into the specifics of JSON here; see Chapter 10 for more information.\nThe previously shown code encompasses the content for the first team, and four\nadditional blocks in the same format follow. We need only a few fields from the\ninformation. The field we’ll use the most is the two- or three-digit code that identi-\nfies the team, which we’ll use to index other kinds of data:\ncode: 'bos',\nNext, we need the line for wins:\nw: '6',\nand the line for losses:\nl: '4',\nWe also want a team name to show in the interface, and luckily there is a variable\nnamed team that looks like it might do the trick. However, it lists New York as the value\nfor the New York Yankees, which won’t be useful when trying to differentiate the Yan-\nkees from the Mets, who also hail from New York. Instead, the league_sensitive_\nteam_name value will be more useful. For instance, the entry for the Mets reads:\nleague_sensitive_team_name: 'NY Mets',\nAs in the previous section, where we looked for some salient string or character that\nwe could use to find the start of our data, we now want to find something that differ-\nentiates one team from another. In the JSON format of the standings_rs_ale array, a\n{ character begins each block of data for a new team. Each time that character is\nfound, our program can retrieve information for a new team. Similarly, when the\nprogram finds the corresponding closing } character, it can add the new team’s infor-\nmation to its own list. Grabbing the data for all of the teams is simply a matter of\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2284
  },
  {
    "chunk_full": "102\n|\nChapter 5: Connections and Correlations\nparsing the information properly. The code in the next section reads one of the files\nand parses the data into attribute and value pairs.\nThere are several publicly available JSON parsers we could use to read the data. But\nbecause the data shown here is so simple, using a formal parser would be overkill,\nmaking the program run more slowly and increasing its download size.\nIntroducing regular expressions\nThe following function will read from one of the .js files discussed in the previous\nsections and print each team code that it finds, followed by the win-loss record for\nthat team. The code introduces regular expressions, which are extremely useful when\nparsing data:\nvoid parseWinLoss(String[] lines) {\n  Pattern p = Pattern.compile(\"\\\\s+([\\\\w\\\\d]+):\\\\s'(.*)',?\");\n  String teamCode = \"\";\n  int wins = 0;\n  int losses = 0;\n  for (int i = 0; i < lines.length; i++) {\n    Matcher m = p.matcher(lines[i]);\n    if (m.matches( )) {\n      String attr = m.group(1);\n      String value = m.group(2);\n      if (attr.equals(\"code\")) {\n        teamCode = value;\n      } else if (attr.equals(\"w\")) {\n        wins = int(value);\n      } else if (attr.equals(\"l\")) {\n        losses = int(value);\n      }\n    } else {\n      if (lines[i].startsWith(\"}\")) {\n        // This is the end of a group; print the values.\n        println(teamCode + \" \" + wins + \"-\" + losses);\n      }\n    }\n  }\n}\nIf you’re not already familiar with them, regular expressions can take a long time to\nget used to, but their usefulness makes it worth the initial difficulty. To understand\nwhat the code is doing, let’s start by looking at the format of the original data.\nBecause the code takes advantage of the presence of blank spaces, I’m including\nthem in the format’s representation here:\n[space] [attribute name] : [space] ' [value] ' ,\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2285
  },
  {
    "chunk_full": "Preprocessing\n|\n103\nThis sort of template is common when parsing data, and it can be handled with a\nregular expression (or regexp). A regexp is defined by a pattern, such as the one just\nshown, and a matcher, which checks the pattern against some input data.\nA pattern is made up of a series of symbols that identify whitespace, characters,\nnumbers, and how many of each are expected. Although the way I represented the\npattern with words and square brackets makes it easier for humans to read, the\nregexp APIs of programming languages use a more precise format. The symbols used\nin regexps initially appear as a confusing mess, but after some time, you’ll become\nfamiliar with them (in other words, they’ll be less confusing, even if they still look\nlike a mess). The pattern \\\\s+([\\\\w\\\\d]+):\\\\s'(.*)',? in the code that started this\nsection has the following meaning:\n\\\\s+\nThis part matches the space at the beginning of the line. It’s made up of two dif-\nferent tokens that are meaningful in regexps:\n\\s\nThis means “any whitespace character.” But why is the backslash doubled?\nIn Java and other C-like languages, a backslash is used to identify special\ncharacters in a String (e.g., \\t for Tab or \\n for newline). Similarly, an actual\nslash is specified by a double slash: \\\\.\n+\nThis means to look for one or more characters. This makes our regexp more\nrobust because the programmer who wrote the JSON we’re parsing might\nput an arbitrary number of  space characters at the start of the line.\n([\\\\w\\\\d]+)\nThis portion matches the attribute name (such as w or team). The most powerful\npart of this string is the enclosing parentheses, which mark that set of characters\nas a group. This means the program can later point to and extract the matching\ncharacters.\nInside the grouping parentheses are a set of square brackets, which denote a\ncharacter class. This is a way to match a variety of different characters that can\nappear at this point in the input text. Our particular character class matches two\ntypes of characters:\n\\w\nAny word character (i.e., a letter)\n\\d\nAny digit (0–9)\nSo [\\\\w\\\\d] means “any word or digit character.” The + at the end specifies “one\nor more,” just as it did previously in our string \\\\s+.\n:\nThis is literally just the colon character, which is found after the variable name.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2286
  },
  {
    "chunk_full": "104\n|\nChapter 5: Connections and Correlations\n\\\\s\nMatches a single whitespace character (the space after the colon).\n'\nMatches the single quote at the beginning of the variable’s value.\n(.*)\nThis part matches the value found inside the single quotes. We’ve already seen\nwhat the grouping parentheses mean. Inside these parentheses are:\n. (period)\nMatches anything. Any character is possible in the input.\n*\nSpecifies zero or more of the character that precedes it (similar to how the +\noperator matches one or more of that character).\n'\nMatches the closing single quote after the variable’s value.\n,?\nMatches the optional comma at the end of the line. Similar to + and *, the ?\nmodifier specifies “zero or one” matches.\nTo use a regexp in Java, we first create a Pattern object, as seen in the first line of the\nmethod. Next, we iterate through each line of the input data and attempt to match it\nto the Pattern. Inside the loop, the Matcher object holds the result of our attempt to\nmatch input. The matches( ) method returns true if the specified lines[i] value fits\nthe pattern. Next, we use the group( ) method to retrieve each group that was cap-\ntured by the parentheses in our regexp. The first group is the attribute (or variable\nname), and the second group is the value (the variable contents).\nIf the line does not match, the final part of the method checks whether the line\nbegins with a }, which specifies a break between data from two teams, at which point\nthe values collected so far are printed to the console with println.\nA complete program to acquire and parse the data for all six divisions from MLB.\ncom follows. It creates two text files—one for the standings and one for the team\ncodes and team names:\nimport java.util.regex.*;\nPrintWriter standings;\nPrintWriter teams;\nvoid setup( ) {\n  String base = \"http://mlb.mlb.com/components/game\" +\n    \"/year_2007/month_04/day_15/\";\n  standings = createWriter(\"standings.tsv\");\n  teams = createWriter(\"teams.tsv\");\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2287
  },
  {
    "chunk_full": "Preprocessing\n|\n105\n  parseWinLoss(loadStrings(base + \"standings_rs_ale.js\"));\n  parseWinLoss(loadStrings(base + \"standings_rs_alw.js\"));\n  parseWinLoss(loadStrings(base + \"standings_rs_alc.js\"));\n  parseWinLoss(loadStrings(base + \"standings_rs_nle.js\"));\n  parseWinLoss(loadStrings(base + \"standings_rs_nlw.js\"));\n  parseWinLoss(loadStrings(base + \"standings_rs_nlc.js\"));\n  // Finish writing and close each file.\n  standings.flush( );\n  standings.close( );\n  teams.flush( );\n  teams.close( );\n  println(\"Done.\");\n}\nvoid parseWinLoss(String[] lines) {\n  Pattern p = Pattern.compile(\"\\\\s+([\\\\w\\\\d]+):\\\\s'(.*)',?\");\n  String teamCode = \"\";\n  int wins = 0;\n  int losses = 0;\n  String teamName = \"\";\n  for (int i = 0; i < lines.length; i++) {\n    Matcher m = p.matcher(lines[i]);\n    if (m.matches( )) {\n      String attr = m.group(1);\n      String value = m.group(2);\n      if (attr.equals(\"code\")) {\n        teamCode = value;\n      } else if (attr.equals(\"w\")) {\n        wins = int(value);\n      } else if (attr.equals(\"l\")) {\n        losses = int(value);\n      } else if (attr.equals(\"league_sensitive_team_name\")) {\n        teamName = value;\n      }\n    } else {\n      if (lines[i].startsWith(\"}\")) {\n        // This is the end of a group; print the values.\n        standings.println(teamCode + TAB + wins + TAB + losses);\n        teams.println(teamCode + TAB + teamName);\n      }\n    }\n  }\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2288
  },
  {
    "chunk_full": "106\n|\nChapter 5: Connections and Correlations\nThe resulting standings.tsv file reads:\nbos    6        4\ntor    7        5\nbal    6        6\nnyy    5        6\ntb     5        7\nsea    5        3\nana    6        6\noak    6        7\ntex    5        7\ncle    6        3\ndet    7        5\nmin    7        5\ncws    5        6\nkc     3        9\natl    8        3\nnym    7        4\nfla    6        5\nphi    3        8\nwas    3        9\nari    9        4\nla     8        4\nsd     7        5\ncol    5        7\nsf     3        7\ncin    7        5\nmil    6        5\nstl    6        5\nhou    4        6\npit    4        6\nchc    4        7\nAnd the teams.tsv file contains:\nbos    Boston\ntor    Toronto\nbal    Baltimore\nnyy    NY Yankees\ntb     Tampa Bay\nsea    Seattle\nana    LA Angels\noak    Oakland\ntex    Texas\ncle    Cleveland\ndet    Detroit\nmin    Minnesota\ncws    Chi White Sox\nkc     Kansas City\natl    Atlanta\nnym    NY Mets\nfla    Florida\nphi    Philadelphia\nwas    Washington\nari    Arizona\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2289
  },
  {
    "chunk_full": "Preprocessing\n|\n107\nla     LA Dodgers\nsd     San Diego\ncol    Colorado\nsf     San Francisco\ncin    Cincinnati\nmil    Milwaukee\nstl    St. Louis\nhou    Houston\npit    Pittsburgh\nchc    Chi Cubs\nThe team names file can be downloaded here:\nhttp://benfry.com/writing/salaryper/teams.tsv\nalong with the example standings file:\nhttp://benfry.com/writing/salaryper/standings.tsv\nThe code downloads each file for April 15, 2007, but it is easy to change the date.\nInstead of the following code block:\nString base = \"http://mlb.mlb.com/components/game\" +\n    \"/year_2007/month_04/day_15/\";\nuse a combination of the Processing methods year( ), month( ), and day( ), along with\nnf( ) to pad the numbers to the proper number of digits:\nString base = \"http://mlb.mlb.com/components/game\" +\n  \"/year_\" + nf(year( ), 4) +\n  \"/month_\" + nf(month( ), 2) +\n  \"/day_\" + nf(day( ), 2) + \"/\";\nRetrieving Team Logos (Acquire, Reﬁne)\nTeam names make for a boring display. Our output will be much more appealing if\nwe show team logos. Finding team logos on the MLB.com site (or any other site, for\nthat matter) illustrates another bit of useful detective work: determining the pattern\nfor a series of image files.\nThe first task is to find a possible logo image. For instance, the scoreboard page at\nhttp://mlb.mlb.com/mlb/scoreboard has logos for several teams. To determine a loca-\ntion, right-click one of the images, select Copy Image Location (or its equivalent in\nwhatever web browser you are using), and use that location to open a new page.\nRight-clicking on the Chicago Cubs image, for instance, produces this URL:\nhttp://mlb.mlb.com/mlb/images/team_logos/logo_chc_small.gif\nThe chc is the three-letter team code found earlier when downloading team data,\nwhich suggests that logos for the remaining 29 teams can be found by replacing those\nthree letters with different codes. The list of codes is one column of the teams.tsv file\ncreated in the previous step. Therefore, to give our program access to team logos,\nwe’ll automate the retrieval of the images here.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2290
  },
  {
    "chunk_full": "108\n|\nChapter 5: Connections and Correlations\nIn a new sketch, add the teams.tsv file and begin with the following code to read the\nfile and load the teams into a String array named teams:\nString[] teams;\nvoid setup( ) {\n  String[] lines = loadStrings(\"teams.tsv\");\n  teams = new String[lines.length];\n  for (int i = 0; i < lines.length; i++) {\n    String[] pieces = split(lines[i], TAB);\n    // The three digit code for the team is the first column\n    teams[i] = pieces[0];\n  }\n}\nThe presence of the word _small in the title of the http://mlb.mlb.com/mlb/images/\nteam_logos/logo_chc_small.gif file suggests that there are images of other sizes. I took\na stab at finding them on the http://mlb.mlb.com web site by substituting the suffixes\n_large and _medium, but neither worked. It may even be possible to look at the\ndirectory that contains the logos (http://mlb.mlb.com/mlb/images/team_logos) and get\na file listing, but that generally works only for smaller or less professional web sites.\nOf course, the locations for the images are subject to change at any time (and often\nwill because there’s no reason for MLB.com to keep them the same for others using\ntheir data), which is why we are taking the time to go through the process of figuring\nout the image locations. In an ideal situation, of course, the MLB would make this\ndata available through a web service.\nIf we can’t easily find the images we want by using our intuition and digging around\nthe site, the next alternative is to use a search engine. Do a search for the first part of\nthe URL and see what sort of results turn up. Thus, doing a search for “mlb/images/\nteam_logos/” reveals several additional possibilities:\nhttp://mlb.mlb.com/mlb/images/team_logos/logo_atl_small.gif\nhttp://mlb.mlb.com/mlb/images/team_logos/50x50/atl.gif\nhttp://mlb.mlb.com/mlb/images/team_logos/logo_bal_79x76.jpg\nhttp://mlb.mlb.com/mlb/images/team_logos/51x21/bos_standings_logo.gif\nA different web site shows yet another format:\nhttp://losangeles.angels.mlb.com/mlb/images/team_logos/100x100/ana.gif\nThe similarities in the directory structure suggest that the site is merely an alias, and\na quick test confirms that the following URL works in an identical manner:\nhttp://mlb.mlb.com/mlb/images/team_logos/100x100/ana.gif\nFor each of the URLs in question, the two- or three-digit team code appears between\na prefix and suffix specific to the image size and location. In the case of the small\nlogos, the URLs look like:\nhttp://mlb.mlb.com/mlb/images/team_logos/logo_team_small.gif\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2291
  },
  {
    "chunk_full": "Preprocessing\n|\n109\nWith all this in mind, a short program can download each set of images:\nString[] teams;\nvoid setup( ) {\n  String[] lines = loadStrings(\"teams.tsv\");\n  teams = new String[lines.length];\n  for (int i = 0; i < lines.length; i++) {\n    String[] pieces = split(lines[i], TAB);\n    // The three-digit code for the team is the first column.\n    teams[i] = pieces[0];\n  }\ngrabLogos(\"small\", \"http://mlb.mlb.com/mlb/images/team_logos/logo_\", \"_small.gif\");\n  grabLogos(\"50x50\", \"http://mlb.mlb.com/mlb/images/team_logos/50x50/\", \".gif\");\ngrabLogos(\"79x76\", \"http://mlb.mlb.com/mlb/images/team_logos/logo_\", \"_79x76.jpg\");\n  grabLogos(\"standings\", \"http://mlb.mlb.com/mlb/images/team_logos/51x21/\",\n            \"_standings_logo.gif\");\n  grabLogos(\"100x100\", \"http://mlb.mlb.com/mlb/images/team_logos/100x100/\", \".gif\");\n}\nvoid grabLogos(String folder, String prefix, String suffix) {\n  String extension = suffix.substring(suffix.length( ) - 4);\n  for (int i = 0; i < teams.length; i++) {\n    String filename = folder + \"/\" + teams[i] + extension;\n    String url = prefix + teams[i] + suffix;\n    println(\"Downloading \" + url);\n    saveStream(filename, url);\n  }\n}\nThe teams array contains the list of the 30 team codes. The grabLogos( ) method iter-\nates through each team, downloading images based on the specified prefix and suffix.\nThe saveStream( ) method loads the data from a particular web address and writes it\nback to the disk (it’s equivalent to using the built-in function loadBytes( ), followed\nby saveBytes( )). Because the image may be a .jpg or .gif file, the grabLogos( ) method\nuses substring( ) on the source filename to determine which extension to use when\nnaming the downloaded file.\nIn the end, the small directory contains the images whose size and proportion are\nmost appropriate for our display. Start a new sketch, and use Sketch ➝Show Sketch\nFolder to add these to the data folder.\nRetrieving Salary Data (Acquire, Parse, Filter)\nThe next step is to find a list of the salaries for each of the teams. There appears to be\nno such feature on MLB.com, but the USA Today web site makes available a list of\nteam payrolls here:\nhttp://usatoday.com/sports/baseball/salaries/totalpayroll.aspx?year=2007\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2292
  },
  {
    "chunk_full": "110\n|\nChapter 5: Connections and Correlations\nThe simplest method of getting this information is to copy it from your web browser\nand paste it into an open document in your spreadsheet application of choice. If\nyou’re lucky, the table will be interpreted as tab-delimited and the columns will be\npreserved when pasted into the spreadsheet.\nAnother option is to use the import or link feature of your spreadsheet application.\nThis also can be done with Excel, but we’ll use OpenOffice.org because anyone can\ndownload it for free. Create a new Calc document and choose Insert ➝Link To\nExternal Data…. Paste the USA Today URL listing the payrolls into the first text field\nthat reads “URL of external data source.” Pressing the Enter key will populate the list\nof “Available tables/ranges.” Scroll down and select HTML__BBSalTable from the\nlist, as shown in Figure 5-2.\nClick OK to import the data. That will pick up more of the web page than necessary,\nbut scrolling down to the 17th row and expanding columns A and B reveals the list\nof teams, shown in Figure 5-3.\nDelete all rows and columns except for the team name and the salary, and replace\neach team name with its two- or three-letter code. The commas and dollar signs also\nneed to be removed (a quick Find and Replace will take care of that). Finally, save\nthe file as plain text in TSV format as salaries.tsv. A completed version of the salaries\nfile can be found at http://benfry.com/writing/salaryper/salaries.tsv.\nOf course, parsing the page and downloading the table could be handled in code, but\nthe amount of information (30 team salaries) and the frequency at which it’s updated\n(once a year) does not warrant an algorithmic solution.\nFigure 5-2. Entering web data into an OpenOffice.org spreadsheet\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2293
  },
  {
    "chunk_full": "Using the Preprocessed Data (Acquire, Parse, Filter, Mine)\n|\n111\nUsing the Preprocessed Data (Acquire, Parse, Filter,\nMine)\nIn the previous steps, we managed to download files that represent the team names\nand logos, their salaries, and their standings on a given day. Now that we have deter-\nmined how to handle each type of information and have preprocessed parts of it,\nwe’ll pull it together into a single application. The goal of this section is to gather the\ndata that previous sections put in plain text files, and then bring them into data\nstructures that are convenient for our program to use.\nFigure 5-3. Team salary data in an OpenOffice.org spreadsheet\nConvert Data by Hand or Write a Program?\nAs a rule of thumb, I write code only when the time to write the code is less than or\nequal to double the amount of time it takes to do a process by hand. That is, if it takes\nthree hours to do it by hand and I can implement it in code in six hours or less, I prefer\nto use code so that the results can be easily updated. As a corollary, however, in situa-\ntions like the one presented in this chapter, the page structure will likely change more\nthan the data itself. In such cases, writing a parser is usually a waste of time.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2294
  },
  {
    "chunk_full": "112\n|\nChapter 5: Connections and Correlations\nTeam Names and Codes\nFirst, we’ll load the team names using the setupTeams( ) method. This is similar to\nexamples we’ve seen in earlier chapters, in which we acquire the data from a pre-\nprocessed file through loadStrings( ), followed by split( ), to break a line into indi-\nvidual columns:\nint teamCount = 30;\nString[] teamNames;\nString[] teamCodes;\nHashMap teamIndices;\nvoid setupTeams( ) {\n  String[] lines = loadStrings(\"teams.tsv\");\n  teamCount = lines.length;\n  teamCodes = new String[teamCount];\n  teamNames = new String[teamCount];\n  teamIndices = new HashMap( );\n  for (int i = 0; i < teamCount; i++) {\n    String[] pieces = split(lines[i], TAB);\n    teamCodes[i] = pieces[0];\n    teamNames[i] = pieces[1];\n    teamIndices.put(teamCodes[i], new Integer(i));\n  }\n}\nint teamIndex(String teamCode) {\n  Integer index = (Integer) teamIndices.get(teamCode);\n  return index.intValue( );\n}\nWhen creating the teamCodes and teamNames arrays, we have to provide an ordering\nthat can be used to anchor the data. When we’re loading the salary information from\nan input file, we don’t know the exact order in which the teams will be found. The\nsame is true for the win-loss standings, which will change from day to day. We\nanchor both lists to the same order by mapping the teamCode to a particular team\nindex (numbered 0 to 29), which ensures that data from each source is connected\nproperly.\nTo map a teamCode to an integer index, we use a HashMap. The HashMap class is a dic-\ntionary that connects two pieces of data, each an Object. The put( ) method adds a\nnew entry to the map, whereas the get( ) method retrieves it. Because only objects\ncan be used in HashMap structures, it’s necessary to wrap the int for the team’s index\nin an Integer object, which we created for this purpose. The intValue( ) method\nextracts the original int from the Integer object. This is encapsulated by the\nteamIndex function so that we don’t have to think about the HashMap or Integer\nclasses when writing the rest of the code.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2295
  },
  {
    "chunk_full": "Using the Preprocessed Data (Acquire, Parse, Filter, Mine)\n|\n113\nTeam Salaries\nWe will organize the salary data as a list of ranked values, just like the team stand-\nings. The parameters for ranked data are:\n• A list of the values to be ranked (the amount of each team’s payroll).\n• A list of how those values will be shown to the user (the number formatted as a\ndollar amount with commas, e.g., $34,140,182).\n• A list of the rank for each item, and a sorting order to be used when ranking. For\ninstance, a higher payroll amount has a negative connotation, whereas a higher\nwin-loss average has a positive connotation. In some cases, having the data in\nascending order might be more useful; in others, a descending order is better.\n• A means of keeping track of the highest and lowest values.\nThe ranked list is useful for salary data as well as the win-loss standings. It will also\nbe useful when adapting this project to other types of data. Because a ranked list can\nbe a useful general-purpose data structure, and because it requires a bit of code to\nsort the information and calculate its minimum and maximum values, I’ve created a\nRankedList class that encapsulates the general means of handling ranked data.\nWhat’s the Difference Between int and Integer?\nIn Java, an int is a primitive type (such as float and char) that contains a simple value,\none that can be stored by most computers in a single element of memory in a native\nformat. In contrast, Integer is an object, which is a composite set of data elements.\nThe distinction can be confusing and often leads people to ask why the language\ndesigners didn’t make everything an object. The answer is that objects create signifi-\ncant (and unnecessary) overhead whenever primitive types such as int can be used. For\nexample, in a for loop with thousands of iterations, it would be silly to dereference an\nInteger object used for the counter on each iteration. Because the int refers to a spe-\ncific value, only one step is required to read or change it.\nAn object refers to a location in memory, so the first step in using it should be to check\nwhether the specified location is valid. The number might be stored in a variable called\nvalue, so once the location in memory is determined to be correct, a check can be made\nto find the location of the value variable (and whether or not it exists). Then, the vari-\nable itself can be manipulated in some manner. Although it may not sound like much,\nthis sort of thing really makes a difference when dealing with thousands of values.\nScripting languages often use objects for all values, which can contribute to their lack\nof speed. Especially in cases of languages that are not “typed,” each piece of data must\nfirst be converted to the proper native data format of the system as it is used. To give a\nsimplistic example, a language might store each item of data as a string, and then con-\nvert it to an integer in any context where the value is used as an integer (such as count-\ning in our for loop). This process can be even more time consuming.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2296
  },
  {
    "chunk_full": "114\n|\nChapter 5: Connections and Correlations\nWe’ve used classes in other examples (such as the Table class in Chapter 3), and like\nthe others, it’s not really necessary to understand the specifics of how this class\nworks, only how it connects to the rest of the code. Download this class from the\nbook’s site and add it to your sketch:\nhttp://benfry.com/writing/salaryper/RankedList.java\nThe parameters I’ve described are stored in the value, title, and rank arrays. To use\nthe class for salary data, one need only extend the class. To do this, create a\nSalaryList class in a new tab. Its only contents are:\nclass SalaryList extends RankedList {\n  SalaryList(String[] lines) {\n    super(teamCount, false);\n    for (int i = 0; i < teamCount; i++) {\n      String pieces[] = split(lines[i], TAB);\n      // First column is the team's 2- or 3-digit team code.\n      int index = teamIndex(pieces[0]);\n      // Second column is the salary as a number.\n      value[index] = parseInt(pieces[1]);\n      // Make the title in the format $NN,NNN,NNN.\n      int salary = (int) value[index];\n      title[index] = \"$\" + nfc(salary);\n    }\n    update( );\n  }\n}\nThe main task in this code is to convert data from the particular format in which we\nput it during preprocessing—a text file with simple tab-separated lines—into the\narrays defined by the RankedList class. This is a common task in data processing: to\nobtain data from an external source and transport it easily, you store it in a simple\ntext format. But to process it programmatically, use a general-purpose library (often\nwritten by someone else) that expects the data to be in a more rigorous, possibly\nbinary format.\nThe SalaryList method is the constructor for the class, controlling how an object is\ninitialized. The super method calls the constructor of the parent class (known as the\nsuperclass). In this case, it runs RankedList(teamCount, false) to create a list with 30\nentries in descending order (if the second argument to the super method were true,\nthe data would be sorted in ascending order).\nThe rest of the code resembles our other parsing functions, except that it fills the\nvalue, title, and rank array for the values read from an array of Strings loaded from\na file. The title variable for each is set to a dollar sign followed by the payroll num-\nber with commas inserted by the nfc( ) method.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2297
  },
  {
    "chunk_full": "Using the Preprocessed Data (Acquire, Parse, Filter, Mine)\n|\n115\nAfter parsing the information, the update( ) method calls a function inside\nRankedList that takes care of sorting the data and calculating the minimum and max-\nimum values.\nBack in the main tab, the setupSalaries( ) method creates the SalaryList:\nSalaryList salaries;\nvoid setupSalaries( ) {\n  String[] lines = loadStrings(\"salaries.tsv\");\n  salaries = new SalaryList(lines);\n}\nWin-Loss Standings\nThe win-loss record is handled in a similar fashion. First, a modified version of our\npreprocessing code acquires and parses the standings data for a given day:\nString[] acquireStandings(int year, int month, int day) {\n  String filename = year + nf(month, 2) + nf(day, 2) + \".tsv\";\n  String path = dataPath(filename);\n  File file = new File(path);\n  if (!file.exists( ) || (file.length( ) == 0)) {\n    println(\"Downloading standings file \" + filename);\n    PrintWriter writer = createWriter(path);\n    String base = \"http://mlb.mlb.com/components/game\" +\n      \"/year_\" + year + \"/month_\" + nf(month, 2) + \"/day_\" + nf(day, 2) + \"/\";\n    // American League (AL)\n    parseStandings(base + \"standings_rs_ale.js\", writer);\n    parseStandings(base + \"standings_rs_alc.js\", writer);\n    parseStandings(base + \"standings_rs_alw.js\", writer);\n    // National League (NL)\n    parseStandings(base + \"standings_rs_nle.js\", writer);\n    parseStandings(base + \"standings_rs_nlc.js\", writer);\n    parseStandings(base + \"standings_rs_nlw.js\", writer);\n    writer.flush( );\n    writer.close( );\n  }\n  return loadStrings(filename);\n}\nvoid parseStandings(String filename, PrintWriter writer) {\n  String[] lines = loadStrings(filename);\n  Pattern p = Pattern.compile(\"\\\\s+([\\\\w\\\\d]+):\\\\s'(.*)',?\");\n  String teamCode = \"\";\n  int wins = 0;\n  int losses = 0;\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2298
  },
  {
    "chunk_full": "116\n|\nChapter 5: Connections and Correlations\n  for (int i = 0; i < lines.length; i++) {\n    Matcher m = p.matcher(lines[i]);\n    if (m.matches( )) {\n      String attr = m.group(1);\n      String value = m.group(2);\n      if (attr.equals(\"code\")) {\n        teamCode = value;\n      } else if (attr.equals(\"w\")) {\n        wins = parseInt(value);\n      } else if (attr.equals(\"l\")) {\n        losses = parseInt(value);\n      }\n    } else {\n      if (lines[i].startsWith(\"}\")) {\n        // This is the end of a group, write these values\n        writer.println(teamCode + TAB + wins + TAB + losses);\n      }\n    }\n  }\n}\nFor data from May 2, 2007, the acquireStandings( ) method looks for a file named\n20070502.tsv. If the file is not present, it downloads the data from MLB.com and\nparses it to create a filtered version that contains only the team code followed by the\nnumber of wins and then the number of losses.\nThis code is nearly identical to the standalone version discussed earlier in the pre-\nprocessing steps. One difference is in the use of a File object and the dataPath( )\nmethod. The dataPath( ) method gives a full pathname to a file found in the data\ndirectory. This is useful when interfacing between Processing and Java file methods\nbecause the concept of a data folder is specific to Processing. The File class is used in\nJava to store a reference to a particular file (or directory) and includes several useful\nmethods, such as exists( ), which we use here to determine whether the file is avail-\nable. Here we also check to see whether the file’s length (size) is zero, which can hap-\npen if the acquireStandings method is interrupted and the file is not completely\nwritten.\nIn a new tab called StandingsList, write a similar piece of code as the constructor for\nSalaryList:\nclass StandingsList extends RankedList {\n  StandingsList(String[] lines) {\n    super(teamCount, false);\n    for (int i = 0; i < teamCount; i++) {\n      String[] pieces = split(lines[i], TAB);\n      int index = teamIndex(pieces[0]);\n      int wins = parseInt(pieces[1]);\n      int losses = parseInt(pieces[2]);\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2299
  },
  {
    "chunk_full": "Using the Preprocessed Data (Acquire, Parse, Filter, Mine)\n|\n117\n      value[index] = (float) wins / (float) (wins+losses);\n      title[index] = wins + \"-\" + losses;\n    }\n    update( );\n  }\n}\nAnd back in the main tab, initialize the standings data by loading it from the correct\nweb page based on the current day and putting it into the internal format by initializ-\ning a StandingsList:\nStandingsList standings;\nvoid setupStandings( ) {\n  String[] lines = acquireStandings(year(), month( ), day( ));\n  standings = new StandingsList(lines);\n}\nTeam Logos\nAll that remains now is to load the logo images for each team. They were down-\nloaded earlier in the preprocessing step into a folder named small. Add this folder to\nthe data folder of your sketch, and add the following code to your program:\nPImage[] logos;\nfloat logoWidth;\nfloat logoHeight;\nvoid setupLogos( ) {\n  logos = new PImage[teamCount];\n  for (int i = 0; i < teamCount; i++) {\n    logos[i] = loadImage(\"small/\" + teamCodes[i] + \".gif\");\n  }\n  logoWidth = logos[0].width / 2.0;\n  logoHeight = logos[0].height / 2.0;\n}\nThe setupLogos( ) function also fiddles with how the logos are represented. Each\nlogo obtained from the MLB.com site is 38 pixels wide and 45 pixels high. Some\nquick math tells us that 45 pixels times 30 teams (1,350 pixels) will not fit on the\nscreen, or at least is unnecessarily large. However, half that height is just perfect for a\n1024 × 768 display. Because the size of the logo images might change over the years\n(or with a different data set), we don’t assume a particular size, but instead set the\nlogoWidth and logoHeight variables to half the size of the first logo loaded.\nFinishing the Setup\nThe setup( ) method brings this all together and defines a font for showing the data.\nWe’ll begin with just the generic SansSerif font, but will change it later:\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2300
  },
  {
    "chunk_full": "118\n|\nChapter 5: Connections and Correlations\nPFont font;\nvoid setup( ) {\n  size(480, 750);\n  setupTeams( );\n  setupSalaries( );\n  setupStandings( );\n  setupLogos( );\n  font = createFont(\"SansSerif\", 11);\n  textFont(font);\n}\nMake sure to run setupSalaries( ) before setupStandings( ) because we use the sal-\nary in setupStandings( ) as a tiebreaker when sorting the standings.\nDisplaying the Results (Represent)\nLooking at what we’ve done so far, we can begin to fashion a simple representation to\nshow each row of data with the team name and logo, win-loss record, and salary.\nGiven two major variables (win-loss record and salary), it might seem reasonable to\nuse the x- and y-axes. However, the question we have in mind is not simply “Do salary\nand performance correlate?,” so an X and Y scatterplot is a less useful representation.\nOur question implies a ranking because we’re comparing teams. Ranking usually\nmeans a list, so we’ll start by sorting the two lists in descending order, and then we’ll\nconnect each team’s win-loss record to its salary with a line. The connecting lines—\nnot the individual win-loss record or salary—becomes the outstanding element of\nthe display. This is appropriate for our original question, because the lines show the\nrelationships we’re interested in. And after creating the basic display in this section,\nthe rest of the chapter uses various techniques to emphasize the impact of the lines.\nWe begin with a few constants, which are variables prefixed with static final\nbecause they will not change while the sketch is in use. We haven’t bothered using\nconstants in previous projects because the code has been short, but for more compli-\ncated projects, it’s important to start thinking about variables that can be abstracted\nout from the code. Placing a constant at the beginning of the sketch makes it easy to\nfind and alter them. For instance, to change the row height we’d know where to\nlook, and would need to change only a single line, rather than the multiple locations\nin the code that depend on the value for the row height. It also makes the code eas-\nier to read for others because when a value is a constant, that implies that its value\nwill only be read and not set anywhere in the code.\nBecause the logo height is 22.5 pixels, we’ll make each row 23 pixels tall. We’ll want\nto center everything at the middle of the row, so the HALF_ROW_HEIGHT variable will\nalso come in handy:\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2301
  },
  {
    "chunk_full": "Displaying the Results (Represent)\n|\n119\nstatic final int ROW_HEIGHT = 23;\nstatic final float HALF_ROW_HEIGHT = ROW_HEIGHT / 2.0;\nstatic final int SIDE_PADDING = 30;\nThe text size set earlier is about half the height of each row. This creates easy-to-\nread, double-spaced text. The text itself needn’t be particularly large or prominent\nbecause it is not as important as the correlation line itself.\nThe SIDE_PADDING variable is used to set a border around the display, adding some\nwhitespace to the edges. The amount should be more than the row height so that it\nlooks intentional, but not so large as to waste space.\nThe draw( ) method reads as follows:\nvoid draw( ) {\n  background(255);\n  smooth( );\n  translate(SIDE_PADDING, SIDE_PADDING);\n  float leftX = 160;\n  float rightX = 335;\n  textAlign(LEFT, CENTER);\n  for (int i = 0; i < teamCount; i++) {\n    fill(0);\n    float standingsY = standings.getRank(i)*ROW_HEIGHT + HALF_ROW_HEIGHT;\n    image(logos[i], 0, standingsY - logoHeight/2, logoWidth, logoHeight);\n    text(teamNames[i], 28, standingsY);\n    text(standings.getTitle(i), 115, standingsY);\n    float salaryY = salaries.getRank(i)*ROW_HEIGHT + HALF_ROW_HEIGHT;\n    stroke(0);\n    line(leftX, standingsY, rightX, salaryY);\n    text(salaries.getTitle(i), rightX+10, salaryY);\n  }\n}\nThe translate( ) method moves the coordinate system over slightly, giving us a\nwhite border: (0, 0) will now be (30, 30), so nothing will be drawn in the left or top\n30 pixels of the image.\nThe leftX and rightX values could also be constants (e.g., static final int LEFT_X =\n160;), but we’ll leave them as variables in case we later want to dynamically figure\nout the position of each column. The implementation used here determines the X-\ncoordinates by trial and error; a better idea would be to base the positions on the\nmaximum width of each column of text plus a little extra padding.\nThe textAlign( ) method left-aligns and vertically centers each row of text.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2302
  },
  {
    "chunk_full": "120\n|\nChapter 5: Connections and Correlations\nA loop iterates through each team index (represented by i). The text( ) method\ndraws the team name, aligned to the left, and then the standings value (e.g., 40–29),\ncentered next to it.\nThe standingsY and salaryY variables are calculated by multiplying the rank of the\ngiven team by the row height, then adding HALF_ROW_HEIGHT so that the line shows up\nin the center.\nThe resulting image looks like Figure 5-4.\nFrom Figure 5-4, we can pick out several interesting facts. For instance, both the\nBoston Red Sox and the LA Angels pay handsomely and get results that seem to vali-\ndate the costs. But the highest salaries are paid by the New York Yankees, who are\nwoefully unrewarded for this generosity. Individual results like this can be found in\nthe figure, but it doesn’t yield much in the way of overall patterns.\nFigure 5-4. Sample team ranking\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2303
  },
  {
    "chunk_full": "Returning to the Question (Refine)\n|\n121\nReturning to the Question (Reﬁne)\nWhen you reach the refinement stage of your visualization project, always return to\nthe original question. In this chapter, we’re most concerned with how salaries relate\nto performance for each team. The visualization in Figure 5-4 does not quite reach.\nThe team logos are the most prominent visual elements (because they’re in color),\nbut they offer only a starting point for conveying the relationships. Meanwhile, the\nlines (the most important feature) are about as informative as a pile of sticks.\nHighlighting the Lines\nThe first metric for the original question is whether teams are spending their money\nwell. At its most basic, this is a yes or no question, so it will be important to high-\nlight it as such with the representation. Teams spending their money well have a line\nthat gets lower as it moves from left to right (connecting a high ranking in the stand-\nings to a low salary), whereas teams wasting money have lines that move upward\nfrom left to right. By using a color for each scenario, we can highlight the answer to\nthe Boolean question of how well the team is performing. Color is a good choice in\nthis case because we need only a pair of colors, and the detail being shown with the\ncolor is more important than any other feature in the diagram. To apply the colors,\nreplace the stroke(0) line with the following:\n    if (salaryY >= standingsY) {\n      stroke(33, 85, 156); // Blue for positive (or equal) difference.\n    } else {\n      stroke(206, 0, 82); // Red for wasting money.\n    }\nThe result is shown in Figure 5-5.\nBut even with colors, the lines still don’t have enough variation to instantly convey\nthe key point to the viewer. We need to find a more salient form of variation to help\nviewers differentiate between elements and determine which shapes are related to\none another.\nTo introduce more variation into the lines, we can vary the stroke weight based on\nthe team’s salary. We could do the same thing with the record, but payroll is more\nintuitive, as it refers to “bigger” or “smaller” teams. We don’t think of standings as\nbig or small, but we do think about monetary amounts in these terms.\nThe variation is handled with the map( ) method, mapping the minimum salary to a\nvery thin stroke (0.25) and the largest salary to a nice, thick line. Add this code\nbefore the line( ) statement to scale the line weights in proportion to each team’s\nsalary.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2304
  },
  {
    "chunk_full": "122\n|\nChapter 5: Connections and Correlations\n    float weight = map(salaries.getValue(i),\n                       salaries.getMinValue( ), salaries.getMaxValue( ),\n                       0.25, 6);\n    strokeWeight(weight);\nFigure 5-6 shows the results.\nThe image is getting more readable than the original in Figure 5-4, but still more can\nbe done.\nFigure 5-5. Sample ranking with color to show results\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2305
  },
  {
    "chunk_full": "Returning to the Question (Refine)\n|\n123\nA Better Typeface for Numeric Data\nInstead of the generic SansSerif font, a better option is Matthew Carter’s Georgia.\nWe’ll also increase the size a notch to match the amount of vertical space used by the\noriginal font because 11 point SansSerif has the same height as 12 point Georgia:\nfont = createFont(\"Georgia\", 12);\nCarter designed this typeface for Microsoft in 1993 as part of their web core fonts ini-\ntiative because Microsoft’s typography group sought better screen fonts that could\ndifferentiate Windows and other Microsoft products from their competitors. The\nweb core fonts package was available as a free download. Georgia is a default font on\nWindows systems, and it is installed along with Microsoft software (such as Office)\non Mac OS X. Because it’s reasonably safe to expect that the font is installed on other\nmachines, we don’t have to use Processing’s Create Font tool. On Linux, the fonts\nFigure 5-6. Sample ranking with line widths to show results\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2306
  },
  {
    "chunk_full": "124\n|\nChapter 5: Connections and Correlations\nare available from a SourceForge project that repackages the fonts for easy installa-\ntion. This package is also available as part of some Linux distributions.\nhttp://sourceforge.net/projects/corefonts\nhttp://sourceforge.net/project/showfiles.php?group_id=34153\nThe font is a good option because it has elegant non-lining numerals, also called old\nstyle figures, which have variable widths and extend below the font’s baseline. Their\nuse makes the number-rich display a little more attractive. The disadvantage in this\ncase is that the numbers won’t be identical widths, making them more difficult to\ncompare.\nUsually, fixed-width digits are helpful because right-aligning a series of numbers\nmakes it easy for readers to scan a column and compare their magnitude at a quick\nglance. In this display, however, the exact numbers (for example, whether the Yan-\nkees are being paid $189,639,045 or $189,638,042) are less important because the\nnumbers are already shown in rank order along the vertical axis, so we can sacrifice a\nlittle bit of readability.\nThe text still carries too much visual weight, so it needs to be faded a bit. Replacing\nthe fill(0) statement with fill(128) makes the text gray and helps balance it with\nthe colored lines, appropriately returning the greatest visual importance to the lines\nthemselves.\nTaken together, the new version of the draw( ) method follows, with altered portions\nhighlighted:\nvoid draw( ) {\n  background(255);\n  smooth( );\n  translate(SIDE_PADDING, SIDE_PADDING);\n  float leftX = 160;\n  float rightX = 335;\n  for (int i = 0; i < teamCount; i++) {\n    fill(128);\n    float standingsY = standings.getRank(i)*ROW_HEIGHT + HALF_ROW_HEIGHT;\n    image(logos[i], 0, standingsY - logoHeight/2, logoWidth, logoHeight);\n    textAlign(LEFT, CENTER);\n    text(teamNames[i], 28, standingsY);\n    textAlign(RIGHT, CENTER);\n    text(standings.getTitle(i), leftX-10, standingsY);\n    float salaryY = salaries.getRank(i)*ROW_HEIGHT + HALF_ROW_HEIGHT;\n    if (salaryY >= standingsY) {\n      stroke(33, 85, 156); // Blue for positive (or equal) difference.\n    } else {\n      stroke(206, 0, 82); // Red for wasting money.\n    }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2307
  },
  {
    "chunk_full": "Returning to the Question (Refine)\n|\n125\n    float weight = map(salaries.getValue(i),\n                       salaries.getMinValue( ), salaries.getMaxValue( ),\n                       0.25, 6);\n    strokeWeight(weight);\n    line(leftX, standingsY, rightX, salaryY);\n    fill(128);\n    textAlign(LEFT, CENTER);\n    text(salaries.getTitle(i), rightX+10, salaryY);\n  }\n}\nFigure 5-7 shows the display.\nFigure 5-7. Sample ranking that highlights lines\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2308
  },
  {
    "chunk_full": "126\n|\nChapter 5: Connections and Correlations\nA Word About Typography\nThe dash used between the win-loss record looks a little wimpy because dashes are\nso small. A better solution is to use the en dash character by changing this line from\nthe StandingsList constructor:\n      title[index] = wins + \"-\" + losses;\nto read as follows:\n      title[index] = wins + \"\\u2013\" + losses;\nRobert Bringhurst’s The Elements of Typographical Style (Hartley and Marks Publish-\ners) defines the en dash as suitable for use when separating values that can be bro-\nken with the word “to.” In this case, the 40–21 next to the Red Sox can be stated as\n“the Red Sox have a record of 40 to 21,” making the en dash suitable for this situa-\ntion. Using the en dash also has the benefit of ensuring that the vertical position of\nthe dash aligns nicely with the horizontal lines of the number characters that it sepa-\nrates (for instance, the middle of a “3” and the horizontal stroke of a “4”).\nThe en dash is specified by \"\\u2013\", a Unicode escape sequence. A Unicode escape\nis a \\u followed by four hex digits representing the character’s number in the Uni-\ncode character set. Other types of dashes can be used, such as the em dash, \"\\u2012\",\nor the minus sign, \"\\u2212\".\nSophisticated Sorting: Using Salary As a Tiebreaker\n(Mine)\nAnother alteration to the StandingsList is to improve how ties are handled. When\ntwo teams have an identical record (not an uncommon occurrence, especially early in\nthe season), the tie should go to the team with the lower salary.\nInside RankedList, sorting is performed by a function that compares two elements in\nthe list. This is common for most sorting algorithms, which invoke a comparison\nfunction that returns zero if the items are identical, a positive value if the first is\ngreater, and a negative value if the second is greater.\nWriting a new compare( ) method lets us specify a more sophisticated sort. In the\nmodified method, the compare( ) method of the superclass (RankedList) is called first.\nIf the comparison is nonzero, the items are not identical and we don’t need to per-\nform further comparison. But if the values are identical, the comparison function\nfrom the salaries object is used. Because values for a and b refer to the same team in\nboth the standings and salaries (they were ordered using the teamIndex( ) function as\nthey were loaded), the comparison works:\nclass StandingsList extends RankedList {\n  StandingsList(String[] lines) {\n    super(teamCount, false);\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2309
  },
  {
    "chunk_full": "Moving to Multiple Days (Interact)\n|\n127\n    for (int i = 0; i < teamCount; i++) {\n      String[] pieces = split(lines[i], TAB);\n      int index = teamIndex(pieces[0]);\n      int wins = parseInt(pieces[1]);\n      int losses = parseInt(pieces[2]);\n      value[index] = (float) wins / (float) (wins+losses);\n      title[index] = wins + \"\\u2013\" + losses;\n    }\n    update( );\n  }\n  float compare(int a, int b) {\n    // First compare based on the record of both teams.\n    float amt = super.compare(a, b);\n    // If the record is not identical, return the difference\n    if (amt != 0) return amt;\n    // If records are equal, use salary as tiebreaker.\n    // In this case, a and b are switched, because a higher\n    // salary is a liability, unlike the higher record.\n    return salaries.compare(a, b);\n  }\n}\nMoving to Multiple Days (Interact)\nSo far we’ve covered a lot of data parsing and some visual refinement. But we’ve\nseverely hampered our potential by sticking to a static image. That misses a key\naspect of our data because the baseball season changes from day to day as teams\nimprove, tank, and go on winning streaks. The code used to parse the information\nfor a particular day can easily be adapted to other days, as long as we have a means\nfor iterating through days of the season and knowing which days to use.\nIn this section, we’ll generalize our code so we can store and display data for a range\nof dates. That requires extending:\n• Storage (adding some arrays to store data from multiple dates)\n• Status variables (adding various ways to represent dates)\n• The display (adding a date selector)\nSuch changes are common whenever you extend your program. In later sections,\nwe’ll also animate the data.\nDates and time are trickier than you might think. An initial temptation is to simply\nmake an array of numbers for the days in each month. But what happens in a leap\nyear? Do you use a different version of your code? The solution is to represent dates\nin unchanging units, such as seconds or milliseconds, and convert them to dates for\nthe purpose of display at the last moment.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2310
  },
  {
    "chunk_full": "128\n|\nChapter 5: Connections and Correlations\nThe Java API contains a Date object that can convert between a long value (which is a\ntype of int that can store much larger numbers) and a formatted date. A companion\nclass, SimpleDateFormat, can parse a date from a String object given a template, or\nconvert from a Date object to a date formatted using the same template.\nThe long value of a date is the number of milliseconds that elapsed since January 1,\n1970 (known as the “Unix epoch” or “POSIX time”). Given a starting value, moving\nto the next day is a matter of increasing the variable by the number of milliseconds in\na day. Doing this in a loop will generate all the days of an entire season.\nThe code that follows takes as input a date stamp for the first day of the season\n(firstDateStamp) in the format YYYYMMDD, and the same for the final day of the sea-\nson. Because no data is available past the current day, the maximum date for which\ninformation can be downloaded is today. However, results for the current day will\nalways be incomplete, so it’s best to get results only up to the previous day. This\nlogic will be encapsulated in maxDateIndex:\n  String firstDateStamp = \"20070401\";\n  String lastDateStamp = \"20070930\";\n  String todayDateStamp;\n  static final long MILLIS_PER_DAY = 24 * 60 * 60 * 1000;\n  // The number of days in the entire season.\n  int dateCount;\n  // The current date being shown.\n  int dateIndex;\n  // Don't show the first 10 days; they're too erratic.\n  int minDateIndex = 10;\n  // The last day of the season, or yesterday, if the season is ongoing.\n  // This is the maximum date that can be viewed.\n  int maxDateIndex;\n  // This format makes \"20070704\" from the date July 4, 2007.\n  DateFormat stampFormat = new SimpleDateFormat(\"yyyyMMdd\");\n  // This format makes \"4 July 2007\" from the same.\n  DateFormat prettyFormat = new SimpleDateFormat(\"d MMMM yyyy\");\n  // All dates for the season formatted with stampFormat.\n  String[] dateStamp;\n  // All dates in the season formatted with prettyFormat.\n  String[] datePretty;\n  void setupDates( ) {\n    try {\n      Date firstDate = stampFormat.parse(firstDateStamp);\n      long firstDateMillis = firstDate.getTime( );\n      Date lastDate = stampFormat.parse(lastDateStamp);\n      long lastDateMillis = lastDate.getTime( );\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2311
  },
  {
    "chunk_full": "Moving to Multiple Days (Interact)\n|\n129\n      // Calculate number of days by dividing the total milliseconds\n      // between the first and last dates by the number of milliseconds per day.\n      dateCount = (int)\n        ((lastDateMillis - firstDateMillis) / MILLIS_PER_DAY) + 1;\n      maxDateIndex = dateCount;\n      dateStamp = new String[dateCount];\n      datePretty = new String[dateCount];\n      todayDateStamp = year() + nf(month( ), 2) + nf(day( ), 2);\n      // Another option method of doing the same thing using Java's APIs\n      //Date today = new Date( );\n      //String todayDateStamp = stampFormat.format(today);\n      for (int i = 0; i < dateCount; i++) {\n        Date date = new Date(firstDateMillis + MILLIS_PER_DAY*i);\n        datePretty[i] = prettyFormat.format(date);\n        dateStamp[i] = stampFormat.format(date);\n        // If this value for 'date' is today, set the previous\n        // day as the maximum viewable date, because it means the season is\n        // still ongoing. The previous day is used because unless it is late\n        // in the evening, the updated numbers for the day will be unavailable\n        // or incomplete.\n        if (dateStamp[i].equals(todayDateStamp)) {\n          maxDateIndex = i-1;\n        }\n      }\n    } catch (ParseException e) {\n      die(\"Problem while setting up dates\", e);\n    }\n  }\nThe primary result of this function is to set up minDateIndex and maxDateIndex, as\nwell as to calculate all dates in the entire season in two formats (the dateStamp and\ndatePretty arrays) so that they can be used elsewhere.\nThe previous code is designed to be more general than the previously mentioned\narray that holds the number of days in each month. The original version of the\nproject used the simpler method, as hand-tweaking provided a quick fix (February\nisn’t part of the baseball season, so leap year considerations can be ignored). But if\nyou were to adapt this project to another situation—such as the football season,\nwhich runs from fall through winter (meaning that the months count up 10, 11, 12,\nand then go to 1)—it’s more prudent here to show a generic alternative that can be\nmore easily adapted.\nIf you’re running this code online, the firstDateStamp and lastDateStamp could even\nbe pulled from an HTML parameter using the built-in param( ) method, which can\nread HTML tags for such parameters. That way, different years could be shown\nwithout needing to recompile the applet.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2312
  },
  {
    "chunk_full": "130\n|\nChapter 5: Connections and Correlations\nDrawing the Dates\nAt the top of the screen, we’ll add a simple date selector. The selector will consist of\na series of vertical lines, with the current date shown as a longer line and the title of\nthe date (taken from datePretty) shown beneath it:\n  int dateSelectorX;\n  int dateSelectorY = 30;\n  // Draw a series of lines for selecting the date.\n  void drawDateSelector( ) {\n    dateSelectorX = (width - dateCount*2) / 2;\n    strokeWeight(1);\n    for (int i = 0; i < dateCount; i++) {\n      int x = dateSelectorX + i*2;\n      // If this is the currently selected date, draw it differently.\n      if (i == dateIndex) {\n        stroke(0);\n        line(x, 0, x, 13);\n        textAlign(CENTER, TOP);\n        text(datePretty[dateIndex], x, 15);\n      } else {\n        // If this is a viewable date, make the line darker.\n        if ((i >= minDateIndex) && (i <= maxDateIndex)) {\n          stroke(128); // Viewable date\n        } else {\n          stroke(204); // Not a viewable date\n        }\n        line(x, 0, x, 7);\n      }\n    }\n  }\nThe dateSelectorY variable never changes, and it represents the bottom of the dis-\nplay of dates across the top of the screen. The dateSelectorX variable marks a hori-\nzontal position within this display of dates, which allows the program to determine\nthe date itself. We’ll use both of these variables later to figure out where the user’s\nmouse is among the dates.\nLoad Standings for the Entire Season\nAn update to the setupStandings( ) function downloads data for each day of the sea-\nson (if it has not yet been downloaded) and uses a season array to store each day of\nstandings for the season thus far:\nStandingsList[] season;\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2313
  },
  {
    "chunk_full": "Moving to Multiple Days (Interact)\n|\n131\nvoid setupStandings( ) {\n  season = new StandingsList[maxDateIndex + 1];\n  for (int i = minDateIndex; i <= maxDateIndex; i++) {\n    String[] lines = acquireStandings(dateStamp[i]);\n    season[i] = new StandingsList(lines);\n  }\n}\nAnother version of the acquireStandings( ) method breaks up a date stamp into its\ncomponent parts so that it can be handled by the original acquireStandings method:\nString[] acquireStandings(String stamp) {\n  int year = int(stamp.substring(0, 4));\n  int month = int(stamp.substring(4, 6));\n  int day = int(stamp.substring(6, 8));\n  return acquireStandings(year, month, day);\n}\nSwitching Between Dates\nWith all the data in place, selecting dates is a matter of determining where the mouse\nwas clicked inside the date selector area. The mousePressed( ) and mouseDragged( )\nwill be combined into a single handleMouse( ) method that calculates whether a new\ndate was chosen:\nvoid setDate(int index) {\n  dateIndex = index;\n  standings = season[dateIndex];\n}\nvoid mousePressed( ) {\n  handleMouse( );\n}\nvoid mouseDragged( ) {\n  handleMouse( );\n}\nvoid handleMouse( ) {\n  if (mouseY < dateSelectorY) {\n    int date = (mouseX - dateSelectorX) / 2;\n    setDate(constrain(date, minDateIndex, maxDateIndex));\n  }\n}\nAnd just for kicks, let’s add a keyPressed( ) method so that we can use the arrow\nkeys to move back and forth in time:\nvoid keyPressed( ) {\n  if (key == CODED) {\n    if (keyCode == LEFT) {\n      int newDate = max(dateIndex - 1, minDateIndex);\n      setDate(newDate);\n    } else if (keyCode == RIGHT) {\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2314
  },
  {
    "chunk_full": "132\n|\nChapter 5: Connections and Correlations\n      int newDate = min(dateIndex + 1, maxDateIndex);\n      setDate(newDate);\n    }\n  }\n}\nChecking Our Progress\nBecause the printed page isn’t interactive, the only evidence of animation can be seen\nin the date selector at the top of the screen in Figure 5-8.\nAs the user clicks and drags the mouse across the date selector, the display switches\nrapidly between the standings for each day. It makes for an exciting reproduction of\nthe baseball teams’ fortunes, but the update is too jerky. As you might guess, we’ll\nbring back our Integrator friend next to help smooth out things.\nSmoothing Out the Interaction (Reﬁne)\nThe Integrator class was introduced in Chapter 3 to replace abrupt distinctions in\ntime or color with gradients. In what is perhaps becoming a common refrain, we’ll\nadd it to our sketch to help us animate the transition between days. The class is\navailable from the book’s site:\nhttp://benfry.com/writing/salaryper/Integrator.java\nThe only values that move are the 30 values for the standings, so we’ll add a\nsetupRanking( ) function to initialize them and set a default position. We add the call\nto setupRanking( ) inside setup( ), just after the other setupXxxxx( ) functions:\nIntegrator[] standingsPosition;\nvoid setupRanking( ) {\n  standingsPosition = new Integrator[teamCount];\n  for (int i = 0; i < teamCodes.length; i++) {\n    standingsPosition[i] = new Integrator(i);\n  }\n}\nFigure 5-8. Date selector bar that drives animation\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2315
  },
  {
    "chunk_full": "Deployment Considerations (Acquire, Parse, Filter)\n|\n133\nInside draw( ), we’ll no longer use getRank( ) to determine the location for standingsY\nas we did before:\nfloat standingsY = standings.getRank(i)*ROW_HEIGHT + HALF_ROW_HEIGHT;\nInstead, the position of each standing will be based on the current position of each\nIntegrator, which glides gradually from the old to the new value:\nfloat standingsY = standingsPosition[i].value * ROW_HEIGHT + HALF_ROW_HEIGHT;\nAt the beginning of draw( ), it’s also necessary to update each standingsPosition. As\na twist, we’ll also keep track of whether any of the Integrators actually change by\nchecking the return value of their update( ) method (which returns true if the value\nactually changed by some amount). If no changes occur, we’ll use noLoop( ) to shut\noff the animation loop and save CPU cycles:\n  boolean updated = false;\n  for (int i = 0; i < teamCount; i++) {\n    if (standingsPosition[i].update( )) {\n      updated = true;\n    }\n  }\n  if (!updated) {\n    noLoop( );\n  }\nOf course, we eventually need to turn the animation back on, when the user selects a\nnew date. An updated setDate( ) method targets each of the new ranking values and\nsubmits it to the gradual animation provided by Integrator, then starts up the ani-\nmation loop by calling loop( ):\nvoid setDate(int index) {\n  dateIndex = index;\n  standings = season[dateIndex];\n  for (int i = 0; i < teamCount; i++) {\n    standingsPosition[i].target(standings.getRank(i));\n  }\n  // Re-enable the animation loop.\n  loop( );\n}\nAlso regarding animation, it’s important to set a frame rate at which to run the\nsketch so that it behaves consistently on other machines. Adding frameRate(15) to\nsetup( ) ensures that transitions behave smoothly and the animation is consistent,\neven on very fast computers.\nDeployment Considerations (Acquire, Parse, Filter)\nAs discussed in Chapter 2, sketches that run online inside a web browser are not\nallowed access to the user’s local filesystem for security reasons. That eliminates our\ncurrent scheme of downloading files for each day and using the File object to check\nwhether they’ve already been downloaded.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2316
  },
  {
    "chunk_full": "134\n|\nChapter 5: Connections and Correlations\nAs it turns out, the current implementation is also quite inefficient: at the end of the\nseason, you’ll have hundreds of individual files on your disk for each day, each of\nthem occupying about 300 bytes.\nSo instead, we return back to the early preprocessing steps. The solution for both sit-\nuations is to run the preprocessing steps from a CGI script. The script can download\nthe data once for each day and then join all of the statistics for the season up to a\nparticular day into a single file that can be downloaded by a web visitor. If the CGI\nscript runs from the same server as the sketch, the sketch will be able to connect to it\nand download the data because connecting back to its parent server is considered\nsafe under Java’s security model.\nA Perl version of the script, essentially an adaptation of the acquireStandings( ) and\nparseWinLoss( ) methods, follows. Creating a version for PHP or other web frame-\nworks shouldn’t be too much of a stretch.\n#!/usr/bin/perl -w\nuse Time::Local;\n# Send header to the web server to indicate we are awake,\n# and that plain text data will be returned.\nprint \"Content-type: text/plain\\n\\n\";\n# These values could be read from parameters to the CGI if so desired, i.e.,\n# http://benfry.com/salaryper/data.cgi?first=20070401&last=20070930&min=10.\n# This would make the software more flexible to use it for multiple years.\n$firstDateStamp = '20070401';\n$lastDateStamp = '20070930';\n$minDateIndex = 10;\n$dataFolder = 'individual';\n$comboFolder = 'combined';\n`mkdir -p $dataFolder`;\n`mkdir -p $comboFolder`;\n$firstDateStamp =~ /(\\d\\d\\d\\d)(\\d\\d)(\\d\\d)/;\n$year = $1;\n$month = $2 - 1; # Months are 0-indexed in Perl\n$day = $3;\n$firstDate = timelocal(0, 0, 0, $day, $month, $year);\n$lastDateStamp =~ /(\\d\\d\\d\\d)(\\d\\d)(\\d\\d)/;\n$year = $1;\n$month = $2 - 1; # Months are 0-indexed in Perl\n$day = $3;\n$lastDate = timelocal(0, 0, 0, $day, $month, $year);\n$SECONDS_PER_DAY = 24 * 60 * 60;\n# Yesterday is the maximum possible date,\n# because the scores from today will not yet be updated.\n$yesterdayDate = time - $SECONDS_PER_DAY;\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2317
  },
  {
    "chunk_full": "Deployment Considerations (Acquire, Parse, Filter)\n|\n135\n# Don't bother grabbing data for the earlier part of the season\n# because it will not be used (and the program is not expecting it).\n$date = $firstDate + $minDateIndex*$SECONDS_PER_DAY;\nmy @dateStamps = ( );\n# If season is ongoing, read data only through yesterday.\n$endDate = ($yesterdayDate < $lastDate) ? $yesterdayDate : $lastDate;\nwhile ($date <= $endDate) {\n    ($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) =\n        localtime($date);\n    $stamp = sprintf(\"%04d%02d%02d\", $year + 1900, $mon+1, $mday);\n    push @dateStamps, $stamp;\n    #print \"$date - \" . localtime($date) . \"\\n\";\n    $date += $SECONDS_PER_DAY;\n}\n$endDateStamp = $dateStamps[$#dateStamps];\n$combinedFile = \"$comboFolder/$endDateStamp.tsv\";\nif (-f $combinedFile) {\n    # Open the file and spew the contents back to the applet.\n    open(INPUT, $combinedFile) || die $!;\n    @contents = <INPUT>;\n    print @contents;\n    close(INPUT);\n} else {\n    # Download any days not yet downloaded.\n    foreach $stamp (@dateStamps) {\n        $filename = \"$dataFolder/$stamp.tsv\";\n        if (!(-f $filename)) {\n            downloadWinLoss($stamp);\n        }\n    }\n    # Concatenate everything into a single file.\n    open(OUTPUT, \">$combinedFile\") || die $!;\n    foreach $stamp (@dateStamps) {\n        open(INPUT, \"$dataFolder/$stamp.tsv\") || die $!;\n        @contents = <INPUT>;\n        print OUTPUT @contents;\n        close(INPUT);\n        # Also write the contents of this file to the applet.\n        print @contents;\n    }\n    close(OUTPUT);\n}\nsub downloadWinLoss( ) {\n    my $stamp = shift;\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2318
  },
  {
    "chunk_full": "136\n|\nChapter 5: Connections and Correlations\n    open(OUTPUT, \">$dataFolder/$stamp.tsv\") || die $!;\n    $stamp =~ /(\\d\\d\\d\\d)(\\d\\d)(\\d\\d)/;\n    $day = sprintf(\"year_%04d/month_%02d/day_%02d/\", $1, $2, $3);\n    $base = 'http://mlb.mlb.com/components/game/' . $day;\n    parseWinLoss($base . 'standings_rs_ale.js');\n    parseWinLoss($base . 'standings_rs_alw.js');\n    parseWinLoss($base . 'standings_rs_alc.js');\n    parseWinLoss($base . 'standings_rs_nle.js');\n    parseWinLoss($base . 'standings_rs_nlw.js');\n    parseWinLoss($base . 'standings_rs_nlc.js');\n    close(OUTPUT);\n}\nsub parseWinLoss( ) {\n    $url = shift;\n    # Download the contents of the .js file using \"curl\".\n    @lines = `curl --silent $url`;\n    $teamCode = '';\n    $wins = 0;\n    $losses = 0;\n    foreach $line (@lines) {\n        if ($line =~ /\\s+([\\w\\d]+):\\s'(.*)',?/) {\n            $attr = $1;\n            $value = $2;\n            if ($attr eq 'code') {\n                $teamCode = $value;\n            } elsif ($attr eq 'w') {\n                $wins = $value;\n            } elsif ($attr eq 'l') {\n                $losses = $value;\n            }\n        } elsif ($line =~ /^}/) {\n            # This is the end of a group, print the values\n            print OUTPUT \"$teamCode\\t$wins\\t$losses\\n\";\n        }\n    }\n}\nThe script can be seen in action at:\nhttp://benfry.com/writing/salaryper/mlb.cgi\nor downloaded directly from:\nhttp://benfry.com/writing/salaryper/mlb.txt\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2319
  },
  {
    "chunk_full": "Deployment Considerations (Acquire, Parse, Filter)\n|\n137\nIf data has not been downloaded for the current day, it downloads the new informa-\ntion and then produces a file that concatenates all the days found so far. If that has\nalready occurred once, the file itself is simply echoed back to the web server.\nBecause our CGI solution moves all the preprocessing code out of the sketch, the\nacquireStandings( ) and parseWinLoss( ) methods can be removed from the code,\nsimplifying things greatly. The new version of setupStandings( ) that reads the data\ninstead uses a URL to download the data and then creates a new StandingsList for\neach set of 30 lines. The maxDateIndex is determined by the amount of data received\nfrom the CGI script, and it’s important to keep the minDateIndex variable in your\ncode in sync with the minDateIndex value used in the CGI so that both pieces of soft-\nware expect the same day to be the first day of standings. The complete code follows:\nimport java.util.regex.*;\nint teamCount = 30;\nString[] teamNames;\nString[] teamCodes;\nHashMap teamIndices;\nstatic final int ROW_HEIGHT = 23;\nstatic final float HALF_ROW_HEIGHT = ROW_HEIGHT / 2.0f;\nstatic final int SIDE_PADDING = 30;\nstatic final int TOP_PADDING = 40;\nSalaryList salaries;\nStandingsList standings;\nStandingsList[] season;\nIntegrator[] standingsPosition;\nPImage[] logos;\nfloat logoWidth;\nfloat logoHeight;\nPFont font;\n// . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\nString firstDateStamp = \"20070401\";\nString lastDateStamp = \"20070930\";\nString todayDateStamp;\nstatic final long MILLIS_PER_DAY = 24 * 60 * 60 * 1000;\n// The number of days in the entire season.\nint dateCount;\n// The current date being shown.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2320
  },
  {
    "chunk_full": "138\n|\nChapter 5: Connections and Correlations\nint dateIndex;\n// Don't show the first 10 days; they're too erratic.\nint minDateIndex = 10;\n// The last day of the season, or yesterday, if the season is ongoing.\n// This is the maximum date that can be viewed.\nint maxDateIndex;\n// This format makes \"20070704\" from the date July 4, 2007.\nDateFormat stampFormat = new SimpleDateFormat(\"yyyyMMdd\");\n// This format makes \"4 July 2007\" from the same.\nDateFormat prettyFormat = new SimpleDateFormat(\"d MMMM yyyy\");\n// All dates for the season formatted with stampFormat.\nString[] dateStamp;\n// All dates in the season formatted with prettyFormat.\nString[] datePretty;\nvoid setupDates( ) {\n  try {\n    Date firstDate = stampFormat.parse(firstDateStamp);\n    long firstDateMillis = firstDate.getTime( );\n    Date lastDate = stampFormat.parse(lastDateStamp);\n    long lastDateMillis = lastDate.getTime( );\n    // Calculate number of days by dividing the total milliseconds\n    // between the first and last dates by the number of milliseconds per day.\n    dateCount = (int)\n      ((lastDateMillis - firstDateMillis) / MILLIS_PER_DAY) + 1;\n    maxDateIndex = dateCount;\n    dateStamp = new String[dateCount];\n    datePretty = new String[dateCount];\n    todayDateStamp = year() + nf(month( ), 2) + nf(day( ), 2);\n    // Another option to do this, but more code\n    //Date today = new Date( );\n    //String todayDateStamp = stampFormat.format(today);\n    for (int i = 0; i < dateCount; i++) {\n      Date date = new Date(firstDateMillis + MILLIS_PER_DAY*i);\n      datePretty[i] = prettyFormat.format(date);\n      dateStamp[i] = stampFormat.format(date);\n      // If this value for 'date' is equal to today, then set the previous\n      // day as the maximum viewable date, because it means the season is\n      // still ongoing. The previous day is used because unless it is late\n      // in the evening, the updated numbers for the day will be unavailable\n      // or incomplete.\n      if (dateStamp[i].equals(todayDateStamp)) {\n        maxDateIndex = i-1;\n      }\n    }\n  } catch (ParseException e) {\n    die(\"Problem while setting up dates\", e);\n  }\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2321
  },
  {
    "chunk_full": "Deployment Considerations (Acquire, Parse, Filter)\n|\n139\n// . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\npublic void setup( ) {\n  size(480, 750);\n  setupTeams( );\n  setupDates( );\n  setupSalaries( );\n  // Load the standings after the salaries, because salary\n  // will be used as the tie-breaker when sorting.\n  setupStandings( );\n  setupRanking( );\n  setupLogos( );\n  font = createFont(\"Georgia\", 12);\n  textFont(font);\n  frameRate(15);\n  // Use today as the current day.\n  setDate(maxDateIndex);\n}\nvoid setupTeams( ) {\n  String[] lines = loadStrings(\"teams.tsv\");\n  teamCount = lines.length;\n  teamCodes = new String[teamCount];\n  teamNames = new String[teamCount];\n  teamIndices = new HashMap( );\n  for (int i = 0; i < teamCount; i++) {\n    String[] pieces = split(lines[i], TAB);\n    teamCodes[i] = pieces[0];\n    teamNames[i] = pieces[1];\n    teamIndices.put(teamCodes[i], new Integer(i));\n  }\n}\nint teamIndex(String teamCode) {\n  Integer index = (Integer) teamIndices.get(teamCode);\n  return index.intValue( );\n}\nvoid setupSalaries( ) {\n  String[] lines = loadStrings(\"salaries.tsv\");\n  salaries = new SalaryList(lines);\n}\nvoid setupStandings( ) {\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2322
  },
  {
    "chunk_full": "140\n|\nChapter 5: Connections and Correlations\n  String[] lines = loadStrings(\"http://benfry.com/writing/salaryper/mlb.cgi\");\n  int dataCount = lines.length / teamCount;\n  int expectedCount = (maxDateIndex - minDateIndex) + 1;\n  if (dataCount < expectedCount) {\n    println(\"Found \" + dataCount + \" entries in the data file, \" +\n            \"but was expecting \" + expectedCount + \" entries.\");\n    maxDateIndex = minDateIndex + dataCount - 1;\n  }\n  season = new StandingsList[maxDateIndex + 1];\n  for (int i = 0; i < dataCount; i++) {\n    String[] portion = subset(lines, i*teamCount, teamCount);\n    season[i+minDateIndex] = new StandingsList(portion);\n  }\n}\nvoid setupRanking( ) {\n  standingsPosition = new Integrator[teamCount];\n  for (int i = 0; i < teamCodes.length; i++) {\n    standingsPosition[i] = new Integrator(i);\n  }\n}\nvoid setupLogos( ) {\n  logos = new PImage[teamCount];\n  for (int i = 0; i < teamCount; i++) {\n    logos[i] = loadImage(\"small/\" + teamCodes[i] + \".gif\");\n  }\n  logoWidth = logos[0].width / 2.0f;\n  logoHeight = logos[0].height / 2.0f;\n}\npublic void draw( ) {\n  background(255);\n  smooth( );\n  drawDateSelector( );\n  translate(SIDE_PADDING, TOP_PADDING);\n  boolean updated = false;\n  for (int i = 0; i < teamCount; i++) {\n    if (standingsPosition[i].update( )) {\n      updated = true;\n    }\n  }\n  if (!updated) {\n    noLoop( );\n  }\n  for (int i = 0; i < teamCount; i++) {\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2323
  },
  {
    "chunk_full": "Deployment Considerations (Acquire, Parse, Filter)\n|\n141\n    float standingsY = standingsPosition[i].value * ROW_HEIGHT + HALF_ROW_HEIGHT;\n    image(logos[i], 0, standingsY - logoHeight/2, logoWidth, logoHeight);\n    textAlign(LEFT, CENTER);\n    text(teamNames[i], 28, standingsY);\n    textAlign(RIGHT, CENTER);\n    fill(128);\n    text(standings.getTitle(i), 150, standingsY);\n    float weight = map(salaries.getValue(i),\n                       salaries.getMinValue( ), salaries.getMaxValue( ),\n                       0.25f, 6);\n    strokeWeight(weight);\n    float salaryY = salaries.getRank(i)*ROW_HEIGHT + HALF_ROW_HEIGHT;\n    if (salaryY >= standingsY) {\n      stroke(33, 85, 156); // Blue for positive (or equal) difference.\n    } else {\n      stroke(206, 0, 82); // Red for wasting money.\n    }\n    line(160, standingsY, 325, salaryY);\n    fill(128);\n    textAlign(LEFT, CENTER);\n    text(salaries.getTitle(i), 335, salaryY);\n  }\n}\n// . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\nint dateSelectorX;\nint dateSelectorY = 30;\n// Draw a series of lines for selecting the date.\nvoid drawDateSelector( ) {\n  dateSelectorX = (width - dateCount*2) / 2;\n  strokeWeight(1);\n  for (int i = 0; i < dateCount; i++) {\n    int x = dateSelectorX + i*2;\n    // If this is the currently selected date, draw it differently.\n    if (i == dateIndex) {\n      stroke(0);\n      line(x, 0, x, 13);\n      textAlign(CENTER, TOP);\n      text(datePretty[dateIndex], x, 15);\n    } else {\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2324
  },
  {
    "chunk_full": "142\n|\nChapter 5: Connections and Correlations\n      // If this is a viewable date, make the line darker.\n      if ((i >= minDateIndex) && (i <= maxDateIndex)) {\n        stroke(128); // Viewable date\n      } else {\n        stroke(204); // Not a viewable date\n      }\n      line(x, 0, x, 7);\n    }\n  }\n}\nvoid setDate(int index) {\n  dateIndex = index;\n  standings = season[dateIndex];\n  for (int i = 0; i < teamCount; i++) {\n    standingsPosition[i].target(standings.getRank(i));\n  }\n  // Re-enable the animation loop.\n  loop( );\n}\nvoid mousePressed( ) {\n  handleMouse( );\n}\nvoid mouseDragged( ) {\n  handleMouse( );\n}\nvoid handleMouse( ) {\n  if (mouseY < dateSelectorY) {\n    int date = (mouseX - dateSelectorX) / 2;\n    setDate(constrain(date, minDateIndex, maxDateIndex));\n  }\n}\nvoid keyPressed( ) {\n  if (key == CODED) {\n    if (keyCode == LEFT) {\n      int newDate = max(dateIndex - 1, minDateIndex);\n      setDate(newDate);\n    } else if (keyCode == RIGHT) {\n      int newDate = min(dateIndex + 1, maxDateIndex);\n      setDate(newDate);\n    }\n  }\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2325
  },
  {
    "chunk_full": "Deployment Considerations (Acquire, Parse, Filter)\n|\n143\n// . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\nclass SalaryList extends RankedList {\n  SalaryList(String[] lines) {\n    super(teamCount, false);\n    for (int i = 0; i < teamCount; i++) {\n      String pieces[] = split(lines[i], TAB);\n      // First column is the team's 2- or 3-digit team code.\n      int index = teamIndex(pieces[0]);\n      // Second column is the salary as a number.\n      value[index] = parseInt(pieces[1]);\n      // Make the title in the format $NN,NNN,NNN.\n      int salary = (int) value[index];\n      title[index] = \"$\" + nfc(salary);\n    }\n    update( );\n  }\n}\n// . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\nclass StandingsList extends RankedList {\n  StandingsList(String[] lines) {\n    super(teamCount, false);\n    for (int i = 0; i < teamCount; i++) {\n      String[] pieces = split(lines[i], TAB);\n      int index = teamIndex(pieces[0]);\n      int wins = parseInt(pieces[1]);\n      int losses = parseInt(pieces[2]);\n      value[index] = (float) wins / (float) (wins+losses);\n      title[index] = wins + \"\\u2013\" + losses;\n    }\n    update( );\n  }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2326
  },
  {
    "chunk_full": "144\n|\nChapter 5: Connections and Correlations\n  float compare(int a, int b) {\n    // First compare based on the record of both teams.\n    float amt = super.compare(a, b);\n    // If the record is not identical, return the difference.\n    if (amt != 0) return amt;\n    // If records are equal, use salary as tiebreaker.\n    // In this case, a and b are switched, because a higher\n    // salary is a negative thing, unlike the values above.\n    return salaries.compare(a, b);\n  }\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2327
  },
  {
    "chunk_full": "145\nChapter 6\nCHAPTER 6\nScatterplot Maps6\nIn this chapter, we cover the seven steps as laid out in Chapter 1 and apply them to\nthe question, “How do zip codes relate to geography?” (The background for this\nproject was introduced in Chapter 1.)\nPreprocessing\nData is always dirty, and once you’ve found your data set, you’ll need to clean it up.\nAs in the previous chapter, we’ll go through the steps of acquiring and parsing in\ndetail. None of this is rocket science, but again, it’s meant to familiarize you with the\nvarious formats in which you’ll find data, and alert you to some of the common\nissues you’ll encounter along the way. If you just want to start playing with locations\nand maps, you can download the finished zips.tsv file from the book web site (http://\nbenfry.com/writing/zipdecode/zips.tsv) and jump ahead to the next section.\nData from the U.S. Census Bureau (Acquire)\nThe acronym ZIP stands for Zoning Improvement Plan, a 1963 initiative to simplify\nthe delivery of mail in the United States. Personal correspondence, once the majority\nof all mail, was rapidly being overtaken by business mail, which by the 1960s\naccounted for 80% of the post. Faced with an ever-increasing amount of mail to pro-\ncess, the U.S. Postal Service initiated the zip system to specify more accurately the\ngeographic area of the mail’s destination. The U.S. Postal Service’s web site features\na lengthier history of the system at http://www.usps.com/history.\nVersions of the zip code database are available from a variety of sources. The data is\npublic and therefore freely available on government web sites. Government sites\noften contain a wealth of information for those willing to take the time to dig for it.\nThe terminology can sometimes be archaic and the documentation poor, so it often\ntakes a while to figure out exactly how things work. In the spirit of capitalism,\nresellers have jumped in to provide you with “value added” versions of the data.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2328
  },
  {
    "chunk_full": "146\n|\nChapter 6: Scatterplot Maps\nClearly, the term “value” varies widely—some companies are happy to charge your\ncredit card for the honor of their knowing the right search terms to use with Goo-\ngle, or of having clicked through the census bureau web site for you. Others sub-\nscribe to the official data from the U.S. Postal Service and curate a useful, working\ncopy of the data.\nFree services have also emerged, such as http://geocoder.us (described online and in\nO’Reilly’s Mapping Hacks by Schuyler Erle, Rich Gibson, and Jo Walsh), which\nmaintains a working data set as well as open source software that you can use to for-\nmulate zip code and address information.\nFor our purposes, we’ll use a listing from the U.S. Census Bureau, found at http://\nwww.census.gov/geo/www/tiger/zip1999.html. The data is outdated by a few years,\nbut it will be sufficient for our short-term purpose.\nThat page provides a link to a compressed archive (with the seemingly redundant\ntitle zip1999.zip) that contains a DBF file with the data set and a Microsoft Word\ndocument that describes each of the fields (columns) in the data set. (For informa-\ntion about DBF files, see Chapter 10.)\nBoth OpenOffice and Microsoft Excel can open a DBF file. OpenOffice might even\nregister the .dbf extension explicitly, but in Excel you’ll have to use the “All files”\noption in the File ➝ Open dialog box before the DBF file shows up.\nThe file contains approximately 42,000 lines, one for each zip code. The following is\na small sample:\nZIP_CODE  LATITUDE      LONGITUDE   ZIP_CLASS  PONAME          STATE    COUNTY\n95466    +39.056598    -123.525375             PHILO            06       045\n95468    +38.919145    -123.540572             POINT ARENA      06       045\n95469    +39.360935    -123.106751             POTTER VALLEY    06       045\n95470    +39.302446    -123.462532             REDWOOD VALLEY   06       045\n95471    +38.523472    -122.982142    P        RIO NIDO         06       097\n95472    +38.407222    -122.869654             SEBASTOPOL       06       097\n95473    +38.325851    -122.505846    P        SEBASTOPOL       06       097\n95476    +38.255943    -122.476819             SONOMA           06       097\n95480    +38.676694    -123.372059             STEWARTS POINT   06       097\n95481    +39.127247    -123.164533    P        TALMAGE          06       045\n95482    +39.403699    -123.321202             UKIAH            06       045\n95485    +39.252489    -122.856430             UPPER LAKE       06       033\n95486    +38.464487    -123.037996    P        VILLA GRANDE     06       097\n95487    +38.463088    -122.989975    P        VINEBURG         06       097\n95488    +39.660425    -123.786385             WESTPORT         06       045\n95490    +39.525958    -123.365730             WILLITS          06       045\n95492    +38.532827    -122.804100             WINDSOR          06       097\n95493    +39.185033    -122.965163             WITTER SPRINGS   06       033\n95494    +38.934552    -123.268378             YORKVILLE        06       045\n95497    +38.717318    -123.463976    P        THE SEA RANCH    06       097\n95501    +40.646324    -124.025773             EUREKA           06       023\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2329
  },
  {
    "chunk_full": "Preprocessing\n|\n147\nDealing with the Zip Code Database File (Parse and Filter)\nAfter opening the file with OpenOffice or Excel, save the file as tab-delimited (TSV)\nor comma-separated (CSV) values for easier parsing. For our purposes, we’ll save it\nas CSV (title it zipnov99.csv), resulting in a file whose first 10 lines look like:\n\"ZIP_CODE,C,5\",\"LATITUDE,C,11\",\"LONGITUDE,C,11\",\"ZIP_\nCLASS,C,1\",\"PONAME,C,28\",\"STATE,C,2\",\"COUNTY,C,3\"\n\"00210\",\" +43.005895\",\"-071.013202\",\"U\",\"PORTSMOUTH\",\"33\",\"015\"\n\"00211\",\" +43.005895\",\"-071.013202\",\"U\",\"PORTSMOUTH\",\"33\",\"015\"\n\"00212\",\" +43.005895\",\"-071.013202\",\"U\",\"PORTSMOUTH\",\"33\",\"015\"\n\"00213\",\" +43.005895\",\"-071.013202\",\"U\",\"PORTSMOUTH\",\"33\",\"015\"\n\"00214\",\" +43.005895\",\"-071.013202\",\"U\",\"PORTSMOUTH\",\"33\",\"015\"\n\"00215\",\" +43.005895\",\"-071.013202\",\"U\",\"PORTSMOUTH\",\"33\",\"015\"\n\"00501\",\" +40.922326\",\"-072.637078\",\"U\",\"HOLTSVILLE\",\"36\",\"103\"\n\"00544\",\" +40.922326\",\"-072.637078\",\"U\",\"HOLTSVILLE\",\"36\",\"103\"\nThe data in its current format is not quite ready to go. It is almost always the case that\nyou’ll need to do additional work to clean the data before it is ready to be included\nwith an application. Often, you’ll run the acquire stage and the parse and filter stages\ntwice, as we do in this chapter. With our zip code data, one can observe that:\n• The useful columns for our purposes are ZIP_CODE, LATITUDE, LONGITUDE, PONAME,\nand STATE. The ZIP_CLASS and COUNTY columns can be removed to save some disk\nspace (if we intend to run this locally) or download time (if we distribute this\napplication over the Web).\n• The STATE column is encoded as a FIPS (Federal Information Processing Stan-\ndards) number, which we’ll want to convert to a two-digit state abbreviation.\n• Not all of the data rows are necessary for our example. For the time being, we’ll\ncheat and use only the contiguous 48 states, omitting Alaska, Hawaii, and Amer-\nican territories.\n• While we’re at it, the city names are listed in ALL CAPS, which looks garish and\naggressive. It’s important to realize that this is a limitation of the particular data\nset, not all data of this kind. If we were to get a better zip code list, the names\nmight not be capitalized. As such, it’s better to clean the data first, rather than\ninclude a workaround for the problem in the final project. That is not to say that\nwe should be obsessed with generalization (see the discussion of “sketching” in\nChapter 2), but this is a case where the generalization doesn’t cost us anything in\nterms of time or efficiency.\n• Excel and OpenOffice tend to introduce a lot of extra rubbish, such as unneces-\nsary quotes, into TSV files. (To be fair, OpenOffice allows you to tweak these\nparameters, though the nomenclature for the export interface can be confusing.)\n• Because latitude and longitude values reflect points on a globe, a projection will\nbe used to convert the coordinates to positions that more closely resemble how\nthe United States are typically portrayed (slightly curved at the top, rather than\nfollowing a latitude line straight across).\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2330
  },
  {
    "chunk_full": "148\n|\nChapter 6: Scatterplot Maps\n• We’ll need to know the range of latitudes and longitudes in order to plot them in\na proper range to the screen. For this, we’ll keep track of the minimum and max-\nimum values after they’ve been projected.\n• Because downloading the zip codes from the network may take some time, the\nfile will also specify the number of total lines, so that we can calculate progress\nduring the download.\nEach of these issues is easy to handle. We’ll simply write a short bit of code to turn our\ndata into a more usable and compact format. Addressing each issue is straightforward:\n1. We’ll make a second version of the data file that leaves out the unnecessary col-\numns. By placing constants at the beginning of the code for each of the columns,\nwe’ll make the code easier to follow because arrayName[LONGITUDE] is more self-\nexplanatory than arrayName[2].\n// Indices for each of the columns\nint ZIP_CODE = 0;\nint LATITUDE = 1;\nint LONGITUDE = 2;\nint ZIP_CLASS = 3;\nint PONAME = 4;\nint STATE_FIPS = 5;\nint COUNTY = 6;\n2. In the second file, the FIPS code will be replaced with a two-letter state\nabbreviation. The codes can be found at the Federal Information Processing Stan-\ndards site, specifically Publication 5-2: http://www.itl.nist.gov/fipspubs/fip5-2.htm.\nA clean version of this data is available from the book web site at http://benfry.\ncom/writing/zipdecode/fips.tsv. For the curious, the clean version was created by\nsaving the HTML file, opening it with OpenOffice, copying the data from the\nstate tables, and pasting it into a blank spreadsheet file. The file was then saved\nas TSV by selecting the “Text CSV (.csv)” option, and in the “Export of text\nfiles” dialog box, setting the “Field delimiter” to “{Tab}” (which can be chosen\nfrom the drop-down list) and the “Text delimiter” to nothing.\nThe following code loads the fips.tsv file and places it into a Hashtable so that we\ncan look up individual values. With this in place, fipsTable.get( ) will provide\nthe state abbreviation for any FIPS code value.\n  // Load the state FIPS codes into a table.\n  Hashtable fipsTable = new Hashtable( );\n  String[] fipsLines = loadStrings(\"fips.tsv\");\n  for (int i = 0; i < fipsLines.length; i++) {\n    // Split each line on the tab characters.\n    String[] pieces = split(fipsLines[i], TAB);\n    // The FIPS code is in column 1,\n    // and the state abbreviation in column 2\n    // (keep in mind that columns are numbered from zero).\n    fipsTable.put(pieces[1], pieces[2]);\n  }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2331
  },
  {
    "chunk_full": "Preprocessing\n|\n149\nThe clean version also omits the first 0 in each code to match the two-digit codes\nused in the zipsnov99.csv file. If each FIPS code were converted to an integer,\nthis wouldn’t be necessary, but storing this field as integer data is not worth-\nwhile. It is tedious to convert (and later restore) the integer values, and not really\nnecessary when String objects will work fine and save a few steps.\n3. Gleaning the contiguous 48 states from the full list is a straightforward task.\nOther territories have been left out of fips.tsv, meaning that if no state abbrevia-\ntion is found for a code, it can be skipped. Cutting out Alaska and Hawaii is also\na matter of skipping lines whose FIPS code maps to AK or HI. Inside the for( )\nloop, the code will look like this:\n    String stateAbbrev = (String) fipsTable.get(data[STATE_FIPS]);\n    // If the abbreviation was not found, skip this line,\n    // because that means it's an outlying territory.\n    if (stateAbbrev == null) continue;\n    // For now, skip Alaska and Hawaii.\n    if (stateAbbrev.equals(\"AK\") || stateAbbrev.equals(\"HI\")) continue;\n4. For the city names (the PONAME column), we can capitalize just the first letter of\neach word, which isn’t perfect, but it’s better than shouting all the time. Further,\nbecause the city and state abbreviation are always used together (e.g., “Sebasto-\npol, CA”), that information can go into a single column. That also gives us more\nflexibility if we want to use a different data set, such as the postal codes for Ger-\nmany or Australia—which don’t specify locations the same way as the U.S. but\nhave similar numbering systems.\nThe following code is a general-purpose method that takes a String as input,\nbreaks it into individual characters, and then capitalizes the characters that fol-\nlow spaces (while making all other characters lowercase).\n// Capitalize the first letter of each word in a string.\nString fixCapitals(String title) {\n  char[] text = title.toCharArray( );\n  // If set to true, the next letter will be capitalized.\n  boolean capitalizeNext = true;\n  for (int i = 0; i < text.length; i++) {\n    if (Character.isSpace(text[i])) {\n      capitalizeNext = true;\n    } else if (capitalizeNext) {\n      text[i] = Character.toUpperCase(text[i]);\n      capitalizeNext = false;\n    } else {\n      text[i] = Character.toLowerCase(text[i]);\n    }\n  }\n  return new String(text);\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2332
  },
  {
    "chunk_full": "150\n|\nChapter 6: Scatterplot Maps\nIf you are dealing with an enormous amount of data and know for a fact that your\ndata is simply ASCII, other tricks can be used to capitalize more quickly than the\nCharacter.toUpperCase( ) and Character.toLowerCase( ) functions (which take\ninto account Unicode capitalization).\n5. Extraneous quotes and commas can be thrown out, converting the information\nto a more minimal TSV file. More background regarding CSV and TSV files\n(including an explanation for the quotes and commas) can be found in\nChapter 10. This conversion is handled with a scrubQuotes( ) function:\n// Parse quotes from CSV data. Quotes around a column are common,\n// and actual double quotes (\") are specified by two double quotes (\"\").\nvoid scrubQuotes(String[] array) {\n  for (int i = 0; i < array.length; i++) {\n    if (array[i].length( ) > 2) {\n      // Remove quotes at start and end, if present.\n      if (array[i].startsWith(\"\\\"\") && array[i].endsWith(\"\\\"\")) {\n        array[i] = array[i].substring(1, array[i].length( ) - 1);\n      }\n    }\n    // Make double quotes into single quotes.\n    array[i] = array[i].replaceAll(\"\\\"\\\"\", \"\\\"\");\n  }\n}\n6. The Albers Equal-Area Conic is a useful projection when dealing with the United\nStates. Several different map projections applied to the U.S. can be seen on the\nU.S.\nGeological\nSurvey’s\nweb\nsite\nat\nhttp://erg.usgs.gov/isb/pubs/booklets/\nmapsofus/mapsofus.html. In our case, the specifics of the chosen projection can\nbe found on the helpful MathWorld web site run by Wolfram Research. The fol-\nlowing code is an adaptation of the algorithm found at http://mathworld.\nwolfram.com/AlbersEqual-AreaConicProjection.html:\n    // USGS uses standard parallels at 45.5˚N and 29.5˚N\n    // with a central meridian value of 96˚W.\n    // Latitude value is phi, longitude is lambda.\n    float phi0 = 0;\n    float lambda0 = radians(-96);\n    float phi1 = radians(29.5f);\n    float phi2 = radians(45.5f);\n    float phi = radians(lat);\n    float lambda = radians(lon);\n    float n = 0.5f * (sin(phi1) + sin(phi2));\n    float theta = n * (lambda - lambda0);\n    float c = sq(cos(phi1)) + 2*n*sin(phi1);\n    float rho = sqrt(c - 2*n*sin(phi)) / n;\n    float rho0 = sqrt(c - 2*n*sin(phi0)) / n;\n    float x = rho * sin(theta);\n    float y = rho0 - rho*cos(theta);\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2333
  },
  {
    "chunk_full": "Preprocessing\n|\n151\n7. As the preprocessor runs, we can keep a running account of the minimum and\nmaximum ranges for the coordinates in question. That is done by setting the\nmaximum arbitrarily small and the minimum arbitrarily high:\nfloat minX = MAX_FLOAT;\nfloat maxX = MIN_FLOAT;\nfloat minY = MAX_FLOAT;\nfloat maxY = MIN_FLOAT;\nand checking the values on each iteration through the loop:\nif (x > maxX) maxX = x;\nif (x < minX) minX = x;\nif (y > maxY) maxY = y;\nif (y < minY) minY = y;\nThe values will be written to the preprocessor output file so that the boundaries\nof the shape are known before the file has finished loading in the interactive\napplet. That allows us to show points as they load from the network, which also\nserves as a indicator of the progress of the file download.\n8. To keep track of the number of locations, the placeCount variable is incre-\nmented as each new location is parsed.\nBuilding the Preprocessor\nOpen Processing and start a new sketch. Add the fips.tsv file to your sketch by drag-\nging it into the editor window or selecting Sketch.\nPulling all these steps together, the preprocessor code appears as the following:\n// Indices for each of the columns\nint ZIP_CODE = 0;\nint LATITUDE = 1;\nint LONGITUDE = 2;\nint ZIP_CLASS = 3;\nint PONAME = 4;\nint STATE_FIPS = 5;\nint COUNTY = 6;\nvoid setup( ) {\n  // Load the state FIPS codes into a table.\n  Hashtable fipsTable = new Hashtable( );\n  String[] fipsLines = loadStrings(\"fips.tsv\");\n  for (int i = 0; i < fipsLines.length; i++) {\n    // Split each line on the tab characters.\n    String[] pieces = split(fipsLines[i], TAB);\n    // The FIPS code is in column 1,\n    // and the state abbreviation in column 2\n    // (keep in mind that columns are numbered from zero).\n    fipsTable.put(pieces[1], pieces[2]);\n  }\n  String[] lines = loadStrings(\"zipnov99.csv\");\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2334
  },
  {
    "chunk_full": "152\n|\nChapter 6: Scatterplot Maps\n  // Set the minimum and maximum values arbitrarily large.\n  float minX = 1;\n  float maxX = -1;\n  float minY = 1;\n  float maxY = -1;\n  // Set up an array for the cleaned data.\n  String[] cleaned = new String[lines.length];\n  // Number of cleaned entries found\n  int placeCount = 0;\n  // Start at row 1, because the first row is the column titles.\n  for (int row = 1; row < lines.length; row++) {\n    // Split the row into pieces on each comma.\n    String[] data = split(lines[row], ',');\n    scrubQuotes(data);\n    // Remove extra whitespace on either side of each column.\n    data = trim(data);\n    String stateAbbrev = (String) fipsTable.get(data[STATE_FIPS]);\n    // If the abbreviation was not found, skip this line,\n    // because that means it's an outlying territory.\n    if (stateAbbrev == null) continue;\n    // For now, also skip Alaska and Hawaii.\n    if (stateAbbrev.equals(\"AK\") || stateAbbrev.equals(\"HI\")) continue;\n    // Attempt to fix the capitalization of the city/town name.\n    String placeName = fixCapitals(data[PONAME]) + \", \" + stateAbbrev;\n    float lat = float(data[LATITUDE]);\n    float lon = float(data[LONGITUDE]);\n\\\n    // Albers equal-area conic projection.\n    // USGS uses standard parallels at 45.5˚N and 29.5˚N\n    // with a central meridian value of 96˚W.\n    // Latitude value is phi, longitude is lambda.\n    float phi0 = 0;\n    float lambda0 = radians(-96);\n    float phi1 = radians(29.5f);\n    float phi2 = radians(45.5f);\n    float phi = radians(lat);\n    float lambda = radians(lon);\n    float n = 0.5f * (sin(phi1) + sin(phi2));\n    float theta = n * (lambda - lambda0); //radians(lon - lambda0);\n    float c = sq(cos(phi1)) + 2*n*sin(phi1);\n    float rho = sqrt(c - 2*n*sin(phi)) / n;\n    float rho0 = sqrt(c - 2*n*sin(phi0)) / n;\n    float x = rho * sin(theta);\n    float y = rho0 - rho*cos(theta);\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2335
  },
  {
    "chunk_full": "Preprocessing\n|\n153\n    if (x > maxX) maxX = x;\n    if (x < minX) minX = x;\n    if (y > maxY) maxY = y;\n    if (y < minY) minY = y;\n    // Add a cleaned version of the line, separated by tabs, to the list.\n    cleaned[placeCount++] = data[ZIP_CODE] + \"\\t\" +\n                            x + \"\\t\"\n                            y + \"\\t\"\n                            placeName;\n  }\n  // Write to a file called \"zips.tsv\" in the sketch folder.\n  PrintWriter tsv = createWriter(\"zips.tsv\");\n  // Use the first line to specify the number of data points in the file,\n  // along with the minimum and maximum latitude and longitude coordinates.\n  // Use a # to mark the line as different from the other data.\n  tsv.println(\"# \" + placeCount +\n              \",\" + minX + \",\" + maxX + \",\" + minY + \",\" + maxY);\n  // Write each line of the cleaned data.\n  for (int i = 0; i < placeCount; i++) {\n    tsv.println(cleaned[i]);\n  }\n  // Flush and close the file buffer.\n  tsv.flush( );\n  tsv.close( );\n  // Finished; quit the program.\n  println(\"Finished.\");\n  exit( );\n}\n// Parse quotes from CSV or TSV data. Quotes around a column are common,\n// and actual double quotes (\") are specified by two double quotes (\"\").\nvoid scrubQuotes(String[] array) {\n  for (int i = 0; i < array.length; i++) {\n    if (array[i].length( ) > 2) {\n      // Remove quotes at start and end, if present.\n      if (array[i].startsWith(\"\\\"\") && array[i].endsWith(\"\\\"\")) {\n        array[i] = array[i].substring(1, array[i].length( ) - 1);\n      }\n    }\n    // Make double quotes into single quotes.\n    array[i] = array[i].replaceAll(\"\\\"\\\"\", \"\\\"\");\n  }\n}\n// Capitalize the first letter of each word in a string.\nString fixCapitals(String title) {\n  char[] text = title.toCharArray( );\n  // If set to true, the next letter will be capitalized.\n  boolean capitalizeNext = true;\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2336
  },
  {
    "chunk_full": "154\n|\nChapter 6: Scatterplot Maps\n  for (int i = 0; i < text.length; i++) {\n    if (Character.isSpace(text[i])) {\n      capitalizeNext = true;\n    } else if (capitalizeNext) {\n      text[i] = Character.toUpperCase(text[i]);\n      capitalizeNext = false;\n    } else {\n      text[i] = Character.toLowerCase(text[i]);\n    }\n  }\n  return new String(text);\n}\nThe resulting file is much easier on the eyes and far simpler to parse in our next step:\n# 41556,-0.3667764,0.35192886,0.4181981,0.87044954\n00210    0.3135056    0.7633538    Portsmouth, NH\n00211    0.3135056    0.7633538    Portsmouth, NH\n00212    0.3135056    0.7633538    Portsmouth, NH\n00213    0.3135056    0.7633538    Portsmouth, NH\n00214    0.3135056    0.7633538    Portsmouth, NH\n00215    0.3135056    0.7633538    Portsmouth, NH\n00501    0.30247012   0.7226447    Holtsville, NY\n00544    0.30247012   0.7226447    Holtsville, NY\n01001    0.29536617   0.742954     Agawam, MA\n01002    0.29843047   0.7478273    Amherst, MA\n01003    0.29629046   0.74733305   Amherst, MA\n01004    0.29775193   0.7479712    Amherst, MA\n01005    0.302632     0.7482096    Barre, MA\n01007    0.29958177   0.7465452    Belchertown, MA\n01008    0.29309207   0.7430645    Blandford, MA\n01009    0.30066824   0.74547637   Bondsville, MA\n01010    0.302785     0.74424756   Brimfield, MA\n01011    0.29267046   0.74506783   Chester, MA\n01012    0.29383755   0.74713147   Chesterfield, MA\n01013    0.29678938   0.74368894   Chicopee, MA\n01014    0.29752877   0.7440418    Chicopee, MA\n01020    0.29802647   0.74428964   Chicopee, MA\nWhat about a binary data ﬁle or a database?\nOf course, one could pack the data into a more sophisticated binary format so that it\nwould be an even smaller file. I’ll leave that as an exercise for the reader. Unless the\nneed for space and speed is acute, I prefer to avoid dealing with binary formats. Deal-\ning with such data is tricky because you can’t just open a binary file in a text editor\nto see what’s going on. A text file can be run compressed with GZIP and read as a\nstream, and often is in the neighborhood of the size of a binarized version of the\ndata, while retaining the convenience of text.\nJava’s serialization capabilities are another possibility for storing the data. Serializa-\ntion allows you to write the contents of the current state of a Java object to the disk;\nit’s a “just add water” approach to storing information from a Java application to be\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2337
  },
  {
    "chunk_full": "Loading the Data (Acquire and Parse)\n|\n155\nretrieved next time the application is run. Unfortunately, serialization tends to be\nslower than actually parsing simple information. Furthermore, you have to avoid\nchanging the structure of your Java class because it would mean rewriting the serial-\nized version of the data. No thanks.\nWhenever considering a “lot” of data, people tend to start thinking “database” right\naway. But even though there are almost 42,000 zip code records, entering them into\na database is excessive—the data is only 2–3 megabytes—and a database would also\nprevent the sort of immediate interaction we want as the user types a postal code.\nThis will happen in many scenarios, where shoving the data into RAM is so much\nmore expedient (and helps improve the interaction to such an extent) that databases\nshould be avoided until absolutely necessary. Even in cases where the data might be\na few gigabytes, clever use of subsets of the data can help the additional work to set\nup a database.\nLoading the Data (Acquire and Parse)\nFire up Processing, start a new sketch, and add the cleaned version of zips.tsv to the\nsketch.\nWe start with constants that define the indices for each column:\n// column numbers in the data file\nstatic final int CODE = 0;\nstatic final int X = 1;\nstatic final int Y = 2;\nstatic final int NAME = 3;\nThe main tab of each sketch is represented by Processing as a class. A single location\nwill be defined using a second class named Place. To create this class, use the arrow\nlocated at the righthand side of the tab bar and select New Tab from the pop-up\nmenu. Name the tab Place. For now, the class has a simple constructor and only\nkeeps track of the name, zip code, and coordinates for each location:\nclass Place {\n  int code;\n  String name;\n  float x;\n  float y;\n  public Place(int code, String name, float x, float y) {\n    this.code = code;\n    this.name = name;\n    this.x = x;\n    this.y = y;\n  }\n}\nBack in the main tab, a few variables are necessary to keep track of the number of\ntotal places, the number loaded, and the objects themselves:\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2338
  },
  {
    "chunk_full": "156\n|\nChapter 6: Scatterplot Maps\nint totalCount; // total number of places\nPlace[] places;\nint placeCount; // number of places loaded\nThe placeCount and totalCount variables are separate because one will be used to\nallocate room for the total number of locations, and the other will keep track of how\nmany have been loaded so far from the data source. This becomes more important\nlater, when we will load the data asynchronously.\nThe filtering process has already covered the preprocessing step, and the only thing\nresembling mining for this project was handled when we calculated the values for the\nminimum and maximum coordinates in the preprocessing step:\n// min/max boundary of all points\nfloat minX, maxX;\nfloat minY, maxY;\nNow the zips.tsv file can be parsed in a straightforward fashion. Because we’ve\nalready cleaned the data, there’s no additional code to validate individual rows or to\nrid gremlins from the columns. The readData( ) method orchestrates the data acqui-\nsition and parsing. The parseInfo( ) method reads the header line from the file, and\nparsePlace( ) converts a single line of the data file into a Place object:\npublic void setup( ) {\n  readData( );\n}\nvoid readData( ) {\n  String[] lines = loadStrings(\"zips.tsv\");\n  parseInfo(lines[0]); // read the header line\n  places = new Place[totalCount];\n  for (int i = 1; i < lines.length; i++) {\n    places[placeCount] = parsePlace(lines[i]);\n    placeCount++;\n  }\n}\nvoid parseInfo(String line) {\n  String infoString = line.substring(2); // remove the #\n  String[] infoPieces = split(infoString, ',');\n  totalCount = int(infoPieces[0]);\n  minX = float(infoPieces[1]);\n  maxX = float(infoPieces[2]);\n  minY = float(infoPieces[3]);\n  maxY = float(infoPieces[4]);\n}\nPlace parsePlace(String line) {\n  String pieces[] = split(line, TAB);\n  int zip = int(pieces[CODE]);\n  float x = float(pieces[X]);\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2339
  },
  {
    "chunk_full": "Drawing a Scatterplot of Zip Codes (Mine and Represent)\n|\n157\n  float y = float(pieces[Y]);\n  String name = pieces[NAME];\n  return new Place(zip, name, x, y);\n}\nRunning this program is not particularly satisfying; if everything is working prop-\nerly, nothing will happen when the sketch runs.\nDrawing a Scatterplot of Zip Codes (Mine and\nRepresent)\nAfter parsing your data, you must give some consideration to how the data is\nmapped to the screen. The x and y coordinates from the data file do not correspond\nto locations on the screen, so the map( ) function is used to remap them to a useful\ncoordinate space. As with previous examples, we’ll set up coordinates for the bound-\ning box where the map should be drawn. A modified setup( ) method sets the values\nin slightly from the width and height of the plot:\n// Border of where the map should be drawn on screen\nfloat mapX1, mapY1;\nfloat mapX2, mapY2;\npublic void setup( ) {\n  size(720, 453, P3D);\n  mapX1 = 30;\n  mapX2 = width - mapX1;\n  mapY1 = 20;\n  mapY2 = height - mapY1;\n  readData( );\n}\nNext, add a method named draw( ) to the Place class to draw a single location:\n  void draw( ) {\n    int xx = (int) TX(x);\n    int yy = (int) TY(y);\n    set(xx, yy, #000000);\n  }\nAnd back in the host application, add an umbrella draw( ) method that will handle\ncalling the draw( ) method for each place. In addition, functions named TX( ) and TY( )\n(for transform x and y) handle calling map( ) to map the points to the screen:\npublic void draw( ) {\n  background(255);\n  for (int i = 0; i < placeCount; i++) {\n    places[i].draw( );\n  }\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2340
  },
  {
    "chunk_full": "158\n|\nChapter 6: Scatterplot Maps\nfloat TX(float x) {\n  return map(x, minX, maxX, mapX1, mapX2);\n}\nfloat TY(float y) {\n  return map(y, minY, maxY, mapY2, mapY1);\n}\nRunning this version of the code plots thousands of locations. It essentially yields a\npopulation density map of the United States because higher populated areas have\nmore postal codes; see Figure 6-1.\nHighlighting Points While Typing (Reﬁne and Interact)\nReturning to the questions that started this chapter, the focus is now to add interac-\ntion so that users can explore how the postal codes relate to geography. The user will\nbe asked to type a series of digits, and as she types each digit, locations will light or\ndim based on whether they are part of a zip code typed so far. For instance, typing 0\nand then 2 will dim any locations not part of 02XXX.\nThe refinement stage begins with choosing a set of colors. First, we choose a better\nbackground than white, followed by an initial color that the map will have when no\nnumbers have been typed. After that, we choose colors that highlight locations\nwhose codes include the numbers already typed, and an additional color to indicate\nwhen there are no available zip codes that use the digits typed so far:\nFigure 6-1. Geographic locations of postal zip codes\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2341
  },
  {
    "chunk_full": "Highlighting Points While Typing (Refine and Interact)\n|\n159\ncolor backgroundColor    = #333333; // dark background color\ncolor dormantColor       = #999966; // initial color of the map\ncolor highlightedColor   = #CBCBCB; // color for selected points\ncolor unhighlightedColor = #66664C; // color for points that are not selected\ncolor badColor           = #FFFF66; // text color when nothing found\nA font is needed for the text we use to provide the user with feedback on what she\nhas typed so far. The typedChars array will contain letters typed, and typedCount\nkeeps track of the number of digits entered. The messageX and messageY values will be\nthe location where the text should be drawn, and foundCount will be the number of\nlocations currently selected. The typedPartials variable is used to make selection fast\n(more about this later):\nPFont font;\nString typedString = \"\";\nchar typedChars[] = new char[5];\nint typedCount;\nint typedPartials[] = new int[6];\nfloat messageX, messageY;\nint foundCount;\nInside setup( ), add the following lines to load the font and set the message text loca-\ntion. Use Tools ➝Create Font to replace ScalaSans-Regular-14.vlw with the name of\nthe font that you create. The textMode(SCREEN) line specifies that the text be drawn at\nits original size, in screen space (no transformations):\n  font = loadFont(\"ScalaSans-Regular-14.vlw\");\n  textFont(font);\n  textMode(SCREEN);\n  messageX = 40;\n  messageY = height - 40;\nThe letters typed by the user are handled by a keyPressed( ) method, along with an\nadditional method that is called whenever changes are made to the current selection:\nvoid keyPressed( ) {\n  if ((key == BACKSPACE) || (key == DELETE)) {\n    if (typedCount > 0) {\n      typedCount--;\n    }\n    updateTyped( );\n  } else if ((key >= '0') && (key <= '9')) {\n    if (typedCount != 5) { // Stop at 5 digits.\n      if (foundCount > 0) { // If nothing found, ignore further typing.\n        typedChars[typedCount++] = key;\n      }\n    }\n  }\n  updateTyped( );\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2342
  },
  {
    "chunk_full": "160\n|\nChapter 6: Scatterplot Maps\nvoid updateTyped( ) {\n  typedString = new String(typedChars, 0, typedCount);\n  typedPartials[typedCount] = int(typedString);\n  for (int j = typedCount-1; j > 0; --j) {\n    typedPartials[j] = typedPartials[j + 1] / 10;\n  }\n  foundCount = 0;\n  for (int i = 0; i < placeCount; i++) {\n    // Update boundaries of selection\n    // and identify whether a particular place is chosen.\n    places[i].check( );\n  }\nInside updateTyped, the typedString value is updated by creating a new String object\nfrom the typedChars array, one that’s based on the number of characters that have\nbeen typed so far. The typedPartials array divides each zip code by 10. For instance,\nwhen the user types 15232, println(typedPartials) produces:\n[0] 0\n[1] 1\n[2] 15\n[3] 152\n[4] 1523\n[5] 15232\nThis creates a quick way to see how well each location matches. The Place class\nincludes a lot of work to handle the new changes:\nclass Place {\n  int code;\n  String name;\n  float x;\n  float y;\n  int partial[];\n  int matchDepth;\n  public Place(int code, String name, float x, float y) {\n    this.code = code;\n    this.name = name;\n    this.x = x;\n    this.y = y;\n    partial = new int[6];\n    partial[5] = code;\n    partial[4] = partial[5] / 10;\n    partial[3] = partial[4] / 10;\n    partial[2] = partial[3] / 10;\n    partial[1] = partial[2] / 10;\n  }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2343
  },
  {
    "chunk_full": "Highlighting Points While Typing (Refine and Interact)\n|\n161\n  void check( ) {\n    // Default to zero levels of depth that match\n    matchDepth = 0;\n    if (typedCount != 0) {\n      // Start from the greatest depth, and work backwards to see how many\n      // items match. Want to figure out the maximum match, so better to\n      // begin from the end.\n      for (int j = typedCount; j > 0; --j) {\n        if (typedPartials[j] == partial[j]) {\n          matchDepth = j;\n          break; // Since starting at end, can stop now.\n        }\n      }\n    }\n    if (matchDepth == typedCount) {\n      foundCount++;\n    }\n  }\n  void draw( ) {\n    int xx = (int) TX(x);\n    int yy = (int) TY(y);\n    color c = dormantColor;\n    if (typedCount != 0) {\n      if (matchDepth == typedCount) {\n        c = highlightedColor;\n      } else {\n        c = unhighlightedColor;\n      }\n    }\n    set(xx, yy, c);\n  }\n}\nThe check( ) method calculates whether a point is selected and increments the\nfoundCount variable to keep track of how many locations are still valid. Inside draw( ),\na point can be one of three colors: the dormantColor when nothing has been typed,\nthe highlightedColor when the point matches, and the unhighlightedColor when the\npoint does not match.\nThe new version of the code answers our initial question and makes it easy to com-\npare regions against one another by typing different numbers. Typing 4 as the first\ndigit produces the image shown in Figure 6-2.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2344
  },
  {
    "chunk_full": "162\n|\nChapter 6: Scatterplot Maps\nShow the Currently Selected Point (Reﬁne)\nWhen five digits have been typed, the point should appear different and include the\ntext for the location’s name. In this section, we’ll show the location of a fully typed-\nout, five-digit zip code as a rectangle and add text to its upper-right corner that\nnames the location. That is done with the drawChosen( ) method:\n  void drawChosen( ) {\n    noStroke( );\n    fill(highlightColor);\n    int size = 4;\n    rect(TX(x), TY(y), size, size);\n    // Calculate position to draw the text, offset slightly from the main point.\n    float textX = TX(x);\n    float textY = TY(y) - size - 4;\n    // Don't go off the top (e.g., 59544).\n    if (textY < 20) {\n      textY = TY(y) + 20;\n    }\nFigure 6-2. Selecting a region of zip codes\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2345
  },
  {
    "chunk_full": "Show the Currently Selected Point (Refine)\n|\n163\n    // Don't run off the bottom (e.g., 33242).\n    if (textY > height - 5) {\n      textY = TY(y) - 20;\n    }\n    String location = name + \" \" + nf(code, 5);\n    float wide = textWidth(location);\n    if (textX > width/3) {\n      textX -= wide + 8;\n    } else {\n      textX += 8;\n    }\n    textAlign(LEFT);\n    fill(highlightColor);\n    text(location, textX, textY);\n  }\n}\nBecause the text will be shown adjacent to the point, it’s necessary to also make sure\nthat the text does not leave the edge of the screen. The middle lines of the method\ncover this logic.\nIn the main tab, a variable named chosen keeps track of the current Place object (if\nany):\nPlace chosen;\nThe chosen point is drawn with a rectangle. To center it, add the following line to\nsetup( ):\n  rectMode(CENTER);\nThe following modifications to draw( ) carry out the extra step to draw the chosen\npoint:\npublic void draw( ) {\n  background(backgroundColor);\n  for (int i = 0; i < placeCount; i++) {\n    places[i].draw( );\n  }\n  if (typedCount != 0) {\n    if (foundCount > 0) {\n      if (typedCount == 4) {\n        // Redraw the chosen ones, because they're often occluded\n        // by the non-selected points.\n        for (int i = 0; i < placeCount; i++) {\n          if (places[i].matchDepth == typedCount) {\n            places[i].draw( );\n          }\n        }\n      }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2346
  },
  {
    "chunk_full": "164\n|\nChapter 6: Scatterplot Maps\n      if (chosen != null) {\n        chosen.drawChosen( );\n      }\n      fill(highlightColor);\n      textAlign(LEFT);\n      text(typedString, messageX, messageY);\n    } else {\n      fill(badColor);\n      text(typedString, messageX, messageY);\n    }\n  }\n}\nAnd in updateTyped( ), chosen should be set to null after foundCount is set to 0, which\nresets the current selection whenever typing occurs.\nThe result is shown in Figure 6-3.\nFigure 6-3. Special handling of a full five-digit user entry\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2347
  },
  {
    "chunk_full": "Progressively Dimming and Brightening Points (Refine)\n|\n165\nProgressively Dimming and Brightening Points (Reﬁne)\nIn the previous examples, typing makes the screen update instantaneously, which\ncan be disorienting for users trying to compare different areas. In Chapter 3, the\nIntegrator class was used to create a more gradual interpolation between two data\nvalues. For this chapter, a class called ColorIntegrator does the same, but interpo-\nlates between two colors. Instead of a float, the ColorIntegrator.target( ) method\ntakes a color (in web color format, or created with the color( ) function). Both\nclasses can be downloaded from the book’s site at:\nhttp://benfry.com/writing/zipdecode/Integrator.java\nhttp://benfry.com/writing/zipdecode/ColorIntegrator.java\nTo handle a smooth interpolation, a set of six ColorIntegrator objects are used, one\nfor each possible number typed plus an initial value for cases in which no digits are\ntyped. When no digits have been typed, faders[0] is used to determine the color.\nWhen the user begins typing, all points that match one digit are drawn with the color\nfrom faders[1]. All points that match two digits are drawn with faders[2], and so\non. For instance, as the user types 021, the following occurs:\n• With no digits typed, all points are drawn with the color value in faders[0].\nInside setup( ), faders[0] is set to unhighlightedColor, but its target( ) method\nis set to dormantColor, a pale yellow. This has the effect of fading all the points\nfrom the duller unhighlightedColor into the brighter dormantColor. This effect\nhas no functional purpose, but letting the points fade in is more pleasing than\nmaking 42,000 points appear instantaneously.\n• When the user presses 0, faders[1] is told through its target( ) method to tar-\nget highlightedColor, which causes the points that match to transition gradually\nfrom their previous color to highlightedColor. In the same code sequence,\nfaders[0] is set to target unhighlightedColor, causing all points that don’t match\nthe user’s 0 to begin fading out. All points that match the first digit are drawn\nusing faders[1], and all points that match zero digits are drawn with faders[0].\n• When the user presses 2 (so that the screen now reads 02), faders[2] is set to tar-\nget highlightedColor, whereas faders[0] and faders[1] are set to target\nunhighlightedColor. faders[0] has probably already reached its target value of\nunhighlightedColor, and faders[1] will arrive shortly.\nEach fader is handled individually because the transition from one set of points to\nanother may overlap. That is, if the user presses a first digit, a set of points begins to\ndim. Those points may not have dimmed completely when the next digit is typed.\nSeparate ColorIntegrator objects support the overlap by independently handling\neach transition.\nThe array of ColorIntegrator objects is created as a global variable:\nColorIntegrator faders[];\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2348
  },
  {
    "chunk_full": "166\n|\nChapter 6: Scatterplot Maps\nThe objects are created inside setup( ):\n  faders = new ColorIntegrator[6];\n  // When nothing is typed, all points are shown with a color called\n  // \"dormant,\" which is brighter than when not highlighted, but\n  // not as bright as the highlight color for a selection.\n  faders[0] = new ColorIntegrator(unhighlightedColor);\n  faders[0].setAttraction(0.5);\n  faders[0].target(dormantColor);\n  for (int i = 1; i < 6; i++) {\n    faders[i] = new ColorIntegrator(unhighlightedColor);\n    faders[i].setAttraction(0.5);\n    faders[i].target(highlightedColor);\n  }\nAs with any time animation, it is a good idea to use frameRate( ) to ensure that the\ntransitions behave identically on faster or slower machines:\nframeRate(15);\nNext, add an updateAnimation( ) method that updates the value for each fader:\nvoid updateAnimation( ) {\n  for (int i = 0; i < 6; i++) {\n    faders[i].update( );\n  }\n}\nCall this method at the beginning of draw( ).\nThe fading values are handled in updateTyped( ) by targeting the highlightedColor or\nunhighlightedColor based on how many digits have been typed so far:\nvoid updateTyped( ) {\n  typedString = new String(typedChars, 0, typedCount);\n    if (typedCount == 0) {\n      faders[0].target(dormantColor);\n  } else {\n    // Un-highlight areas already typed past.\n    for (int i = 0; i < typedCount; i++) {\n      faders[i].target(unhighlightedColor);\n    }\n    // Highlight remaining points that match what's typed.\n    for (int i = typedCount; i < 6; i++) {\n      faders[i].target(highlightedColor);\n    }\n  }\n  typedPartials[typedCount] = int(typedString);\n  for (int j = typedCount-1; j > 0; --j) {\n    typedPartials[j] = typedPartials[j + 1] / 10;\n  }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2349
  },
  {
    "chunk_full": "Zooming In (Interact)\n|\n167\n  foundCount = 0;\n  chosen = null;\n  for (int i = 0; i < placeCount; i++) {\n    // Update boundaries of selection\n    // and identify whether a particular place is chosen.\n    places[i].check( );\n  }\n}\nInside the draw( ) method for Place, the color value is now set based on how far\nthings have faded for the depth at which the location matches:\n    set(xx, yy, faders[matchDepth].value);\nFor instance, if four digits have been typed but this location possesses only the first\ntwo, the color of this point will be based on how bright or dim the faders[2] ele-\nment is.\nYou will have to try the code directly to see for yourself; the result is difficult to show\nin a figure because it involves a subtle fading effect.\nZooming In (Interact)\nBecause interaction in our zip code example involves honing in on an ever-smaller\narea of locations, the application begs for a capability to zoom closer as the area\nbecomes more specific. The effect of zooming is striking, but its implementation is\nactually quite straightforward and can be based on methods already in use.\nSo far, the crux of the representation is the map( ) function, which remaps a series of\ncoordinates (with a predefined range) to a specific location on the screen (with a new\nrange). To allow for zooming, instead set the ranges themselves as Integrator\nobjects:\ncolor backgroundColor    = #333333; // dark background color\ncolor dormantColor       = #999966; // initial color of the map\ncolor highlightedColor   = #CBCBCB; // color for selected points\ncolor unhighlightedColor = #66664C; // color for points that are not selected\ncolor badColor           = #FFFF66; // text color when nothing found\nColorIntegrator faders[];\n// Border of where the map should be drawn on screen\nfloat mapX1, mapY1;\nfloat mapX2, mapY2;\n// Column numbers in the data file\nstatic final int CODE = 0;\nstatic final int X = 1;\nstatic final int Y = 2;\nstatic final int NAME = 3;\nint totalCount; // total number of places\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2350
  },
  {
    "chunk_full": "168\n|\nChapter 6: Scatterplot Maps\nPlace[] places;\nint placeCount; // number of places loaded\n// Min/max boundary of all points\nfloat minX, maxX;\nfloat minY, maxY;\n// Typing and selection\nPFont font;\nString typedString = \"\";\nchar typedChars[] = new char[5];\nint typedCount;\nint typedPartials[] = new int[6];\nfloat messageX, messageY;\nint foundCount;\nPlace chosen;\n// Zoom\nboolean zoomEnabled = false;\nIntegrator zoomDepth = new Integrator( );\nIntegrator zoomX1;\nIntegrator zoomY1;\nIntegrator zoomX2;\nIntegrator zoomY2;\nfloat targetX1[] = new float[6];\nfloat targetY1[] = new float[6];\nfloat targetX2[] = new float[6];\nfloat targetY2[] = new float[6];\n// Boundary of currently valid points at this typedCount\nfloat boundsX1, boundsY1;\nfloat boundsX2, boundsY2;\npublic void setup( ) {\n  size(720, 453, P3D);\n  mapX1 = 30;\n  mapX2 = width - mapX1;\n  mapY1 = 20;\n  mapY2 = height - mapY1;\n  font = loadFont(\"ScalaSans-Regular-14.vlw\");\n  textFont(font);\n  textMode(SCREEN);\n  messageX = 40;\n  messageY = height - 40;\n  faders = new ColorIntegrator[6];\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2351
  },
  {
    "chunk_full": "Zooming In (Interact)\n|\n169\n  // When nothing is typed, all points are shown with a color called\n  // \"dormant,\" which is brighter than when not highlighted, but\n  // not as bright as the highlight color for a selection.\n  faders[0] = new ColorIntegrator(unhighlightedColor);\n  faders[0].setAttraction(0.5);\n  faders[0].target(dormantColor);\n  for (int i = 1; i < 6; i++) {\n    faders[i] = new ColorIntegrator(unhighlightedColor);\n    faders[i].setAttraction(0.5);\n    faders[i].target(highlightedColor);\n  }\n  readData( );\n  zoomX1 = new Integrator(minX);\n  zoomY1 = new Integrator(minY);\n  zoomX2 = new Integrator(maxX);\n  zoomY2 = new Integrator(maxY);\n  targetX1[0] = minX;\n  targetX2[0] = maxX;\n  targetY1[0] = minY;\n  targetY2[0] = maxY;\n  rectMode(CENTER);\n  ellipseMode(CENTER);\n  frameRate(15);\n}\nvoid readData( ) {\n  String[] lines = loadStrings(\"zips.tsv\");\n  parseInfo(lines[0]); // Read the header line\n  places = new Place[totalCount];\n  for (int i = 1; i < lines.length; i++) {\n    places[placeCount] = parsePlace(lines[i]);\n    placeCount++;\n  }\n}\nvoid parseInfo(String line) {\n  String infoString = line.substring(2); // Remove the #\n  String[] infoPieces = split(infoString, ',');\n  totalCount = int(infoPieces[0]);\n  minX = float(infoPieces[1]);\n  maxX = float(infoPieces[2]);\n  minY = float(infoPieces[3]);\n  maxY = float(infoPieces[4]);\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2352
  },
  {
    "chunk_full": "170\n|\nChapter 6: Scatterplot Maps\nPlace parsePlace(String line) {\n  String pieces[] = split(line, TAB);\n  int zip = int(pieces[CODE]);\n  float x = float(pieces[X]);\n  float y = float(pieces[Y]);\n  String name = pieces[NAME];\n  return new Place(zip, name, x, y);\n}\npublic void draw( ) {\n  background(backgroundColor);\n  updateAnimation( );\n  for (int i = 0; i < placeCount; i++) {\n    places[i].draw( );\n  }\n  if (typedCount != 0) {\n    if (foundCount > 0) {\n      if (!zoomEnabled && (typedCount == 4)) {\n        // Redraw the chosen ones, because they're often occluded\n        // by the non-selected points.\n        for (int i = 0; i < placeCount; i++) {\n          if (places[i].matchDepth == typedCount) {\n            places[i].draw( );\n          }\n        }\n      }\n      if (chosen != null) {\n        chosen.drawChosen( );\n      }\n      fill(highlightColor);\n      textAlign(LEFT);\n      text(typedString, messageX, messageY);\n    } else {\n      fill(badColor);\n      text(typedString, messageX, messageY);\n    }\n  }\n  // Draw \"zoom\" text toggle.\n  textAlign(RIGHT);\n  fill(zoomEnabled ? highlightColor : unhighlightColor);\n  text(\"zoom\", width - 40, height - 40);\n  textAlign(LEFT);\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2353
  },
  {
    "chunk_full": "Zooming In (Interact)\n|\n171\nvoid updateAnimation( ) {\n  for (int i = 0; i < 6; i++) {\n    faders[i].update( );\n  }\n  if (foundCount > 0) {\n    zoomDepth.target(typedCount);\n  } else {\n    // If no points were found, use the previous zoom depth\n    // (which will be the last depth where foundCount was > 0).\n    zoomDepth.target(typedCount-1);\n  }\n  zoomDepth.update( );\n  zoomX1.update( );\n  zoomY1.update( );\n  zoomX2.update( );\n  zoomY2.update( );\n}\nfloat TX(float x) {\n  if (zoomEnabled) {\n    return map(x, zoomX1.value, zoomX2.value, mapX1, mapX2);\n  } else {\n    return map(x, minX, maxX, mapX1, mapX2);\n  }\n}\nfloat TY(float y) {\n  if (zoomEnabled) {\n    return map(y, zoomY1.value, zoomY2.value, mapY2, mapY1);\n  } else {\n    return map(y, minY, maxY, mapY2, mapY1);\n  }\n}\nvoid mousePressed( ) {\n  // If the user clicks the \"zoom\" text, toggle zoomEnabled.\n  if ((mouseX > width-100) && (mouseY > height - 50)) {\n    zoomEnabled = !zoomEnabled;\n  }\n}\nvoid keyPressed( ) {\n  if ((key == BACKSPACE) || (key == DELETE)) {\n    if (typedCount > 0) {\n      typedCount--;\n    }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2354
  },
  {
    "chunk_full": "172\n|\nChapter 6: Scatterplot Maps\n  } else if ((key >= '0') && (key <= '9')) {\n    if (typedCount != 5) { // only 5 digits\n      if (foundCount > 0) { // don't allow to keep typing bad\n        typedChars[typedCount++] = key;\n      }\n    }\n  }\n  updateTyped( );\n}\nvoid updateTyped( ) {\n  typedString = new String(typedChars, 0, typedCount);\n  if (typedCount == 0) {\n    faders[0].target(dormantColor);\n  } else {\n    // Un-highlight areas already typed past.\n    for (int i = 0; i < typedCount; i++) {\n      faders[i].target(unhighlightedColor);\n    }\n    // Highlight remaining points that match what's typed.\n    for (int i = typedCount; i < 6; i++) {\n      faders[i].target(highlightedColor);\n    }\n  }\n  typedPartials[typedCount] = int(typedString);\n  for (int j = typedCount-1; j > 0; --j) {\n    typedPartials[j] = typedPartials[j + 1] / 10;\n  }\n  foundCount = 0;\n  chosen = null;\n  boundsX1 = maxX;\n  boundsY1 = maxY;\n  boundsX2 = minX;\n  boundsY2 = minY;\n  for (int i = 0; i < placeCount; i++) {\n    // Update boundaries of selection\n    // and identify whether a particular place is chosen.\n    places[i].check( );\n  }\n  calcZoom( );\n}\nvoid calcZoom( ) {\n  if (foundCount != 0) {\n    // Given a set of min/max coords, expand in one direction so that the\n    // selected area includes the range with the proper aspect ratio.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2355
  },
  {
    "chunk_full": "Zooming In (Interact)\n|\n173\n    float spanX = (boundsX2 - boundsX1);\n    float spanY = (boundsY2 - boundsY1);\n    float midX = (boundsX1 + boundsX2) / 2;\n    float midY = (boundsY1 + boundsY2) / 2;\n    if ((spanX != 0) && (spanY != 0)) {\n      float screenAspect = width / float(height);\n      float spanAspect = spanX / spanY;\n      if (spanAspect > screenAspect) {\n        spanY = (spanX / width) * height; // wide\n      } else {\n        spanX = (spanY / height) * width; // tall\n      }\n    } else { // if span is zero\n      // use the span from one level previous\n      spanX = targetX2[typedCount-1] - targetX1[typedCount-1];\n      spanY = targetY2[typedCount-1] - targetY1[typedCount-1];\n    }\n    targetX1[typedCount] = midX - spanX/2;\n    targetX2[typedCount] = midX + spanX/2;\n    targetY1[typedCount] = midY - spanY/2;\n    targetY2[typedCount] = midY + spanY/2;\n  } else if (typedCount != 0) {\n    // Nothing found at this level, so set the zoom identical to the previous.\n    targetX1[typedCount] = targetX1[typedCount-1];\n    targetY1[typedCount] = targetY1[typedCount-1];\n    targetX2[typedCount] = targetX2[typedCount-1];\n    targetY2[typedCount] = targetY2[typedCount-1];\n  }\n  zoomX1.target(targetX1[typedCount]);\n  zoomY1.target(targetY1[typedCount]);\n  zoomX2.target(targetX2[typedCount]);\n  zoomY2.target(targetY2[typedCount]);\n  if (!zoomEnabled) {\n    zoomX1.set(zoomX1.target);\n    zoomY1.set(zoomY1.target);\n    zoomX2.set(zoomX2.target);\n    zoomY2.set(zoomY2.target);\n  }\n}\nThe zoomX1, zoomY1, zoomX2, and zoomY2 variables are the new ranges to be used with\nthe map( ) function. When zoom is not enabled, the horizontal coordinate of a loca-\ntion on screen is calculated by using map( ) to convert the value from the range minX\nto maxX into the range mapX1 to mapX2. When zooming, we replace minX and maxX with\nthe minimum and maximum values that we want to be visible onscreen. That way,\ncoordinates inside that range will be mapped between mapX1 and mapX2, while map( )\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2356
  },
  {
    "chunk_full": "174\n|\nChapter 6: Scatterplot Maps\nwill place the others somewhere to the left of mapX1 (probably offscreen to the left),\nor an x value greater than mapX2 (offscreen to the right).\nThe targetX1, targetY1, targetX2, and targetY2 arrays contain the boundaries for\neach zoom level (that is, the number of digits typed so far, which the code maintains\nin the typedCount variable). Inside calcZoom( ), the span of the currently valid points\nis calculated for the current zoom level.\nThe spanAspect and screenAspect variables are used to expand the target range verti-\ncally or horizontally so that it fits the aspect ratio of the screen. For instance, after\ntyping 0, the application will zoom to the northeastern United States. This set of\npoints is taller than it is wide, so the height of the points will be used to determine\nthe vertical span, and the horizontal span (spanX) will be expanded to stay in\nproportion.\nIf the span is zero, as is the case when a single zip code is selected, the boundary is\ninstead set to the previous zoom level, but with the final coordinate centered inside\nthat range. The target levels are based on the previous boundary of all points. For\ninstance, after typing 940, the boundary for the zoom is based on the minimum and\nmaximum locations when only 9 and 4 had been typed.\nA text label onscreen handles toggling the zoom mode. The mousePressed( ) method\nchecks to see whether the mouse has been pressed inside the range of this label’s\nlocation. After typing 4, the image looks like Figure 6-4.\nFigure 6-4. Appearance after typing 4 with zoom enabled\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2357
  },
  {
    "chunk_full": "Zooming In (Interact)\n|\n175\nAdditional minor changes inside the Place class handle calculating the boundary\ninside the check( ) method and drawing the selected point slightly differently.\nBecause the changes are small and spread throughout, the entire code is shown here,\nwith the modifications highlighted:\nclass Place {\n  int code;\n  String name;\n  float x;\n  float y;\n  int partial[];\n  int matchDepth;\n  public Place(int code, String name, float lon, float lat) {\n    this.code = code;\n    this.name = name;\n    this.x = lon;\n    this.y = lat;\n    partial = new int[6];\n    partial[5] = code;\n    partial[4] = partial[5] / 10;\n    partial[3] = partial[4] / 10;\n    partial[2] = partial[3] / 10;\n    partial[1] = partial[2] / 10;\n  }\n  void check( ) {\n    // Default to zero levels of depth that match\n    matchDepth = 0;\n    if (typedCount != 0) {\n      // Start from the greatest depth, and work backwards to see how many\n      // items match. Want to figure out the maximum match, so better to\n      // begin from the end.\n      // The multiple levels of matching are important because more than one\n      // depth level might be fading at a time.\n      for (int j = typedCount; j > 0; --j) {\n        if (typedPartials[j] == partial[j]) {\n          matchDepth = j;\n          break; // since starting at end, can stop now\n        }\n      }\n    }\n    //if (partial[typedCount] == partialCode) {\n    if (matchDepth == typedCount) {\n      foundCount++;\n      if (typedCount == 5) {\n        chosen = this;\n      }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2358
  },
  {
    "chunk_full": "176\n|\nChapter 6: Scatterplot Maps\n      if (x < boundsX1) boundsX1 = x;\n      if (y < boundsY1) boundsY1 = y;\n      if (x > boundsX2) boundsX2 = x;\n      if (y > boundsY2) boundsY2 = y;\n    }\n  }\n  void draw( ) {\n    int xx = (int) TX(x);\n    int yy = (int) TY(y);\n    if ((xx < 0) || (yy < 0) || (xx >= width) || (yy >= height)) return;\n    set(xx, yy, faders[matchDepth].colorValue);\n  }\n  void drawChosen( ) {\n    noStroke( );\n    fill(faders[matchDepth].colorValue);\n    // The chosen point has to be a little larger when zooming.\n    int size = zoomEnabled ? 6 : 4;\n    rect(TX(x), TY(y), size, size);\n    // Calculate position to draw the text, slightly offset from the main point.\n    float textX = TX(x);\n    float textY = TY(y) - size - 4;\n    // Don't go off the top (e.g., 59544).\n    if (textY < 20) {\n      textY = TY(y) + 20;\n    }\n    // Don't run off the bottom (e.g., 33242).\n    if (textY > height - 5) {\n      textY = TY(y) - 20;\n    }\n    String location = name + \" \" + nf(code, 5);\n    if (zoomEnabled) {\n      // Center the single point onscreen when zooming.\n      textAlign(CENTER);\n      text(location, textX, textY);\n    } else {\n      float wide = textWidth(location);\n      if (textX > width/3) {\n        textX -= wide + 8;\n      } else {\n        textX += 8;\n      }\n      textAlign(LEFT);\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2359
  },
  {
    "chunk_full": "Changing How Points Are Drawn When Zooming (Refine)\n|\n177\n      fill(highlightColor);\n      text(location, textX, textY);\n    }\n  }\n}\nChanging How Points Are Drawn When Zooming\n(Reﬁne)\nA bit of time spent playing with the zoom mode makes it clear that points are quickly\nlost because the single pixels spread out and become difficult to see. This problem\nsprings from how we perceive images, and it requires that points be handled differ-\nently as the zoom shifts.\nTo resolve the issue, points should become larger as more digits are typed. Even\nbetter would be to add more information along the way, keeping the density of infor-\nmation on the screen constant as the zoom occurs. For instance, after typing three\ndigits, map data depicting state outlines and major interstates could be included.\nAlthough the data retrieval and formatting for that enhancement are too compli-\ncated to show in this chapter, we can at least implement one simple way to add a lit-\ntle more information: showing the remaining possibilities for the last digit after the\nuser has typed the first four.\nAn updated version of the draw( ) method found inside the Place class handles two\nrefinements: changing points to rectangles and showing possible final digits:\n  void draw( ) {\n    float xx = TX(x);\n    float yy = TY(y);\n    if ((xx < 0) || (yy < 0) || (xx >= width) || (yy >= height)) return;\n    if ((zoomDepth.value < 2.8f) || !zoomEnabled) { // show simple dots\n      set((int)xx, (int)yy, faders[matchDepth].colorValue);\n    } else { // show slightly more complicated dots\n      noStroke( );\n      fill(faders[matchDepth].colorValue);\n      if (matchDepth == typedCount) {\n        if (typedCount == 4) { // on the fourth digit, show possibilities\n          text(code % 10, TX(x), TY(y));\n        } else { // show a larger box for selections\n          rect(xx, yy, zoomDepth.value, zoomDepth.value);\n        }\n      } else { // show a slightly smaller box for unselected\n        rect(xx, yy, zoomDepth.value-1, zoomDepth.value-1);\n      }\n    }\n  }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2360
  },
  {
    "chunk_full": "178\n|\nChapter 6: Scatterplot Maps\nFigure 6-5 shows a selection, with the adjacent locations being drawn using rectangles\ninstead of single pixels as a result of the new draw( ) method.\nDeployment Issues (Acquire and Reﬁne)\nFor an online project, downloading two megabytes of data is likely to be a problem.\nIn its current iteration, the program will stop until all data has been downloaded. A\nbetter alternative is to use the built-in Thread class to load the data asynchronously.\nThe thread acts independently of the rest of the program, gradually adding locations\nby incrementing placeCount. When placeCount and totalCount are identical, the data\nhas finished loading.\nA thread provides a way to bundle a function in your program so that it can run at\nthe same time as another part of the program. In this case, rather than waiting for the\ndata to download, a thread can be used for the download while the main draw( )\nmethod of the program continues to run. Because the program is still running, it\nremains responsive to user input, which makes it feel faster than if the program\nhalted until the download was finished.\nThe change also means that the data file should be moved out of the data folder, and\nwill instead be placed adjacent to the sketch when on your server. In the sketch folder,\nmove the zips.tsv file one level up from its previous location. This way, the much\nsmaller download will happen quickly, and the applet will start almost immediately\n(drawing the background and making it clear to the user that things are working).\nFigure 6-5. After typing five digits, a city name appears for that location\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2361
  },
  {
    "chunk_full": "Deployment Issues (Acquire and Refine)\n|\n179\nThe data should also be gzip compressed to save some space (and therefore time\ndownloading). That can be done using a utility that will gzip-encode your file, but for\nthe purposes of this chapter, you can download a version that’s already been\ncompressed:\nhttp://benfry.com/writing/zipdecode/zips.gz\nThe code to handle asynchronous loading should be placed in a new file (a new tab\nin the Processing interface) called Slurper. The contents should be as follows:\nclass Slurper implements Runnable {\n  Slurper( ) {\n    Thread thread = new Thread(this);\n    thread.start( );\n  }\n  public void run( ) {\n    try {\n      BufferedReader reader = createReader(\"zips.gz\");\n      // First get the info line.\n      String line = reader.readLine( );\n      parseInfo(line);\n      places = new Place[totalCount];\n      // Parse each of the rest of the lines.\n      while ((line = reader.readLine( )) != null) {\n        places[placeCount] = parsePlace(line);\n        placeCount++;\n      }\n    } catch (IOException e) {\n      e.printStackTrace( );\n    }\n  }\n}\nA Runnable is a class that has a run( ) method. The Thread class takes a Runnable and\nbegins executing it independently of the code from which it was called. The\ncreateReader( ) method will automatically uncompress the gzip-compressed data as\nit is read. The BufferedReader syntax is described in Chapter 9, but the rest is largely\nsimilar to the original readData( ) method. Back in the main tab, the readData( )\nmethod now need only start the thread:\nvoid readData( ) {\n  new Slurper( );\n}\nThis code will create the new Slurper object, which will take care of loading the\npoints as they become available from the network.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2362
  },
  {
    "chunk_full": "180\n|\nChapter 6: Scatterplot Maps\nA nice feature of this method is that the points themselves serve as a kind of progress\nbar to alert the user to the progress of the download. Over a slow connection, the\npoints will gradually appear, moving from right to left as the data begin to load.\nNext Steps\nFrom this point, there are several directions in which to take this project. For\ninstance:\n• Using the technique described in Chapter 5, we can check to see whether the\nIntegrator objects have actually changed during update( ). If no change has\noccurred, we can disable animation with noLoop( ) to make the program less\ndemanding on the CPU (and therefore make other running programs more\nresponsive).\n• Depending on browser configuration and how the HTML for the exported\napplet is written, the program may not have keyboard focus when it first loads.\nThis can cause confusion for the user if they begin typing but nothing happens.\nTo handle such a situation, show the user a message that says, “Click inside the\napplet to begin” whenever the built-in Boolean variable focused is set to false.\n• By redoing the preprocessing steps (Acquire, Parse, Filter), this same method can\nbe used with the codes of other countries. Germany and the UK both use similar\npostal numbering systems, and data files for each are available online. The open-\ngeodb project is one good place to start; see http://sourceforge.net/projects/\nopengeodb.\n• For another variation of this project, I used town names instead of zip code dig-\nits. Typing “F” highlights all locations whose names begin with F, and typing\n“Fargo” shows the distribution of Fargos throughout the U.S. Also interesting\nabout this modification is that it begins to show migration patterns for settlers\nfrom different countries as they moved across the U.S.\n• And as long as we’re looking at names, you can use street names as another\noption. It’s a bit too much information to do the entire U.S., but it’s possible to\nuse the same principles to show a map of all the street names in a single state,\nand progressively select them based on names typed by the user. The street data\ncan be found at the U.S. Census Bureau’s TIGER/LINE site at http://www.census.\ngov/geo/www/tiger.\n• What about area codes? I have often received requests for the same application\napplied to area codes or other sets of information that are geographically ori-\nented. Such a system would not be consistent with the original question about\nhow postal codes relate to geography, but it would still be a helpful and interest-\ning tool.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2363
  },
  {
    "chunk_full": "Next Steps\n|\n181\n• Also, from the tool front, it too would be possible to address other questions\nsuch as, “What locations are within 25 miles of 94133?” This can be done by\nconverting latitude/longitude distance to miles and changing the interface to\nsupport selecting a zip code and a distance.\n• One of the more interesting modifications would be to bring in additional data\nsets—whether satellite photography, geographic boundaries, interstate high-\nways, or map images. By removing the projection conversion from the first step,\nany latitude/longitude-based data could be used as an additional layer. The\nnicest application would be to show different layers of information at each zoom\nlevel (e.g., showing state outlines once the user has typed a single digit, and after\ntwo digits, start to show city names or interstates). A good goal in any visualiza-\ntion project is to maintain the density of visual information at each level.\nHaving mastered the basic version of this project, there are lots of options for taking\nthe project further. Have fun!\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2364
  },
  {
    "chunk_full": "182\nChapter 7\nCHAPTER 7\nTrees, Hierarchies, and Recursion\n7\nTo complement our coverage of lists and tables in earlier chapters, we’ll now move\non to hierarchical information. Tree structures store data for which each element\nmight have several subelements. Elements in a tree are typically referred to as nodes,\nusually with multiple child nodes. Files and directories are straightforward examples\nof a tree structure. Each directory can contain several items, which can be files or\nadditional directories. Additional directories may have more files inside, and so on.\nThis recursive structure can make trees a little tricky to deal with, but it’s important\nbecause recursive structures are found in all kinds of knowledge domains, so you’ll\nwant to become adept at displaying and interacting with them. Most of the exam-\nples in this chapter use files and directories because they’re familiar kinds of data.\nThe same basic techniques can be applied to all manner of hierarchical information.\nRecursion offers special opportunities and challenges for both display and interaction:\n• It’s common to show one or two levels of the tree and let the user delve in or\nmove out.\n• This in turn requires ways to signal to the application that parts of the data are\nomitted or hidden.\n• When animation is available, it’s convenient to load recursive data incremen-\ntally so that you don’t have to make the viewer wait for the whole data set to\nload.\nThis chapter gives you the tools for all those techniques, along with a progress bar\nthat can prove useful in many animated displays.\nUsing Recursion to Build a Directory Tree\nStart a fresh sketch, and add a second tab named Node. A Node object will be a single\nelement in the tree. You’ll find this general data structure useful for all tree-like data,\nbut for this example, each element will either be a file or a directory. This is typical\nfor node structures; each is either a leaf or a container.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2365
  },
  {
    "chunk_full": "Using Recursion to Build a Directory Tree\n|\n183\nThe node will have a (built-in) File object associated with it, which can be queried\nfor information such as its size, last time modified, or absolute path. The following is\nthe basic structure necessary to recursively create a tree of Node objects. As each\nobject is created, a check is made to see whether the associated File is in fact a direc-\ntory. If so, a series of child nodes are added to the children array. As those are cre-\nated, the process continues: each time one of the child nodes is a directory, a series of\ngrandchildren are added to that child node, and so on:\nclass Node {\n  File file;\n  Node[] children;\n  int childCount;\n  Node(File file) {\n    this.file = file;\n    if (file.isDirectory( )) {\n      String[] contents = file.list( );\n      children = new Node[contents.length];\n      for (int i = 0 ; i < contents.length; i++) {\n        File childFile = new File(file, contents[i]);\n        Node child = new Node(childFile);\n        children[childCount++] = child;\n      }\n    }\n  }\n}\nCaveats When Dealing with Files (Filter)\nAs with any code, this requires a few tweaks to make it work in the real world. First,\nsome files should be skipped. On Unix systems, File.list( ) may include the . (sin-\ngle dot) and .. (double dot) directory entries, which will make the code run in a loop.\n(If you’re not familiar with Unix, the . directory is a kind of alias to the current direc-\ntory, and .. is a reference to the parent directory.) They can be skipped easily enough.\nThat is also why we use children[childCount++] instead of children[i] at the end of\nthe loop.\nNext, the files returned can be in any order, so it’s best to sort them based on their\nname. To meet most users’ expectations, sorting also needs to happen in case-\ninsensitive order because just a straight sort of String objects will place capitalized\nnames before lowercase names because uppercase letters have lower ASCII values.\nIf a file is inaccessible (whether due to restricted permissions or another error), the\nFile.list( ) method will return null. In the current version of the code, the node\nwill be listed as an empty directory because childCount will never be incremented\nhigher than its default of 0. In the next modification of this code, inaccessible entries\nwill be avoided by checking whether contents is null.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2366
  },
  {
    "chunk_full": "184\n|\nChapter 7: Trees, Hierarchies, and Recursion\nFinally, on Unix-based systems (which include Linux and Mac OS X), some files may\nbe symbolic links. If they link elsewhere in the tree, that can also cause the tree to\nrun forever. The getCanonicalPath( ) method of File converts a path to its real loca-\ntion, adjusting any symbolic links and determining the absolute location of each file.\nThe getAbsolutePath( ) method returns the path to a filename, but does not resolve\nsymbolic links. Any time getCanonicalPath( ) and getAbsolutePath( ) return differ-\nent results, the file can be ignored.\nRecursively Printing Tree Contents (Represent)\nOur initial implementation of a file tree will also offer a function to print the con-\ntents. This method is invoked by calling printList(0) on the root node. Based on the\ndepth value, a series of spaces will be printed before the node’s name. Then, it loops\nthrough the children array, calling printList( ) with the depth variable incremented\nby one so that each child is indented by a few more spaces.\nExample 7-1 shows the final code for the Node tab. The changes from the previous\nexample are highlighted.\nExample 7-1. Recursive data structure for File objects\nclass Node {\n  File file;\n  Node[] children;\n  int childCount;\n  Node(File file) {\n    this.file = file;\n    if (file.isDirectory( )) {\n      String[] contents = file.list( );\n      if (contents != null) {\n        // Sort the file names in case-insensitive order.\n        contents = sort(contents);\n        children = new Node[contents.length];\n        for (int i = 0 ; i < contents.length; i++) {\n          // Skip the . and .. directory entries on Unix systems.\n          if (contents[i].equals(\".\") || contents[i].equals(\"..\")) {\n            continue;\n          }\n          File childFile = new File(file, contents[i]);\n          // Skip any file that appears to be a symbolic link.\n          try {\n            String absPath = childFile.getAbsolutePath( );\n            String canPath = childFile.getCanonicalPath( );\n            if (!absPath.equals(canPath)) {\n              continue;\n            }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2367
  },
  {
    "chunk_full": "Using Recursion to Build a Directory Tree\n|\n185\nBack in the main tab, just a few lines of code are necessary to set up a root directory,\ncreate the tree, and then show its contents using printList( ). Be sure to put the\ncode inside a setup( ) block; otherwise, you’ll get compile errors. When using addi-\ntional tabs, it’s always necessary to put functions inside blocks, rather than using the\nstatic mode style of coding first discussed in Chapter 2:\nvoid setup( ) {\n  File rootFile = new File(\"/Applications/Processing 0125\");\n  Node rootNode = new Node(rootFile);\n  rootNode.printList( );\n}\nReplace /Applications/Processing 0125 with the location of a directory on your own\ndisk (no slashes at the end) that you’d like to list. I wouldn’t recommend anything\ntoo big—things might get boring if you try to run it on the root of your hard disk, for\nexample. After the program has finished creating successive nodes, a hierarchic file\nlisting will print to the console. For the Processing directory used in the previous\nexample, the first few lines look like:\nProcessing 0125\n    examples\n        3D and OpenGL\n            Camera\n                MoveEye\n                    MoveEye.pde\n          } catch (IOException e) { }\n          Node child = new Node(childFile);\n          children[childCount++] = child;\n        }\n      }\n    }\n  }\n  void printList( ) {\n    printList(0);\n  }\n  void printList(int depth) {\n    // Print spaces for each level of depth.\n    for (int i = 0; i < depth; i++) {\n      print(\" \");\n    }\n    println(file.getName( ));\n    // Now handle the children, if any.\n    for (int i = 0; i < childCount; i++) {\n      children[i].printList(depth + 1);\n    }\n  }\n}\nExample 7-1. Recursive data structure for File objects (continued)\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2368
  },
  {
    "chunk_full": "186\n|\nChapter 7: Trees, Hierarchies, and Recursion\n                Ortho\n                    data\n                    Ortho.pde\n                OrthoVSPerspective\n                    data\n                    OrthoVSPerspective.pde\n                Perspective\n                    data\n                    Perspective.pde\nIf you’re running Windows, you need to specify the file path differently. The equiva-\nlent for Windows would be something along the lines of:\n  File rootFile = new File(\"c:\\\\Program Files\\\\processing-0125\");\nNote the use of double backslashes. Because a \\ signifies an escape character (e.g., \\n),\nit’s necessary to use \\\\ to specify a single backslash character. A Unix system will need\nsomething along the lines of:\n  File rootFile = new File(\"/home/fry/processing-0125\");\nSpecial characters such as ~ (which refers to a Unix home directory) don’t work\nbecause they’re specific to the shell and don’t have that meaning in other applica-\ntions. A .. (double dot) properly points to a parent directory; however, it’s a better\nidea to use an absolute path for consistent results.\nUsing a Queue to Load Asynchronously (Interact)\nOne downside of the straight recursive method used previously is that calling new\nNode(rootFile) won’t return until it has completed. In particular, this means that for\na very large directory, the program will halt completely until the entire tree structure\nis built. When looking at many files, this can quickly become a problem, especially in\nan interactive project with a draw( ) method.\nRather than create the entire tree instantaneously, a better approach is to use a\nqueue. Each time a folder is found, it will be added to a list, and as the draw( )\nmethod runs, a few more items from the queue can be read. This way, the program\ncan continue without halting, and users can be updated on the progress of the files as\nthey are read.\nTo implement a queue, we’ll start with the code from the previous example and\nbuild it out further. The queue is handled by keeping track of a list of Node objects\nthat have not yet been scanned for their contents in the main tab:\nNode[] folders = new Node[10];\nint folderCount;\nint folderIndex;\nThe folderCount indicates the total number of folders in the list. The folderIndex\nvariable is used to track the current folder to be read. Also in the main tab, new fold-\ners are added with the addFolder( ) method, whereas the nextFolder( ) method is\nused to get the next item from the queue:\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2369
  },
  {
    "chunk_full": "Using a Queue to Load Asynchronously (Interact)\n|\n187\nvoid addFolder(Node folder) {\n  if (folderCount == folders.length) {\n    folders = (Node[]) expand(folders);\n  }\n  folders[folderCount++] = folder;\n}\nvoid nextFolder( ) {\n  if (folderIndex != folderCount) {\n    Node n = folders[folderIndex++];\n    n.check( );\n  }\n}\nThe expand( ) method doubles the size of an array so that more elements can be\nadded. The elements in the array are unaffected, and it provides an efficient means of\nresizing an array. It’s also possible to specify a second parameter to expand( ) that\nindicates the new size of the array.\nWith this code, the nextFolder( ) method is called from draw( ) when the visualiza-\ntion is ready for more data. The method then calls the check( ) method (discussed\nshortly), which fills out the Node structure with information about child folders. Calls\nto the nextFolder( ) method require a negligible amount of time compared to read-\ning several thousand files recursively and at once.\nStrictly speaking, this isn’t technically a queue, as we’re not removing nodes once\nthey’ve been checked. However, keeping the items around can be helpful: once we’ve\ntraversed the entire list, we can set folderIndex back to 0 and rescan the directories for\nchanges (e.g., to update the display for changes to the size and modification time of\nfiles).\nThe new Node constructor uses addFolder( ) on directories, and the rest of the code\nfrom the constructor in Example 7-1 is moved to the check( ) method, called by\nnextFolder( ) back in the main tab:\n  Node(File file) {\n    this.file = file;\n    if (file.isDirectory( )) {\n      addFolder(this);\n    }\n  }\n  void check( ) {\n    String[] contents = file.list( );\n    if (contents != null) {\n      // Sort the file names in case-insensitive order.\n      contents = sort(contents);\n      children = new Node[contents.length];\n      for (int i = 0 ; i < contents.length; i++) {\n        // Skip the . and .. directory entries on Unix systems.\n        if (contents[i].equals(\".\") || contents[i].equals(\"..\")) {\n          continue;\n        }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2370
  },
  {
    "chunk_full": "188\n|\nChapter 7: Trees, Hierarchies, and Recursion\n        File childFile = new File(file, contents[i]);\n        // Skip any file that appears to be a symbolic link.\n        try {\n          String absPath = childFile.getAbsolutePath( );\n          String canPath = childFile.getCanonicalPath( );\n          if (!absPath.equals(canPath)) {\n            continue;\n          }\n        } catch (IOException e) { }\n        Node child = new Node(childFile);\n        children[childCount++] = child;\n      }\n    }\n  }\nShowing Progress (Represent)\nTo show status information, it’s necessary to set up a font for use at the end of\nsetup( ):\nvoid setup( ) {\n  size(400, 130);\n  File rootFile = new File(\"/Applications/Processing 0125\");\n  rootNode = new Node(rootFile);\n  PFont font = createFont(\"SansSerif\", 11);\n  textFont(font);\n}\nThe draw( ) method handles clearing the background, calling nextFolder( ) and\ndrawStatus( ), which we’ll discuss next. To read folders more quickly, place a loop\naround the call to nextFolder( ) to make it check more folders on each iteration\nthrough draw( ). Given 12,000 folders and draw( ) running 60 times per second, it\nwould take a minimum of 200 seconds to load the entire set. A for loop calling\nnextFolder( ) 10 times per draw( ) will cut that to just 20 seconds, plus some addi-\ntional time for the check( ) method to actually complete. Some trial and error based\non the speed of your machine will give you a value for the loop that balances the\nspeed at which the folders are read with their impact on the animation speed. Of\ncourse, you don’t want to overdo it; otherwise, why use the queue?\nThe drawStatus( ) method draws a progress bar and keeps us up-to-date on how\nmany files have been loaded so far:\nvoid drawStatus( ) {\n  float statusX = 30;\n  float statusW = width - statusX*2;\n  float statusY = 60;\n  float statusH = 20;\n  fill(0);\n  if (folderIndex != folderCount) {\n    text(\"Reading \" + nfc(folderIndex+1) +\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2371
  },
  {
    "chunk_full": "An Introduction to Treemaps\n|\n189\n         \" out of \" + nfc(folderCount) + \" folders...\",\n         statusX, statusY - 10);\n  } else {\n    text(\"Done reading.\", statusX, statusY - 10);\n  }\n  fill(128);\n  rect(statusX, statusY, statusW, statusH);\n  float completedW = map(folderIndex + 1, 0, folderCount, 0, statusW);\n  fill(255);\n  rect(statusX, statusY, completedW, statusH);\n}\nThe statusX, statusY, statusW, and statusH variables handle the location and dimen-\nsions of the status bar. So long as folderIndex has not yet caught up to folderCount,\nfolders are still in the queue. A gray rectangle (fill(128)) is drawn for the status bar,\nand then a white rectangle (fill(255)) is drawn above it, its width (completedW) set in\nproportion to the number of folders read versus the total number. The status image\nis shown in Figure 7-1.\nAs folders are read, more subfolders will be found, and the progress bar will dance\nback and forth slightly each time subfolders are found—e.g., jumping from “4 of 5”\nto “5 of 19” in a kind of one step forward, two steps back manner. Eventually the\nnumbers will stabilize and the progress bar will be more consistent.\nFor later examples in this chapter, we’ll use both straight recursive and the queue\nmethod for reading files—the former for simplicity, or the latter when we want to\nimprove interaction.\nAn Introduction to Treemaps\nIt’s not uncommon to want to know how space is being used on a hard disk. On file\nmanagers, such as the Windows Explorer or Mac OS Finder, pinpointing disk usage\ncan be difficult and tedious. Frustrated with a server hard disk that was perpetually\nfull, Ben Shneiderman, of the Human-Computer Interaction Laboratory (HCIL) at\nthe University of Maryland, worked out a set of algorithms to subdivide 2D space to\nshow the relative size of files and directories (see http://www.cs.umd.edu/hcil/treemap-\nhistory). He called the representation a treemap, referencing the two-dimensional\nFigure 7-1. Showing progress while cataloging the disk\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2372
  },
  {
    "chunk_full": "190\n|\nChapter 7: Trees, Hierarchies, and Recursion\nmapping of tree structures. Projects such as Martin Wattenberg’s Map of the Market\n(http://smartmoney.com/marketmap) and Marcos Weskamp’s Newsmap (http://\nmarumushi.com/apps/newsmap) serve as more recent canonical examples of the\ntechnique.\nOne key trait of a treemap—and the reason it’s in this chapter as a hierarchical struc-\nture—is that the viewer can click on any part of the display to burrow down and see\nthat part’s structure. This interaction is sometimes underutilized, but it can be very\neffective, as we’ll see later. The whole data structure is hierarchical, but different\nparts can be displayed by themselves.\nA Simple Treemap Library\nThrough a collaboration between Wattenberg and the HCIL, an open source library\nfor creating treemap structures was released online (http://www.cs.umd.edu/hcil/\ntreemap-history/Treemaps-Java-Algorithms.zip) under the Mozilla Public License. For\nthis project, we’ll use a modified version of this code that has been packaged as a\nProcessing library to make it easier to embed in projects. Although the package nam-\ning has been changed, the majority of the code is from the original sources. The\nlibrary can be downloaded from the book’s web site at http://benfry.com/writing/\ntreemap/library.zip.\nUnzip the library.zip file, and place the treemap folder into your sketchbook folder.\nRestart Processing if it’s already running so that it picks up the new library. (Librar-\nies are covered in the “Libraries Add New Features” section in Chapter 2.)\nA Simple Treemap Example\nBefore returning to files, we’ll develop a short program to familiarize ourselves with\nhow treemaps work. Start a new sketch, and select Sketch ➝Import Library ➝\ntreemap. For this example, we’ll load a list of words from a file and then plot the rel-\native usage for each word. For the data set, we’ll use nearly 200,000 words from\nMark Twain’s Following the Equator and write an application that shows the relative\nfrequency of each word in the book. The data file can be found at http://benfry.com/\nwriting/treemap/equator.txt.\nAdd equator.txt to your sketch and make sure that it is copied to the data folder.\nTo use the treemap library at a high level, it’s necessary to become acquainted with\nthree classes. A SimpleMapItem class encapsulates a single element of a treemap dis-\nplay (in this case a word). The SimpleMapModel class is a list of SimpleMapItem objects.\nA third class, named Treemap, converts a SimpleMapModel object into a nicely laid out\n2D mapping.\nCreate a tab named WordItem with the following code:\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2373
  },
  {
    "chunk_full": "An Introduction to Treemaps\n|\n191\nclass WordItem extends SimpleMapItem {\n  String word;\n  WordItem(String word) {\n    this.word = word;\n  }\n  void draw( ) {\n    fill(255);\n    rect(x, y, w, h);\n    fill(0);\n    if (w > textWidth(word) + 6) {\n      if (h > textAscent( ) + 6) {\n        textAlign(CENTER, CENTER);\n        text(word, x + w/2, y + h/2);\n      }\n    }\n  }\n}\nEach SimpleMapItem object has x, y, w, and h variables that cover the boundary of the\nobject, and a draw( ) method that handles drawing the object to the screen. This\nimplementation of WordItem will draw each square as a white rectangle with black\ntext. However, the text is drawn only if the width and height of the text are smaller\nthan the width and height of the rectangle.\nCreate an additional tab named WordMap, and enter the following:\nclass WordMap extends SimpleMapModel {\n  HashMap words;\n  WordMap( ) {\n    words = new HashMap( );\n  }\n  void addWord(String word) {\n    WordItem item = (WordItem) words.get(word);\n    if (item == null) {\n      item = new WordItem(word);\n      words.put(word, item);\n    }\n    item.incrementSize( );\n  }\n  void finishAdd( ) {\n    items = new WordItem[words.size( )];\n    words.values( ).toArray(items);\n  }\n}\nThis class handles the list of WordItem objects. The items array is inherited from\nSimpleMapModel, and it simply needs to be filled by methods in WordMap. The WordMap\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2374
  },
  {
    "chunk_full": "192\n|\nChapter 7: Trees, Hierarchies, and Recursion\nclass has a HashMap object that maps between a word (as a String) and its associated\nWordItem object. This is used by the addWord( ) method, which either adds new\nentries to the HashMap for new words or calls the incrementSize( ) method for words\nalready found. After loading has finished, the finishAdd( ) method converts the val-\nues of the HashMap (a series of WordItem objects) into an array.\nFinally, the main tab should read as follows:\nimport treemap.*;\nTreemap map;\nvoid setup( ) {\n  size(1024, 768);\n  smooth( );\n  strokeWeight(0.25f);\n  PFont font = createFont(\"Serif\", 13);\n  textFont(font);\n  WordMap mapData = new WordMap( );\n  String[] lines = loadStrings(\"equator.txt\");\n  for (int i = 0; i < lines.length; i++) {\n    mapData.addWord(lines[i]);\n  }\n  mapData.finishAdd( );\n  map = new Treemap(mapData, 0, 0, width, height);\n  // Run draw( ) only once.\n  noLoop( );\n}\nvoid draw( ) {\n  background(255);\n  map.draw( );\n}\nThe first half of setup( ) should be familiar by now. The second half handles loading\nthe words from a file (one word per line) and adds each using the addWord( ) method.\nOnce finished reading the file, finishAdd( ) completes the loading process.\nThe Treemap class takes a MapModel (in this case, our WordMap class), along with dimen-\nsions for the treemap. Calling noLoop( ) is helpful; there’s no need to run draw( )\nmore than once because there’s no animation in this example.\nThe main draw( ) method calls the draw( ) method for Treemap, which calls WordMap.\ndraw( ), which then calls WordItem.draw( ) for each of the items. The result is shown\nin Figure 7-2.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2375
  },
  {
    "chunk_full": "An Introduction to Treemaps\n|\n193\nNote in this image how setting the strokeWeight( ) lower than one point makes thin\ngray lines. That is done so that the black text (the more important information) has\nbetter contrast compared to the lines that depict the edges of the boxes. Without the\nchange in weight, the lines would call too much attention to themselves because of\nthe detail and sheer number of the tiny boxes.\nIn just a few dozen lines of code, we’ve created a treemap representation of 200,000\nwords. Other (no doubt more interesting) data sets can be used as well. Simply make\nclasses that extend SimpleMapItem and SimpleMapModel, or read the library documen-\ntation included with the download for greater flexibility. At a minimum, refining the\nappearance of this image can be done easily by changing the draw( ) method inside\nWordItem. We could also add some filtering to remove stop words. Or, using the\nmining step, we could tag words based on parts of speech (adjective, verb, etc.) and\nuse those tags to group the words differently or change their coloring. In the next\nexample, we’ll look at more sophisticated extensions of the treemap library.\nFigure 7-2. Treemap depicting word usage in Mark Twain’s Following the Equator\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2376
  },
  {
    "chunk_full": "194\n|\nChapter 7: Trees, Hierarchies, and Recursion\nWhich Files Are Using the Most Space?\nReturning to the question that originally motivated Shneiderman’s experiments\nresulting in the treemap algorithms, we’ll now combine the last two examples\n(reading files and folders recursively, and the treemap) to create a treemap that\ndepicts the relative size of files and folders to get a better understanding of how disk\nspace is being used. Begin a new sketch, and import the treemap library.\nReading the Directory Structure (Acquire, Parse, Filter, Mine,\nRepresent)\nWe’ll begin with a FileItem object that extends SimpleMapItem, as in the example\nusing words. In this case, we’ll keep track of a File object instead of a String. Put\nthis code into a tab named FileItem. This code is very similar to the code for\nWordItem. The basic function is identical: encapsulate an object (the File), and han-\ndle drawing its name whenever the box is sufficiently large. The x, y, w, and h coordi-\nnates of the box are converted to corners in calcBox( ) (which gives us some\nflexibility later if we want to manipulate the coordinates to zoom in and out using\nthe techniques covered in Chapter 6):\nclass FileItem extends SimpleMapItem {\n  FolderItem parent;\n  File file;\n  String name;\n  int level;\n  float textPadding = 8;\n  float boxLeft, boxTop;\n  float boxRight, boxBottom;\n  FileItem(FolderItem parent, File file, int level, int order) {\n    this.parent = parent;\n    this.file = file;\n    this.order = order;\n    this.level = level;\n    name = file.getName( );\n    size = file.length( );\n  }\n  void calcBox( ) {\n    boxLeft = x;\n    boxTop = y;\n    boxRight = x + w;\n    boxBottom = y + h;\n  }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2377
  },
  {
    "chunk_full": "Which Files Are Using the Most Space?\n|\n195\n  void draw( ) {\n    calcBox( );\n    fill(255);\n    rect(boxLeft, boxTop, boxRight, boxBottom);\n    if (textFits( )) {\n      drawTitle( );\n    }\n  }\n  void drawTitle( ) {\n    fill(0);\n    textAlign(LEFT);\n    text(name, boxLeft + textPadding, boxBottom - textPadding);\n  }\n  boolean textFits( ) {\n    float wide = textWidth(name) + textPadding*2;\n    float high = textAscent( ) + textDescent( ) + textPadding*2;\n    return (boxRight - boxLeft > wide) && (boxBottom - boxTop > high);\n  }\n}\nIn another tab called FolderItem, we’ll add code to handle loading and listing the\ncontents of a folder. The contents will be stored as a list of FileItem and FolderItem\nobjects. For now, the draw( ) method in FileItem will be used by FolderItem. It’s not\nuncommon for drawing methods of trees to be in the leaves, as the branches are\noften structural and not something to be represented.\nThe FolderItem code is very similar to the recursive directory-reading code. One\nexception is that an order variable is used to keep track of the order of the files inside\nthe directory, and a depth variable stores the depth of that folder level. The order\nvariable is important to the treemap layout algorithm (which attempts to retain as\nmuch of the original order as possible). The depth variable will be helpful later when\naltering the representation based on the depth of the elements being viewed. The\ncontentsVisible field will be used to control whether the contents of a FolderItem\nare drawn as individual boxes or whether the item is shown as a single rectangle:\nclass FolderItem extends FileItem implements MapModel {\n  MapLayout algorithm = new PivotBySplitSize( );\n  Mappable[] items;\n  boolean contentsVisible;\n  boolean layoutValid;\n  public FolderItem(FolderItem parent, File folder, int level, int order) {\n    super(parent, folder, level, order);\n    String[] contents = folder.list( );\n    if (contents != null) {\n      contents = sort(contents);\n      items = new Mappable[contents.length];\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2378
  },
  {
    "chunk_full": "196\n|\nChapter 7: Trees, Hierarchies, and Recursion\n      int count = 0;\n      for (int i = 0; i < contents.length; i++) {\n        if (contents[i].equals(\".\") || contents[i].equals(\"..\")) {\n          continue;\n        }\n        File fileItem = new File(folder, contents[i]);\n        try {\n          String absolutePath = fileItem.getAbsolutePath( );\n          String canonicalPath = fileItem.getCanonicalPath( );\n          if (!absolutePath.equals(canonicalPath)) {\n            continue;\n          }\n        } catch (IOException e) { }\n        FileItem newItem = null;\n        if (fileItem.isDirectory( )) {\n          newItem = new FolderItem(this, fileItem, level+1, count);\n        } else {\n          newItem = new FileItem(this, fileItem, level+1, count);\n        }\n        items[count++] = newItem;\n        size += newItem.getSize( );\n      }\n      if (count != items.length) {\n        items = (Mappable[]) subset(items, 0, count);\n      }\n    } else {\n      // If no items found in this folder, create a dummy array so that\n      // items will not be null, which will ensure that items.length will\n      // return 0 rather than causing a NullPointerException.\n      items = new Mappable[0];\n    }\n  }\n  void checkLayout( ) {\n    if (!layoutValid) {\n      if (getItemCount( ) != 0) {\n        algorithm.layout(this, bounds);\n      }\n      layoutValid = true;\n    }\n  }\n  void draw( ) {\n    checkLayout( );\n    calcBox( );\n    if (contentsVisible) {\n      for (int i = 0; i < items.length; i++) {\n        items[i].draw( );\n      }\n    } else {\n      super.draw( );\n    }\n  }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2379
  },
  {
    "chunk_full": "Which Files Are Using the Most Space?\n|\n197\n  Mappable[] getItems( ) {\n    return items;\n  }\n  int getItemCount( ) {\n    return items.length;\n  }\n}\nThe checkLayout( ) method uses the layoutValid Boolean variable to check whether\nthis FolderItem has already had the treemap algorithm applied to it. If not, the\ntreemap library’s layout( ) method is called. The algorithm is specified at the begin-\nning of the class in this line:\n  MapLayout algorithm = new PivotBySplitSize( );\nThis class uses the Pivot by Split Size model of arranging a treemap. This makes for a\npleasing visual order and aspect ratios. You can also try other algorithms; for\ninstance, replacing the previous line with:\n  MapLayout algorithm = new SquarifiedLayout( );\nwill provide a very different layout representation that keeps each element in shapes\nthat are more square than rectangular. Other algorithms are covered in the library\ndocumentation. It might be possible to share a single MapLayout amongst all\nFolderItem objects, but this method prevents any conflicts between the algorithm\nand the folder data, and it provides some flexibility for changing the algorithm (for\ninstance, switching to a different algorithm when a folder contains a high number of\nidentically sized files or when there are extreme disparities in file size).\nThe code in the main tab creates the root FolderItem object, sets a font for the text,\nand calls the recursive draw( ) method of FolderItem to show the map, producing the\nimage shown in Figure 7-3. You’ll need to change the setRoot( ) line to point at\nsomething else on your own machine, but start with something on the small side—\nthis version of the code doesn’t use the queuing mechanism described earlier in this\nchapter, so the program will halt for a bit while all the files are loaded:\nimport treemap.*;\nFolderItem rootItem;\nPFont font;\npublic void setup( ) {\n  size(1024, 768);\n  rectMode(CORNERS);\n  font = createFont(\"SansSerif\", 13);\n  setRoot(new File(\"/Applications/Processing 0125\"));\n}\nvoid setRoot(File folder) {\n  FolderItem tm = new FolderItem(null, folder, 0, 0);\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2380
  },
  {
    "chunk_full": "198\n|\nChapter 7: Trees, Hierarchies, and Recursion\n  tm.setBounds(0, 0, width-1, height-1);\n  tm.contentsVisible = true;\n  rootItem = tm;\n}\nvoid draw( ) {\n  background(255);\n  textFont(font);\n  if (rootItem != null) {\n    rootItem.draw( );\n  }\n}\nThe boundary of the treemap is set to width-1 and height-1 so that the lower and\nright edges of the stroke around the boxes are visible. The application is 1024 × 768\npixels—the last pixel is 1,023 to the right and 767 to the bottom—and we want the\ntreemap to map perfectly to that boundary; see Figure 7-3.\nFigure 7-3. Treemap depicting relative sizes for subfolders of the Processing 0125 directory\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2381
  },
  {
    "chunk_full": "Viewing Folder Contents (Interact)\n|\n199\nViewing Folder Contents (Interact)\nSo far, we have only depicted the first layer of files because contentsVisible is set to\ntrue only for the root folder. We’ll use the mouse to navigate inside folders, mapping\nleft-clicks to show the contents of a folder and right-clicks to hide contents. This will\nproduce successively smaller boxes, making it even more impossible for the text to fit\nin each area. Because the text will be all but nonexistent for the majority of these tiny\nboxes, we’ll instead show the title for those boxes on mouse rollover.\nIn the main tab, the rollover is handled by a FileItem object for the current item\nunderneath the mouse cursor:\nFileItem rolloverItem;\nFor better precision, we can also specify the crosshairs cursor inside setup( ):\n  cursor(CROSS);\nMinor modifications reset the rolloverItem on each trip through draw( ), and draw\nthe title of the item once all other items have been drawn. The rollover title must be\ndrawn after everything else; otherwise, it may be covered by items that draw after it\n(this was first discussed in Chapter 2):\nvoid draw( ) {\n  background(0);\n  textFont(font);\n  rolloverItem = null;\n  if (rootItem != null) {\n    rootItem.draw( );\n  }\n  if (rolloverItem != null) {\n    rolloverItem.drawTitle( );\n  }\n}\nFinally, the mousePressed( ) method in the main tab should call the same method\ninside FolderItem so that the mouse clicks can be processed:\nvoid mousePressed( ) {\n  if (rootItem != null) {\n    rootItem.mousePressed( );\n  }\n}\nIn the FileItem tab, add a check for the mouse in the draw( ) method that will set this\nitem as the rollover when the mouse is inside its drawing area:\n  void draw( ) {\n    calcBox( );\n    fill(255);\n    rect(boxLeft, boxTop, boxRight, boxBottom);\n    if (textFits( )) {\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2382
  },
  {
    "chunk_full": "200\n|\nChapter 7: Trees, Hierarchies, and Recursion\n      drawTitle( );\n    } else if (mouseInside( )) {\n      rolloverItem = this;\n    }\n   }\nNote that this happens only if textFits( ) returns false—if it’s already visible,\nthere’s no need to draw it a second time.\nThe mouseInside( ) method checks the mouse position against the coordinates of the\nbox:\n  boolean mouseInside( ) {\n    return (mouseX > boxLeft && mouseX < boxRight &&\n            mouseY > boxTop && mouseY < boxBottom);\n  }\nAnd the mousePressed( ) method detects whether the right button was clicked, and if\nso, hides this item and its siblings by calling hideContents( ) on its parent FolderItem:\n  boolean mousePressed( ) {\n    if (mouseInside( )) {\n      if (mouseButton == RIGHT) {\n        parent.hideContents( );\n        return true;\n      }\n    }\n    return false;\n  }\nThe new methods for FolderItem are slightly more complicated. The mousePressed( )\nmethod first checks to see whether the folder’s contents are visible. If so, the mouse\npress is passed on to each of its child items. If any of those handle the mouse press,\nthey’ll return true, and the method will return. On the other hand, if the contents are\nnot visible, then a left mouse click will show them. A right mouse click behaves like a\nright-click in a FileItem, which will tell the parent to hide this item and its siblings.\nFor efficiency, the mousePressed( ) methods in FileItem and FolderItem return true if\nthey’ve handled the event. As the tree goes deeper, this will prevent unnecessary\nmousePressed( ) checks.\nThe methods for showing and hiding the contents simply set a variable, with an\nadditional check in hideContents( ) to prevent the user from collapsing the root level:\n  void showContents( ) {\n    contentsVisible = true;\n  }\n  void hideContents( ) {\n    // Prevent the user from closing the root level.\n    if (parent != null) {\n      contentsVisible = false;\n    }\n  }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2383
  },
  {
    "chunk_full": "Improving the Treemap Display (Refine)\n|\n201\nWhen contents are visible, it’s also necessary to hide the title of the parent item. To\ndo so, we override the drawTitle( ) method inherited from FileItem (remember that\nFolderItem extends FileItem, which means that it inherits all of FileItem’s fields and\nmethods). If the contents are not visible, we call super.drawTitle( ), which will run\nthe version of drawTitle( ) found in FileItem, which is the superclass.\nFigure 7-4 shows the same root folder as Figure 7-3 after clicking a few times to\nexpand individual folders. The ability to peek inside folders is helpful, but has also\ncreated a problem of how to distinguish boundaries for rectangles. Are we looking at\na folder at the root level or at the contents of a folder? In the next section, we’ll use\ncolor to convey more information about each level and its contents.\nImproving the Treemap Display (Reﬁne)\nBlack and white graphical displays have lost their appeal since 1984, and some color\nwill give the diagram a bit more interest. More importantly, it will serve as a way to\nfurther differentiate the boxes from one another. Because our visual cognition is\nquick to differentiate color, making the boxes into color fields will increase the speed\nwith which the diagram can be read.\nFigure 7-4. Treemap with additional subfolders expanded\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2384
  },
  {
    "chunk_full": "202\n|\nChapter 7: Trees, Hierarchies, and Recursion\nWith files and folders, we have a difficult dilemma with regard to color. Generally,\nit’s not a good idea to use more than five or six colors to differentiate items. To get\nmore colors, the obvious choice would be to use the hue/saturation/brightness (HSB)\ncolor space, and divide the 360 degrees of the hue color scale into equal increments\nfor the number of colors that you want. Such a mathematical approach to color is\nrarely a good idea, but we’ll make an exception in this case, as we’re only relying on\nthe colors to offset each field from the other, rather than using them as actual identi-\nfiers (e.g., where “dark red” is a signifier for some feature, and a user task might be\nlooking for other “dark red” items). We’ll also set the saturation and brightness lev-\nels in a way that prevents the colors from becoming garish. Set saturation to 80%,\nand set brightness, at least initially, to a random number between 20 and 80.\nIn the FileItem class, two additional fields for color and hue are added:\n  color c;\n  float hue;\n  float brightness;\nThe updateColors( ) method sets the color for this item based on its parent item’s\ncoloring. For the first level, only hue is used. For additional levels, shades of that hue\nare used, which will depict two layers of hierarchy quite clearly:\n  void updateColors( ) {\n    if (parent != null) {\n      hue = map(order, 0, parent.getItemCount( ), 0, 360);\n    }\n    brightness = random(20, 80);\n    colorMode(HSB, 360, 100, 100);\n    if (parent == rootItem) {\n      c = color(hue, 80, 80);\n    } else if (parent != null) {\n      c = color(parent.hue, 80, brightness);\n    }\n    colorMode(RGB, 255);\n  }\nThe hue is set by mapping the index of this item (its order) to a value between 0 and\n360. The brightness is set to a random value. The c variable stores the color value\nfor this rectangle so that the colors need not be recalculated on each trip through\ndraw( ). If this is the root item, colors are given a hue and a fixed saturation and\nbrightness. Subitems will use the random brightness value.\nInside the draw( ) method of FileItem, fill(255) must be changed to fill(c). And in\ndrawTitle( ), rather than black text (fill(0)), we’ll use fill(255, 200)—which gives\nus white plus a little bit of transparency—to prevent too much contrast between the\nwhite text and the colored rectangle beneath it.\nThe FolderItem class also needs an updateColors( ) method.\nIn the main tab, updateColors() needs to be called at the end of the setRoot() method:\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2385
  },
  {
    "chunk_full": "Improving the Treemap Display (Refine)\n|\n203\nvoid setRoot(File folder) {\n  FolderItem tm = new FolderItem(null, folder, 0, 0);\n  tm.setBounds(0, 0, width, height);\n  tm.contentsVisible = true;\n  rootItem = tm;\n  rootItem.updateColors( );\n}\nThe setBounds( ) method has also been modified to use width and height rather than\nwidth-1 and height-1. With the colors, we’ll no longer use a stroke around the items,\nso the coordinates needn’t be offset to include the line in the outer edge. At the same\ntime, use smooth( ) so that the rectangles line up with one another more accurately:\nvoid setup( ) {\n  size(1024, 768);\n  cursor(CROSS);\n  rectMode(CORNERS);\n  smooth( );\n  noStroke( );\n  font = createFont(\"SansSerif\", 13);\n  setRoot(new File(\"/Applications/Processing 0125\"));\n}\nIn Figure 7-5, in the upper-lefthand corner, various brightnesses of yellow are found\ntogether. A teal color appears in the upper right, and purple in the lower right. The\ncolored map does a much better job of grouping subfolders with their parent folders.\nFigure 7-5. Relative folder sizes with colors applied (using random brightness values)\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2386
  },
  {
    "chunk_full": "204\n|\nChapter 7: Trees, Hierarchies, and Recursion\nMaintaining Context (Reﬁne)\nIn spite of the previous improvements, much remains to be clarified. Once we’re\ninside a folder, there is no indication of the parent folder, which can be disorienting\nfor viewers. We can’t print the name of the parent folder in the same location\nbecause it would obscure the name of the entry inside. Instead, we can show the\nfolder name as a band at the top of an item whose contents are visible.\nShowing the title bar on all items would begin to make the diagram look messy; a\nbetter option is to show the tag for any folder that 1) the mouse is currently inside\nand 2) has contents that are visible. At the same time, we can dim the other folders,\ngiving a kind of spotlight effect to the folder we’re rolling over. That helps the\ndisplay because it further clarifies how elements are grouped together, while also\ndimming the colors further to prevent them from being too strong.\nThe structure closely resembles how rollovers are implemented. In the main tab, first\nadd a taggedItem variable:\nFolderItem taggedItem;\nThen, modify draw( ) to draw the tag after the rest of the drawing has completed:\nvoid draw( ) {\n  background(0);\n  textFont(font);\n  rolloverItem = null;\n  taggedItem = null;\n  if (rootItem != null) {\n    rootItem.draw( );\n  }\n  if (rolloverItem != null) {\n    rolloverItem.drawTitle( );\n  }\n  if (taggedItem != null) {\n    taggedItem.drawTag( );\n  }\n}\nIn the FolderItem class, add a field named darkness to keep track of the fade; the\nhigher this value, the more the original color is obscured:\n  float darkness;\nThe draw( ) method handles setting the taggedItem on rollover. When the mouse is\ninside the area, the darkness variable is decreased (multiplied by 0.05, a dramatic\ndecrease in value that means the highlighting effect happens quickly); otherwise, the\ndarkness is increased by five percent of the distance remaining until 150. To make\nthe other rectangles dim even more, use a value higher than 150. The darkness value\nis used to draw semitransparent black rectangles over any of the rectangles not cur-\nrently beneath the mouse, dimming the colors:\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2387
  },
  {
    "chunk_full": "Improving the Treemap Display (Refine)\n|\n205\n  void draw( ) {\n    checkLayout( );\n    calcBox( );\n    if (contentsVisible) {\n      for (int i = 0; i < items.length; i++) {\n        items[i].draw( );\n      }\n    } else {\n      super.draw( );\n    }\n    if (contentsVisible) {\n      if (mouseInside( )) {\n        taggedItem = this;\n      }\n    }\n    if (mouseInside( )) {\n      darkness *= 0.05;\n    } else {\n      darkness += (150 - darkness) * 0.05;\n    }\n    if (parent == rootItem) {\n      colorMode(RGB, 255);\n      fill(0, darkness);\n      rect(boxLeft, boxTop, boxRight, boxBottom);\n    }\n  }\nThe drawTag( ) method handles placement of the tag itself. If the height of the box is\nat least twice the height of the tag, the tag is drawn inside the box. Otherwise, if\nthere’s sufficient room above the box, then the tag is drawn there. Failing those two\ncases, the tag is drawn below:\n  void drawTag( ) {\n    float boxHeight = textAscent( ) + textPadding*2;\n    if (boxBottom - boxTop > boxHeight*2) {\n      // Try to draw the tag inside the box.\n      fill(0, 128);\n      rect(boxLeft, boxTop, boxRight, boxTop+boxHeight);\n      fill(255);\n      textAlign(LEFT, TOP);\n      text(name, boxLeft+textPadding, boxTop+textPadding);\n    } else if (boxTop > boxHeight) {\n      // If there's enough room to draw above, draw it there.\n      fill(0, 128);\n      rect(boxLeft, boxTop-boxHeight, boxRight, boxTop);\n      fill(255);\n      text(name, boxLeft+textPadding, boxTop-textPadding);\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2388
  },
  {
    "chunk_full": "206\n|\nChapter 7: Trees, Hierarchies, and Recursion\n    } else if (boxBottom + boxHeight < height) {\n      // Otherwise, draw the tag below.\n      fill(0, 128);\n      rect(boxLeft, boxBottom, boxRight, boxBottom+boxHeight);\n      fill(255);\n      textAlign(LEFT, TOP);\n      text(name, boxLeft+textPadding, boxBottom+textPadding);\n    }\n  }\nThe tag is simply a translucent black (fill(0, 128)) rectangle with the text drawn\nabove it in white. A tagged version of the reference folder from Figure 7-5 is shown in\nFigure 7-6.\nNotice how in the previous code, the exception cases (where the box is too small or\nplaced at an edge) account for the majority of the code, and the majority case takes\njust six lines of code. This is the devil in the details—the extra 15% that requires\n85% of the work. You’ll run into this any time you try to get things just right; the key\nis to be aware of it and prevent it from taking over your code. And it’s not specific to\nthe visual design aspect of such projects: it’s the same issue that results in the\nchanges between the original version of the Node class that begins this chapter and\nthe full version of the code in Example 7-1.\nMaking Colors More Useful (Mine, Reﬁne)\nThe random fluctuations of the color brightness for expanded items suggest another\nfeature for our treemap. The shifting brightness prevents the diagram from looking\ntoo much like a full spectrum scale scientific diagram, the way that many visualiza-\ntions using the HSB palette tend to look, but it’s still not enough. Because color is so\nprevalent for our visual system, it’s especially important to make sure that color cues\nare used in a meaningful manner. In this case, rather than randomly choosing bright-\nness, a better option is to assign brightness based on the date the file was last\nmodified.\nFigure 7-6. Showing the parent folder’s name as a tag\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2389
  },
  {
    "chunk_full": "Improving the Treemap Display (Refine)\n|\n207\nModification times of files will follow strange patterns, so it’s important to figure out\na proper means of scaling the brightness levels. Although most of your files may have\nbeen modified within the last few months, some updates may be a few years old,\nwith some dating to when you first purchased the machine. You might even have a\nfile that’s 10 years old, something from the archives or a random download from the\nInternet.\nA linear scale isn’t very useful when considering file times. A logarithmic scale could\nbe used, but the file distribution is probably not completely logarithmic because\nthere will be significant spikes for things such as files associated with the operating\nsystem. Windows XP, for instance, has thousands of files marked 5 p.m., August 22,\n2001, coinciding with the freeze date for the code (or arbitrarily chosen to mark the\nfinal version of the code).\nOne option is to put all the file dates and times into an array, sort them, and use\ntheir rank order as a means of showing the relative age of files. You can choose\nwhether to consider multiple instances of the same time stamp as a single entry, but\nfor a true percentile, all values should be used. RankedLongArray.pde contains a class\nthat keeps track of a large array of longs (used to store time values), providing meth-\nods for adding new values, or for getting the percentile of a particular value.\nDownload this file from http://benfry.com/writing/treemap/RankedLongArray.pde and\ndrag it into the sketch window to add it. The specifics of this code are not particu-\nlarly important; suffice it to say that there is an add( ) method that adds a single long\nto the array, and a percentile( ) method that returns a number between 0 and 1 to\ndescribe the relative location of the number in the list. The number will be used to\ndetermine the brightness value for the item in question.\nThe search algorithm for the percentile( ) method grabs the first\nvalue found, which may or may not be the first or last instance of that\nparticular value in the list. The algorithm is a simple binary search,\nwhich takes a list, splits it in half, and asks the question, “Is the value\nin the upper or lower half?” Having determined the answer, it then\nrepeats the same process on that half. This search method (recursive,\nlike so many of the concepts in this chapter) is useful for its efficiency.\nA single RankedLongArray object will be shared by all items, so the variable is declared\nglobally at the beginning of the first tab:\nRankedLongArray modTimes = new RankedLongArray( );\nIn the FileItem tab, the date is added to the list at the end of the constructor:\n    modTimes.add(file.lastModified( ));\nBecause the FolderItem subclass inherits this from FileItem, this line will be called\nfor all FolderItem objects as well.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2390
  },
  {
    "chunk_full": "208\n|\nChapter 7: Trees, Hierarchies, and Recursion\nThe final change is to alter the line that sets the brightness value inside\nupdateColors( ) to use the modTimes object instead of random( ). Instead of:\n    brightness = random(20, 80);\nthe percentile( ) method calculates the location of this file’s modification time\namongst all the modification times in question. The value is multiplied by 100 to\ncover the brightness range from 0 to 100:\n    brightness = modTimes.percentile(file.lastModified( )) * 100;\nI’ll skip a figure for this one, as the change in colors (from random to directed by\nmodification time) isn’t particularly meaningful unless you’re interacting with the\nsoftware and are familiar with the files and folders in question.\nFlying Through Files (Interact)\nOf course, with thousands of files in question, and half a dozen or more layers of\ndepth, we really want to be able to zoom in to each level to see what’s inside. After\nclicking through one or two levels of depth, not only does the display get confusing,\nbut the individual rectangles become much too small to use.\nA treemap representation tends to work best when showing two layers of hierarchy.\nAdditional layers can become difficult to follow due to space constraints (how to\nsubdivide while also labeling subdivisions) and visual difficulties (how to differenti-\nate multiple levels of hierarchy shown in the same instance). Rather than trying to\nfigure out ever more complicated ways to shoehorn multiple layers into the display,\nwe’re better off simply showing just two layers, and when a user wants to travel past\nthose two, we can zoom to the next pair of layers that make sense. For instance, the\ncontents of the reference folder are visible in both Figures 7-5 and 7-6. Once the user\nreaches that level, an additional click will zoom just the reference area to fill the\nentire screen. Further clicks will open the subfolders of that folder and even zoom to\ntheir contents.\nThe basic idea behind the zoom is similar to the technique used in Chapter 6. We’ll\nuse a class called BoundsIntegrator, which essentially combines four Integrator\nobjects, one each for the x, y, w, and h values to be used for the zoom. The first two\nvalues are the starting point, and the last two are the span to be mapped into. The\nclass can be downloaded from http://benfry.com/writing/treemap/BoundsIntegrator.\njava.\nDownload this file and use Sketch ➝Add File, or drag it to the editor window.\nExample 7-2 shows the main tab with modifications to support zooming.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2391
  },
  {
    "chunk_full": "Flying Through Files (Interact)\n|\n209\nExample 7-2. Main tab of the treemap sketch, modified to include zooming\nimport treemap.*;\nFolderItem rootItem;\nFileItem rolloverItem;\nFolderItem taggedItem;\nBoundsIntegrator zoomBounds;\nFolderItem zoomItem;\nRankedLongArray modTimes = new RankedLongArray( );\nPFont font;\nvoid setup( ) {\n  size(1024, 768);\n  zoomBounds = new BoundsIntegrator(0, 0, width, height);\n  cursor(CROSS);\n  rectMode(CORNERS);\n  smooth( );\n  noStroke( );\n  font = createFont(\"SansSerif\", 13);\n  setRoot(new File(\"/Applications/Processing 0125\"));\n}\nvoid setRoot(File folder) {\n  FolderItem tm = new FolderItem(null, folder, 0, 0);\n  tm.setBounds(0, 0, width, height);\n  tm.contentsVisible = true;\n  rootItem = tm;\n  rootItem.zoomIn( );\n  rootItem.updateColors( );\n}\nvoid draw( ) {\n  background(0);\n  textFont(font);\n  frameRate(30);\n  zoomBounds.update( );\n  rolloverItem = null;\n  taggedItem = null;\n  if (rootItem != null) {\n    rootItem.draw( );\n  }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2392
  },
  {
    "chunk_full": "210\n|\nChapter 7: Trees, Hierarchies, and Recursion\nCalling zoomIn( ) on rootItem inside setRoot( ) sets the initial zoomItem as rootItem.\nThe zooming also expands the use of the rootItem variable. Because some rectangles\nwill be off screen, mousePressed( ) need only be called on zoomItem and its\ndescendants.\nBecause this is now an animation, it’s necessary to set the frame rate inside draw( ),\nand call the update( ) method of zoomBounds, the same way we call the update( )\nmethod on Integrator objects in previous projects.\nUpdating FileItem for zoom\nThe most important change to the FileItem class is the calcBox( ) method, which\nnow calculates the values for boxLeft and the rest using the zoomBounds object. The\nmapX( ) and mapY( ) methods stretch and squeeze x- and y-coordinates based on the\ncurrent values of zoomBounds. The second and third parameters of spanX and spanY\ncontrol the range for the outgoing values. Example 7-3 shows the complete function.\n  if (rolloverItem != null) {\n    rolloverItem.drawTitle( );\n  }\n  if (taggedItem != null) {\n    taggedItem.drawTag( );\n  }\n}\nvoid mousePressed( ) {\n  if (zoomItem != null) {\n    zoomItem.mousePressed( );\n  }\n}\nExample 7-3. Final version of FileItem that supports zooming\nclass FileItem extends SimpleMapItem {\n  FolderItem parent;\n  File file;\n  String name;\n  int level;\n  color c;\n  float hue;\n  float brightness;\n  float textPadding = 8;\n  float boxLeft, boxTop;\n  float boxRight, boxBottom;\nExample 7-2. Main tab of the treemap sketch, modified to include zooming (continued)\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2393
  },
  {
    "chunk_full": "Flying Through Files (Interact)\n|\n211\n  FileItem(FolderItem parent, File file, int level, int order) {\n    this.parent = parent;\n    this.file = file;\n    this.order = order;\n    this.level = level;\n    name = file.getName( );\n    size = file.length( );\n    modTimes.add(file.lastModified( ));\n  }\n  void updateColors( ) {\n    if (parent != null) {\n      hue = map(order, 0, parent.getItemCount( ), 0, 360);\n    }\n    brightness = modTimes.percentile(file.lastModified( )) * 100;\n    colorMode(HSB, 360, 100, 100);\n    if (parent == zoomItem) {\n      c = color(hue, 80, 80);\n    } else if (parent != null) {\n      c = color(parent.hue, 80, brightness);\n    }\n    colorMode(RGB, 255);\n  }\n  void calcBox( ) {\n    boxLeft = zoomBounds.spanX(x, 0, width);\n    boxRight = zoomBounds.spanX(x+w, 0, width);\n    boxTop = zoomBounds.spanY(y, 0, height);\n    boxBottom = zoomBounds.spanY(y+h, 0, height);\n  }\n  void draw( ) {\n    calcBox( );\n    fill(c);\n    rect(boxLeft, boxTop, boxRight, boxBottom);\n    if (textFits( )) {\n      drawTitle( );\n    } else if (mouseInside( )) {\n      rolloverItem = this;\n    }\n   }\n  void drawTitle( ) {\n    fill(255, 200);\nExample 7-3. Final version of FileItem that supports zooming (continued)\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2394
  },
  {
    "chunk_full": "212\n|\nChapter 7: Trees, Hierarchies, and Recursion\nThe drawTitle( ) method also becomes a little trickier. As items approach the edge,\nwe’ll want to right-align the text (in fact, this could have been done in previous\nsteps). However, we don’t want to draw those items if they’re actually off screen,\ngiven the current zoom settings. So, first we check whether the midpoint of the box\nis on screen before drawing any title.\n    float middleX = (boxLeft + boxRight) / 2;\n    float middleY = (boxTop + boxBottom) / 2;\n    if (middleX > 0 && middleX < width && middleY > 0 && middleY < height) {\n      if (boxLeft + textWidth(name) + textPadding*2 > width) {\n        textAlign(RIGHT);\n        text(name, width - textPadding, boxBottom - textPadding);\n      } else {\n        textAlign(LEFT);\n        text(name, boxLeft + textPadding, boxBottom - textPadding);\n      }\n    }\n  }\n  boolean textFits( ) {\n    float wide = textWidth(name) + textPadding*2;\n    float high = textAscent( ) + textDescent( ) + textPadding*2;\n    return (boxRight - boxLeft > wide) && (boxBottom - boxTop > high);\n  }\n  boolean mouseInside( ) {\n    return (mouseX > boxLeft && mouseX < boxRight &&\n            mouseY > boxTop && mouseY < boxBottom);\n  }\n  boolean mousePressed( ) {\n    if (mouseInside( )) {\n      if (mouseButton == LEFT) {\n        parent.zoomIn( );\n        return true;\n      } else if (mouseButton == RIGHT) {\n        if (parent == zoomItem) {\n          parent.zoomOut( );\n        } else {\n          parent.hideContents( );\n        }\n        return true;\n      }\n    }\n    return false;\n  }\n}\nExample 7-3. Final version of FileItem that supports zooming (continued)\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2395
  },
  {
    "chunk_full": "Flying Through Files (Interact)\n|\n213\nFinally, the mousePressed( ) method contains enhancements to trigger the zoom.\nClicking a FileItem will zoom the view to dimensions of its parent FolderItem. In the\nsame manner, a right-click will first hide the contents of the parent item, or call the\nzoomOut( ) method on the parent if the contents are already hidden. Calling zoomOut( )\non an item sets its parent, FolderItem, to fill the screen.\nUpdating FolderItem\nThe changes to FolderItem are similar to those of FileItem. Most of the changes are\ninside mousePressed( ), and they handle triggering a zoom when the contents of a\nfolder are already visible:\nclass FolderItem extends FileItem implements MapModel {\n  MapLayout algorithm = new PivotBySplitSize( );\n  Mappable[] items;\n  boolean contentsVisible;\n  boolean layoutValid;\n  float darkness;\n  public FolderItem(FolderItem parent, File folder, int level, int order) {\n    super(parent, folder, level, order);\n    String[] contents = folder.list( );\n    if (contents != null) {\n     contents =sort(contents);\n      items = new Mappable[contents.length];\n      int count = 0;\n      for (int i = 0; i < contents.length; i++) {\n        if (contents[i].equals(\".\") || contents[i].equals(\"..\")) {\n          continue;\n        }\n        File fileItem = new File(folder, contents[i]);\n        try {\n          String absolutePath = fileItem.getAbsolutePath( );\n          String canonicalPath = fileItem.getCanonicalPath( );\n          if (!absolutePath.equals(canonicalPath)) {\n            continue;\n          }\n        } catch (IOException e) { }\n        FileItem newItem = null;\n        if (fileItem.isDirectory( )) {\n          newItem = new FolderItem(this, fileItem, level+1, count);\n        } else {\n          newItem = new FileItem(this, fileItem, level+1, count);\n        }\n        items[count++] = newItem;\n        size += newItem.getSize( );\n      }\n      if (count != items.length) {\n        items = (Mappable[]) subset(items, 0, count);\n      }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2396
  },
  {
    "chunk_full": "214\n|\nChapter 7: Trees, Hierarchies, and Recursion\n    } else {\n      // If no items found in this folder, create a dummy array so that\n      // items will not be null, which will ensure that items.length will\n      // return 0 rather than causing a NullPointerException.\n      items = new Mappable[0];\n    }\n  }\n  void updateColors( ) {\n    super.updateColors( );\n    for (int i = 0; i < items.length; i++) {\n      FileItem fi = (FileItem) items[i];\n      fi.updateColors( );\n    }\n  }\n  void checkLayout( ) {\n    if (!layoutValid) {\n      if (getItemCount( ) != 0) {\n        algorithm.layout(this, bounds);\n      }\n      layoutValid = true;\n    }\n  }\n  boolean mousePressed( ) {\n    if (mouseInside( )) {\n      if (contentsVisible) {\n        // Pass the mouse press to the child items.\n        for (int i = 0; i < items.length; i++) {\n          FileItem fi = (FileItem) items[i];\n          if (fi.mousePressed( )) {\n            return true;\n          }\n        }\n      } else { // not opened\n        if (mouseButton == LEFT) {\n          if (parent == zoomItem) {\n            showContents( );\n          } else {\n            parent.zoomIn( );\n          }\n        } else if (mouseButton == RIGHT) {\n          if (parent == zoomItem) {\n            parent.zoomOut( );\n          } else {\n            parent.hideContents( );\n          }\n        }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2397
  },
  {
    "chunk_full": "Flying Through Files (Interact)\n|\n215\n        return true;\n      }\n    }\n    return false;\n  }\n  // Zoom to the parent's boundary, zooming out from this item.\n  void zoomOut( ) {\n    if (parent != null) {\n      // Close contents of any opened children.\n      for (int i = 0; i < items.length; i++) {\n        if (items[i] instanceof FolderItem) {\n          ((FolderItem)items[i]).hideContents( );\n        }\n      }\n      parent.zoomIn( );\n    }\n  }\n  void zoomIn( ) {\n    zoomItem = this;\n    zoomBounds.target(x, y, w, h);\n  }\n  void showContents( ) {\n    contentsVisible = true;\n  }\n  void hideContents( ) {\n    // Prevent the user from closing the root level.\n    if (parent != null) {\n      contentsVisible = false;\n    }\n  }\n  void draw( ) {\n    checkLayout( );\n    calcBox( );\n    if (contentsVisible) {\n      for (int i = 0; i < items.length; i++) {\n        items[i].draw( );\n      }\n    } else {\n      super.draw( );\n    }\n    if (contentsVisible) {\n      if (mouseInside( )) {\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2398
  },
  {
    "chunk_full": "216\n|\nChapter 7: Trees, Hierarchies, and Recursion\n        if (parent == zoomItem) {\n          taggedItem = this;\n        }\n      }\n    }\n    if (mouseInside( )) {\n      darkness *= 0.05;\n    } else {\n      darkness += (150 - darkness) * 0.05;\n    }\n    if (parent == zoomItem) {\n      colorMode(RGB, 255);\n      fill(0, darkness);\n      rect(boxLeft, boxTop, boxRight, boxBottom);\n    }\n  }\n  void drawTitle( ) {\n    if (!contentsVisible) {\n      super.drawTitle( );\n    }\n  }\n  void drawTag( ) {\n    float boxHeight = textAscent( ) + textPadding*2;\n    if (boxBottom - boxTop > boxHeight*2) {\n      // If the height of the box is at least twice the height of the tag,\n      // draw the tag inside the box itself.\n      fill(0, 128);\n      rect(boxLeft, boxTop, boxRight, boxTop+boxHeight);\n      fill(255);\n      textAlign(LEFT, TOP);\n      text(name, boxLeft+textPadding, boxTop+textPadding);\n    } else if (boxTop > boxHeight) {\n      // If there's enough room to draw above, draw it there.\n      fill(0, 128);\n      rect(boxLeft, boxTop-boxHeight, boxRight, boxTop);\n      fill(255);\n      text(name, boxLeft+textPadding, boxTop-textPadding);\n    } else if (boxBottom + boxHeight < height) {\n      // Otherwise, draw the tag below.\n      fill(0, 128);\n      rect(boxLeft, boxBottom, boxRight, boxBottom+boxHeight);\n      fill(255);\n      textAlign(LEFT, TOP);\n      text(name, boxLeft+textPadding, boxBottom+textPadding);\n    }\n  }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2399
  },
  {
    "chunk_full": "Flying Through Files (Interact)\n|\n217\n  Mappable[] getItems( ) {\n    return items;\n  }\n  int getItemCount( ) {\n    return items.length;\n  }\n}\nFigure 7-7 shows the reference section zoomed as well as the contents of another sub-\nitem (libraries).\nAdding a Folder Selection Dialog (Interact)\nNow that we’ve implemented selecting, showing, and hiding, as well as support for\nzooming, the display phase of this project is complete. At this stage, a dialog box to\nselect a folder would be a big help for anyone using the application. For this, we turn\nto Java’s Swing UI Toolkit. The following method will open a folder chooser dialog\nand, if the user clicks OK, pass the selected folder to setRoot( ):\nFigure 7-7. Result of zooming the reference folder to full screen\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2400
  },
  {
    "chunk_full": "218\n|\nChapter 7: Trees, Hierarchies, and Recursion\nvoid selectRoot( ) {\n  SwingUtilities.invokeLater(new Runnable( ) {\n    public void run( ) {\n      JFileChooser fc = new JFileChooser( );\n      fc.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);\n      fc.setDialogTitle(\"Choose a folder to browse...\");\n      int returned = fc.showOpenDialog(frame);\n      if (returned == JFileChooser.APPROVE_OPTION) {\n        File file = fc.getSelectedFile( );\n        setRoot(file);\n      }\n    }\n  });\n}\nBy replacing the setRoot( ) line in setup( ) with selectRoot( ), the program will begin\nby opening the prompt to allow the user to select a file.\nThe core of the selectRoot( ) method is the following:\nJFileChooser fc = new JFileChooser( );\nfc.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);\nfc.setDialogTitle(\"Choose a folder to browse...\");\nint returned = fc.showOpenDialog(frame);\nif (returned == JFileChooser.APPROVE_OPTION) {\n  File file = fc.getSelectedFile( );\n  setRoot(file);\n }\nHowever, to prevent threading issues with Swing, the invokeLater( ) method is used,\nwhich runs the code on a separate thread. The thread is created inline by wrapping\nthe core code in a Runnable (the way you would with any other thread; see the\nSlurper object in Chapter 6). Essentially the syntax is shorthand for the following:\nvoid selectRoot( ) {\n  Runnable ct = new ChooserThread( );\n  SwingUtilities.invokeLater(ct);\n}\nclass ChooserThread implements Runnable {\n  public void run( ) {\n    JFileChooser fc = new JFileChooser( );\n    fc.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);\n    fc.setDialogTitle(\"Choose a folder to browse...\");\n    int returned = fc.showOpenDialog(frame);\n    if (returned == JFileChooser.APPROVE_OPTION) {\n      File file = fc.getSelectedFile( );\n      setRoot(file);\n    }\n  }\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2401
  },
  {
    "chunk_full": "Next Steps\n|\n219\nNext Steps\nIf you tried this example with a large folder, you probably noticed how the UI locks\nup until files have finished reading. Implementing the queuing mechanism (with\nprogress bar), described in the earlier part of the chapter, will provide a much better\nuser experience, but I’ll leave that as an exercise for the reader.\nShowing relative folder sizes is a useful example, but perhaps less engaging than a\nmore sophisticated project. Using the methods in this chapter, you can adapt the\ntreemap code to any data set you wish, whether a single-level data set like the Mark\nTwain example or one with several levels of hierarchy with zooming control.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2402
  },
  {
    "chunk_full": "220\nChapter 8\nCHAPTER 8\nNetworks and Graphs\n8\nA graph is a collection of elements, usually called nodes, linked together by edges\n(sometimes called branches). It is a common structure for mapping connections of\nmany related elements. This is partly because the visual representation of a network\nshows the sort of connectedness that makes sense to someone familiar with the data,\nwhether as a free-form map of associations written out on paper (sometimes called a\nmind map) or, in computer science, as a visual analogue to a common data model for\nconnections between many elements.\nGraphs are very popular nowadays, but they’re often not as informative as other\nmore specific ways to represent the connections between items of data. This chapter\nshows a graph that works for the data in question and another that doesn’t. This will\nhelp us explore the strengths and weaknesses of graphs and learn how to make them\nuseful.\nAlong the way, we’ll examine the general problem of dealing with quantities of data\ntoo large to show meaningfully. We’ll use a lot of mining, filtering, and interaction to\nbring out the meaning in a large data set.\nThis chapter also takes you out of the comfortable but limited Processing IDE used\nin previous chapters, and shows you how to integrate the Processing libraries with\nEclipse or another Java environment of your choice.\nBefore getting too deep into the theory of graphs, let’s start with a simple example\nthat will help illustrate some of the successes and difficulties of representing inter-\nconnected data.\nSimple Graph Demo\nDistributions of Java since 1.0 have included a demonstration applet named\nGraphLayout. The applet is a good starting point for learning about graph drawing\nmethods. The example and its source code can be found online at http://java.sun.\ncom/applets/jdk/1.4/demo/applets/GraphLayout/example1.html.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2403
  },
  {
    "chunk_full": "Simple Graph Demo\n|\n221\nThe demo is shown in Figure 8-1.\nWe’ll start by making a version of this code that uses Processing syntax, and later\nexpand on the code to make the finished result more interesting.\nPorting from Java to Processing\nOne advantage of the move to Processing syntax is that we can hide most of the\ndetails of event handling, threading, and double buffering; all of these are handled\nautomatically by Processing. As a result, much of the original code can be removed,\nsimplifying the example considerably. The original code is a single .java file that con-\ntains four classes:\nNode\nContains information for a single node of data\nEdge\nDescribes a connection between two nodes, and its length\nGraphPanel\nThe drawing surface that does most of the work\nGraph\nThe base Applet object that handles loading a data set and starting a thread\nFigure 8-1. The original Java GraphLayout demo\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2404
  },
  {
    "chunk_full": "222\n|\nChapter 8: Networks and Graphs\nIn the Processing version, GraphPanel and Graph are merged into a single class that\nwill be the main tab of a new sketch. Make additional tabs for the Node and Edge\nclasses. The code in the main panel begins with a pair of arrays, one that stores Node\nobjects and another that stores Edges:\nint nodeCount;\nNode[] nodes = new Node[100];\nHashMap nodeTable = new HashMap( );\nint edgeCount;\nEdge[] edges = new Edge[500];\nNext are some constants for the colors:\nstatic final color nodeColor = #F0C070;\nstatic final color selectColor = #FF3030;\nstatic final color fixedColor = #FF8080;\nstatic final color edgeColor = #000000;\nThe nodeColor is the yellow background for the box around each node. Clicking a\nnode will fix it in place and change its color to fixedColor. If a node is being dragged,\nselectColor will be used. The edgeColor will be used to draw edges as a line between\ntwo nodes.\nThe setup( ) method creates the structure that will be used later for drawing, but\ndoes nothing related to the node layout on the screen; that will be handled later by\nthe draw( ) method. setup( ) creates various parts of the structure with the assistance\nof a few other functions: addEdge( ), findNode( ), and addNode( ).\nThe setup( ) code sets the size, calls the loadData( ) method, and creates a font for\nlater use:\nPFont font;\nvoid setup( ) {\n  size(600, 600);\n  loadData( );\n  font = createFont(\"SansSerif\", 10);\n  textFont(font);\n  smooth( );\n}\nvoid loadData( ) {\n  addEdge(\"joe\", \"food\");\n  addEdge(\"joe\", \"dog\");\n  addEdge(\"joe\", \"tea\");\n  addEdge(\"joe\", \"cat\");\n  addEdge(\"joe\", \"table\");\n  addEdge(\"table\", \"plate\");\n  addEdge(\"plate\", \"food\");\n  addEdge(\"food\", \"mouse\");\n  addEdge(\"food\", \"dog\");\n  addEdge(\"mouse\", \"cat\");\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2405
  },
  {
    "chunk_full": "Simple Graph Demo\n|\n223\n  addEdge(\"table\", \"cup\");\n  addEdge(\"cup\", \"tea\");\n  addEdge(\"dog\", \"cat\");\n  addEdge(\"cup\", \"spoon\");\n  addEdges(\"plate\", \"fork\");\n  addEdge(\"dog\", \"flea1\");\n  addEdge(\"dog\", \"flea2\");\n  addEdge(\"flea1\", \"flea2\");\n  addEdge(\"plate\", \"knife\");\n}\nAdding an edge is a matter of finding each node by its name, and creating a node if it\ndoesn’t exist. Once both are found, a new Edge object is created and added to the\nedges array. If the array is full, it is first expanded:\nvoid addEdge(String fromLabel, String toLabel) {\n  Node from = findNode(fromLabel);\n  Node to = findNode(toLabel);\n  Edge e = new Edge(from, to);\n  if (edgeCount == edges.length) {\n    edges = (Edge[]) expand(edges);\n  }\n  edges[edgeCount++] = e;\n}\nWe use expand( ) instead of Java’s ArrayList or Vector classes because arrays are\nmore runtime speed-efficient. This becomes especially important when dealing with\nthousands of nodes. The findNode( ) function uses a HashMap to efficiently look up a\nnode based on its label. If none is found, addNode( ) is called:\nNode findNode(String label) {\n  label = label.toLowerCase( );\n  Node n = (Node) nodeTable.get(label);\n  if (n == null) {\n    return addNode(label);\n  }\n  return n;\n}\nThe addNode( ) method is much like addEdge( ), but also puts the node into the\nnodeTable so that it can be retrieved by name:\nNode addNode(String label) {\n  Node n = new Node(label);\n  if (nodeCount == nodes.length) {\n    nodes = (Node[]) expand(nodes);\n  }\n  nodeTable.put(label, n);\n  nodes[nodeCount++] = n;\n  return n;\n}\nWe are now ready to deal with screen layout. The draw( ) method for this sketch iter-\nates through each of the edges and nodes, calling relax( ), update( ), and draw( )\nmethods of Edge and Node along the way.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2406
  },
  {
    "chunk_full": "224\n|\nChapter 8: Networks and Graphs\nThe relax( ) methods calculate the placement of each node and lengths for each\nedge. This is handled by a kind of toy physics simulation, known as force-directed\nlayout, which reaches an optimal layout through a series of calculations. In a force-\ndirected layout, edges act like springs that have a target length (also called their rest\nlength). At each step, each Edge tries to get its length a little closer to its target length.\nBecause several edges are interconnected, the elements push and pull on one\nanother. Over time, the lengths reconcile to a best-possible fit (though there may still\nbe a bit of wiggle, particularly with the algorithm used here). The process of apply-\ning the forces is called relaxation.\nIn the original code, a single relax( ) function calculates the edge lengths and the\nnode movement, and then updates the node locations. In the Processing version, that\nlarge relax function is broken into separate methods in both Edge and Node, which are\ncalled in turn from draw( ). The edges are drawn before the nodes so that the lines for\nthe edges draw behind the node labels rather than through them:\nvoid draw( ) {\n  background(255);\n  for (int i = 0 ; i < edgeCount ; i++) {\n    edges[i].relax( );\n  }\n  for (int i = 0; i < nodeCount; i++) {\n    nodes[i].relax( );\n  }\n  for (int i = 0; i < nodeCount; i++) {\n    nodes[i].update( );\n  }\n  for (int i = 0 ; i < edgeCount ; i++) {\n    edges[i].draw( );\n  }\n  for (int i = 0 ; i < nodeCount ; i++) {\n    nodes[i].draw( );\n  }\n}\nInteracting with Nodes\nOf course, we want to be able to interact with the data and drag nodes around, so a\nfew more methods cover using the mouse to manipulate the nodes. The selection\nvariable is used to store a current selection. The mousePressed( ) method behaves\nsimilarly to mouse methods used elsewhere in the book (see the section “Provide\nMore Information with a Mouse Rollover (Interact)” in Chapter 3). The left mouse\nbutton fixes a node in place, while the right mouse button sets it free again. Drag-\nging the mouse offsets the location of the currently selected node, and releasing the\nmouse nullifies the selection:\nNode selection;\nvoid mousePressed( ) {\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2407
  },
  {
    "chunk_full": "Simple Graph Demo\n|\n225\n  // Ignore anything greater than this distance.\n  float closest = 20;\n  for (int i = 0; i < nodeCount; i++) {\n    Node n = nodes[i];\n    float d = dist(mouseX, mouseY, n.x, n.y);\n    if (d < closest) {\n      selection = n;\n      closest = d;\n    }\n  }\n  if (selection != null) {\n    if (mouseButton == LEFT) {\n      selection.fixed = true;\n    } else if (mouseButton == RIGHT) {\n      selection.fixed = false;\n    }\n  }\n}\nvoid mouseDragged( ) {\n  if (selection != null) {\n    selection.x = mouseX;\n    selection.y = mouseY;\n  }\n}\nvoid mouseReleased( ) {\n  selection = null;\n}\nThe Edge object has fields for the two nodes it connects and a target length. The\nrelax( ) method is the portion of the method from the original source that covers\nrelaxation of a single edge. It calculates a portion of offset that will move the edge\ncloser to its target length (len). The draw( ) method sets the stroke color and draws a\nline between the two node locations:\nclass Edge {\n  Node from;\n  Node to;\n  float len;\n  Edge(Node from, Node to) {\n    this.from = from;\n    this.to = to;\n    this.len = 50;\n  }\n  void relax( ) {\n    float vx = to.x - from.x;\n    float vy = to.y - from.y;\n    float d = mag(vx, vy);\n    if (d > 0) {\n      float f = (len - d) / (d * 3);\n      float dx = f * vx;\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2408
  },
  {
    "chunk_full": "226\n|\nChapter 8: Networks and Graphs\n      float dy = f * vy;\n      to.dx += dx;\n      to.dy += dy;\n      from.dx -= dx;\n      from.dy -= dy;\n    }\n  }\n  void draw( ) {\n    stroke(edgeColor);\n    strokeWeight(0.35);\n    line(from.x, from.y, to.x, to.y);\n  }\n}\nWe won’t get into the specifics of the relaxation algorithm because\nthey get complicated quickly and don’t offer much insight in the con-\ntext of a book on visualization. If you find this sort of thing interest-\ning, do a search for force-directed graph layout algorithms. General\nbackground about using physical simulations to calculate forces that\nhandle movement and placement can be found in O’Reilly’s Physics\nfor Game Developers by David Bourg. His article on the O’Reilly Net-\nwork is also a helpful start; see http://www.linuxdevcenter.com/pub/a/\nlinux/2001/11/01/physics.html.\nMoving this code into the class prevents extra dereferencing. For instance, the portion\nof the relax() method from the original example that deals with edges is shown here:\n// Part of the relax( ) method in the original Graph.java example source\nfor (int i = 0 ; i < nedges ; i++) {\n  Edge e = edges[i];\n  double vx = nodes[e.to].x - nodes[e.from].x;\n  double vy = nodes[e.to].y - nodes[e.from].y;\n  double len = Math.sqrt(vx * vx + vy * vy);\n  double f = (edges[i].len - len) / (len * 3) ;\n  double dx = f * vx;\n  double dy = f * vy;\n  nodes[e.to].dx += dx;\n  nodes[e.to].dy += dy;\n  nodes[e.from].dx += -dx;\n  nodes[e.from].dy += -dy;\n}\nRather than use syntax like nodes[e.to].x that has several levels of indirection, in the\nProcessing sketch, we’ll simply use to.x to express the same thing. That is because of\ntwo factors. First, the relax( ) code is now a method of the class Node, so e is not\nneeded as a prefix. Second, by changing from and to into Node objects rather than\ninteger arrays that point to an index in the global nodes list, the array index (and\nreference to the nodes array) is no longer necessary. Clear and concise code is easier\nto read and debug, so hopefully fewer errors are introduced.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2409
  },
  {
    "chunk_full": "Simple Graph Demo\n|\n227\nThe changes also make use of another math function named mag( ). This function is\nused to calculate the magnitude of a vector. In linear algebra and computer graphics,\na vector refers to a direction in xy or xyz space. The magnitude of a vector is the dis-\ntance between the coordinate (0, 0) and the vector’s (x, y) coordinates. That is,\nmag(x, y) is equivalent to dist(0, 0, x, y), though mag( ) is more efficient.\nThe code for the Node class is similar, with a constructor that sets the value for label\n(the text shown when the node is drawn) and chooses random values for x and y.\nThe relax( ) method is the re-coded version of the second third of the original\nrelax( ) method. This method compares this node against all the others to make sure\nnone are too close to one another. If they are, a slight offset (dx and dy) is added.\nThe update( ) method is the final portion of the Node class, where the position of the\nnode is actually updated by constraining dx and dy so that they don’t exceed five pix-\nels in either direction and then adding that value to x and y. The x and y coordinates\nare also constrained to make sure they stay within the drawing area:\nclass Node {\n  float x, y;\n  float dx, dy;\n  boolean fixed;\n  String label;\n  Node(String label) {\n    this.label = label;\n    x = random(width);\n    y = random(height);\n  }\n  void relax( ) {\n    float ddx = 0;\n    float ddy = 0;\n    for (int j = 0; j < nodeCount; j++) {\n      Node n = nodes[j];\n      if (n != this) {\n        float vx = x - n.x;\n        float vy = y - n.y;\n        float lensq = vx * vx + vy * vy;\n        if (lensq == 0) {\n          ddx += random(1);\n          ddy += random(1);\n        } else if (lensq < 100*100) {\n          ddx += vx / lensq;\n          ddy += vy / lensq;\n        }\n      }\n    }\n    float dlen = mag(ddx, ddy) / 2;\n    if (dlen > 0) {\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2410
  },
  {
    "chunk_full": "228\n|\nChapter 8: Networks and Graphs\n      dx += ddx / dlen;\n      dy += ddy / dlen;\n    }\n  }\n  void update( ) {\n    if (!fixed) {\n      x += constrain(dx, -5, 5);\n      y += constrain(dy, -5, 5);\n      x = constrain(x, 0, width);\n      y = constrain(y, 0, height);\n    }\n    dx /= 2;\n    dy /= 2;\n  }\n  void draw( ) {\n    if (selection == this) {\n      fill(selectColor);\n    } else if (fixed) {\n      fill(fixedColor);\n    } else {\n      fill(nodeColor);\n    }\n    stroke(0);\n    strokeWeight(0.5);\n    rectMode(CORNER);\n    float w = textWidth(label) + 10;\n    float h = textAscent( ) + textDescent( ) + 4;\n    rect(x - w/2, y - h/2, w, h);\n    fill(0);\n    textAlign(CENTER, CENTER);\n    text(label, x, y);\n  }\n}\nThe draw( ) method here is a little more complicated than the draw( ) method found\ninside Edge. The fill color is set based on whether the node is selected, fixed, or nei-\nther. In keeping with the original design, a black frame is also drawn around the box\nwith stroke(0), though strokeWeight(0.5) keeps the lines from being too thick. The\nw and h values calculate the width and height of the box based on the width of the\ntext (plus a 10-pixel margin, 5 pixels for each side) and the height of the text (plus a\n4-pixel margin). A rectangle centered at the node’s location is drawn to these\nspecifications. Finally, the node’s label is drawn (in black), centered both horizon-\ntally and vertically at the node’s x and y location.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2411
  },
  {
    "chunk_full": "A More Complicated Graph\n|\n229\nThe result is shown in Figure 8-2.\nA More Complicated Graph\nTwo dozen nodes in a simple graph is far smaller than most data sets, so we’ll try\nsomething more complicated. The loadData( ) method can be replaced to load any-\nthing you like. In this case, we’ll load the first chapter of Mark Twain’s Huckleberry\nFinn, using the words as nodes, and draw edges between words found adjacent to\none another.\nUsing Text As Input (Acquire)\nThe full text of the book can be downloaded online from Project Gutenberg. The\nfirst five chapters can be found at http://www.gutenberg.org/etext/7100. This code\nuses the text of the first chapter, which can be downloaded from the book’s site at:\nhttp://benfry.com/writing/graphlayout/huckfinn.txt.\nDownload this file and add it to the sketch by dragging it into the window, or by\nusing Sketch ➝ Add File.\nReading a Book (Parse)\nThe new loadData( ) method reads the lines of text, breaks them into phrases, and\nthen breaks the phrases into pairs of adjacent words. Phrases can be marked by a\nperiod, a comma, or several other kinds of punctuation. The splitTokens( ) method\nis useful for splitting a String along one of many delimiters. The second parameter is\nthe set of possible delimiters, each a single character. Multiple delimiters in the\nsource String will be treated as a single break. Because each delimiter can be only a\nsingle character, double dashes (--) are first converted to an actual em dash (—)\nusing the replaceAll( ) method of the String class:\nvoid loadData( ) {\n  String[] lines = loadStrings(\"huckfinn.txt\");\nFigure 8-2. Processing version of the Java demo shown in Figure 8-1\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2412
  },
  {
    "chunk_full": "230\n|\nChapter 8: Networks and Graphs\n  // Make the text into a single String object.\n  String line = join(lines, \" \");\n   // Replace -- with an actual em dash.\n  line = line.replaceAll(\"--\", \"\\u2014\");\n  // Split into phrases using any of the provided tokens.\n  String[] phrases = splitTokens(line, \".,;:?!\\u2014\\\"\");\n  for (int i = 0; i < phrases.length; i++) {\n    // Make this phrase lowercase.\n    String phrase = phrases[i].toLowerCase( );\n    // Split each phrase into individual words at one or more spaces.\n    String[] words = splitTokens(phrase, \" \");\n    for (int w = 0; w < words.length-1; w++) {\n      addEdge(words[w], words[w+1]);\n    }\n  }\n}\nTo see the phrases, add println(phrases) after the first splitTokens( ) line. A por-\ntion of the output follows:\n[13] \" Aunt Polly\"\n[14] \"Tom's Aunt Polly\"\n[15] \" she is\"\n[16] \"and Mary\"\n[17] \" and the Widow Douglas is all told about in that book\"\n[18] \" which is mostly a true book\"\n[19] \" with some stretchers\"\n[20] \" as I said before\"\nThe source text for these phrases reads:\nAunt Polly--Tom's Aunt Polly, she is--and Mary, and the Widow Douglas is all told\nabout in that book, which is mostly a true book, with some stretchers, as I said\nbefore.\nAfter the text has been broken into phrases, converting the phrases to words is a\nmatter of splitting each phrase whenever one or more spaces occurs. This is handled\nby the second splitTokens( ), which uses only the space character as a delimiter.\nPrinting the split version of phrase 18 with println(splitTokens(phrases[18], \" \"))\nproduces the following:\n[0] \"which\"\n[1] \"is\"\n[2] \"mostly\"\n[3] \"a\"\n[4] \"true\"\n[5] \"book\"\nNote how the extra spaces have been removed from the beginning of the line. All\nextra spaces are removed automatically because they’re treated as part of the set of\ndelimiters. This is different from the split( ) function used in other chapters. The\nsplit( ) method makes a break whenever a delimiter is seen, so a pair of spaces next\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2413
  },
  {
    "chunk_full": "A More Complicated Graph\n|\n231\nto one another would instead produce an empty element in the array. This can be\nseen by adding println(split(phrases[18], ' ')), which produces:\n[0] \"\"\n[1] \"which\"\n[2] \"is\"\n[3] \"mostly\"\n[4] \"a\"\n[5] \"true\"\n[6] \"book\"\nThe split( ) method is useful when breaking up fixed-width data (such as a TSV\nfile), whereas splitTokens( ) is helpful when dealing with a messier range of delimit-\ners, such as the text in this example.\nRemoving Stop Words (Filter)\nIn text analysis, a number of English words are commonly ignored because they con-\nvey little information. The words (called stop words) include, among others, “and,”\n“of,” and “to.” A slight modification to the addEdge( ) function checks whether a\nword belonging to a modest set of eight stop words should be ignored before adding\nan edge. The ignoreWord( ) method uses an array of Strings, but it could also be\nmodified to use a HashMap for greater efficiency, particularly if more stop words are\nused. Keep in mind that this is not an exhaustive list of stop words. You may be able\nto find more suitable lists and better filtering methods online.\nvoid addEdge(String fromLabel, String toLabel) {\n  // Filter out unnecessary words.\n  if (ignoreWord(fromLabel) || ignoreWord(toLabel)) return;\n  Node from = findNode(fromLabel);\n  Node to = findNode(toLabel);\n  Edge e = new Edge(from, to);\n  if (edgeCount == edges.length) {\n    edges = (Edge[]) expand(edges);\n  }\n  edges[edgeCount++] = e;\n}\nString[] ignore = { \"a\", \"of\", \"the\", \"i\", \"it\", \"you\", \"and\", \"to\" };\nboolean ignoreWord(String what) {\n  for (int i = 0; i < ignore.length; i++) {\n    if (what.equals(ignore[i])) {\n      return true;\n    }\n  }\n  return false;\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2414
  },
  {
    "chunk_full": "232\n|\nChapter 8: Networks and Graphs\nSmarter Addition of Nodes and Edges (Mine)\nIn the current version of this example, the same branch can be added more than once.\nA better model is to represent each relationship between two words only once, but to\nput words closer together in the graph if they appear in sequence more often in the\ntext. Our next step in the implementation searches out duplicate edges and increments\na score each time they’re found. This can then be used to shorten the length of the edge\nso that the nodes it connects—which are presumably more related—will be drawn\ncloser together. Similarly, nodes have an internal counter for the number of times they\nappear. That is done by adding a count field to both the Edge and Node classes, as well\nas an increment() method that increments the count by one:\n// Add this code to both the Edge and Node classes.\nint count;\nvoid increment( ) {\n  count++;\n}\nA new version of the addEdge( ) method seeks out existing edges and increments their\ncount variables. Each Node will also be incremented when it is found in the original\ntext.\nvoid addEdge(String fromLabel, String toLabel) {\n  // Filter out unnecessary words.\n  if (ignoreWord(fromLabel) || ignoreWord(toLabel)) return;\n  Node from = findNode(fromLabel);\n  Node to = findNode(toLabel);\n  from.increment( );\n  to.increment( );\n  // Check to see whether this Edge already exists.\n  for (int i = 0; i < edgeCount; i++) {\n    if (edges[i].from == from && edges[i].to == to) {\n      edges[i].increment( );\n      return;\n    }\n  }\n  Edge e = new Edge(from, to);\n  e.increment( );\n  if (edgeCount == edges.length) {\n    edges = (Edge[]) expand(edges);\n  }\n  edges[edgeCount++] = e;\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2415
  },
  {
    "chunk_full": "A More Complicated Graph\n|\n233\nViewing the Book (Represent and Reﬁne)\nRunning the program in its current state produces, perhaps predictably, a mess; see\nFigure 8-3.\nClearly, this representation in its current form is overburdened, with just under 400\nnodes and 600 edges. Because the text of the individual nodes is unreadable, it would\nbe better to hide it anyway. This version of the draw( ) method inside the Node draws\nellipses at each point:\n  void draw( ) {\n    fill(nodeColor);\n    stroke(0);\n    strokeWeight(0.5);\n    ellipse(x, y, 6, 6);\n  }\nThis produces Figure 8-4.\nFigure 8-3. This representation of 377 nodes and 589 edges needs refinement\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2416
  },
  {
    "chunk_full": "234\n|\nChapter 8: Networks and Graphs\nThe image created at least begins to be comprehensible, though still messy. Of\ncourse, with the labels missing, we no longer know what data we’re looking at. To\nrectify the situation, we can switch back to the previous representation for nodes that\nare in a fixed position (those that have been clicked or dragged):\n  void draw( ) {\n    if (fixed) {\n      fill(nodeColor);\n      stroke(0);\n      strokeWeight(0.5);\n      rectMode(CORNER);\n      float w = textWidth(label) + 10;\n      float h = textAscent( ) + textDescent( ) + 4;\n      rect(x - w/2, y - h/2, w, h);\n      fill(0);\nFigure 8-4. Nodes as ellipses\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2417
  },
  {
    "chunk_full": "A More Complicated Graph\n|\n235\n      textAlign(CENTER, CENTER);\n      text(label, x, y);\n    } else {\n      fill(nodeColor);\n      stroke(0);\n      strokeWeight(0.5);\n      ellipse(x, y, 6, 6);\n    }\n  }\nAs Figure 8-5 shows, this improves things a bit.\nThis representation is still unsatisfactory because it lacks hierarchy. It’s a twisty mess\nof 400 ellipses and lines between them, with no indication of the relative importance\nof nodes. Instead of drawing each ellipse with a radius of 6, the count field can be\nused to size the ellipses to show the relative importance of each node. Also, rather\nthan only showing text on rollover, titles of nodes will be visible whenever the text is\nFigure 8-5. Showing node labels when manipulated by the mouse\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2418
  },
  {
    "chunk_full": "236\n|\nChapter 8: Networks and Graphs\nlarge enough to fit (whenever count, the diameter of the ellipse, is larger than\ntextWidth(label)). Figure 8-6 shows this version of the code after a few nodes have\nbeen dragged to fixed positions for better visibility.\nSaving an Image in a Vector Format\nWith complicated diagrams such as this one, it’s often preferable to create a version of\nthe image in a vector format such as PDF. Vector images can be resized without loss of\nresolution, making them more suitable for printing or other high-resolution work.\nWith the help of the PDF library included with Processing, the beginRecord() and\nendRecord() methods can be used to echo all drawing to a PDF file. A modified ver-\nsion of the main draw() method (and a keyPressed() method to trigger it) follows:\nvoid draw( ) {\n  if (record) {\n    beginRecord(PDF, \"output.pdf\");\n  }\nFigure 8-6. Nodes sized based on their frequency\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2419
  },
  {
    "chunk_full": "A More Complicated Graph\n|\n237\n  background(255);\n  textFont(font);\n  smooth( );\n  for (int i = 0 ; i < edgeCount ; i++) {\n    edges[i].relax( );\n  }\n  for (int i = 0; i < nodeCount; i++) {\n    nodes[i].relax( );\n  }\n  for (int i = 0; i < nodeCount; i++) {\n    nodes[i].update( );\n  }\n  for (int i = 0 ; i < edgeCount ; i++) {\n    edges[i].draw( );\n  }\n  for (int i = 0 ; i < nodeCount ; i++) {\n    nodes[i].draw( );\n  }\n  if (record) {\n    endRecord( );\n    record = false;\n  }\n}\nboolean record;\nvoid keyPressed( ) {\n  if (key == 'r') {\n    record = true;\n  }\n}\nIn this example, pressing r triggers the keyPressed( ) method, which sets the record\nflag so that in the next trip through draw( ), all drawing commands are echoed to a\nPDF file. Note that the beginRecord( ) method is placed at the very beginning of\ndraw( ), and endRecord( ) is at the end. The final step must be to set the record flag to\nfalse so that the draw( ) method doesn’t waste resources recording to the file over\nand over each time it runs.\nThe textFont() and smooth() methods were moved to draw() instead of setup().\nWhen using beginRecord(), none of the settings (such as font, stroke weight, fill, or\nsmoothing) will be inherited—only commands after beginRecord() are echoed to the\nfile.\nThe\nbeginRecord( )\nmethod\nis\nquite\nversatile.\nIt’s\nalso\npossible\nto\nuse\nbeginRecord(\"filename-####.pdf\"), which will automatically replace #### with the\ncurrent frame number so that multiple files can be recorded. You can also use\nbeginRecord( ) to write to other formats using other libraries; see http://processing.\norg/reference/libraries for examples that handle writing SVG format and others.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2420
  },
  {
    "chunk_full": "238\n|\nChapter 8: Networks and Graphs\nChecking Our Work\nWhen run, this sketch first shows a jumble of nodes and edges placed randomly,\nmost of which group toward the center over time. Except for any notes the user may\ndrag to corners of the display, the representation is impossible to read. This is partly\nbecause this particular graph layout algorithm is not perfect, but it also has to do\nwith the data itself. There are simply too many connections in the information.\nTo check our work, we turn to the widely used tool Graphviz: http://www.graphviz.\norg. Graphviz is free to download and open source. It combines several graph\ndrawing methods into a single software package. If you’re using Mac OS X, a very\nnice version with a terrific UI is available from http://www.pixelglow.com/graphviz.\nGraphviz can take information for an enormous network and create an image of all\nthe interconnections using one of a handful of layout methods.\nOne advantage of Graphviz is “dot,” its simple text-based file format. The following\nis the directed graph from the original Java demo in dot syntax:\ndigraph {\n    joe -> food;\n    joe -> dog;\n    joe -> tea;\n    joe -> cat;\n    joe -> table;\n    table -> plate;\n    plate -> food;\n    food -> mouse;\n    food -> dog;\n    mouse -> cat;\n    table -> cup;\n    cup -> tea;\n    dog -> cat;\n    cup -> spoon;\n    plate -> fork;\n    dog -> flea1;\n    dog -> flea2;\n    flea1 -> flea2;\n    plate -> knife;\n}\nThe digraph specifier means that it’s a directed graph, meaning that nodes are not\nsimply connected but have a direction. For an undirected graph, graph is used\ninstead of digraph, and -- is used to connect nodes instead of the -> syntax.\nThe first chapter of Huck Finn can be written to a .dot file, after our original pro-\ngram has put it into our node and edge structure in the setup( ) method, with the fol-\nlowing method:\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2421
  },
  {
    "chunk_full": "A More Complicated Graph\n|\n239\nvoid writeData( ) {\n  PrintWriter writer = createWriter(\"huckfinn.dot\");\n  writer.println(\"digraph output {\");\n  for (int i = 0; i < edgeCount; i++) {\n    String from = edges[i].from.label;\n    String to = edges[i].to.label;\n    writer.println(TAB + from + \" -> \" + to + \";\");\n  }\n  writer.println(\"}\");\n  writer.flush( );\n  writer.close( );\n}\nAdd a call to writeData( ) to the end of setup( ), run the code, and then use Show\nSketch Folder to find huckfinn.dot. Running Graphviz on this file using the default\nsettings (Hierarchical layout) produces Figure 8-7.\nThe Energy Minimized option is a layout method closer to the algorithm used in our\nsketch, which produces Figure 8-8.\nIt looks a little better than our sketch, but not by much. At this point, it’s useful to\ntake a step back and reconsider our approach.\nFigure 8-7. Output of Huck Finn using Graphviz in Hierarchical layout mode\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2422
  },
  {
    "chunk_full": "240\n|\nChapter 8: Networks and Graphs\nApproaching Network Problems\nUsually a graph layout isn’t the best option for data sets larger than a few dozen nodes.\nYou’re most likely to wind up with enormous spider webs or balls of string, and the\nmess seen so far is more often the case than not. Graphs can be a powerful way to rep-\nresent relationships between data, but they are also a very abstract concept, which\nmeans that they run the danger of meaning something only to the creator of the graph.\nOften, simply showing the structure of the data says very little about what it actually\nmeans, even though it’s a perfectly accurate means of representing the data. Every-\nthing looks like a graph, but almost nothing should ever be drawn as one.\nFigure 8-8. Graphviz using an Energy Minimized layout on Huck Finn\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2423
  },
  {
    "chunk_full": "Approaching Network Problems\n|\n241\nWhen dealing with data where items are arbitrarily linked to other items, don’t auto-\nmatically choose to graph it. There is a tendency when using graphs to become smit-\nten with one’s own data. Even though a graph of a few hundred nodes quickly\nbecomes unreadable, it is often satisfying for the creator because the resulting figure\nis elegant and complex and may be subjectively beautiful, and the notion that the\ncreator’s data is “complex” fits just fine with the creator’s own interpretation of it.\nGraphs have a tendency of making a data set look sophisticated and important, with-\nout having solved the problem of enlightening the viewer.\nHere are some techniques for coping with graph data:\n• As with all of the projects in the book, always return to your original question.\nWe didn’t have much of a plan for looking at the Huck Finn words, and as a\nresult, didn’t get much out of it. But if we had something more specific in mind,\nsuch as, “How often does the word she appear, and in what context?,” we could\nhave answered that question more clearly.\n• Consider the representation. Just as important, by narrowing down the ques-\ntion, it may turn out that a graph representation is not the best route. What is\nthe minimum amount of information that can be used to convey your purpose?\nCould the same information be shown with a table? Given the problems with\ngraphs, finding an alternate view is often helpful.\n• What’s interesting about this data? A graph that depicts biological data might\nlook just like a graph of a social network. This isn’t a positive thing because all\nthat’s been depicted is the structural quality (the fact that the data set is a net-\nwork), not what’s interesting and unique in the information.\n• Try multiple diagrams. Rather than trying to pack everything into a single dia-\ngram, would it have been better to work with single paragraphs as individual\ndiagrams to get the node count down around 100?\n• Figure out how to group the information. Can groups of words be categorized?\nCan small subsets of the words be chosen? Once placed into clusters, can the\nclusters themselves be collapsed (perhaps using interaction) into single nodes?\n• Introduce hierarchy to avoid a sea of anonymous data. That is why we tried\nchanging the size of each node based on its frequency of occurrence. It helped\npull out the more important nodes and gave the less important nodes less visual\nprominence. This helps the user learn about the data because it provides clues\nabout where to look.\n• Is the information time-based? If so, then it might make sense to have the graph\nitself change over time, based on what’s relevant at that particular time. If a\ngraph consists of 10,000 nodes but only a few hundred are relevant at any one\nmoment, use animation (or interaction to control time) to make the nodes\nexpand or contract based on their importance at the given time.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2424
  },
  {
    "chunk_full": "242\n|\nChapter 8: Networks and Graphs\n• Even without clustering, interaction can be used to allow the user to explore the\ndata. If the graph can be used as a navigation device, it might be possible to hide\nlarge portions of the graph until they are relevant. If one node is the current\nnode, the graph can arrange itself to show only nodes that connect to that one. It\nmay even show a second level of depth, though less prominently than the first.\nTo illustrate some of these techniques, consider the Six Degrees of Kevin Bacon\ngame, the notion that all actors can be traced back to Kevin Bacon in six steps or\nless. The Oracle of Bacon (http://oracleofbacon.org) is a site that allows users to view\nthe Six Degrees of Kevin Bacon. A visualization of the network of actors would be\nenormous, and if I’m trying to figure out how Kevin Bacon is connected to Steve\nBuscemi, the graph of thousands of actors is far less important than a simple list that\nstates the steps I would take along the graph to get from Steve Buscemi to Kevin\nBacon. Therefore, the result can be flattened to a simple list. On the other hand, if I\nwanted to convey the feeling of a graph to the user (perhaps to reinforce the\n“connectedness” aspect), the representation could instead begin with one individual\nand show all connected nodes. It’s not necessary to show additional levels of depth\nbecause a selection must first be made that takes us through the first layer of the net-\nwork. Through navigation, we’ve sufficiently narrowed the representation from tens\nof thousands of elements to a few hundred or just dozens.\nAdvanced Graph Example\nWith this example, we move to a more advanced look at graphs. We’ll look at logfile\ndata from a web site and use it to build a visualization of how visitors access the site,\nas well as how the site’s hierarchy changes over time. The code is built from a base\nsimilar to the previous example, so while it’s more complicated, the basic structure\nwill be similar to building the graph of Huck Finn text.\nThis example is a bit larger than the others in this book (about 1,000 lines of code\ntotal), and it’s a useful example for showing how to use the Processing Core library\nin a full-fledged IDE such as Eclipse (http://eclipse.org). You can start by download-\ning the code for the project from the book’s site:\nhttp://benfry.com/writing/anemone/project.zip\nOnce running, the code will produce an image like Figure 8-9, but first some intro-\nduction is required before you can get things up and running.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2425
  },
  {
    "chunk_full": "Advanced Graph Example\n|\n243\nGetting Started with Java IDEs\nThe Processing syntax is essentially a dialect of Java. A preprocessor converts Pro-\ncessing syntax into Java syntax, and then a Java compiler creates Java .class files from\nthe code. The syntax changes made by the preprocessor are covered here.\nThe first step in using the Processing Core is to find core.jar in the lib subfolder of\nthe Processing installation. This .jar file contains the guts of the library, which\nincludes classes such as PApplet, PImage, and PGraphics that implement the Process-\ning API as conventional Java objects.\nIf you have a favorite IDE and are familiar with using .jar files in projects, you can\nsimply add core.jar to a new project, along with the .java files from the project.zip\nfile. Netbeans (http://www.netbeans.org), for instance, is a popular (and also free)\nalternative that some prefer over Eclipse. A similar process can be used to integrate\nwith Netbeans, and if you’re familiar with that environment, adapting these instruc-\ntions should be straightforward. If you’re using Eclipse and are familiar with it, the\nproject files are already in the project download, and you need only create a new\nproject from the unzipped project.zip.\nStep-by-step instructions if you’re new to Eclipse\n1. Download Eclipse from http://eclipse.org, and then unpack the archive to a suit-\nable location on your machine. Launch Eclipse.\n2. Use File ➝ New ➝ Java Project to begin a New Project Wizard.\nFigure 8-9. The Anemone project running on data from www.processing.org\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2426
  },
  {
    "chunk_full": "244\n|\nChapter 8: Networks and Graphs\n3. In the dialog box, enter anemone as the name of the project, and choose Create\nProject From Existing Source. Click the Browse… button and navigate to the\nunpacked anemone folder. Once set up properly, your window should look\nsomething like Figure 8-10.\n4. Click Finish, and the project should load into the IDE without any errors, as\nshown in Figure 8-11. If you haven’t already, you may need to close the Wel-\ncome screen.\n5. To run the project, right-click Anemone.java and select Run As ➝Java Applica-\ntion from the popup menu. In its current state, the application won’t do much\nbecause it needs data. A window with a blue background will pop up, and you’ll\nprobably get an error in the Console (lower-right panel) stating that combined_\nlog does not exist. You’ll need to get access to an example logfile or create your\nown so the project runs properly.\nFigure 8-10. Creating a new Java project in Eclipse\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2427
  },
  {
    "chunk_full": "Advanced Graph Example\n|\n245\nObtaining a Web Server Logﬁle (Acquire)\nIf you run a web server, you probably know where to find its logfiles. For the Apache\nserver on a typical Mac OS X or Linux setup, this might be in /var/log/httpd/. The\nfiles are named access_log and error_log. The access_log file is probably in common\nlogfile format, though it’s better to use combined logfile format, which will provide\nmore information about your users—including the previous pages they visited, the\nbrowsers they used, and the operating systems they’re running. We’ll cover only\nApache in this example, but the same principles can be applied to IIS or AOL Server,\nwith some minor tweaks to the way it’s parsed based on the format of the logfile.\nReading Apache Logﬁles (Parse)\nA logfile can contain a few thousand or even a few million lines of text, one for each\nobject requested from the server. A typical line contains the IP address of the visitor,\na timestamp, the requested page (or object, such as an image), the referring object\n(last thing visited), and a user agent (which denotes the browser type and platform).\nA typical line from processing.org looks like this:\nFigure 8-11. Anemone project loaded into the Eclipse IDE\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2428
  },
  {
    "chunk_full": "246\n|\nChapter 8: Networks and Graphs\n192.168.1.144 - - [22/Jul/2007:01:34:11 -0700] \"GET /exhibition/index.html HTTP/1.1\"\n200 19168 \"http://www.processing.org/\" \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X;\nen-US; rv:1.8.1.5) Gecko/20070713 Firefox/2.0.0.5\"\nThis means that at 1:34 a.m. on July 22, 2007, someone with the IP address 192.168.\n1.144 visited http://www.processing.org/exhibition/index.html, after first visiting the\nhome page at http://www.processing.org. The page successfully downloaded (status\ncode 200) and was 19,168 bytes. The visitor used the U.S. English version of Firefox\n2.0.0.5 on an Intel Mac, which is compatible with Mozilla/5.0 (Netscape 5, which\nmost browsers claim to be).\nThe code in Record.java parses lines of logfile data. First, a regular expression (dis-\ncussed in Chapter 5) is used to break the line into its component parts:\n  static final String combinedLogFormat =\n    \"^(\\\\S+) (\\\\S+) (\\\\S+) \\\\[([^\\\\]]+)\\\\] \" +\n    \"\\\"(\\\\S+) (.*?) (\\\\S+)\\\" (\\\\S+) (\\\\S+) \\\"(\\\\S+)\\\" \\\"(.*)\\\"$\";\n  static final String commonLogFormat =\n    \"^(\\\\S+) (\\\\S+) (\\\\S+) \\\\[([^\\\\]]+)\\\\] \" +\n    \"\\\"(\\\\S+) (.*?) (\\\\S+)\\\" (\\\\S+) (\\\\S+)$\";\n  static Pattern pattern = Pattern.compile(combinedLogFormat);\nDepending on the type of logfile you’re using (combined or common), you can call\nPattern.compile( ) on either String.\nFor the timestamp, we can use the DateFormat object, which was also introduced in\nChapter 5. It will convert a date in the format 22/Jul/2007:01:34:11 -0700 into a Date\nobject, which can be manipulated more efficiently:\n  static DateFormat timestampFormat =\n    new SimpleDateFormat(\"dd/MMMM/yyyy:HH:mm:ss ZZZZ\");\nConﬁguring Apache for Combined Logﬁles\nTo set up Apache to write combined logfiles, you’ll need to edit its httpd.conf file. On\nMac OS X and Linux, this will commonly be found in /etc/httpd/httpd.conf. Search this\nfile for CustomLog, and you’ll probably see a line like this:\nCustomLog \"/private/var/log/httpd/access_log\" common\nAdd a similar line after it that reads:\nCustomLog \"/private/var/log/httpd/combined_log\" combined\nThe line may already be in the configuration file, but commented out with a # at the\nbeginning of the line. If so, instead you can simply remove the # and you’ll be all set.\nHowever, this will replace the access_log file, so you should either rename the file on\nthat line to combined_log or just add a new CustomLog line as described previously.\nRestart the web server, and it will begin writing a new file named combined_log along\nwith the access_log and error_log files.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2429
  },
  {
    "chunk_full": "Advanced Graph Example\n|\n247\nThe date portion is pulled out by the part of the regular expression that reads \\\\[([^\\\\\n]]+)\\\\], which matches one or more characters inside the pair of square brackets. The\nexcessive number of backslashes is necessary because bracket characters are used for\ngrouping in a regexp. Therefore, to match an actual bracket, one must use \\[, and to\nescape the backslash itself in a Java string, it must be doubled to make \\\\[. The rest of\nthe regexp is similar to what we saw in the earlier example.\nThe Record class represents a single line of the logfile. The constructor takes one\nline of the logfile as a parameter, and then parses each piece into fields with names\nsuch as ip, url, and bytes. If the common (instead of combined) log format is in\nuse, m.groupCount( ) will be 9 instead of 11, and the referer and userAgent fields\nwill be set blank (because leaving them null would cause errors):\n  public Record(String line) {\n    Matcher m = pattern.matcher(line);\n    if (m.matches( )) {\n      ip = m.group(1);\n      userIdent = m.group(2);\n      userAuth = m.group(3);\n      try {\n        String timestampStr = m.group(4);\n        Date timestampDate = timestampFormat.parse(timestampStr);\n        timestamp = timestampDate.getTime( );\n      } catch (ParseException e) {\n        e.printStackTrace( );\n      }\n      method = m.group(5);\n      url = m.group(6);\n      protocol = m.group(7);\n      status = PApplet.parseInt(m.group(8));\n      bytes = PApplet.parseInt(m.group(9));\n      if (m.groupCount( ) > 9) {\n        referer = m.group(10);\n        userAgent = m.group(11);\n      } else {\n        // If no referer or useragent info available, leave it blank\n        referer = \"-\";\n        userAgent = \"\";\n      }\n    }\n  }\nOther logfile formats include IIS and W3C Extended. Information about each can be\nfound at the following locations. Most often, the format will be a variant of common\nor combined log formats, perhaps with a few tweaks.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2430
  },
  {
    "chunk_full": "248\n|\nChapter 8: Networks and Graphs\n• IIS: http://msdn2.microsoft.com/en-us/library/ms525807.aspx\n• W3C Extended: http://www.w3.org/TR/WD-logfile.html\nA Look at the Other Source Files\nSo far we’ve looked only at Record.java in this project. The other classes consist of:\nAnemone.java\nThe class contains the main sketch. In Java syntax, a sketch is a class that\nextends the class processing.core.PApplet (which itself extends java.applet.\nApplet). Because this class is a PApplet, it will have access to all Processing func-\ntions, such as loadStrings( ), line( ), and fill( ). For the other classes (Node,\nBranch, and others) to have access to these functions, they’ll have to go through\nthe Anemone class.\nBranch.java and Node.java\nThese files are equivalent to the Edge and Node classes in our earlier example.\nBranch is simply the preferred name in this context because we’ll be dealing with\nthe tree-shaped hierarchy of a web site.\nStreamer.java\nThis class handles the loading of the data on a separate thread, like we saw in\nChapter 6. In previous versions in this chapter, reading from a file is a synchro-\nnous operation, and all activity in the program halts until the read has com-\npleted. This is especially problematic when data is still being written to the file\n(like reading the file as it’s being written so that you can watch live activity on\nthe web site). By placing the read operations on a separate thread, the animation\ncan continue regardless of whether new data is available. For instance, if the log-\nfile is being streamed (for instance, on Unix via tail -f /var/log/httpd/access_\nlog), this class will read a handful of lines and make sure they’re available when\nthe main Anemone class is ready for them.\nIntegrator.java\nThis is our old friend the Integrator class. It will be used to set target lengths for\nbranches between nodes. By using an Integrator, new branches can slowly grow\nrather than suddenly appear.\nVisitor.java\nThis is used to create objects for each unique IP address visiting the site. This\nway, individual paths can be traced as users move around to different pages.\nWe’ll draw the paths of the individual visitors in the background, which will\nshow general patterns of activity from web crawlers and humans alike.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2431
  },
  {
    "chunk_full": "Advanced Graph Example\n|\n249\nMoving from Processing to Java\nBecause we’ve removed the preprocessor that converts Processing syntax into\nstraight Java, some changes will be necessary in code that’s written directly for Java.\nConsider the following Processing program:\ncolor bg = #EECC00;\nvoid setup( ) {\n  size(400, 400);\n}\nvoid draw( ) {\n  backgound(bg);\n  line(mouseX, mouseY, width/2.0, height/2.0);\n}\nIn Java syntax, this would read:\nimport processing.core.*;\npublic class Test extends PApplet {\n  int bg = 0xFFEECC00;\n  public void setup( ) {\n    size(400, 400);\n  }\n  public void draw( ) {\n    background(bg);\n    line(mouseX, mouseY, width/2.0f, height/2.0f);\n  }\n}\nThe first difference to note is the import statements, which identify to the Java com-\npiler that processing.core is used (the classes found in core.jar).\nNext, everything in Java is an object. The same is true for Processing, but that fact is\nhidden so that it’s not necessary to learn syntax such as public class Test extends\nPApplet just to get something visible on the screen. That line ends with a curly brace,\nwhich starts a block, and the block ends with a closing brace found at the end of the\ncode.\nThe color data type in Processing is simply an alias to the int data type, which\nmeans int bg and color bg have an identical function whether in Processing or Java.\nMapping to the int type is important because of the way it stores color values.\nEach int is 32 bits of data, with the first 8 bits specifying the alpha value, the second\n8 the red value, the third 8 the green, and the final 8 the blue. The 32-bit number is\nexpressed as eight hexadecimal digits, two digits each for the alpha, red, green, and\nblue components of a color respectively. This representation is already familiar to\nmany web designers and programmers through web colors such as #EECC00. The web\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2432
  },
  {
    "chunk_full": "250\n|\nChapter 8: Networks and Graphs\nformat leaves out the alpha portion, which is assumed to be opaque, so in this exam-\nple, the red component is EE, the green is CC, and the blue is 00. In Java, hexadecimal\ndigits are prefixed with 0x, so the code would read 0xFFEECC00. An additional FF is\nadded to the beginning because the web color is opaque.\nIn Java, a number written as 2.0 uses the double data type, which uses twice as much\nmemory as a float. Using double is overkill for nearly all Processing projects, and it\nrequires more memory and more CPU time to compute operations on doubles, so\nfloats are used throughout the Processing API. To specify a float in Java, one must\nadd f to the end of any number that includes a decimal place so that it’s not\ninterpreted as a double, as is done in the earlier example where width/2.0 is con-\nverted to Java as width/2.0f. This is a weird idea to get across to beginners, and the\nend result is a lot of code peppered with the letter f. So in Processing syntax, 2.0\nmeans a float, and doubles are trickier to use (except when running in a separate\nIDE without the preprocessor).\nAnother aspect of Java is how methods are treated as public, private, or protected.\nAlthough these protection levels are available in Processing, there is an assumption\nthat unmarked methods are in fact simply public. Because most methods will be pub-\nlic for beginning programmers (setup( ), draw( ), and mousePressed( ), for instance, are\nall public), it’s safe for the preprocessor to simply insert public unless otherwise speci-\nfied. As a result, when moving code from Processing to Java, you’ll need to add the\npublic designation to most built-in methods (such as the aforementioned ones).\nHelpful additions in Java 1.5 (J2SE 5.0) and later\nHaving covered some of the ways that Processing simplifies Java, we can now say\nsome nice things about the Java language. As of this writing, the Processing\nDevelopment Environment supports only Java 1.4 (though this is likely to change—\nbe sure to check the Processing site for the latest). Later versions of Java introduced\nsome helpful syntax that, while awkward at the beginning, can really help clean up\nyour code. When using the Processing API with other Java development environ-\nments, it’s possible to use features from Java 1.5 and beyond.\nOne helpful feature in Java 1.5 (also called Java 5.0) is generics. Generics allow us to\ncreate things like a HashMap of a particular type so that no additional casting is neces-\nsary to use objects from it. For instance, to create a HashMap that maps from String\nobjects to Integer objects, use the following syntax:\nHashMap<String,Integer> stringToIntTable;\nPreviously, to get an Integer object from this class, it was necessary to use this\nsyntax:\nInteger numObject = (Integer) stringToIntTable.get(\"something\");\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2433
  },
  {
    "chunk_full": "Advanced Graph Example\n|\n251\nWith generics, the (Integer) cast is no longer necessary because the code HashMap is\nparameterized. When creating a new parameterized object, treat the <String,Integer>\nportion as part of the name:\nHashMap<String,Integer> stringToIntTable = new HashMap<String,Integer>( );\nThis syntax is a little uglier than:\nHashMap stringToIntTable = new HashMap( );\nbut not needing to recast the result of any operation on a HashMap is a real bonus. In\nfact, another feature called auto-unboxing also converts that Integer object to an int\ndepending on the context in which it’s used. So in Java 1.5, the following syntax is\nvalid:\nint num = stringToIntTable.get(\"something\");\nThe previous version of this syntax looked like:\nInteger numObject = (Integer) stringToIntTable.get(\"something\");\nint num = numObject.intValue( );\nA significant improvement, though the looser association between variables and their\ntypes can also lead to programming errors, so be careful.\nThe ArrayList class is an all-purpose list that can grow dynamically. The nice thing\nabout ArrayList is that expand( ) and checking the array length is no longer neces-\nsary. There’s a slight performance loss when using ArrayList instead of an array of\nobjects, but this depends on the scenario in which it’s used. ArrayList is available in\nearlier versions of Java, but it becomes far more useful with parameterization. For\ninstance, a list of Node objects can be specified by:\n  ArrayList<Node> allNodes = new ArrayList<Node>( );\nThis all-purpose list is helpful, and you’ll find that the Anemone example makes use\nof them everywhere.\nThe final, and perhaps best, feature of later Java versions is the enhanced for loop. In\nprevious code, looping through a list of nodes might look something like this:\nNode[] nodes;\nint nodeCount;\n// ... code here to set up the nodes[] array ...\nvoid draw( ) {\n  for (int i = 0; i < nodeCount; i++) {\n    nodes[i].draw( );\n  }\n}\nBut with the enhancements in Java 1.5, this code looks like:\nArrayList<Node> nodes = new ArrayList<Node>( );\n// ... code here to set up the nodes[] array ...\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2434
  },
  {
    "chunk_full": "252\n|\nChapter 8: Networks and Graphs\nvoid draw( ) {\n  for (Node n : nodes) {\n    n.draw( );\n  }\n}\nHow simple and clean! Although the initial declaration and assignment are a bit\ncomplex, the actual code inside draw( ) is far easier to read. It works for any class\nthat has an iterator( ) method and states that it implements Iterable, the same way\na class to make a thread implements Runnable. In this example, we’ll use this for\nloop with ArrayList and HashMap objects.\nReading and Cleaning the Data (Acquire, Parse, Filter)\nThe setup( ) method inside the main class gets things started. The window size and a\nfont are set, and createReader( ) is invoked to open the file. You may recall that a\nReader is helpful when files are too large to be read with loadStrings( ). One logfile\nfrom processing.org has 1,026,783 lines, accounting for 231 MB of data. The\nloadStrings( ) method is not intended for such a large quantity of data!\n  public void setup( ) {\n    size(960, 600);\n    PFont font = createFont(\"Verdana\", 11);\n    textFont(font);\n    // Add the root node.\n    addNode(\"/\", width/2, height/2);\n    Record.setSiteAddress(\"http://www.processing.org\");\n    Record.addSiteAlias(\"http://processing.org\");\n    Record.addSiteAlias(\"http://proce55ing.net\");\n    Record.addSiteAlias(\"http://www.proce55ing.net\");\n    // Start streaming new data.\n    BufferedReader reader = createReader(\"../combined_log\");\n    streamer = new Streamer(reader);\n    colorMode(RGB, 1);\n    ellipseMode(RADIUS);\n    smooth( );\n    frameRate(20);\n  }\nThe addNode( ) method works the same way as addNode( ) in the earlier GraphLayout\nexample. Most of the other lines should be familiar by now, except for the Record.\nsetSiteAddress( ) and Record.addSiteAlias( ) lines. The site address and any aliases\nfor that address must be stored in the Record class so it will know how to filter its\ndata.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2435
  },
  {
    "chunk_full": "Advanced Graph Example\n|\n253\nFiltering site addresses and aliases\nThe referer portion of a logfile line contains the full URL of the page or object visited\nbefore the current one. (Historically the word is spelled “referer,” not “referrer.”) For\nthe processing.org site, this may include URLs prefixed in different ways, even though\nthey refer to the same site. For instance, www.processing.org is the real name of the\nsite, though it’s also possible to visit via just processing.org. Before we saved enough\nnickels to buy the processing.org domain, we used proce55ing.net, and some traffic\nstill points there, so we keep it as an alias. We keep track of these site aliases so that\nURLs can be cleaned and proce55ing.net replaced with www.processing.org so that\nit’s clear the referer is from the same site.\nThe mechanics of this are covered by the Record class:\n  public String cleanReferer( ) {\n    // Figure out whether this referer is from the same site,\n    // which might be using an alias for the name,\n    // e.g., processing.org instead of www.processing.org.\n    if (!referer.startsWith(siteAddress)) {\n      for (String alias : siteAliases) {\n        if (referer.startsWith(alias)) {\n          // Replace the alias with the real address of the site.\n          referer = siteAddress + referer.substring(alias.length( ));\n          break;\n        }\n      }\n    }\n    // Remove the site address from the beginning of the URL,\n    // so that it's the same format as the other links.\n    if (referer.startsWith(siteAddress)) {\n      referer = referer.substring(siteAddress.length( ));\n    }\n    return referer;\n  }\n   static String siteAddress;\n  static public void setSiteAddress(String address) {\n    siteAddress = address;\n  }\n  static ArrayList<String> siteAliases;\n  static public void addSiteAlias(String alias) {\n    if (siteAliases == null) {\n      siteAliases = new ArrayList<String>( );\n    }\n    siteAliases.add(alias);\n  }\nAlso note how siteAliases is an ArrayList<String>, so we can loop through its\nentries via for (String alias : siteAliases).\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2436
  },
  {
    "chunk_full": "254\n|\nChapter 8: Networks and Graphs\nFiltering for useful page information\nThe readNextRecord( ) method is called from draw( ) to get the next record (if avail-\nable) from the Streamer class. Each record is filtered on a few criteria. First, unsuc-\ncessful transactions (any time the status is a value other than 200) are skipped. This\nstep eliminates the “page not found” 404 errors that most web users are familiar\nwith. In addition, the method skips most file extensions because .gif and .jpg images\nare always associated with a parent page and thus provide little extra useful\ninformation on how visitors traffic the site. That is, it’s not useful to know that http://\nprocessing.org/images/title.jpg was downloaded because http://processing.org/index.\nhtml is the only page that uses it.\n  public void readNextRecord( ) {\n    Record visit = streamer.nextRecord( );\n    if (visit == null) return;\n    // Take no action if the status is not OK.\n    if (visit.status == 200) return;\n    // Don't bother with extensions we're skipping (.gif, .jpg, etc.).\n    if (visit.skipExtension( )) return;\n    // Clean up the URL and check the info.\n    visit.removeQueryString( );\n    visit.removeIndexPage( );\n    Node targetNode = checkNode(visit.url, false);\n    targetNode.addVisit(visit.timestamp);\n    Visitor visitor = checkVisitor(visit.ip);\n    visitor.addVisit(targetNode, visit.timestamp);\n    String referer = visit.cleanReferer( );\n    if (referer.startsWith(\"/\")) {\n      // If it's a local referer, make a note of that.\n      checkNode(referer, true);\n    } else {\n      // For now, skip incoming links that come from elsewhere, but this block could\n      // be used to show incoming searches or links from other sites.\n    }\n  }\nFor CGI queries, the parameters of the request (everything after the ?) are removed\nso that it doesn’t appear as hundreds of unique pages. The index pages are also nor-\nmalized so that http://processing.org/ and http://processing.org/index.html are\ntreated as the same item. This also applies to index.php and index.cgi, which too are\ncommon index page titles.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2437
  },
  {
    "chunk_full": "Advanced Graph Example\n|\n255\nThe checkNode( ) method makes sure that all the nodes and branches that lead to\nthat node exist. For instance, the page http://processing.org/reference/libraries/\nrequires three nodes: /, /reference/, and /reference/libraries/. If any of the three\nnodes do not exist, they are created, along with Branch objects to connect them.\nThe time of the visit for the node is marked with the addVisit( ) method. This will be\nused to color the nodes when displaying them, or to remove nodes that are not in use\n(when pruning unused branches).\nThe referer is cleaned up with the previously discussed cleanReferer( ) method.\nNothing is done with referers in this implementation, but they offer several interest-\ning possibilities that will be discussed later.\nBringing It All Together (Mine and Represent)\nThe draw( ) method inside the main class orchestrates how the other classes draw\ntheir information to the screen. Just like the GraphLayout example, the relax( ) and\nupdate( ) methods are used to calculate positions of all the nodes in the graph (recall\nthat Edge has been renamed Branch for this example). The Visitor, Branch, and Node\nclasses each have draw( ) methods that draw themselves to the screen:\n  public void draw( ) {\n    background(backgroundColor);\n    cursor(CROSS);\n    // Read up to 10 lines of the log file (if available).\n    for (int i = 0; i < 10; i++) {\n      readNextRecord( );\n    }\n    for (Branch b : branches) b.relax( );\n    for (Branch b : branches) b.update( );\n    for (Node n : activeNodes) n.relax( );\n    for (Node n : activeNodes) n.update( );\n    for (Visitor v : visitors.values( )) v.draw( );\n    for (Branch b : branches) b.draw( );\n    for (Node n : activeNodes) n.draw( );\n    // Show status information at the bottom.\n    drawStatus( );\n    // Keep a constant number of nodes on screen.\n    pruneNodes( );\n  }\nThe cursor(CROSS) method is used to make selection easier (we’ll cover interaction in\njust a bit). A loop is used to read as many as 10 records of the logfile, which can be\nset lower or higher depending on how quickly you would like the logfile to be read\nand animated on the screen.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2438
  },
  {
    "chunk_full": "256\n|\nChapter 8: Networks and Graphs\nMining unused nodes: Maintaining performance and readability\nAt the end of the method is the pruneNode( ) function, which prevents the applica-\ntion from overloading either the processor or the display with too many on-screen\nnodes. A maxNodeCount variable at the beginning of the sketch is set to 500 by default,\nmeaning that whenever more than 500 nodes are found, they will be removed from\nthe display. This number can be set higher or lower based on what’s relevant to your\nsite, or in proportion to the number of nodes your CPU can handle, which is helpful\nin the case of web sites, where it is nearly impossible to define a static “map” of the\nentire site at any one time—most sites change their structure and content far too\noften. Instead, the visualization is built organically, responding to data fed into it.\nDepicting Branches and Nodes (Represent and Reﬁne)\nEach Node has a set of fields that determines how large it should be drawn on screen:\n  float thickness;\n  static float thicknessAdd = 1;\n  static float thicknessDecay = 0.999f;\n  static float thicknessMax = 10;\nThe thicknessAdd determines the amount of size that’s added to a node each time it\nis visited (this is handled by checkNode( )). Although we want oft-visited nodes to\ngrow, we also want the display to move on, so we let nodes shrink slowly when\nthey’re no longer visited. The thicknessDecay value determines how much the node\nshould shrink each time its update( ) method is called. The thicknessMax variable\ncontrols how large a node is allowed to get. This is important because it keeps pages\nwith heavy traffic (e.g., the home page) from completely overwhelming the visualiza-\ntion. The variables are all static because they’re shared by all instances of Node.\nThey’re not set as final constants because later you may want to add interface ele-\nments to modify the variables so that you can adjust their uses.\nControlling the Speed of the Visualization\nA better method for reading from the logfile would be to pick a speed at which you’d like\nto “play back” the data (for instance, 10× faster than the times recorded in the source\nfile), and then read as many lines as necessary to keep within that range. You can use\nmillis() to determine the number of milliseconds that have elapsed since the start of the\nsketch, and then compare the variables Node.newestTime and Node.oldestTime to see how\nthings are progressing. The drawStatus() method (not covered here, but in the code)\nshows how to compute the rate in this manner, but it’s used only to report the rate, not\nto change how quickly data is read.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2439
  },
  {
    "chunk_full": "Advanced Graph Example\n|\n257\nThe opacity of a branch is determined by the most recent visit to the node at the end\nof the branch (the to field). When nodes are pruned they are set as inactive, and\nwhen a branch connects an inactive node, it sets its own active field to false inside\nthe relax( ) method. The draw( ) method for the branch covers this logic:\n  protected void draw( ) {\n    if (active) {\n      float span = (float) (Node.newestTime - Node.oldestTime);\n      float elapsed = (float) (to.lastVisitTime - Node.oldestTime);\n      float weight = elapsed / span;\n      parent.fill(1, weight);\n      parent.noStroke( );\n      parent.drawConnection(from.x, from.y, from.thickness,\n                            to.x, to.y, to.thickness);\n    }\n  }\nBranches are displayed by drawing a line of varying thickness between two nodes.\nThe thickness at each end of the line is determined by the thickness variable for the\nNode at that end. A rounded cap is added to the line so that the connections are not\nsharp at the corners, which would produce a lot of visual noise because of the inter-\nsection of many jagged lines crossing one another on nodes with more than one con-\nnecting branch. Because it makes such heavy use of the Processing API, the code for\ndrawConnection( ) is placed inside the main Anemone class:\n  public void drawConnection(float x1, float y1, float r1,\n                             float x2, float y2, float r2) {\n    float angle = atan2(y2 - y1, x2 - x1);\n    beginShape( );\n    int stepCount = (int) r1+1;\n    for (int i = 0; i <= stepCount; i++) {\n      float theta = map(i, 0, stepCount, angle + HALF_PI, angle + PI*1.5f);\n      float x = x1 + r1 * cos(theta);\n      float y = y1 + r1 * sin(theta);\n      vertex(x, y);\n    }\n    stepCount = (int) r2+1;\n    for (int i = 0; i <= stepCount; i++) {\n      float theta = map(i, stepCount, 0, angle + HALF_PI, angle - HALF_PI);\n      float x = x2 + r2 * cos(theta);\n      float y = y2 + r2 * sin(theta);\n      vertex(x, y);\n    }\n    endShape(CLOSE);\n  }\nThis code calculates the angle from the first point to another using atan2( ). A half\narc is drawn using cos( ) and sin( ), and then it is connected to a second half arc\ndrawn in the opposite direction for the opposite end of the branch. Figure 8-12\ndepicts how the shape is drawn. Because both half arcs are contained within the\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2440
  },
  {
    "chunk_full": "258\n|\nChapter 8: Networks and Graphs\nsame beginShape( ) block, the end of the first arc automatically connects with the\nbeginning of the second arc.\nPlaying with Data (Interact)\nWe haven’t yet covered a means for moving nodes around the way we did in the\nGraphLayout example. This is handled by similar functions inside the Anemone class.\nThe first function finds the closest node to the mouse, the next handles mouse press\nevents, and the third, mouseDragged( ), moves the actual node based on the distance\nbetween the current (mouseX and mouseY) and previous (pmouseX and pmouseY)) mouse\npositions. Like GraphLayout, the right mouse button (or Ctrl-click on a Mac) will\nrelease the node from its fixed position.\n  protected Node findClosestNode( ) {\n    // Set to the minimum distance from mouse to node to care about.\n    float closestDist = 8;\n    Node closestNode = null;\n    for (Node n : allNodes) {\n      float d = dist(mouseX, mouseY, n.x, n.y);\n      if (d < closestDist) {\n        closestDist = d;\n        closestNode = n;\n      }\n    }\n    // If nothing closer than 8, this returns null.\n    return closestNode;\n  }\nFigure 8-12. How drawConnection( ) works\ni = stepCount\ntheta = angle + Pl*1.5\ni = 0\ntheta = angle + Pl*0.5\n(x1, y1)\nangle\ni = 2\ni = 1\ni = 0\ntheta = angle + Pl*0.5\n(x2, y2)\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2441
  },
  {
    "chunk_full": "Advanced Graph Example\n|\n259\n  public void mousePressed( ) {\n    Node closestNode = findClosestNode( );\n    if (mouseButton == LEFT) {\n      if (closestNode != null) {\n        closestNode.nameVisible = true;\n        closestNode.fixed = true;\n      }\n      movingNode = closestNode;\n    } else if (mouseButton == RIGHT) {\n      if (closestNode != null) {\n        closestNode.nameVisible = false;\n        closestNode.fixed = false;\n      }\n    }\n  }\n  public void mouseDragged( ) {\n    if (movingNode != null) {\n      movingNode.x += mouseX - pmouseX;\n      movingNode.y += mouseY - pmouseY;\n    }\n  }\nDrawing Node Names (Represent and Reﬁne)\nNodes that are fixed show their names. In fact, Node.draw( ) draws its node only if its\nname is visible:\n  public void draw( ) {\n    if (nameVisible) {\n      parent.textAlign(PConstants.CENTER);\n      parent.fill(0.8f, 0.9f, 0.5f);\n      parent.text(name, x + thickness + 2, y);\n    }\n  }\nBecause the text can sometimes get lost with the white background, other drawing\nrefinements might be necessary. One option is to draw a barely opaque black box\nbehind the text so that the yellow text color shows above the white nodes:\n  public void draw( ) {\n    if (nameVisible) {\n      parent.textAlign(PConstants.CENTER);\n      // Draw translucent box behind the text.\n      parent.fill(0, 0.2f);\n      float w = parent.textWidth(name);\n      float y1 = y - parent.textAscent( ) - 1;\n      float y2 = y + parent.textDescent( ) + 1;\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2442
  },
  {
    "chunk_full": "260\n|\nChapter 8: Networks and Graphs\n      parent.rectMode(PConstants.CORNERS);\n      parent.rect(x - w/2f - 3, y1, x + w/2f + 3, y2);\n      parent.fill(0.8f, 0.9f, 0.5f);\n      parent.text(name, x + thickness + 2, y);\n    }\n  }\nAnother option is to implement a black outline around the text by drawing it with\noffsets of one pixel above, below, and to the sides of the actual text. This is a sort of\nhack recalling the thick black border around text shown on broadcast television:\n  public void draw( ) {\n    if (nameVisible) {\n      parent.textAlign(PConstants.CENTER);\n      // TV-style black outline\n      parent.fill(0, 0.3f);\n      parent.text(name, x-1 + thickness + 2, y);\n      parent.text(name, x + thickness + 2, y-1);\n      parent.text(name, x+1 + thickness + 2, y);\n      parent.text(name, x + thickness + 2, y+1);\n      parent.fill(0.8f, 0.9f, 0.5f);\n      parent.text(name, x + thickness + 2, y);\n    }\n  }\nNeither of these two possibilities is perfect, but both techniques are useful in other\nprojects. You should try changing the colors of the branches, text, and background\nuntil you find a combination that you prefer.\nDrawing Visitor Paths (Represent and Reﬁne)\nWe haven’t yet covered how the paths of individual visitors are drawn. For a highly\nstructured site, most visitor traffic may move along the actual hierarchy of the site.\nFor instance, a user visiting http://processing.org/reference/libraries probably traveled\nfirst from the home page to the reference page and then clicked a link for the librar-\nies page. Search engine robots will take far more erratic paths. Sites that aren’t laid\nout in such a structured manner also have patterns that are far different.\nTo represent these paths, we can draw a line that connects each node visited by an\nindividual user. The Visitor class stores an array of Node objects that have been vis-\nited, along with the timestamp for when the visit occurred. The Node is checked for\nits x, y location, and the timestamp is used to calculate how brightly the line is\ndrawn so that older traffic begins to fade.\nEach time an addVisit( ) function inside Visitor is called, a node representing the\nvisit is added to the jumpNodes array and the jumpCount variable is incremented. Thus,\njumpNodes is a list of visits in the order they were made. The referer of jumpNodes[n]\ncan always be found by checking jumpNodes[n-1].\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2443
  },
  {
    "chunk_full": "Advanced Graph Example\n|\n261\nTo connect several points with a curve, we can use the method first discussed in\nChapter 4. Because we’ll want to color each segment differently, we can’t use\nbeginShape( ) and curveVertex( ), so instead we use the curve( ) method, which draws\nonly a single curve segment:\n  // Time out after 30 minutes (1,800,000 milliseconds).\n  static final long TIMEOUT = 30 * 60 * 1000;\n  public void draw( ) {\n    if (jumpCount > 2) {\n      parent.noFill( );\n      parent.strokeWeight(0.5f);\n      for (int i = 0; i < jumpCount-1; i++) {\n        long timeoutTime = Node.newestTime - TIMEOUT;\n        int elapsed = (int) (jumpTimes[i+1] - timeoutTime);\n        float weight = PApplet.map(elapsed, 0, (int) TIMEOUT, 0, 1);\n        if (weight < 0) weight = 0;\n        parent.stroke(0.9f, 0.7f, 0.3f, weight);\n        Node n1;\n        // If this is the first point, use the first node twice.\n        if (i == 0) {\n          n1 = jumpNodes[0];\n        } else {\n          n1 = jumpNodes[i-1];\n        }\n        Node n2 = jumpNodes[i];\n        Node n3 = jumpNodes[i+1];\n        // If this is the end of the list of jumps, double the last point.\n        Node n4;\n        if (i == jumpCount-2) {\n          n4 = jumpNodes[jumpCount-1];\n        } else {\n          n4 = jumpNodes[i+2];\n        }\n        parent.curve(n1.x, n1.y, n2.x, n2.y, n3.x, n3.y, n4.x, n4.y);\n      }\n    }\n  }\nIf at least two jumps have occurred (the Visitor has visited two different nodes), we\ncan draw a line connecting them. The loop draws each consecutive piece of curve\nand sets the transparency of the stroke based on the amount of time that has elapsed\nsince the visit occurred. You can alter the TIMEOUT variable to something suitable for\nthe length of the average stay for visitors to your site.\nRecall from Chapter 4 that it’s necessary to have start and end points on a curve that\nare not drawn, which are used to guide the curve into its first and second point.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2444
  },
  {
    "chunk_full": "262\n|\nChapter 8: Networks and Graphs\nWhen jumpCount is 2, the first and last points are used twice. When jumpCount is 3,\nonly the first point is used twice. Otherwise, each curve segment is drawn with the\ncurve( ) command, employing the previous point, two points connected by the curve\nsegment, and the next point in the chain. The i variable is used to slide a window\nacross the four points. Figure 8-13 shows the paths of a few visitors with a faint\norange line behind the white branches.\nMining Additional Information\nIn its current state, this example shows information about the changing structure of\nthe site and how visitors travel throughout its structure over time. It provides a use-\nful qualitative map of site use, but far more can be done with this example. A hand-\nful of suggestions follow.\n• The referer variable can be a hint to which other sites are linking in to the site in\nquestion. This can be a helpful indicator of the source of traffic to your site, such\nas when you’re seeing a traffic spike to a particular area.\n• If a user visits a search engine and visits your site, the referer information will\ncontain the full URL from the search engine. For instance, http://www.google.\ncom/search?hl=en&q=processing&btnG=Search\nis\nproduced\nwhen\na\nuser\nsearches for “processing.” Decoding this URL can be done with a regexp that\nmatches for text after the q= portion and before the next & character. A similar\nmethod works for other search engines. You can even obtain information such\nas what page of search results they were looking at when they found your site.\nAll this is useful for buying search terms and other marketing.\nFigure 8-13. Paths of visitors drawn in orange using the curve( ) function\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2445
  },
  {
    "chunk_full": "Mining Additional Information\n|\n263\n• Although the current application is useful for a qualitative understanding of traf-\nfic patterns on the site, it’s lacking in quantitative specifics. Mixing in more spe-\ncific numbers and tabulation would help the user combine the two aspects of the\ndata for a more informative display.\n• This application is actually a tree, and doesn’t have any typical graph qualities\nlike nodes that form loops. It could also be represented with another tree repre-\nsentation (such as a hierarchic list or a treemap), which could be an interesting\napproach. You could also use link structure to determine a graph of the site,\nrather than using the directory hierarchy. This can produce a tangled mess, but it\ncould also be helpful for understanding what the hierarchy of the site “really”\nlooks like.\n• The data could be filtered in countless ways. In the current version, CGI scripts\nare completely neutered and their parameters removed. But this is problematic\nfor sites run completely from scripts, such as an events calendar with parame-\nters for the month, day, and year. Instead, some parameters could be made into\nseparate parts of the hierarchy so that heavily visited events will show differently\nfrom the others. The same would be true for a site’s internal search mechanism\nto make it clear what people were searching for (and what they later found)\nwhen they visited your site.\n• Sites of different sizes need to be handled differently. The parameters for the\nmaximum number of nodes (in the Anemone class) and for the expansion and\ncontraction of node thickness (in the Node class) would benefit from UI elements\nthat control the settings (so that they can be adjusted in real time for different\nsites).\n• Another filtering/mining mechanism would be a means of setting the window of\ntime in which data is relevant. This is related to the previous point, but the attri-\ntion of node thickness could be set so that visits fade out after a week, a month,\nor whatever is most relevant for the amount of traffic on the site in question.\nInteractively controlling these windows would provide a powerful snapshot\nmechanism for understanding how the site is used.\nThe Anemone project touches on many important aspects of data visualization. Give\nthe program a try with your own data, and apply what you’ve learned in previous\nchapters to how you modify and refine the code.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2446
  },
  {
    "chunk_full": "264\nChapter 9\nCHAPTER 9\nAcquiring Data\n9\nThe first step in visualizing data is to load it into your application. Typical data\nsources might be a file on a disk, a stream from a network, or a digitized signal (e.g.,\naudio or sensor readings). Unless you own the data and it’s recorded in a definable,\ndigitizable format, things can get messy quickly. How do you process weeks of sur-\nveillance video? How does one quantitatively acquire data from an hour-long meet-\ning that involved a verbal discussion, drawings on a whiteboard, and note taking\ndone by individual participants?\nThus, the acquisition stage covers several tasks that sometimes get complicated:\n• Unless you are generating your own data, you have to find a good source for the\ndata you want.\n• If you don’t own the data, you have to make sure you have the right to use it.\n• You may have to go through contortions to extract the data from a web page or\nother source that wasn’t set up to make it easy for your application.\n• You have to download the data, which may present difficulties if the volume is\nlarge, especially if it’s fast-changing.\nI’ll show some common solutions to these problems in this chapter. Even if they\ndon’t fit your situation, they’ll still be a starting point for finding a solution.\nIn some cases, you may not use a Processing program to acquire and parse your ini-\ntial data set. It’s not uncommon to preprocess the data in another language, such as\nPerl, Python, or Ruby, and later use the (cleaned) results with Processing. Simple\nintegration can be done with a shared text file or database. Tighter integration can be\nachieved through Unix pipes or embedded versions of languages, such as Jython\n(http://www.jython.org) and JRuby (http://jruby.codehaus.org). We won’t be able to\ncover all the possibilities here, but we will cover a few utilities and methods that\nmake data acquisition simpler.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2447
  },
  {
    "chunk_full": "Where to Find Data\n|\n265\nWhere to Find Data\nThe first tool in seeking data should be a good search engine. Effective searching is a\nmatter of using the proper keywords. Think about terms that will help specify the\ninformation you’re looking for, and the format that it might be in. A search for\n“weather data” may produce high-level results, but “xml weather feed” turns up the\nNational Weather Service’s XML data feeds. This query includes the file format, the\nitem being searched for, and its orientation (a feed versus a downloadable file). On\nthe other hand, keywords like “download” along with a file format are often useful.\nIf a search for “world hunger statistics” turns up only discussions of the numbers,\nsomething like “world hunger statistics download” or “world hunger statistics xls”\nmight yield better results.\nYou may find yourself hampered by entities that charge for their data (or simply an\norganization that makes available public, but hard to find, information, like the “value\nadded” zip code providers in Chapter 6). Some of the best information on interna-\ntional statistics from the World Bank, for instance, can cost hundreds of dollars.\nGovernment web sites are often useful sources of data because the information col-\nlection is paid for by the public (by way of federal taxes), and is therefore owned by\nthe public and freely available, often without copyright. In recent years, many gov-\nernment agencies have worked hard to make their data more widely available, mak-\ning the information accessible to any interested web user, rather than the small\nnumber of people, such as librarians and researchers, who knew of the existence of\nsuch information. They make it available through user-friendly databases, compara-\ntive systems that produce PDFs and Excel documents for you, and different agencies\npooling resources.\nA number of these web sites describe the history of their databases and explain the\nprocess involved: how they started (funding), what program/technique they used,\nhow they chose the information featured, where they got more funding, how the\nproject grew, what the project’s ultimate goals are, etc. Some academic centers have\ntaken raw government data/archives and created a researcher resource. These types\nof resources are themselves dynamic because many are works in progress.\nOn the other hand, some organizations make their data available through publicly\ndocumented and supported APIs. The big search engines have SDKs for running que-\nries from all manners of programming languages. Related sites such as Flickr (at http://\nwww.flickr.com/services/api) and del.icio.us (at http://del.icio.us/help/api) do the same.\nE-commerce site Amazon.com was one of the first to truly open up its entire store to\nsoftware developers (http://aws.amazon.com), allowing others to build tools on top of\nits existing infrastructure. Many of these services use either REST-style APIs, where\nqueries are formatted as URLs to a web site, or Simple Object Access Protocol\n(SOAP). Data results are often returned as XML documents, which are discussed\nlater in this section.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2448
  },
  {
    "chunk_full": "266\n|\nChapter 9: Acquiring Data\nData Acquisition Ethics\nWhen APIs are not available, you’ll often wind up screen-scraping to pull the data\nfrom HTML documents on web sites. An important consideration when download-\ning data is whether you’re likely to get yourself in trouble or simply banned (perma-\nnently or temporarily) from the site. Downloading too many satellite photo images\nfrom Google Maps, for instance, will get your IP address banned for a few days. It’s\nnot uncommon to have someone run an overly aggressive utility or script to down-\nload all 1,300 pages of http://processing.org/reference, slowing the site for others.\nThese bandwidth gluttons fail to notice that the pages are included with the soft-\nware they just downloaded.\nIt’s important to consider your source. Is it an academic research project with a 300\nMHz server sitting in a closet and you’re going to throttle the machine for a few\nhours? Is it a commercial venture (as in the case of MLB.com in Chapter 5)? What is\nthe copyright status of the data, and do you have the right to redistribute it?\nThe bottom line is: don’t be abusive, and take care to be a good citizen of the Net.\nFew sites implement strict policies guarding their data (such as Google does with\ntheir satellite imagery), but through some self-policing, we can help keep it that way.\nTools for Acquiring Data from the Internet\nProcessing provides the loadStrings( ), loadBytes( ), and loadImage( ) methods, all\nof which can handle either local files or data from http:// addresses (as well as some\nother protocols, such as https or ftp, depending on the version of Java you’re using).\nI’ll discuss these functions in the sections that follow, but first let’s take a look at\nother means of acquiring data from the Internet by hand or using command-line\ntools.\nThe most basic method for pulling data is visiting sites and downloading links\ndirectly. Download files to your machine by right-clicking the link and selecting\n“Save Target As…” (in Internet Explorer), “Save Link As…” (in Firefox), or “Save\nPage As…” (in Safari).\nWe’ll use a handful of command-line utilities in this chapter and those that follow.\nFor Unix and Mac OS X users, this isn’t a problem because most of these tools will\nbe available and installed by default. On Windows, you should download and install\nCygwin (http://cygwin.com), which provides a Unix-like shell environment and access\nto many command-line applications (such as grep, head, tail, wget, etc.). These\nchapters make the assumption that you have Cygwin installed.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2449
  },
  {
    "chunk_full": "Tools for Acquiring Data from the Internet\n|\n267\nWget and cURL\nTwo common utilities associated with grabbing data from the Web are GNU Wget\n(http://www.gnu.org/software/wget) and cURL (http://curl.haxx.se). At the most basic\nlevel, each can be used to download the contents of a web page (or other online\nobjects, such as jpg or swf data) and save it to a file. The following syntax downloads\nthe cover image for this book using each application:\nwget http://www.oreilly.com/catalog/covers/9780596515935_cat.gif\ncurl http://www.oreilly.com/catalog/covers/9780596515935_cat.gif > image.gif\nWget defaults to writing a file using its original name, whereas cURL sends output to\nthe console, so in this case, we write that to image.gif by redirecting it. There are\nmany command-line options for each that handle setting the name of output files,\nwhere to send error messages, or the amount of time to wait before giving up (try\ncurl --help and wget --help for a complete rundown). cURL is a bit more light-\nweight than Wget and more likely to be installed on most systems (whether a host-\ning provider or a Mac or Linux machine).\nWget can also be used to pull web pages along with other associated files recursively\n(essentially creating a local mirror of the site) using a command such as:\nwget -r -np http://www.oreilly.com/store/\nThat downloads all pages from http://www.oreilly.com recursively (the -r switch).\nThe -np switch specifies “no parent directories” (e.g., when following links, grab\nitems only from /store/ and below; don’t follow links back to the root directory at\nhttp://www.oreilly.com). Be sure to use such a command sparingly, as it can truly\npound someone’s site for information. It’s an easy way to annoy site administrators if\nyou don’t know what you’re doing.\nAnother useful option of Wget when downloading very large files is the -c (or\n–continue) option, which resumes a download that was interrupted. This can be\ninvaluable if you’re downloading a file several hundred megabytes in size over a bad\nconnection.\nBoth applications also support ftp:// URLs in addition to http:// and https://.\nNcFTP and Links\nOther utilities such as NcFTP (http://www.ncftp.com/ncftp) and Links (http://links.\nsourceforge.net) can be used to download streams from URLs, or in the case of\nNcFTP, efficiently download entire directories from an FTP server. Links is prima-\nrily a text web browser but can be used from the command line as a replacement for\nWget or cURL if neither is available.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2450
  },
  {
    "chunk_full": "268\n|\nChapter 9: Acquiring Data\nLocating Files for Use with Processing\nIn most cases, you’ll want to acquire data from within a program rather than copy it\nbeforehand. Command-line tools like Wget are useful when grabbing very large data\nsets or when taking a look at a set of information before incorporating a live down-\nload into your code. Processing supports methods for loading data found at a range\nof locations. It’s important to understand this structure before we get into the specif-\nics of the API functions for acquiring data.\nThe Data Folder\nThe most common data source is a file placed in the data folder of a Processing\nsketch. For example:\nString[] lines = loadStrings(\"blah.txt\");\nwhere blah.txt is a file that has been added to the data folder.\nWhen you export an application or applet, all classes and the contents of the data\nfolder will be bundled into a single .jar file. If the contents of these files need to\nchange after the application or applet has been created, remove them from the data\nfolder before exporting, and place them in another folder named data that is adja-\ncent to the application or applet.\nIf you need to address this folder from other code, the dataPath( ) method returns an\nabsolute path to an item found in the data folder. It takes the name or path of the file\nin the data folder as its only parameter and prepends it with the necessary location\ninformation.\nUniform Resource Locator (URL)\nFiles can also be located at specific URLs, for instance:\nloadStrings(\"http://benfry.com/writing/blah.txt\");\nLoading from URLs is less useful when running as an applet. Attempting to use\nloadStrings( ) for a URL not on the same site as the applet will cause a\nSecurityException when run from a browser. For security reasons, an applet cannot\nconnect to sites other than the one from which it originated, unless it has been\nsigned—a method for marking code with a certificate that declares it is trusted. More\nabout signing Java applets can be found online.\nMany different protocols can be used in URLs. The most common is HTTP, but oth-\ners—such as HTTPS and FTP—are also common. It’s safe to assume that HTTP will\nwork properly across systems, but implementation of other protocols will vary from\none Java implementation to another.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2451
  },
  {
    "chunk_full": "Locating Files for Use with Processing\n|\n269\nAbsolute Path to a Local File\nSometimes it’s useful to be able to point to an exact path on a local machine. The\nformat of an absolute path will vary for each operating system (and language); here\nare examples of grabbing a file from the desktop on three U.S. English systems:\n// Mac OS X\nString[] lines =\n  loadStrings(\"/Users/fry/Desktop/blah.txt\");\n// Linux\nString[] lines =\n  loadStrings(\"/home/fry/Desktop/blah.txt\");\n// Windows XP\nString[] lines =\n  loadStrings(\"C:\\\\Documents and Settings\\\\fry\\\\Desktop\\\\blah.txt\");\nAbsolute paths are most useful when the file (or files) in question are very large and\ntherefore burdensome to include in the data folder. For instance, if a sketch has 250\nMB in the data folder, using File ➝Save As on that sketch will be time consuming\nbecause it will copy that 250 MB to the new sketch folder. That can also quickly fill\nup your disk—not the best situation when trying to iterate quickly.\nSpecifying Output Locations\nEven though this is technically the chapter on acquiring data, I should quickly men-\ntion how data is written with corresponding functions that save information.\nA global String variable named sketchPath specifies the absolute path to the sketch\nfolder. Like dataPath( ), this can be used to interface to other methods that require a\nfull path. The savePath( ) method operates like dataPath( ) and prepends the\nsketchPath value to a filename or path supplied as a parameter. It also creates any\nintermediate folders if they do not exist. The following example uses all three:\nprintln(sketchPath);\nprintln(dataPath(\"filename.txt\"));\nprintln(savePath(\"path/to/subfolder/item.txt\"));\nwhich outputs:\n/Users/fry/sketchbook/path_example\n/Users/fry/sketchbook/path_example/data/filename.txt\n/Users/fry/sketchbook/path_example/path/to/subfolder/item.txt\nand creates the folders path ➝to ➝subfolder inside the sketch folder named path_\nexample.\nOther Processing API methods that create output files use the savePath( ) method:\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2452
  },
  {
    "chunk_full": "270\n|\nChapter 9: Acquiring Data\ncreateWriter( )\nCreates a PrintWriter object that can be written to with println( ) commands,\njust like writing to the console.\nsaveStrings( )\nSaves a String array to a file in the sketch folder.\nsaveBytes( )\nSaves a byte array to a file.\nsave( ) and PImage.save( )\nSaves an image of the screen or the contents of a PImage to a file, respectively.\nThe extension on the filename determines the file format used.\nBy default, files are not saved to the data folder because once exported, the files from\nthe folder will be packaged inside the .jar file that combines the applet or applica-\ntion and all its resources. Thus, the path to the data folder will reside somewhere\nwithin the .jar file—which cannot be saved to.\nLoading Text Data\nWe use a lot of text files in this book mainly because text is easy to read and simple\nto edit without special software or complicated parsers. That’s one reason that XML\nis so popular: it can be generated and edited by hand just as easily as by machine.\n(Perhaps you thought it was just because the acronym sounds important and trendy.)\nTo read a file as lines of text, use the following:\nString[] lines = loadStrings(\"beverages.tsv\");\nBecause the loadStrings( ) method also automatically handles loading files from\nURLs, the file could be loaded directly online via:\nString[] lines =\n  loadStrings(\"http://benfry.com/writing/series/beverages.tsv\");\nThe URL method is most useful for data that continually changes. For instance, if\nthis data were updated nightly, the information could be reloaded easily. In such a\ncase, the saveStream( ) method could also be used, which handles downloading the\ncontents of a URL and saving it to disk. It could be used once a day, and the file it\ncreates could then be loaded through loadStrings( ).\nFiles Too Large for loadStrings( )\nWhen files are very large, it may be more useful to read one line at a time from the\nfile so that the data can be processed into a more useful intermediate format.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2453
  },
  {
    "chunk_full": "Loading Text Data\n|\n271\nIn this case, the BufferedReader class from Java is helpful because it reads lines from\na file one at a time. The Processing createReader( ) function creates a BufferedReader\nobject from a file in the data folder, an absolute path to a local file, or from a URL.\nThis example loads a file named toobig.txt and reads it one line at a time:\ntry {\n  // Get the file from the data folder.\n  BufferedReader reader = createReader(\"toobig.txt\");\nloadStrings( ) Versus Java Methods\nThe loadStrings( ) command was added to Processing because more often than not\nusers simply want to read lines from a file and stuff them into an array. In regular Java\ncode, this would look something like:\ntry {\n  ArrayList list = new ArrayList( );\n  FileInputStream fis = new FileInputStream(\"beverages.tsv\");\n  InputStreamReader isr = new InputStreamReader(fis);\n  BufferedReader reader = new BufferedReader(isr);\n  String line = null;\n  while ((line = reader.readLine( )) != null) {\n    list.add(line);\n  }\n  String[] lines = (String[]) list.toArray( );\n} catch (IOException e) {\n  e.printStackTrace( );\n}\nThe Java example is a dozen lines long, and it has few benefits over the loadStrings( )\nfunction in this context. In addition to brevity, loadStrings( ) makes use of the data\nfolder and simplifies error handling by simply returning null when the data is unavail-\nable, rather than requiring new users to learn about exception handling.\nWhen writing a short bit of Java code, it’s common to have code peppered with\ne.printStackTrace( ), perhaps followed by a System.exit( ) if the error is fatal. This\nis the simplistic, go-to means to get pesky try/catch requirements out of the way. The\ntry/catch mechanism in Java is very powerful and useful and helps reinforce good\ncoding style. However, in cases where you’d be printing the stack trace and moving on\n(or exiting), it gets in the way of rapid development, where all you really care about is\nwhether the file was loaded.\nBorrowing from scripting languages, the loadStrings( ) command attempts to read the\ndata, and if it cannot, it returns null rather than throwing an error. For debugging pur-\nposes, printStackTrace( ) is still called and writes to the console, but the exception\ndoes not halt execution. Of course, the Java methods are still available for users who\nneed more sophisticated error handling in their programs.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2454
  },
  {
    "chunk_full": "272\n|\nChapter 9: Acquiring Data\n  // Loop to read the file one line at a time.\n  String line = null;\n  while ((line = reader.readLine( )) != null) {\n    println(line); // Just print each line of the file\n  }\n} catch (IOException e) {\n  e.printStackTrace( );\n}\nReading Files Progressively\nAnother possibility when using a BufferedReader is to read a few lines on each itera-\ntion through the draw( ) method. The data in the file might be time-based, so this\ntechnique can be used to visualize the data progressively. The following example\nshows how this is done:\nBufferedReader reader;\nvoid setup( ) {\n  reader = createReader(\"progression.log\");\n}\nvoid draw( ) {\n  try {\n    String line = reader.readLine( );\n    if (line != null) {\n      // Do something here with the line just read.\n    }\n  } catch (IOException e) {\n    e.printStackTrace( );\n  }\n  // Other drawing happens here.\n}\nOn each trip through draw( ), a new line is read, and the readLine( ) method will\nreturn null if the file is finished. To better handle this situation, use a boolean vari-\nable to keep track of whether reading is complete:\nBufferedReader reader;\nboolean readerFinished;\nvoid setup( ) {\n  reader = createReader(\"progression.log\");\n}\nvoid draw( ) {\n  if (!readerFinished) {\n    try {\n      String line = reader.readLine( );\n      if (line != null) {\n        // Do something here with the line just read.\n      } else {\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2455
  },
  {
    "chunk_full": "Loading Text Data\n|\n273\n        readerFinished = true;\n      }\n    } catch (IOException e) {\n      e.printStackTrace( );\n      readerFinished = true;\n    }\n  }\n  // Other drawing happens here.\n}\nReading Files Asynchronously with a Thread\nTo completely disconnect a file reading from the drawing loop, use a Thread object.\nThis method is used in Chapter 6 (the Slurper class) and in the second half of\nChapter 8 (the Streamer class). Two examples that use the same structure follow.\nThis version reads lines asynchronously and calls the handleLine( ) function when-\never a new line of data is available:\npublic class Streamer implements Runnable {\n  BufferedReader reader;\n  Thread thread;\n  public Streamer(BufferedReader reader) {\n    this.reader = reader;\n    thread = new Thread(this);\n    thread.start( );\n  }\n  public void run( ) {\n    try {\n      while (Thread.currentThread( ) == thread) {\n        String line = reader.readLine( );\n        // Exit the while( ) loop and terminates the thread.\n        if (line == null) break;\n        // Call a function in the main class to make use of this data.\n        handleLine(line);\n        // Wait a short while before getting the next line.\n        try {\n          Thread.sleep(5);\n        } catch (InterruptedException e) { }\n      }\n    } catch (IOException e) {\n      e.printStackTrace( );\n    }\n  }\n}\nThe code in the main tab might look something like the following:\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2456
  },
  {
    "chunk_full": "274\n|\nChapter 9: Acquiring Data\nStreamer input;\nvoid setup( ) {\n  input = new Streamer(createReader(\"inputfile.txt\"));\n}\nvoid handleLine(String line) {\n  // Do something here with 'line'.\n}\nA second version reads lines into a list, queuing data so that there’s always plenty\navailable. It also makes use of synchronization, which prevents two separate threads\nfrom modifying a set of data at the same time. For instance, your main program\nmight try to read from the queue at the same time that the thread in this class adds\nanother line of data to it. This can cause problems, so instead we wrap any code that\nmust be protected inside a synchronized block, which ensures that only one thread\ncan access the variable under synchronization at a time:\npublic class StreamerQueue implements Runnable {\n  BufferedReader reader;\n  Thread thread;\n  int MAX_LIST_SIZE = 1024;\n  ArrayList list = new ArrayList( );\n  public StreamerQueue(BufferedReader reader) {\n    this.reader = reader;\n    thread = new Thread(this);\n    thread.start( );\n  }\n  public void run( ) {\n    try {\n      while (Thread.currentThread( ) == thread) {\n        // Continue reading until reached the max list size\n        // (prevents from reading too much and getting out of control).\n        while (list.size( ) < MAX_LIST_SIZE) {\n          String line = reader.readLine( );\n          // Exit the while( ) loop and terminates the thread\n          if (line == null) break;\n          // Add to the list in a thread-safe manner.\n          synchronized (list) {\n            list.add(line);\n          }\n        }\n        try {\n          Thread.sleep(5);\n        } catch (InterruptedException e) { }\n      }\n    } catch (IOException e) {\n      e.printStackTrace( );\n    }\n  }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2457
  },
  {
    "chunk_full": "Loading Text Data\n|\n275\n  // Get the next line from the list.\n  public String nextLine( ) {\n    synchronized (list) {\n      if (list.size( ) == 0) {\n        return null;\n      }\n    }\n    String line = (String) list.remove(0);\n    return line;\n  }\n}\nThe main tab calls the nextLine( ) function to get the next line of data, which will\nreturn null if none is available. This style of streaming gives the host application\nmore control over when new data should be read, and is the technique used in\nChapter 8. Code for the main tab follows:\nStreamerQueue queue;\nvoid setup( ) {\n  queue = new StreamerQueue(createReader(\"inputfile.txt\"));\n}\nvoid draw( ) {\n  // Read up to 10 lines on each trip through draw( ).\n  for (int i = 0; i < 10; i++) {\n    String line = queue.nextLine( );\n    if (line != null) {\n      handleLine(line);\n    }\n  }\n}\nvoid handleLine(String line) {\n  // Do something here with 'line'.\n}\nThe second example is better for most situations because data is usually transmitted\nin bursts. Providing a queue makes the host application more likely to have a steady\nstream of information available to it.\nTo hide threads’ complexity, Processing doesn’t require you to learn about them\nfrom the outset. But threading can be very powerful, and these techniques can be\napplied to other types of data input when you’re not using createReader( ) and want\nto avoid halting the application while data is loading slowly (which is almost always\nthe case with the Internet, and often the case for large local files). There’s also a point\nat which a large number of threads begins to degrade performance significantly. It’s a\nbad idea to spawn dozens of threads; instead, use just a handful of threads, which\nhandle individual tasks but share a task list that each can update.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2458
  },
  {
    "chunk_full": "276\n|\nChapter 9: Acquiring Data\nParsing Large Files As They Are Acquired\nRather than read a large file into memory and then parse it, it’s often better to parse\nthe data while it’s being read. In such cases, you can collapse the Acquire and Parse\nsteps of the process together for greater efficiency.\nFor instance, if a line of data is made up of a few dozen columns of numbers with\ndecimals, each line can be read (the Acquire step) and converted immediately to a\nfloat array (the Parse step), allowing you to discard the String for the line itself:\ntry {\n  // Get the file from the data folder.\n  BufferedReader reader = createReader(\"manyfloats.txt\");\n  // Loop to read the file one line at a time.\n  String line = null;\n  while ((line = reader.readLine( )) != null) {\n    // Split the line at TAB characters.\n    String[] columns = split(line, TAB);\n    // Convert the String array to a float array.\n    float[] numbers = float(columns);\n    // ... do something here with the numbers array.\n  }\n} catch (IOException e) {\n  e.printStackTrace( );\n}\nIf a line in this file is made up of 100 columns of 8-digit numbers, each String\nrequires about 1,600 bytes:\n8 digits * 100 columns * 2 bytes per character = 1600 bytes\nBut the same data, when converted to 100 floats, requires only 400 bytes:\n100 columns * 4 bytes per float = 400 bytes\nMemory might be cheap, but this savings can be significant when you’re talking\nabout 250 MB of memory instead of 1 GB.\nPerhaps more importantly, converting data from a String to a float is a computa-\ntionally expensive operation, so this should be done only once, rather than inside,\nsay, the draw( ) loop.\nDealing with Files and Folders\nIt’s often helpful to start with local data before developing a version of your code\nthat runs over the network or from a database. This section covers methods for deal-\ning with local data.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2459
  },
  {
    "chunk_full": "Listing Files in a Folder\n|\n277\nUsing the Java File Object to Locate Files\nFor some tasks, the Java File object may be helpful. For instance, the following code\nloads a file named bar.txt from a folder called foo and retrieves all the text from it.\nRelative paths like this are problematic, however, because you can’t be sure from\nwhich directory the application will run, so it’s best to use an absolute path with this\nmethod:\nFile foo = new File(\"foo\", \"bar.txt\");\nString[] lines = loadStrings(foo);\nMany of the I/O methods in Processing allow a File as a parameter. But for those\nthat lack such a variant, here is a version that takes an absolute path as a String, in\nconjunction with the getAbsolutePath( ) method from File:\nFile foo = new File(\"foo\", \"bar.txt\");\nString path = foo.getAbsolutePath( );\nString[] lines = loadStrings(path);\nListing Files in a Folder\nA common use of the File object is to list files in a directory, which is handled with\nthe list( ) method of the File class:\nFile folder = new File(\"/path/to/folder\");\nString[] names = folder.list( );\nif (names != null) { // will be null if inaccessible\n  println(names);\n}\nIn practice, this is convenient for listing the contents of the data folder in your\nProcessing sketch. The built-in String variable sketchPath provides an absolute path\nto the current folder. To create a File object that points to the data folder, use the\nfollowing:\nFile dataFolder = new File(sketchPath, \"data\");\nNote that this will include all entries in the directory, which on many systems will\ninclude the “.” and “..” folders (referring to the current directory and parent direc-\ntory). In practice, it’s best to simply ignore anything starting with a period because it\nmight be one of these directories or some type of hidden file.\nThis method can be used to list files of a certain type, for instance, to list all JPEG\nfiles in the data folder. To check the filenames, use the endsWith( ) method from the\nString class. By converting the filename to lowercase, the following example needs\nonly compare each name against .jpg instead of both .jpg and .JPG:\nFile dataFolder = new File(sketchPath, \"data\");\nString[] names = dataFolder.list( );\nint foundCount = 0;\nif (names != null) {\n  for (int i = 0; i < names.length; i++) {\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2460
  },
  {
    "chunk_full": "278\n|\nChapter 9: Acquiring Data\n    // Skip hidden files and folders starting with a period.\n    if (names[i].charAt(0) != '.') continue;\n    // Print files ending in .jpg or .JPG.\n    if (names[i].toLowerCase( ).endsWith(\".jpg\")) {\n      println(\"Found JPEG image: \" + names[i]);\n      foundCount++;\n    }\n  }\n  println(\"Found \" + foundCount + \" image(s).\");\n} else {\n  println(\"Could not access images.\");\n}\nThis could, of course, be modified to allow for .jpeg as well as .jpg by expanding the\ncheck within the if statement:\n    if (names[i].toLowerCase( ).endsWith(\".jpg\") ||\n        names[i].toLowerCase( ).endsWith(\".jpeg\")) {\nIn the previous example, the foundCount variable is used to keep track of the number\nof files that were actually valid. This count might also be used to compact the list of\nnames into only the useful values. The following version iterates through the file list,\ncopying over filenames that are not valid, and then finally resizing the array to only\nthe useful elements:\nThe Data Folder in Exported Applications\nNote that in an exported application, the sketchPath variable will work differently\nbecause during export, the data folder will be packaged into the exported application\nor .jar file. In such cases, this code will look for a folder named data in the same folder\nas your exported application. If files need to be listed, remove them from the data\nfolder before exporting, and place them in a folder named data adjacent the exported\napplication.\nWhy Not Skip the Hidden Files Test When Looking at File\nExtensions?\nUnfortunately, it’s not sufficient to just make sure that a filename ends with .jpg\nbecause you’re not guaranteed that a file ending in .jpg is actually a JPEG image. For\ninstance, an image named IMG_0020.JPG on Mac OS X might also have metadata\nstored in a file named ._IMG_0020.JPG. Ugly, but true. But fear not: testing for a\nperiod at the beginning of the filename is sufficient to catch such a situation.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2461
  },
  {
    "chunk_full": "Listing Files in a Folder\n|\n279\nFile dataFolder = new File(sketchPath, \"data\");\nString[] names = dataFolder.list( );\nint foundCount = 0;\nif (names != null) {\n  for (int i = 0; i < names.length; i++) {\n    // Skip hidden files and folders starting with a period.\n    if (names[i].charAt(0) != '.') continue;\n    // Print files ending in .jpg or .JPG.\n    if (names[i].toLowerCase( ).endsWith(\".jpg\")) {\n      println(\"Found JPEG image: \" + names[i]);\n      if (i != foundCount) {\n        // Shift the item down in the array if necessary.\n        names[foundCount] = names[i];\n      }\n      foundCount++;\n    }\n  }\n  // Resize the array to only the useful elements.\n  names = subset(names, 0, foundCount);\n  println(\"Found \" + foundCount + \" image(s).\");\n} else {\n  println(\"Could not access images.\");\n}\nListing ﬁles with a ﬁlter class\nFor more exact results from the file listing, Java also provides the FileNameFilter\nclass, which can be subclassed to supply a means of checking criteria for files to\ninclude in the list. Subclasses need only implement a single method, making them an\nideal target for an anonymous inner class. The following is an adaptation of the\nprevious program:\nFilenameFilter filter = new FilenameFilter( ) {\n  public boolean accept(File dir, String name) {\n    if (name.charAt(0) == '.') return false;\n    if (name.toLowerCase( ).endsWith(\".jpg\")) return true;\n    return false;\n  }\n};\nFile dataFolder = new File(sketchPath, \"data\");\nString[] names = dataFolder.list(filter);\nif (names != null) {\n  for (int i = 0; i < names.length; i++) {\n    println(\"Found JPEG image: \" + names[i]);\n  }\n  println(\"Found \" + names.length + \" image(s).\");\n} else {\n  println(\"Could not access images.\");\n}\nNote that in this case, names.length is the number of valid files (no need to count\nthem separately). This also means that names.length can replace the foundCount\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2462
  },
  {
    "chunk_full": "280\n|\nChapter 9: Acquiring Data\nvariable, but the line that prints the number of images found must be moved inside\nthe if (names != null) section; using names.length when names is null would other-\nwise produce a NullPointerException.\nIt should be noted, however, that although the FilenameFilter method can be useful,\nit might be slower than simply checking the files by hand, as done in the previous\nexamples.\nSorting ﬁle lists\nOn first glance, the files returned by FilenameFilter may appear to be in alpha-\nbetical order, or nearly so. Unfortunately, that is not guaranteed, so it’s often\nimportant to sort the results of the file listing. The built-in sort( ) function makes it\neasy; adding this line to the previous examples will sort the returned results:\nnames = sort(names);\nNote that the sort( ) method does not sort the entries in place, but it returns a new\narray with the values sorted.\nHandling Numbered File Sequences\nWhen loading a sequence of files that have a known pattern, the nf( ) method is\ninvaluable for formatting the sequence numbers. This is useful if you know the num-\nber of files that are available without first listing the directory. For instance, an image\nsequence from a digital camera might be numbered IMG_0001.JPG, IMG_0002.JPG,\nand so on, up to IMG_0104.JPG. The nf( ) function will handle padding the num-\nbers with zeroes so that there are always four digits. The following example loads\nthis sequence of images:\nPImage[] imageList;\nint imageCount = 104;\nvoid setup( ) {\n  size(400, 400);\n  imageList = new PImage[imageCount];\n  for (int i = 0; i < imageCount; i++) {\n    String name = \"IMG_\" + nf(i+1, 4) + \".JPG\";\n    imageList[i] = loadImage(name);\n  }\n}\nThe nf( ) method takes the number to format, followed by the complete number of\ncharacters you want in the final string; output is padded on the left with zeroes when\nnecessary to create the specified number of characters. Because the variable i will be\nin the range from 0 to 103, we add one to make the range run from 1 to 104.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2463
  },
  {
    "chunk_full": "Asynchronous Image Downloads\n|\n281\nAsynchronous Image Downloads\nLike the other file loading functions, loadImage( ) halts execution until it has com-\npleted. That is not a problem for smaller sketches with a few images, but when load-\ning dozens or hundreds of images, it has a significant impact on speed because it\nmeans that multiple images are not downloading at once (the server providing the\ndata might be just as much of a bottleneck as the network connection itself) and the\ninterface halts until the images have loaded. Because images are usually loaded inside\nsetup( ), this can have a negative impact on the startup time for a sketch.\nWhen handling many images at once, we can instead rely on Java methods for\nretrieving the image data, and then either download all the files as a batch once\nthey’ve been queued or simply proceed as normal until the images have completed\ndownloading. The ImageLoader class is designed to handle this situation. The code is\navailable from the book’s web site at:\nhttp://benfry.com/writing/acquire/ImageLoader.java.\nAfter this code is added as a new tab in a sketch, the previous example can be\nrewritten as:\nImageLoader loader;\nPImage[] imageList;\nint imageCount = 104;\nvoid setup( ) {\n  size(400, 400);\n  loader = new ImageLoader( );\n  imageList = new PImage[imageCount];\n  for (int i = 0; i < imageCount; i++) {\n    String name = \"IMG_\" + nf(i+1, 4) + \".JPG\";\n    String path = dataPath(name);\n    imageList[i] = loader.addFile(path);\n  }\n}\nThat would queue all 104 images to be loaded and then set them to download. This\nmakes for a more efficient download through the use of threading, but does not solve\nthe startup problem. A polite way to deal with the slow startup is to allow the pro-\ngram to continue, and simply draw something in the draw( ) method to indicate that\nfiles are loading, such as the progress bar from Chapter 7. In this example, the image\nloader is started inside setup( ) and runs on its own thread. Inside draw( ), we can\nadd code to report on the progress of the image-loading thread or simply continue\nwithout the images:\nImageLoader loader;\nPImage[] imageList;\nint imageCount = 104;\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2464
  },
  {
    "chunk_full": "282\n|\nChapter 9: Acquiring Data\nvoid setup( ) {\n  size(400, 400);\n  loader = new ImageLoader( );\n  imageList = new PImage[imageCount];\n  for (int i = 0; i < imageCount; i++) {\n    String name = \"IMG_\" + nf(i+1, 4) + \".JPG\";\n    String path = dataPath(name);\n    imageList[i] = loader.addFile(path);\n  }\n  // Removed loader.finish( ) line\n}\nvoid draw( ) {\n  if (loader.isFinished( )) {\n    // Images are ready; do something here.\n  } else {\n    // Indicate that files are still loading.\n  }\n}\nThe code itself follows. Note the use of import statements because this is a .java file\nand therefore is straight Java code rather than a Processing .pde file:\nimport java.awt.*;\nimport java.awt.image.*;\nimport java.net.URL;\nimport processing.core.*;\npublic class ImageLoader {\n  PApplet parent;\n  MediaTracker tracker;\n  PImage[] images;\n  Image[] awtImages;\n  int count;\n  boolean finished;\n  public ImageLoader(PApplet parent) {\n    this.parent = parent;\n    tracker = new MediaTracker(parent);\n    // Start with 100 possible elements and expand as necessary later.\n    images = new Pimage[100];\n    awtImages = new Image[100];\n  }\n  // This method loads images from the Internet, and can be substituted\n  // for addFile when testing is finished and the application is deployed.\n  public PImage addURL(String url) {\n    try {\n      return add(Toolkit.getDefaultToolkit( ).getImage(new URL(url)));\n    } catch (Exception e) {\n      e.printStackTrace( );\n    }\n    return null;\n  }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2465
  },
  {
    "chunk_full": "Asynchronous Image Downloads\n|\n283\n  public PImage addFile(String path) {\n    return add(Toolkit.getDefaultToolkit( ).getImage(path));\n  }\n  protected PImage add(Image img) {\n    try {\n      if (images.length == count) {\n        // Expand the image arrays for more than 100 elements.\n        images = (Pimage[]) expand(images);\n        awtImages = (Image[]) expand(awtImages);\n      }\n      awtImages[count] = img;\n      tracker.addImage(img, count);\n      images[count] = new PImage( );\n    } catch (Exception e) {\n      e.printStackTrace( );\n    }\n    return images[count++];\n  }\n  public boolean isFinished( ) {\n    if (finished) {\n      return true;\n    }\n    if (tracker.checkAll( )) {\n      finish( );\n      return true;\n    }\n    return false;\n  }\n  public void finish( ) {\n    try {\n      tracker.waitForAll( );\n    } catch (InterruptedException e) { }\n    for (int i = 0; i < count; i++) {\n      if (!tracker.isErrorID(i)) {\n        Image img = awtImages[i];\n        PImage temp = new PImage(img);\n        // Replace the image data without changing the PImage object reference.\n        images[i].width = temp.width;\n        images[i].height = temp.height;\n        images[i].format = temp.format;\n        images[i].pixels = temp.pixels;\n      }\n    }\n    finished = true;\n  }\n}\nThe ImageLoader class provides basic functions for creating images in the PImage struc-\nture required by Processing. While the actual image data downloads, the PImage objects\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2466
  },
  {
    "chunk_full": "284\n|\nChapter 9: Acquiring Data\nare filled with empty data. Once the image download is complete, the finish()\nmethod copies the image data (the actual pixels, format, width, and height) from the\nJava Image objects to the PImage objects. That is handled inside PImage because\nattributes such as width and height won’t be available until the download is complete.\nThe ImageLoader methods for creating images just wrap standard Java classes within\nPImage classes so Processing can use the images.\nUsing openStream( ) As a Bridge to Java\nThe InputStream class is the basis of all data input operations in Java. In Processing,\nthe openStream( ) method is a bridge between the Processing API and the Java\nInputStream class. If you want a custom means of reading a stream but still want to\nsupport the Processing file locations, use the openStream( ) method to return an\nInputStream (which can be used in the same manner as an InputStream in any Java\napplication). The openStream( ) method makes it easy to combine Processing-style\nfile handling and generic Java code.\nIt should also be noted that like Java I/O methods (but unlike the Processing meth-\nods), openStream( ) must be placed inside a try/catch block.\nDealing with Byte Arrays\nThe loadBytes( ) method reads an entire file as a byte array:\nbyte[] stuff = loadBytes(\"somedata.bin\");\nThe array is useful for more advanced developers who want to parse data at the byte\nlevel. The openStream( ) method also gives access to the raw byte values of an\nInputStream. (Parsing binary data is covered further in Chapter 10.)\nAdvanced Web Techniques\nTwo common problems exist with data pulled from the Web: many URLs that point\nto data don’t include the necessary information to access the data programmatically,\nand many web servers insist that any connecting application look and behave like a\nbrowser. This section explores ways to get around these problems.\nHandling Web Forms\nMany sites allow data queries using a fill-in form. One such example is the Olympic\nCommittee web site, where you can search for medal winners over the years based\non their name, gender, sport, year, and other criteria (see http://www.olympic.org/uk/\nathletes/results/search_r_uk.asp).\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2467
  },
  {
    "chunk_full": "Advanced Web Techniques\n|\n285\nAfter selecting “men,” all three medal categories, and entering “John” for the name,\nclicking the Search button reveals 20 results from a set of 70. However, the URL is\nunchanged, meaning that we cannot bookmark the results, nor can we grab this page\nfrom code, as we don’t have a means of filling in web forms.\nThe issue is the difference between the GET and POST methods a browser uses to\ndownload web pages. This is specified by the <FORM METHOD=\"\"> tag in the HTML\ndocument in question. The normal command from a browser to a web site is called\nGET (this can be seen in the method entry of the web server log data, which usually\nlists GET). The most basic function for a web browser to connect to port 80 on a\nserver, and send a command such as:\nGET /index.html HTTP/1.1\nwhich returns the contents of /index.html. You can test this by making a telnet con-\nnection to port 80 of any web site, typing GET / HTTP/1.0, and pressing Enter twice.\nNot a very fun way to browse the Web, but it will return the entire contents of the\nhome page for that site and close the telnet connection.\nThe GET method can be used for queries. Searching for “potato” on Yahoo! pro-\nduces the following URL (which can be bookmarked):\nhttp://search.yahoo.com/search?p=potato&ei=UTF-8\nThis is a GET method query, where the URL ends with a ? followed by a series of\nattribute/value pairs separated by ampersands.\nThe POST method, on the other hand, makes the data a separate part of the query\nrather than the URL itself. (Returning to the telnet example, we’d use POST instead\nof GET, and follow with the data on a new line, before hitting Enter twice to indi-\ncate the end of the command.) This is designed for two situations: when the query\ndata is intentionally hidden from the user (to prevent bookmarking or snooping), or\nwhen the query data is too large to fit in a URL. The upper limit of URL length is\ndefined but inconsistently supported across browsers, so it is probably a bad idea to\nuse GET with anything above 255 characters.\nHowever, it’s possible to use a bit of JavaScript to convert forms on a web page to\nuse GET instead of POST, so the URL information can be retrieved. A helpful utility\ncan be found here:\nhttps://www.squarefree.com/bookmarklets/forms.html#frmget\nRight-click the link for frmget and choose “Bookmark this Link” in your browser. To\nuse it, visit a site such as the Olympic.org medal search. Make your selections in the\nform, and then select the bookmark from the bookmarks menu. That will run the Java-\nScript code to convert any forms on the page. Clicking Search now produces the URL:\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2468
  },
  {
    "chunk_full": "286\n|\nChapter 9: Acquiring Data\nhttp://www.olympic.org/uk/athletes/results/search_r_uk.\nasp?RESULT=TRUE&KEYWORDS=%22john*%22&SEARCH_\nTYPE=1%2C2&GET_C_ID=X&MED_I_ID=1&MED_I_ID=2&MED_I_\nID=3&KEYWORD=john&CON_I_ID=&NOC_S_INITIALS=&SPO_S_\nCODE=&EVT_S_CODE=&JO=&x=28&y=10\nThough heinous in appearance, this URL can be used to run the same query from\ncode, where we might parse the table data for some other purpose. Tweaking the\nparameters (e.g., looking for where the “john” query actually appears in the URL so\nthat it can be replaced) will provide a means for downloading related pages from a\nfunction.\nPretending to Be a Web Browser\nMany web sites will also try to detect what sort of browser you are using, and either\ndeny access (“Internet Explorer 6 or later is required to view this site!”) or behave\nstrangely if browser cookies don’t seem to be enabled (the loadStrings( ) method is\nnot built for cookie handling). The HttpClient project from the Apache Software\nFoundation (http://jakarta.apache.org/commons/httpclient) is a terrific suite of tools,\nsome of which can be used to address both of these issues. In this section, we’ll look\nat how to assemble this for a Processing sketch.\nThree .jar files are needed for the HttpClient to work properly, and they are all avail-\nable from the download section of the project page:\nThe HttpClient code itself\nhttp://commons.apache.org/downloads/download_httpclient.cgi\nThe sister Codec project\nhttp://commons.apache.org/downloads/download_codec.cgi\nThe Logging component\nhttp://commons.apache.org/downloads/download_logging.cgi\nGet the binary download for each, unpack the .zip (or tar.gz) files, and find the .jar\nfile inside each. Drag the JARs into a new Processing sketch.\nThe following code is a wrapper for the HttpClient API that handles loading and sav-\ning web pages. Use this code in a new tab named Browser.java:\nimport java.io.*;\nimport org.apache.commons.httpclient.*;\nimport org.apache.commons.httpclient.methods.*;\nimport org.apache.log4j.*;\nimport processing.core.*;\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2469
  },
  {
    "chunk_full": "Advanced Web Techniques\n|\n287\npublic class Browser {\n  PApplet parent;\n  HttpClient client;\n  // Claim to be Internet Explorer 6 running on Windows 2000.\n  String USER_AGENT = \"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0)\";\n  public Browser(PApplet p) {\n    parent = p;\n    // Set up logging to notify only on fatal errors.\n    BasicConfigurator.configure( );\n    Logger logger = Logger.getRootLogger( );\n    logger.setLevel(Level.FATAL);\n    client = new HttpClient( );\n    // Establish a connection within 5 seconds or give up.\n    client.getHttpConnectionManager( ).getParams( ).setConnectionTimeout(5000);\n  }\n  public String load(String iurl) {\n    HttpMethod method = new GetMethod(iurl);\n    // Most sites will redirect to other locations one or more times,\n    // e.g., http://processing.org/reference is automatically redirected\n    // to its proper URL, http://processing.org/reference/.\n    method.setFollowRedirects(true);\n    // On the Internet, nobody knows you're a dog.\n    method.setRequestHeader(new Header(\"User-Agent\", USER_AGENT));\n    String responseBody = null;\n    try {\n      client.executeMethod(method);\n      // Another alternative to work like openStream( ) instead of loadStrings( )\n      //responseBody = method.getResponseBodyAsStream( );\n      responseBody = method.getResponseBodyAsString( );\n    } catch (HttpException he) {\n      System.err.println(\"HTTP error connecting to '\" + iurl + \"'\");\n      System.err.println(he.getMessage( ));\n      return null;\n    } catch (IOException ioe) {\n      System.err.println(\"Unable to connect to '\" + iurl + \"'\");\n      return null;\n    }\n    // Clean up the connection resources.\n    method.releaseConnection( );\n    return responseBody;\n  }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2470
  },
  {
    "chunk_full": "288\n|\nChapter 9: Acquiring Data\n  public void save(String url, String filename) {\n    String content = load(url);\n    if (content != null) {\n      parent.saveStrings(filename, new String[] { content });\n    }\n  }\n}\nIn the main tab of the sketch, the following code provides an example of getting a\nweb page and saving its contents to a file:\nString url = \"http://www.oreilly.com/store/\";\n// Set up an object that will pretend to be a web browser.\nBrowser faker = new Browser(this);\nString page = faker.load(url);\n// Print this page to the console.\nprintln(page);\n// Write the HTML to a file, so we don't have to hit the server again.\n// Also save to the data folder, so that loadStrings( ) works later.\nfaker.save(url, \"data/blah.html\");\nUsing this code, you’ll be able to impersonate other web clients (user agents) and\nalso keep track of cookies automatically so that navigating a site to pull data will\nwork in more complicated cases.\nUsing a Database\nA typical database contains a large number of tables, which are themselves just rows\nof data under a handful of column headings. For instance, a table for addresses\nmight have columns for first and last name, street, city, state, and zip code. The data-\nbase is accessed by a driver, or connector, that acquires data from the database and\nparses it into a format understandable by the host program. The database is first\ngiven a query, typically using Structured Query Language (SQL):\nSELECT * FROM addresses WHERE firstname='Joe';\nThat query would grab a list of all the rows in the addresses table where Joe was\nfound in the column named firstname. Despite their important-sounding name, at\ntheir most fundamental level, databases are extraordinarily simple. The role of a\ndatabase is to make queries like this one—or others that can easily get far more com-\nplicated—run exceptionally fast when run on enormous tables with many, many\nrows of data (e.g., a list of 10 million customers). Most databases also have sophisti-\ncated tools for manipulating data, such as joining one table to another in a query so\nthat multiple tables can be accessed at the same time.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2471
  },
  {
    "chunk_full": "Using a Database\n|\n289\nGetting Started with MySQL\nMySQL (http://mysql.org) and PostgreSQL (http://www.postgresql.org) are the two\nlargest and most commonly used open source databases. Here I’ll cover MySQL\nbecause of its ubiquity in developing web applications and availability with many\nhosting providers.\nIf you don’t already have a database set up or access to one from a hosting provider,\nget an installer for your platform from http://mysql.org/downloads/mysql.\nAs test data, we’ll use the zips.tsv file from Chapter 6. Open a shell (start Cygwin on\nWindows, or open Utilities ➝Terminal.app on Mac OS X), and copy this file to your\ncurrent working directory:\nhttp://benfry.com/writing/zipdecode/zips.tsv\nAfter installing MySQL, start the server. The specifics of starting the server will be\ncovered in the installation instructions for your platform. Once the server has\nstarted, run the mysql binary from the command line. On Unix workstations, this\nmight be something along the lines of:\n/usr/local/mysql/bin/mysql -u root\nThat command connects to MySQL as the root user with no password (as installed,\nthe server allows anyone to log in as root by default, with no password). The default\npassword is a bad idea, so you should follow the post-install instructions for infor-\nmation on locking down the server properly, but we’re just testing the server here.\nThe MySQL application will give you a prompt:\nmysql>\nFrom this prompt, issue the following two commands to create a new database and\nset it as the current database. Note that each SQL command is followed by a semi-\ncolon; if you forget to include one before pressing the Enter key, the program just\nwaits silently for you to add it:\nmysql> CREATE DATABASE testing;\nmysql> USE testing;\nNext, use the following command to create a table named zips, with fields for the\nfour columns of the zips.tsv file. The numbers in parentheses that follow each data\ntype indicate the number of possible digits. DECIMAL(8, 6) indicates eight total digits,\nwith six to the right of the decimal point:\nmysql> CREATE TABLE zips (\n         zipcode CHAR(5),\n         x DECIMAL(8,6),\n         y DECIMAL(8,6),\n         location VARCHAR(50)\n       );\nIf that was entered properly, MySQL should respond with:\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2472
  },
  {
    "chunk_full": "290\n|\nChapter 9: Acquiring Data\nQuery OK, 0 rows affected (0.01 sec)\nNow that there’s a working table, we’ll fill it with data from zips.tsv with the follow-\ning command:\nmysql> LOAD DATA LOCAL INFILE 'zips.tsv' INTO TABLE zips\n       FIELDS TERMINATED BY '\\t' LINES TERMINATED BY '\\n'\n       IGNORE 1 LINES\n       (zipcode, x, y, location);\nThe IGNORE keyword skips the first line (which has labels instead of data), and the\nfield and line terminators are the standard tab and newline characters.\nMySQL should respond with something like:\nQuery OK, 41556 rows affected, 65535 warnings (0.24 sec)\nRecords: 41556 Deleted: 0 Skipped: 0 Warnings: 80168\nThe warnings indicate that some decimals may be truncated slightly as they are\nforced to six digits.\nThe following query displays the entire table (all 41,556 rows):\nmysql> SELECT * FROM zips;\n+---------+-----------+----------+--------------------------------+\n| zipcode | x         | y        | location                       |\n+---------+-----------+----------+--------------------------------+\n| 00210   | 0.313506  | 0.763354 | Portsmouth, NH                 |\n| 00211   | 0.313506  | 0.763354 | Portsmouth, NH                 |\n| 00212   | 0.313506  | 0.763354 | Portsmouth, NH                 |\n| 00213   | 0.313506  | 0.763354 | Portsmouth, NH                 |\n| 00214   | 0.313506  | 0.763354 | Portsmouth, NH                 |\n| 00215   | 0.313506  | 0.763354 | Portsmouth, NH                 |\n| 00501   | 0.302470  | 0.722645 | Holtsville, NY                 |\n| 00544   | 0.302470  | 0.722645 | Holtsville, NY                 |\n...\nA better example shows the zip code and location column for locations starting with\nCambridge:\nmysql> SELECT zipcode,location FROM zips WHERE location LIKE \"Cambridge%\";\nwhich produces:\n+---------+-----------------------+\n| zipcode | location              |\n+---------+-----------------------+\n| 02138   | Cambridge, MA         |\n| 02139   | Cambridge, MA         |\n| 02140   | Cambridge, MA         |\n| 02141   | Cambridge, MA         |\n| 02142   | Cambridge, MA         |\n| 02238   | Cambridge, MA         |\n| 02239   | Cambridge, MA         |\n| 04923   | Cambridge, ME         |\n| 05141   | Cambridgeport, VT     |\n| 05444   | Cambridge, VT         |\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2473
  },
  {
    "chunk_full": "Using a Database\n|\n291\n| 12816   | Cambridge, NY         |\n| 16403   | Cambridge Springs, PA |\n| 21613   | Cambridge, MD         |\n| 43725   | Cambridge, OH         |\n| 47327   | Cambridge City, IN    |\n| 50046   | Cambridge, IA         |\n| 53523   | Cambridge, WI         |\n| 55008   | Cambridge, MN         |\n| 61238   | Cambridge, IL         |\n| 67023   | Cambridge, KS         |\n| 69022   | Cambridge, NE         |\n| 83610   | Cambridge, ID         |\n+---------+-----------------------+\n22 rows in set (0.05 sec)\nThe mysql command-line utility is useful if you’re comfortable with the command\nline, but you can find other utilities online that provide a GUI interface to the same\nsort of tasks. A longer MySQL tutorial can be found in the reference at http://dev.\nmysql.com/doc/refman/5.0/en/tutorial.html.\nUsing MySQL with Processing\nFor use in visualization, you need to access the database from code. Java has a built-\nin database API called JDBC that works with multiple database engines and main-\ntains the same interface across them by using an interchangeable set of driver, or\nconnector, objects. The MySQL connector for Java can be found on MySQL.com:\nhttp://www.mysql.com/downloads/api-jdbc.html\nDownload the .zip file for the version that matches your database installation.\nUnpack the file; inside it should be another file named something similar to mysql-\nconnector-java-5.0.7-bin.jar. Create a new sketch and add this file. Like all .jar files,\nit will be placed in a subfolder named code.\nBack in the MySQL utility, create a user that has access to the database so that you’re\nnot connecting to the database as the root user:\nmysql> GRANT SELECT ON testing.* TO processing@localhost\n       IDENTIFIED BY 'processingpass';\nThat will grant SELECT privileges (the ability to run queries) to a user named\nprocessing with the password processingpass.\nIn Processing, add the following code to a second tab (this is a helper class that will\nhide some of the mechanics of loading the database driver and can be reused for\nother purposes):\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2474
  },
  {
    "chunk_full": "292\n|\nChapter 9: Acquiring Data\nclass Database {\n  Connection conn;\n  String host;\n  String user;\n  String pass;\n  String dbname;\n  int port = 3306;\n  public Database(String host, String dbname, String user, String pass) {\n    this.host = host;\n    this.user = user;\n    this.pass = pass;\n    this.dbname = dbname;\n    conn = connect( );\n  }\n  public Connection connect( ) {\n    try {\n      Class.forName(\"com.mysql.jdbc.Driver\").newInstance( );\n    } catch (ClassNotFoundException e) {\n      e.printStackTrace( );\n    } catch (InstantiationException e) {\n      e.printStackTrace( );\n    } catch (IllegalAccessException e) {\n      e.printStackTrace( );\n    }\n    try {\n      String url = \"jdbc:mysql://\" + host + \":\" + port + \"/\" + dbname;\n      println(\"Connecting to \" + url + \" as \" + user);\n      return DriverManager.getConnection(url, user, pass);\n    } catch (SQLException e) {\n      e.printStackTrace( );\n      return null;\n    }\n  }\n  public ResultSet query(String query) {\n    try {\n      Statement st = conn.createStatement( );\n      ResultSet rs = st.executeQuery(query);\n      return rs;\n    } catch (SQLException e) {\n      e.printStackTrace( );\n      return null;\n    }\n  }\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2475
  },
  {
    "chunk_full": "Using a Database\n|\n293\nBack in the main tab, the following code runs our last query from the previous\nsection:\nimport java.sql.ResultSet;\nvoid setup( ) {\n  Database db = new Database(\"localhost\", \"testing\",\n                             \"processing\", \"processingpass\");\n  ResultSet rs = db.query(\"SELECT zipcode,location FROM zips \" +\n                          \"WHERE location LIKE \\\"Cambridge%\\\"\");\n  try {\n    while (rs.next( )) {\n      String zipcode = rs.getString(1);\n      String location = rs.getString(2);\n      println(zipcode + \" -> \" + location);\n    }\n  } catch (SQLException e) {\n    e.printStackTrace( );\n  }\n}\nThe ResultSet class from Java’s JDBC library does most of the work here. Use rs.\nnext( ) to iterate through the results of a query. The getString( ) method gets the\nresult information at a particular index. Note that these are indexed starting at 1\n(unlike most index values in this book, which start at 0).\nThe processing and processingpass values for the username and password can be\nreplaced with another user that you create. If you’re connecting to a hosted database,\nreplace localhost with the address of that machine (e.g., database.mycompany.com).\nThis example leaves out the details of multiple queries and closing database connec-\ntions, but it should provide a feel for the steps involved in using a database with Pro-\ncessing. There’s a lot to learn about databases—I’m just trying to provide a taste of it\nhere.\nOther Database Options\nDepending on the constraints of your project, there are many other database options\nto consider. They include the following:\nApache Derby/Java DB (http://db.apache.org/derby)\nA full database written entirely in Java. It has a small (2 MB) footprint and uses\nthe same JDBC commands seen in the previous example. In Java 6, the project\nhas been integrated into the JDK under the name Java DB.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2476
  },
  {
    "chunk_full": "294\n|\nChapter 9: Acquiring Data\nSQLite (http://www.sqlite.org)\nSQLite is a free, lightweight, and compact database that’s designed to integrate\neasily into other projects. The source code is even in the public domain. Rather\nthan employing a client/server model, it connects directly to a single application,\nand all database information is stored in a single cross-platform file, making it\nsuitable for single user purposes. There are multiple SQLite JDBC connectors for\nJava; try one and see if it suits your needs.\nBerkeley DB (http://www.oracle.com/technology/products/berkeley-db)\nNamed for its origin at U.C. Berkeley, this database handles data storage and\nretrieval, but without a query language like SQL and without a wire protocol—\neverything is on your local machine. It’s ideal for cases when you need to access\na large amount of data in a manner that’s a bit like using a flat file, but when a\nstraight flat file is too slow. The database is used behind many well-known soft-\nware products, and it is currently maintained by and hosted at Oracle.\nPerformance Aspects of Databases in Interactive Applications\nAt first, databases may seem the best solution for any data storage task because of\ntheir ubiquity and relative ease of use. In the context of this book, one difficulty in\nusing a database is how they perform in interactive environments. If the Zipdecode\nproject in Chapter 6 were implemented with a database, for instance, a slight lag\nwould occur from the time the user hit a key to when the query results were pro-\ncessed and returned to the application. That would be mitigated by using a local\ndatabase, though that’s obviously not suitable for a small interactive piece running\non the Web.\nBecause databases are fundamentally a means to “pull” data (rather than having it\npushed continuously, like a network stream), software that uses a database will have\nto hit the database with a new query each time more data or a different set of data is\nneeded—which can easily cause a lag in an interface or be prohibitively cumbersome\nfor the system. Think of thousands of people using an interactive application that’s\nconnected to a database and running a new query each time the mouse is dragged to\nchange values in a scroll bar.\nAs a general rule, always consider whether a database is necessary, particularly early\non in the process of developing a visualization. Rather than figuring out how to\nstructure your tables and queries properly, it’s usually better to build something that\nworks with plain text files (referred to as flat files) first so that you can determine\nwhether the solution you’re pursuing is a good direction. The robustness of a data-\nbase system can be added later, once a working prototype has validated the design\ndirection.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2477
  },
  {
    "chunk_full": "Dealing with a Large Number of Files\n|\n295\nDealing with a Large Number of Files\nWhat happens if we extend the Zipdecode example to add geometry data for each\npostal code? The geometry is available from the U.S. Census Bureau (http://www.\ncensus.gov/geo/ZCTA/zcta.html) and averages about 20 lines of coordinates for each\ncode. You might store the information in multiple files for quick access, but given that\nyou’re looking at more than 45,000 files, that can be daunting. They might eventually\nbe put into a database, but for testing, it’s often simpler to keep them local.\nIn such a case, don’t put a huge number of files in the data folder. You don’t want\nthem packaged and slowing down the download. Instead, remove the data from the\ndata folder before exporting, and then create a data folder adjacent to the .jar file\nthat is created. Because that directory is found relative to the .jar file, the files will\nstill load properly even when deployed online.\nYou should also consider a scheme to subdivide the files into folders. Operating sys-\ntems and GUI-based file browsers become extremely inefficient when asked to access\nfolders with a large number of files (the effective limit may be as low as 100, and is\nusually no greater than 1,000). With the ZIP codes, for instance, use the first two\ndigits to break up the folders. The 15 folder will contain files for 15232, 15213,\n15272, and so on.\nWhen working in this manner, isolate the retrieval function from the rest of the code so\nyou can change the file structure later without affecting the rest of the application. For\ninstance, you can provide a method to get information for a ZIP code like this:\nString[] getInfo(String zipCode) {\n  String prefix = zipCode.subString(0, 2);\n  String filename = prefix + \"/\" + zipCode + \".txt\"\n  return loadStrings(filename);\n}\nThat also works if the files are stored on another server. Simply add the web address\nof the server to the prefix:\nString[] getInfo(String zipCode) {\n  String prefix = \"http://site.com/data/\" + zipCode.subString(0, 2);\n  String filename = prefix + \"/\" + zipCode + \".txt\"\n  return loadStrings(filename);\n}\nOr if you later move to a PHP script connected to a database (which will not need to\nuse subfolders or prefixes), you need only swap in a new version of the function:\nString[] getInfo(String zipCode) {\n  String url = \"http://site.com/data/info.php?\" + zipCode;\n  return loadStrings(url);\n}\nThe info.php script would simply return the lines of data for a particular zip code.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2478
  },
  {
    "chunk_full": "296\nChapter 10\nCHAPTER 10\nParsing Data\n10\nParsing converts a raw stream of data into a structure that can be manipulated in\nsoftware. Lots of parsing is detective work, requiring you to spend time looking at\nfiles or data streams to figure out what’s inside. The data might be available in an\neasily parsed format (such as an RSS feed in XML format) or in a proprietary binary\nformat. This chapter covers some of the methods used to store data, methods for\nreading common data formats, and some detective procedures for dissecting data.\nEven if your particular data format is not covered in this chapter, the methods dis-\ncussed are applicable to any data source.\nParsing may also seem to be quite disconnected from the actual process of data visu-\nalization. However, it’s part of the process for a reason: chances are, you’ll have to\nobtain data from a source that’s not under your control and will spend a lot of time\nfiguring out how to use the data that you’re given. This chapter aims to give you a\nsense of how files are typically structured because more likely than not, the data you\nacquire will be poorly documented (if it’s documented at all). Being able to recog-\nnize the basic file format, or even whether the data is compressed, are valuable clues\nto unpacking unknown information.\nGenerally,\ndata\nboils\ndown\nto\nlists\n(one-dimensional\nsets),\nmatrices\n(two-\ndimensional tables, such as a spreadsheet), or trees and graphs (individual “nodes”\nof data and sets of “edges” that describe connections between them). Strictly speak-\ning, a matrix can be used to represent a list, or graphs can represent lists and matri-\nces, but such over-abstraction is not useful.\nLevels of Effort\nThroughout this book, we’ve discussed the importance of knowing when to write\ngeneralizable code and when to write a quick hack. The parsing step is one occasion\nwhen it’s a common issue. As an example, let’s consider parsing SVG shape data,\ndescribed later in this chapter. There are three basic scenarios:\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2479
  },
  {
    "chunk_full": "Levels of Effort\n|\n297\nA simple hack\nThis can get you up and running quickly. It works especially well if your data is\nnot changing, or the data need not be generalized for other situations. In this\ncase, we’d ignore everything in the file except for certain types of shape com-\nmands, e.g., only looking for “path” data and ignoring everything else.\nA basic parser\nThis scenario is often a good solution when you need code that’s not too large,\nso it can be deployed over the Web. This exceeds the simple hack, but doesn’t\nquite approach a full-blown parser. The SVG parser included with Processing,\nwith a footprint of about 30 KB, is targeted for this category.\nA full parsing API\nFor local applications where code footprint does not matter, a full parser might\nbe necessary. An example would be the Batik SVG parser (http://xmlgraphics.\napache.org/batik) from the Apache project. It’s an excellent solution, but with a\n1 MB footprint for the library code, it is not suitable for some situations.\nGenerally speaking, each of these options takes an order of magnitude more time to\nimplement than the previous one. Their runtime speeds also tend to decrease as we\nmove down the list, although robustness and maintainability tend to increase in the\nsame direction. The Processing API and libraries target the first two cases, in keep-\ning with its focus on sketching, with the assumption that the third step is always\navailable by attaching to larger Java libraries.\nData isn’t always clean, and sometimes you have to write dirty code to parse it.\nWriting parsers is easy, but writing ones that fail gracefully is not, which makes pars-\ning issues deceptively complex. You might be able to write an HTML parser in an\nafternoon, but you could spend a week figuring out how to deal with all the errors\nthat exist in the typical HTML file and how to gracefully recover from them.\nAn anecdote illustrating these problems from the software engineering side is\nNetscape’s decision in 1998 to rewrite its browser from scratch. Lou Montulli, a\nfounding engineer at Netscape, wrote:\nThere was good reason for a large change, but rewriting everything was a bit over-\nboard to say the least. I laughed heartily as I got questions from one of my former\nemployees about FTP code that he was rewriting. It had taken three years of tuning to\nget code that could read the 60 different types of FTP servers. Those 5,000 lines of\ncode may have looked ugly, but at least they worked.*\nIn short, the perception of “ugliness” can often lead to nonessential tasks that take\nyou down long, unproductive paths and lead you astray from the priorities of your\nproject.\n*  http://www.joelonsoftware.com/news/fog0000000215.html\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2480
  },
  {
    "chunk_full": "298\n|\nChapter 10: Parsing Data\nTools for Gathering Clues\nIt’s important to have a decent text editor and hex viewer available for detective work\non data files. A text editor should be capable of efficiently loading files that are many\nmegabytes in size. A hex editor is useful when dealing with binary data because\nsometimes it’s necessary to take a look at the first few bytes of a data file to identify\nits type. If you’re using Unix or Linux, you’re probably already familiar with such\ntools; a text editor is a fundamental utility, and the od octal dump program has been\naround for decades. Here are some suggestions for Windows and Mac OS X users:\nWindows\nUltraEdit (http://www.ultraedit.com)\nTextPad (http://www.textpad.com)\nBoth of these are common favorites for handling text, though they are trial-\nware and will cost a few dollars for the full version.\nHexEdit (http://www.physics.ohio-state.edu/~prewett/hexedit)\nA free hex editor/viewer.\nHexWorkshop (http://www.hexworkshop.com)\nA popular paid alternative.\nMac OS X\nTextWrangler (http://www.barebones.com/products/textwrangler)\nA free text editor from the makers of BBEdit (another popular and useful\ntext editor for the Mac).\nHex Fiend (http://ridiculousfish.com/hexfiend)\nA freeware hex editor.\nCommand-line utilities are also very important. On Windows, be sure to install Cyg-\nwin (http://cygwin.com), as discussed in the “Tools for Acquiring Data from the Inter-\nnet” section in Chapter 9. A quick introduction to some command-line tools follows.\nThe | (pipe) command is used between command-line items to pass the result of one\ncommand to another. The > operator writes the output of a command to a file, and\nthe >> operator does the same, but appends to the end of the file rather than over-\nwrite the existing contents. These special characters will make more sense in the\nexamples given in the following list of commands:\ncat\nShort for concatenate. cat filename outputs the contents of a file to the console.\nThis is useful in combination with | so that the contents of a file can be used as\ninput to another process. For example, cat filename | grep potato sends the con-\ntents of the file to the grep utility, which in turn pulls out and displays any lines\nthat contain potato.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2481
  },
  {
    "chunk_full": "Text Is Best\n|\n299\nmore and less\nThese are pagers, which output a file (or some sort of input) one screenful at a\ntime. For instance, if the file in the previous example contained many thousands\nof instances of the word potato, you could pipe the results to more so you could\nview them bit by bit. Pressing the Space bar displays the next page of results,\nwhile the Enter key shows one more line. The less command works similarly,\nbut it has more options; for instance, it lets you press b to move back to the\nprevious screen of output:\ncat filename.txt | grep potato | more\nhead and tail\nThese commands display the beginning or end of a file. They’re useful for taking\na quick peek at the first (or last) 10 lines of a million-line file, for example:\nhead -n 10 enormousfile.txt\ntail -n 10 hugefile.txt\nThis is a very limited introduction to these tools, but we’ll make further use of them\nand similar commands. The grep command is covered in greater detail later in this\nchapter, in the “Is a parser necessary?” section.\nText Is Best\nPerhaps the most useful file format is simple delimited text. In this format, lines of\ntext are separated by delimiters (usually a tab or a comma) that separate individual\ncolumns of a table.\nTab-Separated Values (TSV)\nA TSV file contains rows of text data made up of columns separated by tab charac-\nters. The format is useful because it’s easy to parse and can be loaded and edited\nwith any spreadsheet program. Breaking up rows of text is simply a matter of using\nsplit(line, TAB), which returns an array of String objects representing the columns.\n(TSV files were also covered back in Chapter 6.)\nComma-Separated Values (CSV)\nCSV works similarly to TSV, except that the delimiter is a , (comma) character.\nBecause commas might be part of the data, any column that includes a comma must\nbe placed inside quotes. Of course, quotes might be part of the data as well, so a pair\nof double quotes is used to indicate a double quote in the data. An example explains\nthis much more clearly; here we’ll use a stress test compiled of cases from the article\nabout CSV data in Wikipedia:*\n*  http://en.wikipedia.org/wiki/Comma-separated_values\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2482
  },
  {
    "chunk_full": "300\n|\nChapter 10: Parsing Data\n1997,Ford,E350\n1997, Ford , E350\n1997,Ford,E350,\"Super, luxurious truck\"\n1997,Ford,E350,\"Super \"\"luxurious\"\" truck\"\n1997,Ford,E350,\" Super luxurious truck \"\n\"1997\",Ford,E350\nYear,Make,Model\n1997,Ford,E350\n2000,Mercury,Cougar\nTo parse this file (name it test.csv), use the following:\nvoid setup( ) {\n  String[] lines = loadStrings(\"test.csv\");\n  parse(lines);\n}\nvoid parse(String[] lines) {\n  for (int i = 0; i < lines.length; i++) {\n    String[] pieces = splitLine(lines[i]);\n    println(\"line \" + (i+1));\n    println(pieces);\n    println( );\n  }\n}\nString[] splitLine(String line) {\n  char[] c = line.toCharArray( );\n  ArrayList pieces = new ArrayList( );\n  int prev = 0;\n  boolean insideQuote = false;\n  for (int i = 0; i < c.length; i++) {\n    if (c[i] == ',') {\n      if (!insideQuote) {\n        // Whitespace must be trimmed between commas.\n        String s = new String(c, prev, i - prev).trim( );\n        pieces.add(s);\n        prev = i+1;\n      }\n    } else if (c[i] == '\\\"') {\n      insideQuote = !insideQuote;\n    }\n  }\n  if (prev != c.length) {\n    String s = new String(c, prev, c.length - prev).trim( );\n    pieces.add(s);\n  }\n  String[] outgoing = new String[pieces.size( )];\n  pieces.toArray(outgoing);\n  scrubQuotes(outgoing);\n  return outgoing;\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2483
  },
  {
    "chunk_full": "Text Is Best\n|\n301\n// Parse quotes from CSV data. Quotes around a column are common,\n// and actual double quotes (\") are specified by two double quotes (\"\").\nvoid scrubQuotes(String[] array) {\n  for (int i = 0; i < array.length; i++) {\n    if (array[i].length( ) > 2) {\n      // Remove quotes at start and end, if present.\n      if (array[i].startsWith(\"\\\"\") && array[i].endsWith(\"\\\"\")) {\n        array[i] = array[i].substring(1, array[i].length( ) - 1);\n      }\n    }\n    // Make double quotes into single quotes.\n    array[i] = array[i].replaceAll(\"\\\"\\\"\", \"\\\"\");\n  }\n}\nThe output of the program is as follows:\nline 1\n[0] \"1997\"\n[1] \"Ford\"\n[2] \"E350\"\nline 2\n[0] \"1997\"\n[1] \"Ford\"\n[2] \"E350\"\nline 3\n[0] \"1997\"\n[1] \"Ford\"\n[2] \"E350\"\n[3] \"Super, luxurious truck\"\nline 4\n[0] \"1997\"\n[1] \"Ford\"\n[2] \"E350\"\n[3] \"Super \"luxurious\" truck\"\nline 5\n[0] \"1997\"\n[1] \"Ford\"\n[2] \"E350\"\n[3] \" Super luxurious truck \"\nline 6\n[0] \"1997\"\n[1] \"Ford\"\n[2] \"E350\"\nline 7\n[0] \"Year\"\n[1] \"Make\"\n[2] \"Model\"\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2484
  },
  {
    "chunk_full": "302\n|\nChapter 10: Parsing Data\nline 8\n[0] \"1997\"\n[1] \"Ford\"\n[2] \"E350\"\nline 9\n[0] \"2000\"\n[1] \"Mercury\"\n[2] \"Cougar\"\nNote how extra spaces are removed unless they’re inside double quotes. The wrap-\nper function, parse( ), uses simple println( ) statements on a String array to list\neach bit of text inside quotes, with the array index in brackets in front of it.\nAlthough there is no CSV file format specification per se, authoritative documenta-\ntion of the format can be found in RFC 4180 (http://tools.ietf.org/html/rfc4180).\nText with Fixed Column Widths\nText files are sometimes of fixed width, where each column is separated by padded\nspacing so that new columns of data always start at specific positions. Fixed-width\nfiles are becoming less common; they were used heavily in legacy computer systems\nbecause programming languages used during that time (such as Fortran) were better\nat splitting data at specific positions, rather than at specific characters:\n          1         2        3\n012345678901234567890123456790\napple       1456990   349.2\nbear           3949    0.22\ncat           33923    61.9\nIn this example, the first column has characters 0 through 9, the second has 10\nthrough 19, and the final has 20 through 26.\nTo parse a fixed-width file, use substring( ) and trim( ) to slice the information:\nString name = line.substring(0, 10).trim( );\nString string1 = line.substring(10, 20).trim( );\nint value1 = int(string1);\nString string2 = line.substring(20, 27).trim( );\nfloat value2 = float(string2);\nNote that the second parameter of substring( ) is not inclusive; using substring(10,\n20) will start at character 10 and move up to, but not include, 20.\nThe trim( ) method removes additional whitespace padding from the sides of the\ndata so that name for the first line is \"apple\" instead of \"apple \".\nOne tricky part of dealing with fixed-width text is that some lines may be incomplete,\nin which case, calling substring( ) may return an ArrayIndexOutOfBoundsException.\nFor instance, if the file reads:\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2485
  },
  {
    "chunk_full": "Text Markup Languages\n|\n303\napple\n1456990\n349.2\nbear\n3949\ncat\n33923\n61.9\nthe following will produce an error when it reads the second line:\nString string2 = line.substring(20, 27).trim( );\nOne option is to check whether the line has enough characters before calling\nsubstring( ):\nString string2 = \"\";\nif (line.length( ) >= 27) {\n  string2 = line.substring(20, 27).trim( );\n}\nNote how string2 is declared and assigned with an empty value outside the if state-\nment so that missing data will still be handled properly, rather than string2 being set\nto null and causing a later error.\nA better option would be to keep an array of indices where columns start, use this\narray to split as much of the line as possible into pieces, and then return the array of\nString objects to be reassigned to named String objects. Regular expressions are\nanother option for unpacking fixed-width text.\nText Markup Languages\nTo allow flexibility in structure—such as including arbitrary numbers of elements of\nany size in varying orders—many formats embed structure tags in their content.\nMarkup languages, such as HTML and XML, are prime examples—where sets of\ntags delineate and identify the content found in the document. Such documents are\nrelatively easy to parse, and they are fortunately becoming more common, particu-\nlarly XML.\nBut even though the documents are designed to facilitate parsing, keep in mind\nwhich data you actually need from the file. Is it necessary to have a parser at all?\nDoes including a robust parser warrant the additional code size when all you really\nneed is a specific <TABLE> element from an HTML file? In the next section, we’ll dis-\ncuss a range of options.\nHyperText Markup Language (HTML)\nWhen parsing data, the first thing to do is take a look at the file. Since the very earli-\nest web browsers, the View Source command has given away the secrets of web\ndevelopment methods and page content. But nowadays the HTML code found in\nweb pages is less likely to be intended for human consumption, either because of\nintentional obfuscation or because the page was generated dynamically by a script.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2486
  },
  {
    "chunk_full": "304\n|\nChapter 10: Parsing Data\nAt the very minimum, cleaning up tags and indenting the HTML to reveal its struc-\nture can be a big help. Tidy, an application that originated from the W3C (http://\nwww.w3.org/People/Raggett/tidy), massages HTML documents into a more regular\nformat, normalizing upper- and lowercase, repairing missing tags, and so on. The\nproject continues at Sourceforge (http://tidy.sourceforge.net), which also has down-\nloads for various platforms. (Some Mac OS X and Linux systems already have it\ninstalled.) The command-line version is helpful for taking a look at documents by\nhand. For instance, the following command performs a basic cleanup and indent\noperation on the test.html file, creating another called test-tidy.html:\ntidy -indent test.html > test-tidy.html\nThe contents of test.html look like:\n<TABLE>\n<TR> <TD> first col </TD>\n<TD> second col </TD>\n<TD> <TABLE> <TR> <TD> table two embedded </TD> </TR> </TABLE>\n</TABLE>\nBut the tidied version in test-tidy.html contains:\n<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 3.2//EN\">\n<html>\n<head>\n  <meta name=\"generator\" content=\n  \"HTML Tidy for Mac OS X (vers 1st December 2004), see www.w3.org\">\n  <title></title>\n</head>\n<body>\n  <table>\n    <tr>\n      <td>first col</td>\n      <td>second col</td>\n      <td>\n        <table>\n          <tr>\n            <td>table two embedded</td>\n          </tr>\n        </table>\n      </td>\n    </tr>\n  </table>\n</body>\n</html>\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2487
  },
  {
    "chunk_full": "Text Markup Languages\n|\n305\nNote the new DOCTYPE declaration and the addition of tags such as <html> and <body>\nto make a more proper HTML file. The -indent option helps clarify the table struc-\nture, so now it’s easier to understand the table structure in the original file.\nTidy has many other useful options that can reformat a document as XHTML or\nXML; see its reference pages or use tidy -help to get a list of command-line options.\nEmbedding Tidy into a sketch\nIn this book, we’re most interested in data that changes over time, so you may need\nto run Tidy on pages dynamically. A Java version that’s suitable for use in Process-\ning is available at http://sourceforge.net/projects/jtidy.\nGet the latest download, find its .jar file, and add it to your sketch. Adding the file\nwill add the import statements for any packages found in the JAR (although they will\nnot be shown). If you’re not using Processing, add the following to your code:\nimport org.w3c.tidy.*;\nAn example of using Tidy follows:\ntry {\n  String[] lines = loadStrings(\"http://www.oreilly.com\");\n  String originalPage = join(lines, \"\");\n  byte[] utf;\n  utf = originalPage.getBytes(\"UTF8\");\n  ByteArrayInputStream utfis = new ByteArrayInputStream(utf);\n  Tidy tidy = new Tidy( );\n  tidy.setUpperCaseTags(true);\n  tidy.setUpperCaseAttrs(false);\n  tidy.setCharEncoding(Configuration.UTF8);\n  tidy.setEncloseText(true);\n  tidy.setEncloseBlockText(true);\n  tidy.setQuoteAmpersand(false);\n  tidy.setQuoteNbsp(false);\n  tidy.setQuoteMarks(false);\n  // Ignore any errors.\n  PrintWriter ignored = new PrintWriter(new ByteArrayOutputStream( ));\n  tidy.setErrout(ignored);\n  // Write the contents to a ByteArrayOutputStream.\n  ByteArrayOutputStream baos = new ByteArrayOutputStream( );\n  tidy.parseDOM(utfis, baos);\n  String tidiedPage = baos.toString(\"UTF8\");\n  println(tidiedPage);\n} catch (UnsupportedEncodingException e) {\n  e.printStackTrace( );\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2488
  },
  {
    "chunk_full": "306\n|\nChapter 10: Parsing Data\nThe beginning and end of this code mostly deal with converting the data to and from\na stream of bytes in UTF-8 format. The code in the middle sets various configura-\ntion options to handle the specifics of how the file should be formatted. The newly\ncleaned page is written to tidiedPage, which is now ready for use.\nIs a parser necessary?\nEven though your input document might be HTML, it’s possible that your data is\nnot even complex enough to require a full HTML parser (especially if you use some-\nthing like Tidy on it first). For instance, say we wanted to study who is speaking\nthrough the course of Shakespeare’s As You Like It. The play can be found at http://\nshakespeare.mit.edu/asyoulikeit/full.html, and a View Source reveals a document with\nan extremely regular format:\n<H3>ACT I</h3>\n<h3>SCENE I. Orchard of Oliver's house.</h3>\n<p><blockquote>\n<i>Enter ORLANDO and ADAM</i>\n</blockquote>\n<A NAME=speech1><b>ORLANDO</b></a>\n<blockquote>\n<A NAME=1.1.1>As I remember, Adam, it was upon this fashion</A><br>\n<A NAME=1.1.2>bequeathed me by will but poor a thousand crowns,</A><br>\n<A NAME=1.1.3>and, as thou sayest, charged my brother, on his</A><br>\n<A NAME=1.1.4>blessing, to breed me well: and there begins my</A><br>\n<A NAME=1.1.5>sadness. My brother Jaques he keeps at school, and</A><br>\n<!-- some lines omitted -->\n</blockquote>\n<A NAME=speech2><b>ADAM</b></a>\n<blockquote>\n<A NAME=1.1.26>Yonder comes my master, your brother.</A><br>\n</blockquote>\n<A NAME=speech3><b>ORLANDO</b></a>\n<blockquote>\n<A NAME=1.1.27>Go apart, Adam, and thou shalt hear how he will</A><br>\n<A NAME=1.1.28>shake me up.</A><br>\n<p><i>Enter OLIVER</i></p>\n</blockquote>\nTallying individual speakers is simply a matter of looking for lines like:\n<A NAME=speech2><b>ADAM</b></a>\nThis is a task easily handled by a regular expression (see examples in Chapters 5 and\n8). The same is true for other elements of the play, and depending on which\ninformation is of interest, you may be able to avoid a full parser in favor of cherry-\npicking information using a combination of regular expressions or String.indexOf( )\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2489
  },
  {
    "chunk_full": "Text Markup Languages\n|\n307\nto test for lines of interest. Command-line utilities, such as grep, make it easy to\ncheck hypotheses, such as “all lines with a <b> tag contain names of the play’s char-\nacters.” Download the full.html page from the previous link, and then use:\ngrep '<b>' full.html\nfrom the command line to check the file. The command produces:\n<A NAME=speech1><b>ORLANDO</b></a>\n<A NAME=speech2><b>ADAM</b></a>\n<A NAME=speech3><b>ORLANDO</b></a>\n<A NAME=speech4><b>OLIVER</b></a>\n<A NAME=speech5><b>ORLANDO</b></a>\n<A NAME=speech6><b>OLIVER</b></a>\n<A NAME=speech7><b>ORLANDO</b></a>\n<A NAME=speech8><b>OLIVER</b></a>\n<A NAME=speech9><b>ORLANDO</b></a>\n<A NAME=speech10><b>OLIVER</b></a>\n<A NAME=speech11><b>ORLANDO</b></a>\n<A NAME=speech12><b>OLIVER</b></a>\n...and 800 additional lines like these\nThat confirms our hypothesis, so part of the puzzle is solved. Text of speech can be\nsussed out with:\n grep '<A NAME' full.html\nBut it includes the names of speakers found in the preceding output. Piping the out-\nput of this command through the inverse of the previous command:\n(grep -v)\ngives us everything that matches <A NAME but does not match <b>:\ngrep '<A NAME' full.html | grep -v '<b>'\nwhich will be all the spoken portions:\n<A NAME=1.1.1>As I remember, Adam, it was upon this fashion</A><br>\n<A NAME=1.1.2>bequeathed me by will but poor a thousand crowns,</A><br>\n<A NAME=1.1.3>and, as thou sayest, charged my brother, on his</A><br>\n<A NAME=1.1.4>blessing, to breed me well: and there begins my</A><br>\nHaving confirmed this on the command line, the same can be done in code:\nString[] lines = loadStrings(\"full.html\");\nfor (int i = 0; i < lines.length; i++) {\n  if (lines[i].indexOf(\"<A NAME\") != -1) {\n    if (!lines[i].indexOf(\"<b>\")) {\n      println(lines[i]);\n    }\n  }\n}\nA combination of code and command-line methods contribute to the early part of\nthe detective work in figuring out how to parse files. It may also lead you to a quick\nhack that will cover your parsing needs without unnecessary levels of abstraction.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2490
  },
  {
    "chunk_full": "308\n|\nChapter 10: Parsing Data\nIf the site from which you got the data makes a minor change in the structure of\nthis data, it can of course break your quick-and-dirty extraction method—but\nsometimes such changes can break even a full-blown parser, so you may be just as\nsafe with this extraction method.\nUsing Swing’s built-in HTML parser\nIn many cases, you’ll want a full HTML parser. As it happens, the Swing API con-\ntains an HTML parser to support its HTMLEditorKit classes. Other Java programs can\nmake use of the parser by creating a subclass of HTMLEditorKit.ParserCallback. This\nparser uses an event-driven model of handling the data, running callback functions\nto handle each piece of the HTML document’s hierarchy. An example sketch that\nextracts links follows:\nimport javax.swing.text.*;\nimport javax.swing.text.html.*;\nvoid setup( ) {\n  Reader r = createReader(\"HTML file or URL here\");\n  String[] list = extractLinks(r);\n  println(list);\n}\nString[] extractLinks(Reader reader) {\n  LinkHandler handler = new LinkHandler( );\n  parse(reader, handler);\n  return handler.getLinks( );\n}\nvoid parse(Reader reader, HTMLEditorKit.ParserCallback handler) {\n  HTMLEditorKit.Parser parser = new HTMLEditorKit( ) {\n    public HTMLEditorKit.Parser getParser( ) {\n      return super.getParser( );\n    }\n  }.getParser( );\n  try {\n    parser.parse(reader, handler, true);\n  } catch (Exception e) {\n    e.printStackTrace( );\n  }\n}\nIn a second tab named LinkHandler, add the following code:\nclass LinkHandler extends HTMLEditorKit.ParserCallback {\n  ArrayList links;\n  LinkHandler( ) {\n    links = new ArrayList( );\n  }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2491
  },
  {
    "chunk_full": "Text Markup Languages\n|\n309\n   public String[] getLinks( ) {\n    String[] outgoing = new String[links.size( )];\n    links.toArray(outgoing);\n    return outgoing;\n  }\n  public void handleStartTag(HTML.Tag tag, MutableAttributeSet a, int pos) {\n    if (tag == HTML.Tag.A) {\n      String href = (String) a.getAttribute(HTML.Attribute.HREF);\n      // Skip <A NAME=\"\"> tags, where HREF is not present.\n      if (href != null) {\n        links.add(href);\n      }\n    }\n  }\n  // Handle the end of a tag (e.g., the </A> for an <A> start tag).\n  public void handleEndTag(HTML.Tag tag, int pos) {\n  }\n  // Handle actual content inside a tag.\n  public void handleText(char[] c,int pos) {\n  }\n  // Handle a tag that is not a start/end pairing,\n  // e.g., <IMG SRC=\"\">, which has no corresponding </IMG> tag.\n  public void handleSimpleTag(HTML.Tag t, MutableAttributeSet a,int pos) {\n  }\n  // Handle the content of a comment.\n  public void handleComment(char[] data, int pos) {\n  }\n  // Report errors to the user.\n  public void handleError(String errorMsg,int pos) {\n  }\n}\nOnly the handleStartTag method is implemented in this example, but to handle\nother tags, add code to the other methods (handleEndTag, handleText, and the rest).\nTo adapt this example to extract image links, you’d need only a handleSimpleTag\nmethod. For instance:\npublic void handleSimpleTag(HTML.Tag t, MutableAttributeSet a, int pos) {\n    if (tag == HTML.Tag.IMG) {\n      String src = (String) a.getAttribute(HTML.Attribute.SRC);\n      if (src != null) {\n        PImage img = loadImage(src);\n        // ...do something here with the image\n      }\n    }\n  }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2492
  },
  {
    "chunk_full": "310\n|\nChapter 10: Parsing Data\nThis code doesn’t account for relative URLs, so <IMG SRC=\"http://processing.org/\nimages/feed.gif\"> will work, but <IMG SRC=\"feed.gif\"> will not. For these cases, check\nwhether the URL starts with http:// and if not, prepend the location of the page.\nMany tags and attributes are supported; a full listing can be found in the Java docu-\nmentation for HTML.Tag:\nhttp://java.sun.com/j2se/1.4.2/docs/api/javax/swing/text/html/HTML.Tag.html\nand HTML.Attribute:\nhttp://java.sun.com/j2se/1.4.2/docs/api/javax/swing/text/html/HTML.Attribute.\nhtml\nParsing and manipulating tables from HTML ﬁles\nAnother version of this code, available on the book’s web site, can load and parse\ntables from HTML documents and convert them to Table objects (which were first\nused in Chapter 3). This covers the most common situation for screen-scraping:\npulling tables from HTML content. The code is at http://benfry.com/book/parse/\nHtmlTableParser.pde.\nIt also relies on the Table class from the mapping example, found at http://benfry.\ncom/book/map/Table.pde.\nThe parser gets a list of tables, each of which can be retrieved with the getTable( )\ncommand. Then, you can use methods such as getFloat( ) and getString( ) from the\nTable class to retrieve specific values:\n// Specify a file or URL from which to grab the data.\nReader r = createReader(\"testing.html\");\n// Parse tables from this file.\nHtmlTableParser htp = new HtmlTableParser(r);\n// Get the second table from the file (items are zero indexed).\nTable t = htp.getTable(1);\n// Get a float from the second column from the third row.\nfloat v = t.getFloat(2, 1);\nAnother option is to get all the tables as an array. Then, you can put the data into\nsome other convenient, low-overhead format for further processing, such as resaving\neach table in the document as an individual .tsv file:\n  Reader r = createReader(\"testing.html\");\n  HtmlTableParser htp = new HtmlTableParser(r);\n  Table[] tables = htp.getTables( );\n  for (int i = 0; i < htp.getTableCount( ); i++) {\n    String filename = nf(i+1, 2) + \".tsv\";\n    println(\"Writing table \" + filename);\n    PrintWriter w = createWriter(filename);\n    tables[i].write(w);\n  }\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2493
  },
  {
    "chunk_full": "Text Markup Languages\n|\n311\nBut remember that if you’re looking for static HTML table data, you can always use\nthe method shown in Chapter 5 to extract the table using OpenOffice or Microsoft\nExcel. This method will work for saving an HTML table to a file, but it requires man-\nual labor, so it’s not suitable for data that changes over time.\nOther HTML parser libraries\nThe Processing libraries page (http://processing.org/reference/libraries) includes other\ncontributed libraries that handle HTML parsing. You may find one of these suitable\nfor your tasks.\nAnother option is the HTML Parser project on Sourceforge (http://htmlparser.\nsourceforge.net), which provides a differently styled API for reading HTML\ndocuments.\nWriting a custom HTML parser\nWriting an HTML parser might not seem terribly difficult—just look for left and\nright brackets, read tags, look for spaces, get the attributes, etc.—but it quickly gets\ncomplicated in exception cases. Tags and attributes might be mixed between upper-\nand lowercase, parameters can be found in any order, extra spacing is erratic, and\nend tags often go missing, as the following example shows:\n// Oww, my afternoon\n<A HREF=\"something.html\">something</A>\n<A Href=something.html name=\"click\">something</a>\n<a name=\"click\" href=\"something.html\">something</a>\n<a HREF=\"something.html\" >something </a>\nA few hours dealing with such issues will leave most people looking for more readily\navailable alternatives. But if the alternatives discussed earlier don’t suffice, one\noption is to use JTidy to first clean the input HTML before parsing it in your code.\nThis will help you avoid the quirkiness of the source HTML and clean it up so that\nyou don’t have to rely on the parser to handle awkward inconsistencies.\nExtensible Markup Language (XML)\nMany tools exist for viewing and editing XML files. Perhaps the simplest, most\nreadily available viewers are in fact web browsers. Both Firefox and Internet Explorer\nhave the ability to display XML documents as a tree, which can be useful for basic\nXML viewing when other tools are unavailable.\nCleaning up XML\nTidy (described in the previous section) can also be applied to XML documents. Add\n-xml to the command-line options to treat the file as an XML document:\ntidy -xml -indent file.xml > file-tidy.xml\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2494
  },
  {
    "chunk_full": "312\n|\nChapter 10: Parsing Data\nThe -asxml and -asxhtml switches convert HTML documents to well-formed\nXHTML, making the document readable by the Processing XML library, which\nrequires clean files. And the same process can be used with JTidy so that the conver-\nsion can happen within a sketch.\nExample: Using the Processing XML library to read geocoding data\nThe Processing XML library, first mentioned in Chapter 2, is a minimal XML parser\nbased on the open source project NanoXML. Its small download footprint (about\n30K) makes it ideal for online use and simple parsing tasks. We’ll cover more full-\nfeatured libraries later in this section, but first we’ll use the built-in library to do\nsome basic parsing. To use the XML library in a project, choose Sketch ➝Import\nLibrary ➝ XML. The library parses XML files into a tree of XMLElement objects.\nFor this example, we’ll use Google’s geocoding service. Geocoding is the process of\nconverting a place name in some irregular format into a more specific format, such as\na set of latitude and longitude coordinates and a normalized address structure. The\ngeocoding\nservice\nis\ndescribed\nin\ndetail\nat\nhttp://www.google.com/apis/maps/\ndocumentation/#Geocoding_HTTP_Request.\nA geocode request takes the form of a URL prefixed with http://maps.google.com/\nmaps/geo?q=, followed by URL-encoded text for the location you’re looking for and\nan API key. To use the example, first sign up for a Google Maps API key at http://\nwww.google.com/apis/maps/signup.html, and then replace the text for API_KEY with\nyour own (it will be 60 or 70 letters and numbers):\nimport processing.xml.*;\nString API_KEY = \"YOUR KEY HERE\";\nString location = \"1600 Amphitheatre Parkway, Mountain View, CA\";\nString locationEncoded = URLEncoder.encode(location);\nString url = \"http://maps.google.com/maps/geo?q=\" +\n  locationEncoded + \"&output=xml&key=\" + API_KEY;\nXMLElement xml = new XMLElement(this, url);\nThe following is a response from the geocoding server, formatted for readability:\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<kml xmlns=\"http://earth.google.com/kml/2.0\">\n  <Response>\n    <name>1600 Amphitheatre Parkway, Mountain View, CA</name>\n    <Status>\n      <code>200</code>\n      <request>geocode</request>\n    </Status>\n    <Placemark>\n      <address>1600 Amphitheatre Pkwy, Mountain View, CA 94043, USA</address>\n      <AddressDetails Accuracy=\"8\" xmlns=\"urn:oasis:names:tc:ciq:xsdschema:xAL:2.0\">\n        <Country>\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2495
  },
  {
    "chunk_full": "Text Markup Languages\n|\n313\n          <CountryNameCode>US</CountryNameCode>\n          <AdministrativeArea>\n            <AdministrativeAreaName>CA</AdministrativeAreaName>\n            <SubAdministrativeArea>\n              <SubAdministrativeAreaName>Santa Clara</SubAdministrativeAreaName>\n              <Locality>\n                <LocalityName>Mountain View</LocalityName>\n                <Thoroughfare>\n                  <ThoroughfareName>1600 Amphitheatre Pkwy</ThoroughfareName>\n                </Thoroughfare>\n                <PostalCode>\n                  <PostalCodeNumber>94043</PostalCodeNumber>\n                </PostalCode>\n              </Locality>\n            </SubAdministrativeArea>\n          </AdministrativeArea>\n        </Country>\n      </AddressDetails>\n      <Point>\n        <coordinates>-122.083739,37.423021,0</coordinates>\n      </Point>\n    </Placemark>\n  </Response>\n</kml>\nTo get the name of the root element, add the following, which will write kml to the\nconsole:\nprintln(\"Name of root element is \" + xml.getName( ));\nTo get the status code item, specify a path to a child element with the getChild( )\nmethod and then use getContent( ) to read the contents of the code element (every-\nthing between <code> and </code>):\nXMLElement statusCodeElement = xml.getChild(\"Response/Status/code\");\nString statusCodeStr = statusCodeElement.getContent( );\nprintln(\"Status code: \" + statusCodeStr);\nNote that the getChild( ) method does not need the kml item at the beginning\nbecause it is the item being queried.\nThe int( ) cast converts the String to an int for easier use:\nint statusCode = int(statusCodeStr);\nTo get the address, use:\nXMLElement addressElement = xml.getChild(\"Response/Placemark/address\");\nString addressStr = addressElement.getContent( );\nprintln(\"Address: \" + addressStr);\nOr to parse the location’s longitude and latitude coordinates:\nXMLElement coordsElement =\n  xml.getChild(\"Response/Placemark/Point/coordinates\");\nString coordsStr = coordsElement.getContent( );\nString[] coords = split(coordsStr, ',');\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2496
  },
  {
    "chunk_full": "314\n|\nChapter 10: Parsing Data\nfloat lon = parseFloat(coords[0]);\nfloat lat = parseFloat(coords[1]);\nprintln(\"Longitude: \" + lon);\nprintln(\"Latitude: \" + lat);\nThe following are the main XMLElement methods:\ngetChild(String item)\nSearches the (direct) children for a particular name or for a series of items (sepa-\nrated by slashes, as shown in the earlier example) in the hierarchy.\ngetChildCount( )\nReturns the number of child elements this node has.\ngetChild(int index)\nReturns a child by index (its order in the original file).\ngetChildren( )\nReturns all children as an XMLElement[] array.\ngetChildren(String path)\nLike the getChild( ) method, except that it returns all matches for that name. For\ninstance, if there were multiple <address> items, xml.getChildren(\"Response/\nPlacemark/address\") would return an array of XMLElement objects for each match.\nMore about the XML library can be found in the reference for XMLElement at http://\nprocessing.org/reference/libraries/xml/XMLElement.html.\nOther methods for parsing XML\nAs already mentioned, the Processing XML library is a fairly basic means of parsing\nXML data. Other common options include the following:\nSimple API for XML (SAX)\nAn event-based model for parsing. SAX is built into later versions of Java in the\norg.xml.sax package. To use it, implement a ContentHandler object that imple-\nments methods such as startElement( ) and endElement( ), which are called as\nXML data is parsed. This is a similar method to the Swing HTML parser shown\nearlier and more lightweight than the alternatives discussed next. More about\nSAX can be found online at http://www.saxproject.org.\nXML Path Language (XPath)\nEssentially a far more sophisticated method of the getChild( ) and getChildren( )\nmethods that use paths to locate XML data in a tree. XPath specifies a query lan-\nguage that can be used to search for and filter a set of items in a flexible manner.\nXPath support is included in Java 1.5 and later. See http://www.w3.org/TR/xpath.\nDocument Object Model (DOM)\nA method for manipulating XML, also familiar to HTML and JavaScript\ndevelopers, the DOM specifies an interface for manipulating the content of a\nstructured document. See http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-\n20001113.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2497
  },
  {
    "chunk_full": "Text Markup Languages\n|\n315\nIn addition to the Processing libraries page, other Java-based XML parsers can be\nfound on the Web. One popular option is the Xerces project from the Apache\nSoftware Foundation (http://xerces.apache.org/xerces-j and http://xerces.apache.org/\nxerces2-j). The Xerces project provides a full and robust XML parser, though at the\nexpense of size. Such a parser might be suitable for quick mockups or applications that\nwill run locally, rather than those distributed over the Web.\nJavaScript Object Notation (JSON)\nWe first saw JSON data in Chapter 5. It’s a simple format used for encoding data,\nprimarily for use with JavaScript because JSON is valid JavaScript syntax. A docu-\nmentation (and advocacy) site can be found at http://www.json.org. Pages that make\nheavy use of JavaScript and data (such as AJAX sites) are often peppered with JSON\ncode. This is an example (from json.org):\n{\"widget\": {\n    \"debug\": \"on\",\n    \"window\": {\n        \"title\": \"Sample Konfabulator Widget\",\n        \"name\": \"main_window\",\n        \"width\": 500,\n        \"height\": 500\n    },\n    \"image\": {\n        \"src\": \"Images/Sun.png\",\n        \"name\": \"sun1\",\n        \"hOffset\": 250,\n        \"vOffset\": 250,\n        \"alignment\": \"center\"\n    },\n    \"text\": {\n        \"data\": \"Click Here\",\n        \"size\": 36,\n        \"style\": \"bold\",\n        \"name\": \"text1\",\n        \"hOffset\": 250,\n        \"vOffset\": 100,\n        \"alignment\": \"center\",\n        \"onMouseUp\": \"sun1.opacity = (sun1.opacity / 100) * 90;\"\n    }\n}}\nThe json.org site has code for reading and writing JSON in dozens of languages,\nincluding Java (http://www.json.org/java). Using the code with Processing is a matter\nof compiling the .java files provided. Download the .zip file containing the source.\nUnpacking it will produce a folder named org. To compile the code, navigate to that\ndirectory from a terminal window, and enter:\njavac -source 1.3 -target 1.1 org/json/*.java\nThen, to turn it into a .jar file:\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2498
  },
  {
    "chunk_full": "316\n|\nChapter 10: Parsing Data\nzip -r json.jar org\nDrag json.jar to any sketch for which you’d like to use the library, and use the exam-\nples on the JSON site as a guide for getting started.\nRegular Expressions (regexps)\nRegular expressions (regexps) are a powerful means for text matching that exceeds\nthe abilities of split( ) without getting into a full parser. We first used regular\nexpressions in Chapter 5, where we employed them on a simple data set. The source\nto Record.java in Chapter 8 covers a much more complicated example. It’s beyond\nthe scope of this book to cover them in detail, but those two examples should pro-\nvide sufficient background to get you started.\nThe syntax for regexps is arcane at first, but you’ll find that in practice you need to\nunderstand only a dozen different operations to get most tasks done. To that end,\nyou may find something like O’Reilly’s Regular Expression Pocket Reference by Tony\nStubblebine useful. Or, if you’re really into it, Mastering Regular Expressions by\nJeffrey E. F. Friedl is available for advanced users.\nGrammars and BNF Notation\nA step past regexps and markup languages are full grammars in Backus Naur Form\n(BNF), most commonly used for parsing programming languages. They’re also use-\nful in protocol documents (e.g., the documentation for the HTTP standard that\ndescribes communication between web browsers and web servers; see http://www.\nw3.org/Protocols/rfc1945/rfc1945) as a flexible means of enumerating the structure of\na protocol. An example of a grammar for U.S. postal addresses (http://en.wikipedia.\norg/wiki/Backus%E2%80%93Naur_form) follows:\n<postal-address> ::= <name-part> <street-address> <zip-part>\n     <name-part> ::= <personal-part> <last-name> <opt-jr-part> <EOL>\n                   | <personal-part> <name-part> <EOL>\n <personal-part> ::= <first-name> | <initial> \".\"\n<street-address> ::= <opt-apt-num> <house-num> <street-name> <EOL>\n      <zip-part> ::= <town-name> \",\" <state-code> <ZIP-code> <EOL>\nAs can be seen in this example, the grammar is built all the way up from small,\ncharacter-level components (such as the period and comma characters) into more\ncomplicated structures, such as a quoted string. A BNF grammar, which is readable\nby humans, is usually compiled to program code by a parser generator, which\nconverts the logic to code that actually parses data. The resulting code is far less\nintelligible than the original grammar, but it is very efficient.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2499
  },
  {
    "chunk_full": "Compressed Data\n|\n317\nA grammar can solve nearly any parsing task, but it is several degrees more complex\nthan simple hacks, such as searching for particular letter sequences, as described at\nthe beginning of the chapter. But don’t let yourself get bogged down in the possibili-\nties—be sure to choose the simplest tool that can accomplish your goal.\nCompressed Data\nIt could be argued that compression is really more to do with how data is stored and\nacquired than how it is parsed, but we discuss it here because of its influence on the\n“detective work” of figuring out how to parse data.\nGZIP Streams (GZ)\nGZIP is a helpful stream compression system, meaning that data can be serially\nencoded into gzip format. It’s efficient for compressing text data, and on today’s\nmachines, it requires negligible processor time to compress or uncompress a stream\nas GZIP data.\nThe Processing API methods that read files (loadStrings( ), createReader( ), and\nothers) automatically decompress any file ending in .gz. The same goes for file writ-\ning methods (saveStrings( ), createWriter( )), which automatically apply GZIP\ncompression to any information written to a file with .gz at the end of its name.\nBecause of the benefits I mentioned, many data files or streams are GZIP com-\npressed. If you’re trying to figure out the format of a file, a GZIP file can be identi-\nfied in a hex editor. The first two bytes will be 0 × 1F8B, then usually 0 × 08 (to\nspecify “deflate”). The byte after that will be 0 × 08 if the filename is present (and a\nfew characters later, the original name of the file can be seen), or 0 × 00 if no file-\nname is present. Two bytes (four hex chars) follow, then 0 × 22 46 00 03. Being able\nto identify a GZIP file is especially useful when trying to figure out wire protocols\nusing a program such as Wireshark (discussed later). It’s also common to find XML\nfiles that are GZIP compressed, and while the contents may look like garbage, a\nquick look at the first few bytes in a hex viewer is a giveaway.\nThe GZIP specification can be found in RFC 1952 (http://tools.ietf.org/html/rfc1952).\nBecause of bugs in various versions of Java, it’s generally good to avoid using GZIP\ncompression on files larger than 2 GB.\nPKZip ﬁles (ZIP)\nZIP files are also quite ubiquitous. Many programs use ZIP as a container format for\ntheir file formats. JAR archive files are in fact ZIP files, as are OpenOffice ODT files.\nA file with PK as the first two characters is often in ZIP format. Opening it with a ZIP\narchive tool or using unzip -l filename.odt on a command line will either reveal the\ncontents of the file or produce an error if it’s not actually in ZIP format.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2500
  },
  {
    "chunk_full": "318\n|\nChapter 10: Parsing Data\nZIP uses a similar algorithm to GZIP, though it can be used to store multiple files\nand their directory structure, plus some additional metadata (e.g., creation and mod-\nification times).\nZIP files are useful in visualizations that deal with large amounts of text data. The\nfollowing example reads a ZIP file and prints the name of each entry:\nvoid setup( ) {\n  readZipFile(\"test.zip\");\n}\nvoid readZipFile(String filename) {\n  try {\n    String path = dataPath(filename);\n    ZipFile file = new ZipFile(path);\n    Enumeration entries = file.entries( );\n    while (entries.hasMoreElements( )) {\n      ZipEntry entry = (ZipEntry) entries.nextElement( );\n      String name = entry.getName( );\n      println(name);\n    }\n  } catch (IOException e) {\n    e.printStackTrace( );\n  }\n}\nThe following modification extracts all files from this ZIP file. The important part of\nthis code is checking whether the entry is a directory, and if it is not, getting the\nInputStream object for the uncompressed data. In this example, it’s read using\nloadBytes( ), but loadStrings( ) or createReader( ) could be used for text, or any\nother Java method for handling InputStream data. Unlike other examples that han-\ndle files, subfolders in ZIP files need not be handled recursively. The name of each\nfile is stored as its full path, so there’s no need to dig through successive directories:\nvoid setup( ) {\n  readZipFile(\"test.zip\");\n}\nvoid readZipFile(String filename) {\n  try {\n    String path = dataPath(filename);\n    ZipFile file = new ZipFile(path);\n    Enumeration entries = file.entries( );\n    while (entries.hasMoreElements( )) {\n      ZipEntry entry = (ZipEntry) entries.nextElement( );\n      String name = entry.getName( );\n      String outputPath = savePath(name);\n      if (entry.isDirectory( )) {\n        File dir = new File(outputPath);\n        // Create directory if it does not exist.\n        dir.mkdirs( );\n      } else {\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2501
  },
  {
    "chunk_full": "Compressed Data\n|\n319\n        InputStream stream = file.getInputStream(entry);\n        byte[] b = loadBytes(stream);\n        saveBytes(outputPath, b);\n      }\n    }\n  } catch (IOException e) {\n    e.printStackTrace( );\n  }\n}\nWriting ZIP files is also straightforward. The following code writes a list of files\n(specified by their full path in the paths array) to a ZIP file:\nvoid writeZipFile(String filename, String[] paths) {\n  String path = savePath(filename);\n  try {\n    FileOutputStream fos = new FileOutputStream(path);\n    ZipOutputStream zos = new ZipOutputStream(fos);\n    for (int i = 0; i < paths.length; i++) {\n      ZipEntry entry = new ZipEntry(paths[i]);\n      zos.putNextEntry(entry);\n      byte[] b = loadBytes(paths[i]); // get byte array of data\n      zos.write(b);\n      zos.closeEntry( );\n    }\n    zos.flush( );\n    zos.close( );\n  } catch (IOException e) {\n    e.printStackTrace( );\n  }\n}\nThe zos.write( ) line could be used to write any kind of data. In a visualization\nproject, you’re more likely to write data from your results, not the contents of exist-\ning files on the disk—but the data is handled the same way in either case.\nLike GZIP, it’s best to avoid using or creating ZIP files that are larger than 2 GB\nbecause of bugs and inconsistent support across operating systems and versions of\nJava.\nOther compression formats\nOther common compression formats include Tape Archive (TAR, common on Unix\nsystems), StuffIt (SIT and SITX, common on the Mac), and bzip2 (bz2), an extremely\ncompact block compression algorithm that is not as fast as gzip and therefore more\nuseful as an archive format (e.g., for compressing large downloads).\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2502
  },
  {
    "chunk_full": "320\n|\nChapter 10: Parsing Data\nVectors and Geometry\nThe following sections describe file formats used for reading and writing 2D and 3D\ngraphical data.\nScalable Vector Graphics (SVG)\nThe SVG format (http://www.w3.org/Graphics/SVG) is 2D shape data written as\nXML. The format was developed by the W3C and is most commonly read and writ-\nten by Inkscape (http://inkscape.org) and Adobe Illustrator.\nAn example SVG file from the SVG 1.1 specification (http://www.w3.org/TR/SVG11)\nfollows:\n<?xml version=\"1.0\" standalone=\"no\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n  \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n<svg width=\"12cm\" height=\"4cm\" viewBox=\"0 0 1200 400\"\n     xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">\n  <desc>Example ellipse01 - examples of ellipses</desc>\n  <!-- Show outline of canvas using 'rect' element -->\n  <rect x=\"1\" y=\"1\" width=\"1198\" height=\"398\"\n        fill=\"none\" stroke=\"blue\" stroke-width=\"2\" />\n  <g transform=\"translate(300 200)\">\n    <ellipse rx=\"250\" ry=\"100\"\n          fill=\"red\" />\n  </g>\n  <ellipse transform=\"translate(900 200) rotate(-30)\"\n        rx=\"250\" ry=\"100\"\n        fill=\"none\" stroke=\"blue\" stroke-width=\"20\" />\n</svg>\nThe Processing SVG library can read simple documents, get subelements, and draw\nthem on-screen. The following program opens an SVG-formatted map of the United\nStates from Wikipedia (http://commons.wikimedia.org/wiki/Image:Blank_US_Map.\nsvg) and displays it on the screen:\nimport processing.candy.*;\nSVG svg;\nvoid setup( ) {\n  size(1368, 936);\n  svg = new SVG(this, \"map3.svg\");\n}\nvoid draw( ) {\n  background(255);\n  svg.draw(0, 0);\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2503
  },
  {
    "chunk_full": "Vectors and Geometry\n|\n321\nThis example uses the mapping code from Chapter 3, but changes it to grab individ-\nual states from the SVG file and color them based on their data values. In the map\nfile, each shape object is an individual state, named by its two-digit code. In the\ndraw( ) method that follows, the get( ) method returns a named shape from an SVG\nfile. The shape will retain its original position, so each state will maintain its location\nrelative to the other state outlines. The ignoreStyles( ) method indicates that all\ndrawing attributes in the SVG file (such as fill, stroke, or stroke weight) should be\nignored so that the fill and stroke can be specified in the code that precedes the\nstate.draw( ) line:\nimport processing.candy.*;\nSVG svg;\nTable data;\nfloat dataMin = -7;\nfloat dataMax = 11;\nvoid setup( ) {\n  size(1368, 936);\n  svg = new SVG(this, \"map3.svg\");\n  data = new Table(\"random.tsv\");\n}\nvoid draw( ) {\n  background(255);\n  noStroke( );\n  smooth( );\n  svg.ignoreStyles( );\n  int rowCount = data.getRowCount( );\n  for (int row = 0; row < rowCount; row++) {\n    String abbrev = data.getRowName(row);\n    SVG state = svg.get(abbrev);\n    if (state == null) {\n      println(\"no state found for \" + abbrev);\n    } else {\n      float value = data.getFloat(row, 1);\n      if (value >= 0) {\n        float amt = norm(value, 0, dataMax);\n        color c = lerpColor(#FFFFFF, #221177, amt);\n        fill(c);\n      } else {\n        float amt = norm(value, 0, dataMin);\n        color c = lerpColor(#FFFFFF, #992211, amt);\n        fill(c);\n      }\n      state.draw(0, 0);\n    }\n  }\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2504
  },
  {
    "chunk_full": "322\n|\nChapter 10: Parsing Data\nCompare the image in Figure 10-1 with those in Chapter 3.\nYou can also write SVG files from a Processing sketch through user-contributed\nlibraries linked from the libraries page (http://processing.org/reference/libraries).\nAs mentioned at the beginning of this chapter, the Batik SVG parser (http://\nxmlgraphics.apache.org/batik) from the Apache project is a much more complete\nimplementation of the SVG specification. Its libraries are much larger (approxi-\nmately 1 MB), so they’re less suitable for online use, but they are a good choice when\nrobustness is required.\nOBJ and AutoCAD DXF\nOBJ is a simple 3D file format for reading and writing. Because of its simplicity (and\nthe openness of the specification), the OBJ format has become a common inter-\nchange format for 3D applications. An open source OBJ loader is available from the\nProcessing libraries page, and it can be used to import geometry from other 3D appli-\ncations, such as 3D Studio Max. The advantage of importing is that you can handle\nthe complicated 3D geometry in a tool more suited for developing shapes, rather\nthan building every last vertex from code.\nFigure 10-1. Adaptation of the mapping example to use SVG shape data\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2505
  },
  {
    "chunk_full": "Vectors and Geometry\n|\n323\nAutoCAD DXF, on the other hand, is the opposite kind of format. It’s complicated\nand closed, leading people to deal with it only when absolutely necessary. Process-\ning can use the built-in DXF library to write files with beginRaw( ). The beginRaw( )\nmethod echoes raw geometry (lines and triangles) to a second renderer, usually the\nDXF or PDF renderer. This method can be used to produce vector images of a 3D\nscene drawn using the Processing API, and the reference for the DXF library includes\nexamples that illustrate how this is done. There is no support for reading DXF files,\nhowever, because the format is far too complicated.\nPostScript (PS) and Portable Document Format (PDF)\nPostScript was an all-text programming language for drawing shapes first developed\nin 1983 (see Inside the Publishing Revolution: The Adobe Story by Pamela Pfiffner\n[Adobe Press] for the history). As the engine that drove the laser printer, PostScript\ncontributed significantly to the origin of desktop publishing. A simple PostScript\ndocument takes the form:\n%!PS\n20 20 moveto\n80 80 lineto\nshowpage\nAs such, it’s easy to write very simple PostScript text documents, particularly from\nProcessing, whose API is heavily influenced by PostScript. Applications such as Illus-\ntrator and Photoshop can read these files and render them, or resave them to other\nformats. However, PostScript does not include support for gradients, transparency,\nand other features expected of modern imaging systems.\nWith PostScript unsuitable as a document exchange format (and showing a bit of\nage), Adobe first announced Acrobat in 1991. The Acrobat PDF format was designed\nto be a container format, rather than a full-blown programming language like Post-\nScript. By eliminating the open-endedness of a programming language, the PDF for-\nmat made a far better interchange mechanism for moving documents between\nmachines and platforms and significantly decreased the level of complexity involved\nin rendering. Because PDF documents are designed to be read (not edited or manipu-\nlated), display software such as Adobe Reader or xpdf need focus only on rapidly\ngenerating images onscreen as they are specified in the file.\nThe Processing PDF library allows users to write any geometry they can draw\nonscreen out to a PDF file. A simple program to produce a PDF consists of:\nimport processing.pdf.*;\nvoid setup( ) {\n  size(100, 100, PDF, \"output.pdf\");\n  background(255);\n  line(20, 20, 80, 80);\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2506
  },
  {
    "chunk_full": "324\n|\nChapter 10: Parsing Data\nInstead of drawing the window onscreen, it will create a single-page PDF file, with\ndimensions of 100 × 100 pixels, containing a single diagonal line. Because PDF is a\nvector format, this line can be resized to any dimension and still draw cleanly. This\ncan be used to generate intricate images that are resolution-independent.\nViewers for the PDF format are much speedier than loading a PostScript, Adobe\nIllustrator, or SVG file in a drawing application, making PDF a good choice for quick\niteration and testing while working on a project.\nOn the other hand, parsing PDF files is not recommended, as the specification has\ngrown quite complex since 1991. It is better to open a PDF document with a\nprogram such as Illustrator and resave it as SVG format.\nShapeﬁle and Well-Known Text\nThe Shapefile (SHP) format is used commonly in Geographic Information Systems\n(GIS). The format was developed by Environmental Systems Research Institute\n(ESRI), and is tied to their ArcView and ArcGIS products. The text-based format can\nbe found in most GIS software, including open source alternatives such as Grass GIS\n(http://grass.gdf-hannover.de/wiki/Main_Page).\nOne popular example of the Shapefile format in use is the cartographic boundary\nfiles from the U.S. Census Bureau; see http://www.census.gov/geo/www/cob/bdy_files.\nhtml.\nA broader discussion of Shapefiles, along with a specification, can be found on Wiki-\npedia at http://en.wikipedia.org/wiki/Shapefile.\nAs you begin working with map data, you’ll quickly run into issues dealing with\nprojections—how land area on our (nearly) spherical Earth is represented in two-\ndimensional maps. While most GIS software provides tools for converting from one\nprojection to another, you can turn to the PROJ library (http://proj.maptools.org),\nwith a Java implementation at http://www.jhlabs.com/java/maps/proj.\nWhen dealing with data that has already undergone projection, it’s common for files\nto be in well-known text (WKT) format (http://geoapi.sourceforge.net/2.0/javadoc/\norg/opengis/referencing/doc-files/WKT.html). This text format includes metadata that\ndescribes the math behind the projection used, as well as the boundary coordinates\nfor the new values that have been mapped from latitude and longitude into their new\ncoordinate space.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2507
  },
  {
    "chunk_full": "Binary Data Formats\n|\n325\nBinary Data Formats\nUntil recently, the majority of file formats were binary. But the interoperability of\nXML—combined with falling storage prices—is making text more common. We’ll\nquickly look at two formats associated with data sets.\nExcel Spreadsheets (XLS)\nWhen trying to read XLS files, open the file with a text editor and first check to see\nwhether it’s in fact a CSV file with an .xls extension. This is common, particularly for\nfiles generated by software on the Web. The idea is that when you download some-\none’s file from an email or web site and click on it, the .xls extension will cause your\nsystem to automatically load it into Excel, and Excel will figure out that the file is\nactually CSV data. In contrast, a file named .csv might not be recognized and opened\nin an easy-to-view fashion.\nFor binary XLS files (and other file formats from Microsoft Office), the Apache POI\nproject (http://poi.apache.org) provides an excellent library for parsing them, along\nwith some helpful how-to information at http://poi.apache.org/hssf/how-to.html.\nThese libraries can be added to a Processing project like any other .jar file and used\nto read spreadsheets from within code. The process is more involved than reading\nsimple CSV or TSV files (and should make you think twice about whether XLS is\nsuitable as input data), but it can be helpful in many situations.\ndBASE/xBase (DBF)\nDBF is the file format for dBASE, a popular database management system from the\n1980s. A DBF file contains a binary header followed by a series of records, each\nstored in a fixed size. The fixed length of each line suits the time period so that\nrecords can be accessed directly from the disk. Because of the age of the format,\nyou’ll run across DBF files when dealing with legacy systems or projects based on\nolder software. DBF files are frequently found on government sites, for example.\nOpenOffice is capable of opening DBF files, as is Microsoft Excel. While Open-\nOffice may even register the .dbf extension for itself, in Excel you’ll have to use the\n“All files” option in the File ➝ Open dialog box before it shows up.\nThe format itself is easy to parse, and good descriptions exist for the file structure.\nErik Bachmann of Clickety Click Software maintains an excellent set of documenta-\ntion on the family of Xbase formats at his site; see http://www.clicketyclick.dk/\ndatabases/xbase/format. Specifically, the dBASE III version of the format can be\nfound at http://www.clicketyclick.dk/databases/xbase/format/dbf.html.\nThe dBASE site also has more information on later changes to the format at http://\nwww.dbase.com/KnowledgeBase/int/db7_file_fmt.htm.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2508
  },
  {
    "chunk_full": "326\n|\nChapter 10: Parsing Data\nArbitrary Binary Formats\nThere are two methods for dealing with binary data as input. The first is to use\nloadBytes( ), which produces a byte array. But there are two problems with that\nmethod. First, individual byte values are always signed, so a byte represents a value\nbetween –128 and 127, not between 0 and 255 as might be expected. To convert\nfrom a signed byte to an unsigned int value, use the following:\nint unsignedInt = signedByte & 0xFF;\nThe syntax is a little cryptic at first glance, but the following program helps illustrate\nwhat’s happening:\nbyte signedByte = -100;\nprintln(binary(signedByte, 8));\nint signedInt = signedByte;\nprintln(binary(signedInt, 32));\nprintln(binary(0xff, 32));\nint unsignedInt = signedByte & 0xff;\nprintln(binary(unsignedInt, 32));\nThe binary( ) method converts a number into a String sequence of 1s and 0s\n(unbinary performs the opposite conversion from a binary String to a number). The\nsecond parameter of binary( ) is the number of binary digits to include. The pro-\ngram produces:\n10011100\n11111111111111111111111110011100\n00000000000000000000000011111111\n00000000000000000000000010011100\nThe first line is the binary value of signedByte. In binary, the leftmost digit is the sign\ndigit. If this digit is 1, the number is negative; if it’s zero, the number is positive or 0.\nWhen an 8-bit number like a byte is converted to a 32-bit integer, a sign extension\noccurs, where the sign digit is extended to the other 24 bits that are added. The sec-\nond row shows the value –100 represented as a 32-bit integer value. The third row\nshows the binary representation of 0xff, or 255. The value 255 is the bottom 8 bits of\na number set to 1. Finally, the & (and) operator is used to let only the bottom eight\ndigits through. That is, only bits that are 1 on both sides of the & operator will be 1 in\nthe result, which removes the string of twenty-four 1s from the final line.\nBit Shifting\nStoring values in binary larger than 255 requires bit shifting. In this scenario, the\nbinary digits from a sequence of byte values are shifted into place, forming a single\nnumber. For instance, to read a 16-bit value from an array returned from loadBytes( ),\nenter this code:\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2509
  },
  {
    "chunk_full": "Binary Data Formats\n|\n327\nbyte[] b = loadBytes(\"data.bin\");\nint hi = b[0] & 0xff;\nint lo = b[1] & 0xff;\nint value = (hi << 8) | lo;\nHere, we first convert the values to unsigned numbers that occupy the lower 8 bits of\na pair of ints. The final value is constructed by shifting 8 bits of hi to the left by eight\ndigits:\n            hi = 000000000000000000000000HHHHHHHH\n            lo = 000000000000000000000000LLLLLLLL\n       hi << 8 = 0000000000000000HHHHHHHH00000000\n(hi << 8) | lo = 0000000000000000HHHHHHHHLLLLLLLL\nThe | (or) operator combines the bits of two values. The resulting bit at each posi-\ntion will be 1 if either of the input values has a 1 at that position.\nIn the examples so far, the high bits have been on the left, the low bits on the right.\nThat is known as big-endian or network byte order, and it is the native ordering for\nmost network protocols, Java, and Motorola architectures. On other systems, nota-\nbly Intel machines, the ordering is opposite; it is called little endian. (The two order-\nings are also sometimes called Motorola and Intel ordering, respectively.) A little-\nendian value would swap the lo and hi values in the previous example, as follows:\nbyte[] b = loadBytes(\"data.bin\");\nint hi = b[0] & 0xff;\nint lo = b[1] & 0xff;\nint value = (lo << 8) | hi;\nThis byte ordering is common for many file formats (such as WAV) that originate\nfrom Windows/Intel platforms.\nDataInputStream\nRather than handling all the bit shifting and byte unpacking yourself, you can use\nDataInputStream—a Java class that wraps an InputStream object to effectively hide all\nthe bit-shifting necessary to unpack binary data. The readInt( ) method grabs a 32-\nbit (signed) integer, and the readShort( ) method grabs a 16-bit value. The standard\nclass works only with big-endian values, but little-endian versions can be easily\nfound\nonline\n(search\nfor\n“DataInputStreamLE”).\nAn\nexample\nof\nusing\nDataInputStream follows:\ntry {\n  InputStream input = openStream(\"data.bin\");\n  DataInputStream data = new DataInputStream(input);\n  int value = data.readUnsignedShort( );\n  println(value);\n} catch (IOException e) {\n  e.printStackTrace( );\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2510
  },
  {
    "chunk_full": "328\n|\nChapter 10: Parsing Data\nIt performs the same function as the hand-coded example in the previous section. In\nthe long run, it tends to be a simpler method, even though the code appears longer\nbecause of the error handling in the try/catch block.\nAdvanced Detective Work\nThe main theme of this chapter is to understand common file formats and parsing\ntechniques. In many cases, examples are shown so that file formats can begin to be\nrecognizable, should you run across files in one format or another.\nMany formats start with identifying codes. JPEG images have JFIF near the begin-\nning of the file. A TIFF image saved on a Mac begins with the two bytes MM, whereas\none saved on a PC begins with II. Java class files begin with a 32-bit number that\nreads CAFEBABE in hexadecimal. All these codes are referred to as magic numbers,\nwhich identify the file as a particular format. Sometimes a magic number begins a\nfile, but at other times, it might be a sequence of values spread throughout the file\nthat, set a particular way, is an indicator that the file is one format or another.\nKnowing a few of these magic numbers and values can help you familiarize yourself\nwith data formats. It’s also possible to programmatically identify data files based on\nthese values. The Apache web server, for instance, has a file named mime.magic\n(http://httpd.apache.org/docs/2.0/mod/mod_mime_magic.html), which is used to check\nfiles against a list of magic numbers so that file types can be identified properly\nbefore they’re sent to a client machine.\nMaking a mental note of what different file types look like can be helpful when later\ndealing with more complicated parsing on unknown data.\nWatching Network Trafﬁc\nAs web applications become more prevalent, the data formats used between your\nbrowser and a server continue to get more complex. How do movie sites load their\nvideo data onto pages, even though the data is not part of the HTML? How are live\ngame feeds updated on sports sites like ESPN.com? These questions can be answered\nwith the help of packet sniffing tools that can be used to watch all traffic going into\nand out of your machine. We’ll briefly cover Wireshark (http://www.wireshark.org),\nan open source utility that can be used to find the answers to these questions.\nFirst, download and install Wireshark for your platform. On Unix-based systems,\nyou’ll need to run it as a root user (i.e., use the command line sudo wireshark) so that\nyou have credentials to get proper hardware access to your network card.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2511
  },
  {
    "chunk_full": "Advanced Detective Work\n|\n329\nUse Wireshark only on your own private network, not in a public set-\nting. In public settings, a packet sniffer can be used to spy on the Inter-\nnet traffic of other machines, and it’s likely to be against the\nnetworking policies of most organizations.\nAfter Wireshark opens, select Capture ➝Interfaces…. A dialog box will pop up\nshowing available network interfaces on your machine; it will look something like\nFigure 10-2. Click the Start button next to your main interface. On a Mac, the\ninterface will be labeled en0 for ethernet and en1 for wireless; on many Unix systems,\nit will be eth0 or en0. You’ll see the numbers increasing most quickly next to your\nprimary interface, so it shouldn’t be too difficult to figure out.\nThe window will begin filling with packets of network traffic as they occur on your\nmachine in the top panel. The middle panel highlights details of the content, and the\nbottom panel shows the actual contents of each packet in hexadecimal and as\ncharacters.\nIn Figure 10-3, we opened ESPN.com in a web browser and visited the home page.\nWe can see the query GET / HTTP/1.1 from our browser to the ESPN server.\nSubsequent replies from that address will include the home page, and then other\ninformation as we peruse the site.\nWatching the GET messages from the browser, along with the replies from a server\nmachine, can provide helpful clues to what’s actually happening behind the scenes.\nAt a basic level, if you see a file retrieved via GET that is not something you entered in\nthe browser’s location bar, you know it’s something being pulled from JavaScript or\nanother piece of code on the page. For instance, with ESPN’s Flash-based poll\napplet, you’ll see queries like the following connecting to sports.espn.go.com:\nGET /espn/fp/getPollRegionalFlashData?pollId=43608 HTTP/1.1\nAlthough we can see the result of this query with Wireshark, it’s also possible to\npaste it into a web browser as:\nhttp://sports.espn.go.com/espn/fp/getPollRegionalFlashData?pollId=43608\nFigure 10-2. The capture dialog in Wireshark\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2512
  },
  {
    "chunk_full": "330\n|\nChapter 10: Parsing Data\nwhich will return a set of attribute/value pairs that describe the results of the poll,\nused to populate the poll found at:\nhttp://sports.espn.go.com/espn/fp/\nflashPollResultsState?sportIndex=frontpage&pollId=43608\nI could spend a whole book discussing how to dissect such protocols, but here we’re\ninterested only in introducing the tool to encourage you to spend some time trying it\nout yourself. And next time you try to retrieve data from an undocumented source, it\nwill be one more item in your tool set.\nFigure 10-3. Information in transit captured with Wireshark\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2513
  },
  {
    "chunk_full": "331\nChapter 11\nCHAPTER 11\nIntegrating Processing with Java11\nProcessing is not Java. If you’re a Java developer, using Processing may be confusing\nif you expect it to be too much like Java. If this book is your first introduction to Pro-\ncessing, you are strongly urged to first get used to the Processing way of doing things\nas presented in the first several chapters. It’ll be easier to adapt to using the Process-\ning API inside a Java project once you’ve developed a mental model for how the API\nworks and how Processing sketches are structured.\nThe Processing syntax is essentially a dialect of Java. When a user runs a sketch in\nthe PDE, the code is converted into Java syntax using a preprocessor, and then com-\npiled as standard Java code. The implementation of all Processing Core API func-\ntions can be found in the package processing.core, which is stored in the core.jar file\nfound in the lib folder of your Processing distribution. All Processing sketches sub-\nclass the PApplet class from the processing.core package.\nThe Anemone example in Chapter 8 shows how to use processing.core inside the\nEclipse development environment. It also covers some of the basics of embedding\nProcessing in other Java-based projects. The methods used should be familiar to\nmost Java programmers, and they can be adapted to other development setups and\nIDEs.\nThis chapter is intended as a reference for Java programmers who want to under-\nstand how to integrate Processing with Java code and for Processing developers who\nare ready to break out into larger projects and a broader range of development\noptions.\nProgramming Modes\nPart of the role of the preprocessor is to determine one of three programming modes\nused in the code. These modes are covered in Chapter 2, but I’ll reiterate some of the\npoints here as I describe them in terms of Java code.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2514
  },
  {
    "chunk_full": "332\n|\nChapter 11: Integrating Processing with Java\nBasic\nThis mode is used to draw static images and learn the fundamentals of program-\nming. Simple lines of code have a direct representation on the screen. The following\nexample draws a yellow rectangle on the screen:\nsize(200, 200);\nbackground(255);\nnoStroke( );\nfill(255, 204, 0);\nrect(30, 20, 50, 50);\nThe preprocessor converts programs written in this mode to the setup( ) method of a\nfull sketch:\nimport processing.core.*;\npublic class BasicSketch extends PApplet {\n  public void setup( ) {\n    size(200, 200);\n    background(255);\n    noStroke( );\n    fill(255, 204, 0);\n    rect(30, 20, 50, 50);\n  }\n}\nWith no draw( ) method, the sketch will only run the setup( ) method and then stop.\nContinuous\nThis mode provides a setup( ) structure that is run once when the program begins\nand a draw( ) structure that by default continually loops through the code inside.\nThis additional structure allows writing custom functions and classes and using key-\nboard and mouse events.\nThe following example draws rectangles that follow the mouse position (stored in\nthe PApplet fields mouseX and mouseY). The draw( ) block runs forever or until the pro-\ngram is stopped. The animation thread is started and stopped with the loop( ) and\nnoLoop( ) methods:\nvoid setup( ) {\n  size(200, 200);\n  rectMode(CENTER);\n  noStroke( );\n  fill(0, 102, 153, 204);\n}\nvoid draw( ) {\n  background(255);\n  rect(width-mouseX, height-mouseY, 50, 50);\n  rect(mouseX, mouseY, 50, 50);\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2515
  },
  {
    "chunk_full": "Programming Modes\n|\n333\nAfter running through the preprocessor, the code for this sketch follows:\nimport processing.core.*;\npublic class ContinuousSketch extends PApplet {\n  public void setup( ) {\n    size(200, 200);\n    rectMode(CENTER);\n    noStroke( );\n    fill(0, 102, 153, 204);\n  }\n  public void draw( ) {\n    background(255);\n    rect(width-mouseX, height-mouseY, 50, 50);\n    rect(mouseX, mouseY, 50, 50);\n  }\n}\nJava\nThis mode is the most flexible, allowing complete Java programs to be written from\ninside the PDE (as long as they’re still subclasses of PApplet). It is for advanced users\nonly and is not really recommended; at this level, you’re usually better off using\nanother IDE. Using this mode also changes the behavior of additional tabs (see the\nnext section). It is not necessary to use this mode just to get features of the Java\nlanguage:\npublic class MyDemo extends PApplet {\n  public void setup( ) {\n    size(200, 200);\n    rectMode(CENTER);\n    noStroke( );\n    fill(0, 102, 153, 204);\n  }\n  public void draw( ) {\n    background(255);\n    rect(width-mouseX, height-mouseY, 50, 50);\n    rect(mouseX, mouseY, 50, 50);\n  }\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2516
  },
  {
    "chunk_full": "334\n|\nChapter 11: Integrating Processing with Java\nAdditional Source Files (Tabs)\nThe main tab represents a set of code that subclasses the PApplet object. Additional\ntabs are treated as inner classes to the main PApplet. That means that the graphics\nmethods are all inherited without needing to pass objects around to a reference to\nthe main drawing surface, and the main API methods are available to all code.\nOne downside of inner classes is that they cannot have static fields or methods. The\nfollowing code will produce an error:\nclass Shape {\n  static final int RECTANGLE = 0; // Error\n  static final int POLYGON = 1; // Error\n  int kind;\n  class Shape( ) {\n    kind = POLYGON;\n  }\n}\nTo make code that does not operate as an inner class, specify .java at the end of the\nfilename when creating a new tab. The code in that tab will be treated as pure Java\ncode, and the preprocessor will ignore it. This solves the static variable problem.\nAnother solution would be to place the static variables outside the class:\n// Not a great option\nstatic final int RECTANGLE = 0;\nstatic final int ELLIPSE = 1;\nclass Shape {\n  int kind;\n  class Shape( ) {\n    kind = ELLIPSE;\n  }\n}\nHowever, the constant will be RECTANGLE, not Shape.RECTANGLE, which might be\nconfusing depending on your circumstances. Another option is to not make the\nvariables static:\nclass Shape {\n  final int RECTANGLE = 0;\n  final int ELLIPSE = 1;\n  int kind;\n  class Shape( ) {\n    kind = ELLIPSE;\n  }\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2517
  },
  {
    "chunk_full": "The Preprocessor\n|\n335\nYou still won’t be able to use Shape.RECTANGLE or Shape.ELLIPSE to refer to the vari-\nables, but the syntax will be clearer for others looking at this code.\nIf using Java mode (see the previous section), additional tabs will not be inner\nclasses—they will only be concatenated to the end of the main source file (if they\nhave .pde extensions). That means that import statements will be inherited, but not\nmuch else. It won’t be possible to use methods such as line( ) or draw( ) without\npassing the parent PApplet object to the other classes.\nUsing .java Source Files\nTo create a pure Java source file, make a tab named Shape.java. To get access to\nmethods from the host PApplet, you need to pass a reference to it, usually in the\nconstructor:\nimport processing.core.*;\npublic class Shape {\n  static final int RECTANGLE = 0;\n  static final int ELLIPSE = 1;\n  int kind;\n  class Shape(PApplet parent, int kind) {\n    this.parent = parent;\n    this.kind = kind;\n  }\n  public void draw( ) {\n    if (kind == RECTANGLE) {\n      parent.rect(20, 20, 60, 60);\n    } else if (kind == ELLIPSE) {\n      parent.ellipse(50, 50, 30, 30);\n    }\n  }\n}\nBack in the main tab, a Shape object can be instantiated with:\nShape s = new Shape(this, Shape.ELLIPSE);\nAdding the .java extension is an indicator to the preprocessor that you know what\nyou’re doing, so the safety net is off. You’ll need to do all the imports yourself—\nprocessing.core.* at the minimum, but also packages such as java.util.*—which\nare normally imported by default.\nThe Preprocessor\nThis section summarizes the main activities of the preprocessor.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2518
  },
  {
    "chunk_full": "336\n|\nChapter 11: Integrating Processing with Java\nData type casting in the style int(value) and float(value) are converted to the meth-\nods parseInt(value) and parseFloat(value). The parseXxxx( ) methods can be used\nwith or without the preprocessor. One of the advantages of these methods is that\nthey can also handle arrays. For instance, an entire String array can be converted to a\nfloat array with the following:\n// With the Preprocessor\nfloat[] f = float(stringValues);\n// Without the preprocessor\nfloat[] f = parseFloat(stringValues);\nThe color data type is simply an alias to int, and the two can be used interchange-\nably in Processing syntax. Processing offers the color type because beginning pro-\ngrammers often find it confusing that pixel data is stored as an integer value.\nA web color such as #FFCC00 will be converted to 0xffFFCC00. The additional ff at the\nbeginning is the alpha value for the color, with ff indicating fully opaque (255). The\nweb color syntax is used as a convenience for web developers who are often familiar\nwith web color format, but would find the 0x hex syntax needlessly cryptic.\nNo double values are used in the Processing API. Instances of 1.0 are converted to 1.0f\nby the preprocessor. For nearly all Processing projects, double values are overkill, wast-\ning memory and slowing down calculations. In this context, trailing nearly every\nnumerical value with an f is silly, if not annoying. The preprocessor automatically\nadds the f to all decimal values. If you need double values for functions such as cos(),\nyou can always use Java’s Math.cos() function instead of the built-in cos() method in\nPApplet.\nUnless marked as protected or private, functions are automatically marked public.\nFor this reason, void setup( ) is actually public void setup( ), and using void setup( )\nin a regular Java development environment will cause an error.\nAPI Structure\nHere we’ll cover a few major components of the Processing Core API and show its\nstructure.\nEvent Handling\nYou must have a draw( ) method to run an event loop. A program without a draw( )\nmethod will be interpreted in Basic mode.\nBecause of their ubiquity in interactive applications, mouse coordinates and key\npresses are automatically tracked by the environment. That is a divergence from\nJava, which requires that the developer implement methods to handle even the most\nbasic events. The following is the most basic use of mousePressed( ):\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2519
  },
  {
    "chunk_full": "API Structure\n|\n337\nvoid mousePressed( ) {\n  // The mouse was clicked; print its position to the console.\n  println(mouseX + \" \" + mouseY);\n}\nThe advantage of using the Processing event methods is that they are queued while\nthe draw( ) method is running, and then the queue is emptied at the end of draw( ).\nThat avoids synchronization problems with code that can arise in mouseXxxxx( )\nmethods that draw to the screen. Because mouse and key events run on a separate\nthread from drawing, the two could be happening simultaneously, which can cause\nstrange problems as they fight with one another for control of the drawing surface.\nAs a tip for Java programmers who are familiar with MouseEvent objects, the built-in\nmouseEvent field will always contain the most recent event:\nvoid mousePressed( ) {\n  int count = mouseEvent.getClickCount( );\n  // Do something based on the number of mouse clicks.\n}\nOn the other hand, you can also override the event handling for mousePressed( ):\npublic void mousePressed(MouseEvent e) {\n  // Do something with the event object here.\n}\nThat is not recommended because you lose the queueing mechanism, and variables\nsuch as mouseButton, mouseX, and mouseY will no longer work properly. But it’s avail-\nable for those who enjoy the thrill of playing with matches.\nThe size( ) Method\nWith any Processing project, the size() method should always be the first line inside\nthe setup() method. That is because changing from the default renderer to another\nrequires all rendering to be restarted, and in the case of a renderer such as OpenGL, a\ndifferent component must be added to the main window. To handle this situation\nsmoothly, calling size() to change the renderer will first make the change, and then\ninternally throw an exception that will force the setup() method to be run again. This\ncomplicated situation exists because it’s also possible to draw inside setup(). Although\nrequiring size() to be at the beginning of setup() is not ideal, it’s a minor trade-off for\nthe ability to easily swap between renderers and draw inside the setup() method.\nThe main( ) Method\nThe main( ) method in PApplet launches a Processing applet inside a window. When\na sketch is exported as an application, the following lines are inserted into the code:\nstatic public void main(String[] args) {\n  PApplet.main(new String[] { \"YourSketchName\" });\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2520
  },
  {
    "chunk_full": "338\n|\nChapter 11: Integrating Processing with Java\nThe main( ) method takes a sketch name as a parameter. The method has several\noptions that can be used to specify the location of the sketch or to enable Present\nmode (using full-screen exclusive mode to launch the sketch). See the PApplet\ndocumentation  (http://dev.processing.org/reference/core) for more information.\nThe frame Object\nThe PApplet class has a variable named frame, of type java.awt.Frame, that specifies\nits parent frame. Calling frame.setResizable(true) is one way to make the sketch\nwindow resizable. Dragging the grow box of the sketch window will resize the sketch\nalong with the window.\nThe frame field is set up by the main() method, so if you are not using PApplet.main(),\nframe will be null.\nEmbedding PApplet into Java Applications\nAnother option is to use the Processing API (specifically the processing.core pack-\nage, and perhaps additional libraries) while working on a narrow piece of a larger\nproject. A Processing sketch can be embedded into a Java program like any subclass\nof java.awt.Component. The base PApplet class subclasses java.applet.Applet, which\nitself subclasses Component. A larger project might consist of several PApplet compo-\nnents that interact with one another, or a PApplet component that’s embedded into a\nlarger project (for example, as part of a Swing-based interface).\nThe size( ) method also sets the value returned by the Java getPreferredSize( )\nmethod so that it behaves like a regular Java Component. A PApplet will respond\nproperly to resize events, so it can be placed using a standard layout manager.\nTwo Models for Updating the Screen\nThe Processing API supports two methods for updating the screen. The default is to\nrun the draw( ) method at up to 60 frames per second for continuous animation. The\nsecond is to update the screen only when necessary using the redraw( ) method.\nBecause the default animation thread runs at 60 frames per second, an embedded\nPApplet can make the parent application sluggish. You can use frameRate( ) to make\nit update less often, or you can use noLoop( ) and loop( ) to disable and then re-\nenable looping. If you want to update just the sketch intermittently, use noLoop( )\ninside setup( ), and issue redraw( ) whenever the screen needs to be updated once (or\nloop( ) to re-enable the animation thread). The following example embeds a sketch\nand also uses the noLoop( ) and redraw( ) methods. You need not use noLoop( ) and\nredraw( ) when embedding if you want your application to animate continuously.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2521
  },
  {
    "chunk_full": "Embedding PApplet into Java Applications\n|\n339\nCode for the host application follows:\nimport java.awt.*;\nimport processing.core.*;\npublic class ExampleFrame extends Frame {\n    public ExampleFrame( ) {\n        super(\"Embedded PApplet\");\n        setLayout(new BorderLayout( ));\n        PApplet embed = new Embedded( );\n        add(embed, BorderLayout.CENTER);\n        // important to call this whenever embedding a PApplet.\n        // It ensures that the animation thread is started and\n        // that other internal variables are properly set.\n        embed.init( );\n        // Set the frame size based on the sketch size.\n        pack( );\n        // Move the upper-left corner of the frame to 100, 100\n        setLocation(100, 100);\n        // And make the frame visible.\n        setVisible(true);\n    }\n}\nAnd here is the embedded sketch:\nimport processing.core.*;\npublic class Embedded extends PApplet {\n    public void setup( ) {\n        // Original setup code here ...\n        size(256, 256);\n        // Prevent thread from starving everything else.\n        noLoop( );\n    }\n    public void draw( ) {\n        // Drawing code goes here.\n        background(mouseX);\n    }\n    public void mousePressed( ) {\n        // Do something based on mouse movement.\n        // Update the screen (run draw once).\n        redraw( );\n    }\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2522
  },
  {
    "chunk_full": "340\n|\nChapter 11: Integrating Processing with Java\nThis program will open a 256 × 256 window to run the sketch. The draw( ) method\nwill run each time the mouse is pressed, clearing the background to a gray value\nbased on the horizontal location of the mouse.\nEmbedding in a Swing Application\nIt’s also possible to use Processing with Swing, using the same structure as the previ-\nous example, only with a JFrame instead of a Frame. The Processing component need\nnot be the only item on the screen. Additional interface elements, such as buttons,\ncan be added and made to call functions inside the Processing component the same\nway you would with any custom component.\nThis example embeds a PApplet and a JSlider into a JFrame, showing how Swing\ncomponents can be used to interact with a Processing sketch. The code for the host\nclass follows:\nimport java.awt.*;\nimport javax.swing.*;\nimport javax.swing.border.*;\npublic class SwingExample extends JFrame {\n    public SwingExample( ) {\n        super(\"Swing Slider Example\");\n        setLayout(new BorderLayout( ));\n        EmbeddedWithSlider embed = new EmbeddedWithSlider( );\n        add(embed, BorderLayout.CENTER);\n        embed.init( );\n        Box box = Box.createHorizontalBox( );\n        JLabel label = new JLabel(\"Hue:\");\n        box.add(label);\n        JSlider slider = new JSlider(JSlider.HORIZONTAL, 0, 360, 0);\n        slider.addChangeListener(embed);\n        box.add(slider);\n        box.setBorder(new EmptyBorder(5, 10, 5, 10));\n        add(box, BorderLayout.SOUTH);\n        pack( );\n        setVisible(true);\n        setLocation(100, 100);\n    }\n    static public void main(String[] args) {\n        new SwingExample( );\n    }\n}\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2523
  },
  {
    "chunk_full": "Embedding PApplet into Java Applications\n|\n341\nThe embedded PApplet implements ChangeListener to recognize updates from the\nslider. As the slider moves, the hue value is updated and redraw( ) is called, which\nupdates the background color based on the hue specified by the slider. The result is\nshown in Figure 11-1.\nimport javax.swing.*;\nimport javax.swing.event.*;\nimport processing.core.PApplet;\npublic class EmbeddedWithSlider extends PApplet implements ChangeListener {\n    float hue = 0;\n    public void setup( ) {\n        size(400, 400);\n        noLoop( );\n    }\n    public void draw( ) {\n        colorMode(HSB, 360, 100, 100);\n        background(hue, 80, 80);\n    }\nFigure 11-1. Using a JSlider to control a PApplet\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2524
  },
  {
    "chunk_full": "342\n|\nChapter 11: Integrating Processing with Java\n    public void stateChanged(ChangeEvent e) {\n        JSlider source = (JSlider)e.getSource( );\n        hue = (int)source.getValue( );\n        redraw( );\n    }\n}\nIf you use the default animation thread (rather than noLoop( ) and redraw( )) with an\nembedded PApplet, take care that the code is implemented in a thread-safe manner.\nThe Processing animation thread can easily conflict with Swing’s UI threads, leading\nto problems. If using Swing to drive the Processing sketch (as in the previous exam-\nple), noLoop( ) and redraw( ) are the best bet. That means that Swing components\nwill initiate updates in the Processing sketch, but this is better because they’ll call\nredraw( ), which queues the draw( ) method to run when it’s safe to do so. On the\nother hand, if you want to use the regular animation thread, query the Swing UI ele-\nments for updates inside the draw( ) method. To modify the previous example, for\ninstance, simply call\nslider.getValue( ) inside\ndraw( ), rather than use the\nChangeListener interface and the stateChanged( ) method.\nUsing Java Code in a Processing Sketch\nSome previous examples have included Java code inside a sketch. This section pro-\nvides additional background on what’s happening behind the scenes.\nUsing the Code Folder to Add .jar Files to a Sketch\nThe simplest way to use Java libraries inside a Processing sketch is to drag .jar files to\nthe editor window or use Sketch ➝Add File. That will copy the file to a directory\nnamed code inside the sketch folder. This works for classes inside .zip and .jar files,\nand it will automatically add the files to the CLASSPATH of the sketch. The preproces-\nsor will automatically import all packages found inside the files.\nThis method can be used to add native code found in .dll, .jnilib, and .so files. These\nfiles will also be automatically placed in the code folder and added to the Java library\npath so that the native code will load properly.\nPackaging Code into Libraries\nA Processing library can be any sort of Java code that’s been given a package name\nand packed into a .jar file. It can also register itself with the parent applet to get noti-\nfication of when events occur in the sketch—for instance, whenever draw( ) is called\nor a key is pressed.\nTo repackage your code as a library, consult the howto.txt file in the libraries folder\nof the Processing release.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2525
  },
  {
    "chunk_full": "Building with the Source for processing.core\n|\n343\nUsing Libraries\nA common problem for users leaving the PDE for an IDE such as Eclipse or Net-\nbeans is that libraries become a more complicated matter. To use a Processing\nlibrary, add any .jar files from Processing ➝libraries ➝libraryname ➝library to your\nproject. If no native code is used, that should be all that’s necessary.\nMore complicated libraries include native code, which adds another layer of com-\nplexity. The OpenGL library, for instance, includes multiple files containing native\ncode for different operating systems and architectures. To use the OpenGL library,\nyou’ll need to add libraries ➝opengl ➝library ➝opengl.jar and jogl.jar to your\nCLASSPATH (as described earlier), but you’ll also need to set your java.library.path\nvariable to include any folders that contain native libraries. This is usually done by\nadding a -D command-line option when running Java:\njava -Djava.library.path=/path/to/Processing/libraries/opengl/library\nDo this in addition to other options necessary to set the class path and the main class\nof your code.\nBuilding with the Source for processing.core\nIf you’re the type of person who prefers to work with the your libraries’ sources\nwhenever possible, you can always check out the code for the processing.core librar-\nies from the source repository on http://dev.processing.org. And, of course, you’re\nstrongly encouraged to join the development community to help implement new fea-\ntures and fix bugs.\nDepending on the development status, it might be a good idea to get a tagged ver-\nsion of the code that has already been released. The code is tagged whenever a Pro-\ncessing release occurs; for instance, processing-0126 is the tag for the Processing\n0126 download. The current code is not guaranteed to be stable, so using the tag for\nthe most recent release is safest.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2526
  },
  {
    "chunk_full": "",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2527
  },
  {
    "chunk_full": "345\nBibliography1\nThis bibliography covers a handful of books on visualization that you may find help-\nful, as well as others that were mentioned in some fashion in the text.\nAcquire and Parse\nNot many books exist that cover acquiring and parsing data, which is part of the rea-\nson that we covered such a broad range of topics in Chapters 10 and 11. These chap-\nters include more specific references for some topics.\nFisher, Maydene, Jon Ellis, and Jonathan Bruce. JDBC API Tutorial and Reference.\n3rd ed. Upper Saddle River, NJ: Prentice Hall, 2003. This is the book for those who\nwant to learn how to use databases with Java (and Processing).\nWilson, Greg. Data Crunching: Solve Everyday Problems Using Java, Python, and\nMore. Raleigh, NC: The Pragmatic Bookshelf, 2005. This is one of the few books I’ve\nfound that covers the sort of detective work described in Chapters 10 and 11. A use-\nful (and indeed pragmatic) handbook that covers acquiring and parsing data in\ndifferent languages, and the trade-offs for each.\nFilter and Mine\nFayyad, Usama, Georges G. Grinstein, and Andreas Wierse, eds. Information Visual-\nization in Data Mining and Knowledge Discovery. San Francisco: Morgan Kaufmann,\n2002. From the editor: “This book is the result of two workshops whose goals were\nto open up the dialog between researchers in visualization and data mining, two key\nareas involved in data exploration.” This book is an esoteric collection of papers with\na few that I found extremely insightful.\nGarfinkel, Simson. Database Nation: The Death of Privacy in the 21st Century.\nCambridge, MA: O’Reilly Media, 2000. Garfinkel raises awareness about how data\ncollection and analysis affect our daily lives.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2528
  },
  {
    "chunk_full": "346\n|\nBibliography\nHand, David J., Heikki Manila, and Padhraic Smyth. Principles of Data Mining\n(Adaptive Computation and Machine Learning). Cambridge, MA: MIT Press, 2001.\nThis book covers the gap between data mining and statistics.\nGonick, Larry, and Woollcott Smith. The Cartoon Guide to Statistics. New York:\nHarperResource, 1994. This book illustrates the basics of statistics and probability. If\nyou’re disinclined to pick up a statistics text, it will provide a more entertaining\nintroduction.\nShannon, Claude E., and Warren Weaver. The Mathematical Theory of Communica-\ntion. Champaign, IL: University of Illinois Press, 1949. The classic text that intro-\nduced information theory.\nTukey, John Wilder. Exploratory Data Analysis. Boston: Addison-Wesley, 1977.\nAnother classic book on the joy of figuring things out with numbers.\nRepresent\nBertin, Jacques. Semiology of Graphics: Diagrams, Networks, Maps. Madison, WI:\nUniversity of Wisconsin Press, 1983. This is the English translation and later edition\nof the seminal text first published in 1967.\nHarris, Robert L. Information Graphics: A Comprehensive Illustrated Reference. New\nYork: Oxford University Press, 1999. An enormous catalog of visual representations.\nIf you think you’ve invented a new way to represent data, chances are you’ll find it in\nthis book.\nHuff, Darrell, and Irving Geis. How to Lie with Statistics. New York: W.W. Norton\n& Company, 1954. This is an older text that covers “lies” in statistical graphics; it is\nnot a statistics book per se, but points out the pitfalls of misrepresentation.\nPlayfair, William. Playfair’s Commercial and Political Atlas and Statistical Breviary.\nNew York: Cambridge University Press, 2005. This is a lovely reprint of Playfair’s\noriginal texts on graphics.\nWare, Colin. Information Visualization: Perception for Design. 2nd ed. San Francisco:\nMorgan Kaufmann, 2004. This is a text on visualization that also covers the psychol-\nogy of design; it includes useful discussion on topics such as color and pre-attentive\ngraphical features.\nReﬁne\nBringhurst, Robert. The Elements of Typographic Style. Vancouver, BC: Hartley &\nMarks, 1992. The “bible” for typographers.\nGarland, Ken. Mr. Beck’s Underground Map. Middlesex, UK: Capitol Transport Pub-\nlishing, 1994. Covers the history of Beck’s map of the London Underground, dis-\ncussed in Chapter 1.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2529
  },
  {
    "chunk_full": "Bibliography\n|\n347\nLupton, Ellen. Thinking With Type: A Critical Guide. New York: Princeton Architec-\ntural Press, 2004. A truly wonderful book that introduces typography in an engaging\nmanner. Lupton is an outstanding writer, and the book is beautiful to look at and\nenjoyable to read.\nTufte, Edward R. The Visual Display of Quantitative Information. Cheshire, CT:\nGraphics Press, 1983. The first of Tufte’s texts on information graphics, and still the\nbest. His other books are interesting (and nice to look at), but if you purchase only\none, this should be it.\nInteract\nCard, Stuart K., Jock D. Mackinlay, and Ben Shneiderman, eds. Readings in Informa-\ntion Visualization: Using Vision to Think. San Francisco: Morgan Kauffman, 1999. A\nwoefully out-of-date text that collects several early papers from the field of informa-\ntion visualization.\nThe Office of Charles and Ray Eames. Powers of ten: a film dealing with the relative\nsize of things in the universe and the effect of adding another zero. Pyramid Films,\n1978. The film that definitvely shows us how scale works.\nWardrip-Fruin, Noah, and Nick Montfort, eds. The New Media Reader. Cambridge,\nMA: MIT Press, 2003. A truly definitive collection of papers from thinkers such as\nVannevar Bush, Alan Turing, Norbert Wiener, Myron Krueger, and others on up to\nTim Berners-Lee and Richard Stallman. A brilliant group of texts.\nGeneral\nKemp, Martin. Visualizations: The Nature Book of Art and Science. Berkeley, CA: The\nUniversity of California Press, 2001. A collection of columns by Martin Kemp, who\nplaced scientific visualization in context using art and science history.\nLewis, Michael. Moneyball: The Art of Winning an Unfair Game. New York: W.W.\nNorton & Company, 2003. First mentioned in Chapter 5, this book describes the\nstatistical thinking sometimes used by baseball teams.\nMaeda, John. Design By Numbers. Cambridge, MA: MIT Press, 1999. This book\ndescribes the predecessor to the Processing project.\nReas, Casey, and Ben Fry. Processing: A Programming Handbook for Visual Design-\ners and Artists. Cambridge, MA: MIT Press, 2007. The definitive book on Process-\ning, written by Casey and me. This is targeted toward people who have no\nbackground in programming.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2530
  },
  {
    "chunk_full": "348\n|\nBibliography\nWurman, Richard Saul. Information Anxiety. New York: Doubleday, 1989. This\nbook discusses early thinking about information overload by one of the statesmen of\ngraphic design. Wurman was the person who later coined the term “Information\nArchitect.” A more recent second edition of this book exists; however, it’s more of a\nsecond volume and covers different topics.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2531
  },
  {
    "chunk_full": "349\nWe’d like to hear your suggestions for improving our indexes. Send email to index@oreilly.com.\nIndex\nSymbols\n* (asterisk), zero or more matches in regular\nexpressions, 104\n\\ (backslash)\nescaping characters in regular\nexpressions, 103\nfile paths on Windows, 186\n: (colon) in regular expressions, 103\n, (comma) in regular expressions, 104\n{ (curly braces), data blocks in JSON, 101,\n104\n. (dot) files, 238\n– (en dash), 126\n# (hash marks), 23\n% (modulo) operator, 63\n> and >> (output) operators, 298\n( ) (parentheses), grouping in regular\nexpressions, 103\n. (period)\nmatching anything in regular\nexpressions, 104\nUnix system . (single dot) and .. (double\ndot) directory entries, 183\n| (pipe) command, 298\n+ (plus sign), in regular expression\nmatching, 103\n' (quotes, single), in regular expressions, 104\n/ (slash)\n// in comments, 74\nURLs, 100\n[ ] (square brackets), denoting regular\nexpression character class, 103\n~ (tilde), Unix home directory, 186\nA\nabsolute paths, 184, 269\naccess_log file (Apache server), 245\nacquireStandings( ) method, 116\nbreaking date stamps into component\nparts, 131\nacquiring data, 5, 264–295\nadvanced web techniques, 284–288\nforms, 284\npretending to be a web\nbrowser, 286–288\nasynchronous image downloads, 281–284\nbeverage consumption statistics\n(USDA), 55\nbyte arrays, 284\nchanging data sources, 94\ncollecting data outpaces its use, 2\ndatabases, 288–294\nefficient retrieval of baseball standings for\nthe season, 133–144\nethics of, 266\nfiles and folders, 276–280\nlarge numbers of files, 295\nlisting files in a folder, 277–280\nnumbered file sequences, 280\nfiles for use with Processing, 268\nlimiting amount of data, 17\nloading data asynchronously using Thread\nclass, 178–180\nloading text data, 270–276\nparsing files during acquisition, 276\nopenStream( ) method as a bridge to\nJava, 284\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2532
  },
  {
    "chunk_full": "350\n|\nIndex\nacquiring data (continued)\nprogram acquiring data from\nMLB.com, 104\nreading the directory structure, 194–198\nresources for further information, 345\nsalary data (baseball project), 109\nteam logos (baseball project), 107–109\ntext as input (Huckleberry Finn), 229\ntools for Internet data, 266\nupdating values over time, 46–48\nwhere to find data, 265\nwin/loss data (baseball), 96–100, 115\nzip code listing, U.S. Census Bureau, 7,\n145\naddEdge( ) method, 222\nsmarter addition of edges, 232\naddFolder( ) method, 186\naddNode( ) method\ngraphing web site visits (example), 252\nGraphLayout (example), 223\naddVisit( ) method, 255\nAlbers Equal-Area Conic projection, 150\nALL CAPS listings of data, 147\nalpha transparency (or alpha), 41\nAmazon.com, 265\nAnemone class, 248\ndrawConnection( ) method, 257\nanimation\ndate selector bar, 132\nframe rate, 51, 133\nrefining transition between dates, 132\n(see also interacting with data)\nApache project\nBatik SVG library, 297\nDerby/Java DB, 293\nHttpClient, 286\nApache server logfiles, 245–247\nconfiguring Apache for combined\nlogfiles, 246\nAPI (Processing Core API), 19–30, 336–338\napplets\nexporting programs as, 23\nloading from URLs and, 268\nArrayList class, 251\narrays\nconverting text file to, 114\ndata from multiple dates, 127\ndateStamp and datePretty, 129\nof edges, 223\nnodes array, 226\nranked array of longs, 207\nresizing, 187\nseason array, 130\nstandings_rs_ale array (example), 100\nof strings, 26\nteamCodes and teamNames arrays\n(example), 112\ntypedChars and typedCount, 159\nzoom levels, 174\narrow keys, using to switch between\ndates, 131\nascent (fonts), 63\nasynchronous data loading using Thread\nclass, 178–180\naudience, targeting, 17\nAutoCAD DXF, 323\nauto-unboxing, 251\nB\nbackground color, 21\nbackground( ) command, 21\nBackus Naur Form (BNF), 316\nBacon, Kevin, 242\nbar charts\nlibraries for plotting, 93\nrepresenting discrete values, 82\nbaseball salary project, 95–144\ndeployment considerations, 133–144\ndisplaying the results, 118–120\nfinishing setup and defining font, 117\nidentifying the problem, 95\ninteractive data, moving to multiple\ndays, 127–132\nloading team names and codes, 112\nmore sophisticated sorting, 126\nrefining data display to convey\nrelationships, 121–126\nrefining transition between days, 132\nretrieving team logos to improve visual\ndisplay, 107–109\nretrieving team salary data and pasting\ninto spreadsheet, 109–111\nretrieving win/loss data, 96–100\nteam logo images, setting up, 117\nteam salary data organized as list of\nranked values, 113–115\nunpacking win/loss files, 100–107\nwin/loss standings, 115–117\nbaseline (fonts), 63\nBasic programming mode, 332\nBatik SVG library, 297, 322\nBeck, Harry, 3\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2533
  },
  {
    "chunk_full": "Index\n|\n351\nbeginRecord( ) and endRecord( )\nmethods, 236\nbeginShape( ) and endShape( )\nmethods, 73–76\ndata shown as filled area, 78\nBerkeley DB, 294\nbetween value (color interpolation), 37\nbeverage consumption statistics (USDA), 54\nbinary file formats, 154, 325–328\nbit shifting, 326\nDataInputStream, using, 327\nDBF, 325\ndealing with binary data input, 326\nExcel spreadsheets (XLS), 325\nbit shifting, 326\nBNF (Backus Naur Form), 316\nBoundsIntegrator class, 208\nBranch class, 248\ndraw( ) method, 255\nbranches, 220\ndepicting, 256\nbrightening and dimming data display\nbrightness based on file modification\ntimes, 206\nfolder rollovers in treemap display, 204\nbrightness of colors, preserving, 38\nBringhurst, Robert, 126, 346\nbrowser type and platform (user agent), 245\nbrowsers\npretending to be a web browser, 286–288\nrunning sketches online in a web\nbrowser, 133\nBufferedReader class, 271\nreading files progressively, 272\nbuilding representations, vii\nbyte arrays, 284\nbzip2 (bz2), 319\nC\ncalcZoom( ) method, 174\ncanonical paths, 184\ncapitalizing first letter of each word, 149\nCarter, Matthew, 123\ncase-insensitive sorting, 183\ncat (concatenate), 298\nceil( ) function, 66\nceiling of a float, 66\nCGI scripts\nconsolidating baseball season\nstandings, 134–137\nrandomized data for updateTable( ), 47\nchanging data\ninterpolating values smoothly over\ntime, 48–51\nupdating values over time, 46–48\ncharacter class (in regular expressions), 103\nCharacter class, toUpperCase( ) and\ntoLowerCase( ) methods, 149\ncharacters, 9\ncharting and graphing tools, 93\ncheck( ) method (Place class), 161\ncheckNode( ) method, 255\nchild nodes, 182\nchosen variable, 163\ncity names, capitalizing first letter of each\nword, 149\nclasses, 26\nencapsulating time series plots, 92\nextending, 114\nmouse interaction information and, 44\nProcessing, 155\nClemens, Samuel L.\nFollowing the Equator, 190\nHuckleberry Finn, 229\nclickable tabs, 85\nCLOSE parameter (endShape( ) method), 73\ncode examples from this book, xii\ncode folder, 342\ncollecting data (see acquiring data)\nColorIntegrator class, 165–167\ncolors\nadding to baseball statistics display, 121\nadding to treemap display, 201–203\nbackground color, setting, 21\nGraphDemo (Processing version), 222\nhighlighting points for typed digits of zip\ncodes, 158\nincreasing usefulness in treemap\ndisplay, 206\ninterpolating between, 37–39\npreserving saturation and\nbrightness, 38\npoints in interaction with typed zip code\ndigits, 161\nweb site visits graph, node names, 259\ncommand-line utilities, 266\ngrep, 307\nparsing tools, 298\ncommands, 20\ncomma-separated values (see CSV files)\ncomments, 74\ncompare( ) method, 126\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2534
  },
  {
    "chunk_full": "352\n|\nIndex\ncompressed data, 317–319\nGZIP streams, 317\nother formats, 319\nZIP files, 317–319\nconnecting lines (baseball statistics\nproject), 118\nconstants, 118\nusing in zip code data columns, 148\ncontentsVisible field (FolderItem), 195, 199\nshowing and hiding folder contents, 200\nContinuous programming mode, 332\nCore API (Processing), 19–30, 336–338\ncreateFont( ) function, 60\ncreateReader( ) method, 179, 271\ncreateWriter( ) method, 270\nCSV (comma-separated values) files, 147,\n299–302\ndocumentation, 302\nremoving commas and quotes, 150\ncURL utility, 267\ncurve( ) method, 261\ncurveVertex( ) function, 77\nCygwin, 266\nD\n\\d (digits) in regular expressions, 103\ndamping (physics-based interpolator), 51\ndarkness variable, 204\ndashes, 126\ndata collection (see acquiring data)\ndata folder, 268\ncreating, 27\ninterfacing between Processing and Java\nfile methods, 116\nlisting contents, 277\nsecurity restrictions for online\nprograms, 26\ndata mining, 5\nbaseball statistics project (example), 100\nbeverage consumption statistics, 55\ndirectory structure, 194–198\nfinding and counting duplicated edges for\nnodes, 232\nresources for further information, 345\nsorting, using salary as a tiebreaker, 126\nunused nodes, 256\nupdating values over time, 46–48\nweb site traffic information, 262\nzip codes project (example), 9\ndata on a map, 34\ndrawing a point for each location, 35\nfinding minimum and maximum\nvalues, 34\ntwo-sided data ranges, 40\nvarying data by color, 37\ndata representation (see refining data\nrepresentation; representing data)\ndata types, 26\ncasting, 336\nJava and Processing, 249\nzip code information, 8\ndatabases, 154, 288–294\ndriver, or connector, 288\nMySQL, 289–293\ngetting started with, 289–291\nusing with Processing, 291–293\nother, 293\nperformance aspects in interactive\napplications, 294\nDataInputStream class, 327\ndataPath( ) method, 268, 269\nFile class, 116\nDate object, 128\nDateFormat class, 246\ndatePretty array, 130\ndates and times\nApache logfile entries, 246\nbaseball project, 127–132\ndate selector bar, 132\ndatestamp for first and last day of\nseason, 128\ndrawing the dates, 130\nloading standings for entire\nseason, 130\nswitching between dates, 131\ndateSelectorX variable, 130\ndateSelectorY variable, 130\ndateStamp and datePretty arrays, 129\nDBF files, 146, 325\ndegree of attraction (physics-based\ninterpolator), 51\ndel.icio.us (web site), 265\ndepth variable, 184, 195\ndetail level in data visualization, 17\nDialog DialogInput typefaces, 60\ndiameter (ellipseMode), 43\ndist( ) function, 42\nDOCTYPE declaration, 305\nDocument Object Model (DOM), 314\ndot files, 238\ndoubles, 250\ndownloading links directly, 266\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2535
  },
  {
    "chunk_full": "Index\n|\n353\ndraw( ) function, 21, 32\nadvanced graph (example), 255\nbackground( ) command, 22\nbaseball statistics project, 119\nrefined version, 124\nchosen point in zip code locations, 163\nGraphLayout demo (Processing), 223\nmouseX and mouseY variables, 44\nscatterplot of zip codes, 157\ndrawChosen( ) method, 162\ndrawConnection( ) method (Anemone\nclass), 257\ndrawData( ) function, 35\ndrawDataLine( ) function, 74\ndrawDataPoints( ) function, 58\ncurrentColumn parameter, 60\ndrawStatus( ) method, 188\ndrawTag( ) method, 205\ndrawTitle( ) method, 64\nFileItem and FolderItem classes, 201\nrollover title, 199\nwhite text in treemap display, 202\ndrawVolumeLabels( ) method, 67\ndrawYearLabels( ) function\ngrid, adding, 64\nresetting text alignment, 65\ndynamic data values, 46\nE\nEclipse IDE, 242\ninstructions for obtaining and using, 243\nEdge class, 221\ncount field and increment( ) method, 232\nProcessing version of GraphDemo, 222\nedges, 220\nadding to nodes in graphs, 223\nlength, calculating, 224\neditors, 21\nElements of Typographical Style, The, 126,\n346\nellipseMode, 42\nen dash character, 126\nendShape( ) method (see beginShape( ) and\nendShape( ) methods)\nEnergy Minimized layout (Graphviz), 239\nevent handling, 336\nexamples, Processing API and environment\nfeatures, 24\nexception handling, 271\nexists( ) method (File class), 116\nexpand( ) method, 187\nedges array, 223\nexporting programs, 23\nextending a class, 114\nF\nfading effect, 165–167\nfolder rollovers in treemap display, 204\nFederal Information Processing Standards\n(FIPS) codes, 147\nweb site, 148\nFile class, 116, 277\ngetAbsolutePath( ) method, 184\ngetCanonicalPath( ) method, 184\nlist( ) method, 277\nerrors causing null return, 183\nUnix-based systems, 183\nFile menu (Examples), 24\nFileInputStream class (Java), 26\nFileItem class, 194\ndraw( ) method\ncheck for the mouse, 199\nfill settings, 202\ndrawTitle( ) method, 201\nfields for color and hue, 202\nmodification times, 207\nrolloverItem, 199\nupdating for zooming, 210–213\nFilenameFilter class, 279\nfiles and directories, 276–280\nbuilding directory tree using a\nqueue, 186–189\nbuilding directory tree using\nrecursion, 182–186\nfile handling functions, 26\nlarge numbers of files, handling, 295\nlisting files in a folder, 277–280\nlocating files using Java File object, 277\nmodification times of files, 206\nnumbered file sequences, 280\ntree structure, 182\n(see also treemaps)\nfill and stroke settings\nbeginShape( ) and endShape( ), 73\ndata points highlighted by rollovers, 76\ndata shown as filled area, 78–80\ndraw( ) method, Node class, 228\nfill for colors in treemap display, 202\nstroke weight for line highlighting\nindividual data points, 74\nfill( ) function, 21, 33, 58\nalpha transparency parameter, 41\nbalancing text with colored lines in\nbaseball statistics display, 124\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2536
  },
  {
    "chunk_full": "354\n|\nIndex\nfiltering data, 5\nbeverage consumption statistics, 55\nconnections with other steps in zip code\nproject, 14\ndirectory structure, 194–198\nefficient filtering of baseball standings for\nthe season, 133–144\nfiles, problems with, 183\nlisting files with a filter class, 279\nremoving stop words from text, 231\nresources for further information, 345\nsalary data (baseball project), 110\nzip code database file, 147\nzip code information, 9\nFind in Reference menu command, 24\nfindNode( ) function, 223\nfirstDateStamp and lastDateStamp, 128, 129\nfixed width text, 302\nflat files, 294\nFlickr, 265\nfloats, 8\nconverting strings to, 276\ngetting values with Table class\nmethods, 32\nminimum and maximum values, 34\nrounding, 65\nFloatTable class, 55\nfloor( ) function, 66\nfolder selection dialog box, 217–218\nfolderCount variable, 186\nfolderIndex variable, 186\nFolderItem class, 195–198\ndarkness field, 204\nmodification times, 207\nmousePressed( ) method, 199, 200\ntaggedItem variable, 204\nupdateColors( ) method, 202\nupdating for zoom support, 213–217\nFollowing the Equator, 190\nfonts\nascent, 63\ncreating to label time series data\npoints, 60\ndefining for baseball statistics\ndisplay, 117\nmouse data in rollover interaction, 42\nnumeric data display, 123–125\nuser feedback on typed text, 159\nfor loop (Java 1.5), 251\nforce-directed layout, 224\nforms, 284\nfoundCount variable, 161, 278\nframe object, 338\nframe rate, 51\nbrightening and fading effect, 166\nsetting to ensure consistent\nanimation, 133\nfrmget utility, 285\nfunctions, 20, 27\nexamples of use, 24\nlibraries, 27\nProcessing API function names, 32\nG\ngenerics, 250\ngeocoder.us service, 146\ngeocoding data, reading with Processing\nXML library, 312–314\nGeographic Information Systems (GIS), 324\ngeographic locations of postal zip codes, 157\ngeometry data for postal codes, 295\nGeorgia (font), 123\nGET and POST methods, 285\ngetAbsolutePath( ) method (File class), 184\ngetCanonicalPath( ) method (File class), 184\ngetRowName( ) function, 35\ngetRowNames( ) method (FloatTable\nclass), 56\nGIS (Geographic Information Systems), 324\nGNU Wget, 267\nGoogle Maps, 266\ngeocoding service, 312\ngrammars in BNF notation, 316\nGraph class, 221\ngraphic design, 5\ngraphing tools, 93\nGraphLayout demo (see graphs, simple\nexample)\nGraphPanel class, 221\ngraphs, 220–263\nadvanced example (web site\ntraffic), 242–263\nacquiring web server logfile, 245\ndata mining and\nrepresentation, 255–256\ndepicting branches and nodes, 256\ndrawing node names, 259\ndrawing visitor paths, 260\ninteracting with the data, 258\nlooking at source files, 248\nmining more information, 262\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2537
  },
  {
    "chunk_full": "Index\n|\n355\nparsing Apache logfiles, 245–247\nreading and cleaning data, 252–255\nusing Java IDEs, 243–244\nwriting Java code, 249–252\ncomplicated example (using Huckleberry\nFinn), 229–240\nacquiring text for input, 229\nparsing the text, 229–231\nremoving stop words, 231\nsmarter addition of nodes and\nedges, 232\nviewing the book, 233–236\nsimple example (GraphLayout), 220–229\ninteracting with nodes, 224–228\nporting from Java to\nProcessing, 221–224\ntechniques for handling graph data, 241\nGraphviz, 238\ngrep, 307\ngridlines\nadding to year interval labels, 64\nunboxed plot with reverse-color\ngridlines, 81\ngroup( ) method, 104\ngrouping parentheses in regular\nexpressions, 104\ngroups (in regular expression pattern\nmatching), 103\nGZIP, 317\nH\nHALF_ROW_HEIGHT variable (baseball\nproject), 118\nhandleLine( ) function, 273\nhandleMouse( ) method, 131\nHashMap class, 112\nhead and tail commands, 299\nheight of tallest character in a font, 63\nHello World program, 20\nHelp menu\nFind in Reference, 24\nlibraries, 28\nhex viewers, 298\nhideContents( ) method, 200\nHierarchical layout (Graphviz), 239\nhierarchies, 182\nbuilding directory tree using\nrecursion, 182–186\nloading tree structure asynchronously\nusing a queue, 186–188\nmapping tree structures\n(treemaps), 189–219\ndepicting relative size of files and\nfolders, 194–198\nshowing progress while cataloging the\ndisk, 188\nhighlighting data points\nbackground line that highlights, 74\nusing mouse rollovers, 76–77\nHSB color space, 38\nRGB versus, 39\nHTML, 303–311\nparser (custom), writing, 311\nparser libraries, 311\nparser, determining necessity of, 306\nparsing and manipulating tables, 310\nparsing with Swing built-in\nparser, 308–310\nparsing with Tidy, 304\nembedding Tidy into a sketch, 305\nHTML parameters, reading from tags, 129\nHTML-formatted tables, 96\nHTTP, 268\nHttpClient, 286–288\nHuckleberry Finn, 229\nhue, saturation, and brightness, 38\nsetting in treemap display, 202\nI\nidentifying the question, 3–4\nbaseball statistics (example), 95, 121–125\nIDEs, using Processing Core library\nin, 242–244\nignoreWord( ) method, 231\nIIS logfile format, 247\nimage( ) command, 32\nImageLoader class, 281–284\nimages\nloadImage( ) function, 26\nloading asynchronously, 281–284\nsaving, 23\nteam logos (baseball project), 107–109\nloading into project folder, 117\nvector format, 236\nimport command, 28\nimport statements, 282\nincrement( ) method, 232\nindex pages (web sites), 254\nindexes, 9\nInformation Anxiety, 2, 348\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2538
  },
  {
    "chunk_full": "356\n|\nIndex\ninformation visualization, 5\nconnections among the stages, 14\nprinciples, 15–18\nconveying more with less detail, 17\nknowing your audience, 17\nunique requirements of each\nproject, 16\nvisualization versus, 6\nzip codes (USPS) example, 6–13\nacquiring the data, 7\ndata mining, 9\nfiltering the data, 9\ninteracting with data, 11–13\nparsing the data, 8\nrefining the data, 11\nrepresenting the data, 9\nInputStream class, 284\nint data type, 249\nInteger objects versus, 113\nint( ) function, 56\nInteger class, 112\nInteger objects versus int data type, 113\nintegers, 9\nIntegrator class, 48–51, 165\ninterpolation between data sets, 87–92\nrefining date transitions in baseball\nproject, 132\nsetting target lengths for branches\nbetween nodes, 248\ninteracting with data, 5\nactive sketches in Processing, 21\nconnection with other steps in zip code\nproject, 15\ndata for range of dates (baseball\nproject), 127–132\ndate selector bar, 132\ndrawing the dates, 130\nloading standings for entire\nseason, 130\nrefining date transitions, 132\nswitching between dates, 131\ndatabases, performance and, 294\nfolder selection dialog box, 217–218\nhighlighting points while typing zip code\ndigits, 158\nhighlighting points with rollovers, 76–77\ninterpolation between data sets, 87–92\nlabeling current time series data\nset, 59–62\nloading asynchronously using a\nqueue, 186–188\nmanipulating nodes in web site visits\ngraph, 258\nmapping location data from the user, 52\nmouse rollover interaction, 42–45\nnodes in graphs, 224–228\nresources for further information, 347\nsmooth interpolation over time, 48–51\ntext labels as tabbed panes, 83–87\nupdating values over time, 46–48\nviewing folder contents, 199–201\nzip codes project (example), 11–13\nzoom in treemap display, 208–217\nupdating FileItem, 210–213\nupdating FolderItem, 213–217\nzooming in (zip code example), 167–177\ninterpolation of values\nbetween data sets, 87–92\nColorIntegrator class, 165–167\ncolors, 37–39\nsmooth interpolation over time, 48–51\ninterpreted scripting languages, 29\nisValid( ) method (FloatTable class), 56\nJ\nJava, viii\nbytecode compilation, 29\ndatabase API (JDBC), 291\nhelpful features in Java 1.5 (J2SE5.0) and\nlater, 250\nInputStream class, 284\nintegrating Processing, 331–343\nJAR archives, 26\nJFreeChart library, 93\nJOGL (Java for OpenGL), 25\nmoving code from Processing\nto, 249–250\nporting GraphLayout to\nProcessing, 221–229\nProcessing API, 19\nrelationship to Processing, 331\nserialization, 154\nstarting point for a sketching\nlanguage, 29\nSwing UI Toolkit, 217–218\nusing Processing Core library in Java\nIDEs, 243–244\n.java source files, 335\nJava programming mode, 333\nJava2D renderer, 25\nJavaScript (.js) files, 99\nparsing, 100\nJavaScript Object Notation (JSON), 101,\n315\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2539
  },
  {
    "chunk_full": "Index\n|\n357\nJavaScript, converting forms to use GET\ninstead of POST, 285\njoining multiple sets of data, 43\nJRuby, 264\nJSON (JavaScript Object Notation), 101\nJython, 264\nK\nkeyPressed( ) method, 62, 131\ntyping of digits in postal zip codes, 159\nkeywords (search), 265\nL\nlabels\naxis labels on time series plot, 62–72\ntitling both axes, 69–72\nvolume labels on vertical axis, 65–68\nyear labels on horizontal axis, 63–65\ntext labels as tabbed panes, 83–87\nLambert, Johann Heinrich, 54\nlanguage syntax (Processing), 20\nlayout( ) method (treemaps), 197\nleftX and rightX values (baseball\nproject), 119\nlength of a file, 116\nlength of edges, 224\nlerp( ) function, 37\nlerpColor( ) function, 37\nchanging color space used, 38\nless command, 299\nlibraries, 27\ncore.jar file, 243\nexamples, 24\nHTML parsing, 311\npackaging code into, 342\nprocessing.core source code, 343\ntime series or bar chart plotting, 93\ntreemap, 190\nusing, 343\nwriting to different formats, 237\nXML, 314\nline graph connecting points in time series\nplot, 73–76\nline( ) method, scaling weights to baseball\nsalaries, 121\nLinkHandler class, 308\nLinks utility, 267\nLinux systems, fonts, 123\nlist( ) method\nFile class, 277\nPFont class, 61\nlive data, interaction with, 3\nloadBytes( ) method, 266, 284\nloadData( ) method\nreading a book, 229\nloadFont( ) method, 42\nloadImage( ) method, 26, 32, 266\nloadStrings( ) method, 26, 112, 252, 266\nJava methods versus, 271\nloading text data, 270\nlocations on a map, 32–34\ndisplaying centers of U.S. states, 33\nplotting your own values to, 51\ntaking data from the user, 52\nlogfile formats, 247\nLondon Underground, map of, 3\nlongs\nconverting to formatted dates, 128\nranked array of, 207\nloop( ) method, 133\nM\nMac OS X\ncommand-line utilities, 266\nGeorgia (default font), 123\nGraphviz, 238\ntext editors and hex viewers, 298\ntypefaces, built-in, 60\nmag( ) function, 227\nmagnitude and positive/negative values, 40\nusing transparency, 41\nmagnitude of a vector, 227\nmain( ) method, 337\nMajor League Baseball web site\n(MLB.com), 97\nmap( ) function, 36\nmapping zip code place coordinates to the\nscreen, 157\nplotting time series data, 58\nMapLayout algorithms, 197\nmapping, 31–53\nbaseball salaries to line stroke, 121\ndata on a map, 34\nHashMap class, 112\nlocations, specifying, 32–34\nmouse rollover interaction, 42–45\nplotting your own values to locations, 51\nProcessing function calls, 32\nscatterplot maps, 145–181\nacquiring zip code data, 145\nparsing and filtering zip code\ndata, 147\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2540
  },
  {
    "chunk_full": "358\n|\nIndex\nmapping (continued)\nsmooth value interpolation over\ntime, 48–51\ntaking location data from users, 52\ntree structures (treemaps), 189–219\ndepicting relative size of files and\nfolders, 194–198\ntwo-sided data ranges, 40\nupdating values over time, 46–48\n(see also graphs)\nmarkup languages, 303–315\nHTML, 303–311\nXML, 311–315\nMatcher object, 104\nmatchers (regular expression), 103\nMathWorld web site (Wolfram\nResearch), 150\nmaxDateIndex variable, 128\nmethods, 20\nprotection levels, Java and\nProcessing, 250\nMicrosoft Excel\nbinary XLS files, 325\nopening a DBF file, 146\nunnecessary additions to TSV files, 147\nMicrosoft web core fonts initiative, 123\nmind maps, 220\nminDateIndex and maxDateIndex\nvariables, 129, 137\nminimum and maximum values\nboundaries of points in scatterplot\nmap, 156\nboundaries of points on scatterplot\nmap, 151\ncalculating with FloatTable class\nmethods, 55\nchanging data and, 46\nlongitudes and latitudes, 148\nmap data, 34\nzooming, 173\nmining data (see data mining)\nmissing data, 56\ndiscrete values represented with a bar\nchart, 82\nmodification times of files, 207\nmodulo operator (%), 63\nMonospaced typeface, 60\nmore and less commands, 299\nmouse interaction\ndrawing a line that follows the mouse, 22\nevent handling, 336\nhandling in tabs, 85\nnodes, manipulating in GraphLayout\ndemo, 224–229\nrollover, 42–45\nshowing and hiding folder\ncontents, 199–201\nswitching between dates in baseball\nproject, 131\nusing rollovers to highlight points, 76–77\nzooming in on zip code locations, 174\n(see also interacting with data)\nmouseInside( ) method, 200\nmousePressed( ) method, 22\nusing in tabs, 85\nMySQL, 289–293\ngetting started with, 289–291\nusing with Processing, 291–293\nN\nNanoXML project, 28\nNcFTP utility, 267\nnegative/positive values, magnitude and, 40\nusing transparency, 41\nNetbeans IDE, 243\nnetworks\napproaching network problems, 240–242\nvisual representation of, 220\nwatching network traffic, 328–330\n(see also graphs)\nnextFolder( ) method, 186\nnextLine( ) function, 275\nnf( ) function, 46, 66\nnumbered file sequences, 280\nnfp( ) function, 47\nnfs( ) function, 47\nNode class, 182, 221, 227, 248\ncount field and increment( ) method, 232\ndraw( ) method, 255, 259\nProcessing version of GraphDemo, 222\nrecursive data structure for File\nobjects, 184\nnodes, 182\ngraph of web site visits\ndrawing names, 259\nGraphDemo (Processing version), 222\nin graphs, 220\ninteracting with, 224–228\nusing words as nodes, 229\nplacement of and lengths of edges, 224\nrepresenting in web site visits graph, 256\ntracking a list of Node objects\n(queue), 186\nnoFill( ) method, 74\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2541
  },
  {
    "chunk_full": "Index\n|\n359\nnoLoop( ) method, 133, 192\nnon-lining numerals, 124\nnorm( ) function, 37\nnormalized range, 37\nnoStroke( ) function, 33\nnumbered sequences, saving program output\nas, 23\nnumeric data display, typeface, 123–125\nO\nOBJ (3D file format), 322\nobjects, 113\nJava and Processing, 249\nold style figures, 124\nOlympic Committee web site, 284\nonline community (Processing), 20\nopen source, 19\ndatabases, 289\nGraphviz tool, 238\nlibrary for creating treemap\nstructures, 190\nNanoXML project, 28\nOpenGL library, 343\nOpenGL renderer, 25\nOpenOffice spreadsheet\nentering web data, 110\nopening a DBF file, 146\nunnecessary additions to TSV files, 147\nopenStream( ) method, 284\nOpenType fonts, 61\noperating systems\nbuilt-in fonts, 60\nfiles associated with, modification\ntimes, 207\norder variable, 195\nordering array elements, 112\noutput files, 269\nP\nP2D (Processing 2D) renderer, 25\nP3D (Processing 3D) renderer, 25\npackaged solutions, shortcomings of, 16\npagers, 299\nPApplet class, 248, 334\nembedding into Java\napplications, 338–342\nSwing application, 340–342\nframe variable, 338\nmain( ) method, 337\nparam( ) method, 129\nparameterized objects, 251\nparseInfo( ) method, 156\nparsePlace( ) method, 156\nparsing data, 5, 296–330\nbeverage consumption statistics (time\nseries example), 55\nbinary data, 325–328\ncommand-line utilities, 298\ncompressed data, 317–319\ndirectory structure, 194–198\nefficient parsing of baseball standing for\nthe season, 133–144\nfile formats, 328\ngrammars in Backus Naur Form\n(BNF), 316\nJavaScript source file (baseball\nstatistics), 100–107\nregular expressions, using, 102–107\nJSON (JavaScript Object Notation), 315\nlevels of effort, 296\nnetwork traffic, 328–330\nOBJ and AutoCAD DXF (3D), 322\nparsing large files as they are\nacquired, 276\nPostScript and PDF, 323\nreading a book, 229\nregular expressions (regexps), 316\nresources for further information, 345\nsalary data (baseball project), 110\nShapefile (SHP), 324\nSVG (Scalable Vector Graphics), 320–322\ntext, 299–303\nCSV file, 299–302\nTSV file, 299\nwith fixed column widths, 302\ntext editors and hex viewers, 298\ntext markup languages, 303–315\nHTML, 303–311\nXML, 311–315\nWell-known text (WKT), 324\nwin-loss standings (baseball project), 115\nzip code database file, 147\nzip codes project (example), 8\npathnames for files, 116\nabsolute path to local file, 269\nPattern object, 104\npatterns (regular expression), 103\nPDF files, 24, 323\nvector images, 236\nPDF renderer, 25\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2542
  },
  {
    "chunk_full": "360\n|\nIndex\npercent value (normalized ranges), 37\npercentile( ) method, 207\nPerl scripts\ngenerating random values for\nupdateTable( ), 47\nretrieving and consolidating baseball\nseason standings, 134–136\nPFont class\ndefining font for baseball project\ndisplay, 117\nlist( ) method, 61\nphysics-based interpolator, 48–51\nPImage class, 26, 283\nsave( ) method, 270\nPivot by Split Size model (arranging a\ntreemap), 197\nPlace class, 155\ndraw( ) method, 157\npoint drawing when zooming, 177\nmatching locations to typed digits in zip\ncodes, 160–161\ntracking currently chose Place object, 163\nzooming, 175\nplaceCount variable, 151, 156\nplacement of nodes and lengths for each\nedge, 224\nplanning data display, 2–6\ncombining insights from different\ndisciplines, 5\ndata collection, 2\nidentifying the question, 3–4\ninformation overload, 2\nprocess of understanding data, 5–6\nthinking about data, 3\npoints\nhighlighting using rollovers, 76–77\nmixing with lines in time series\nrepresentation, 74\nways to connect, refining, 77–82\nshowing data as an area, 78–80\nunboxed plot with reverse-color\ngridlines, 80\nusing bar chart instead, 82\nPortable Document Format (PDF), 323\npositive/negative values, magnitude and, 40\nusing transparency, 41\nPOSIX time, 128\nPOST method, 285\nPostgreSQL, 289\nPostScript (PS), 323\npreprocessed data, using (baseball\nproject), 111–118\nfinishing setup, 117\nteam logos, 117\nteam names and codes, 112\nteam salaries, 113–115\nwin-loss records, 115–117\npreprocessing data, 96–110\npreprocessor code for zip code\ndata, 151–154\nretrieving salary data (baseball\nproject), 109\nretrieving team logos (baseball\nproject), 107–109\nretrieving win/loss data (baseball\nproject), 96–100\nunpacking win/loss files (baseball\nproject), 100–107\nzip code data, 145–155\npreprocessor, 335\nprinting tree contents recursively, 184\nprintln function, 104\nprintln( ) function, 65\nPrintWriter object, 270\nprivacy issues, 3\nprocess of understanding data, 5\nProcessing, 19–30\ncomponents of, 20\nCore library, using in Java IDEs, 242–244\nexamples and reference, 24–27\nloading and displaying data, 26\nsize( ) method, 24\nexporting programs, 23\nfunctions, 27\nlibraries, 27\nintegrating with Java, 331–343\nPDE (Processing Development\nEnvironment), 20\nporting GraphLayout from Java\nto, 221–229\nresources for further information, 347\nsaving program output as images, 23\nsketching and scripting, 28–30\ncode structure simplification with\nProcessing, 29\nsketching with, 20–23\nactive sketch, 21\ndrawing lines (example), 20\nweb site, viii\nprocessing data by hand versus writing a\nprogram, 111\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2543
  },
  {
    "chunk_full": "Index\n|\n361\nprogramming modes, 331–333\nBasic, 332\nContinuous, 332\nJava, 333\nprogress bar\nimage loading, 281\nshowing while cataloging the disk, 188\nProject Gutenberg, 229\nprojections, map projections for the\nU.S., 150\nprotocols used in URLs, 268\npruneNode( ) function, 256\npublic, private, or protected methods, 250\npurpose for using the data set, 2\nQ\nqueues\nStreamerQueue class, 274\nusing to load asynchronously, 186–188\nquotes and commas, removing from CSV and\nTSV files, 150\nR\nradius (ellipseMode), 42\nrandom( ) function, 46\nranges, mapping, 34\nconverting numbers with map( )\nfunction, 36\nnormalized range, 37\ntwo-sided data ranges, 40\nranked data\nbaseball team salaries, 113\nsorting lists in baseball project, 118\nRankedList class, 113\ncompare( ) method, 126\nRankedLongArray.pde file, 207\nreadData( ) method, 156, 179\nReader objects, 252\nreadNextRecord( ) method, 254\nready-made visualizations\nshortcomings of, 16\nReas, Casey, viii\nRecord class, 247\naddSiteAlias( ) method, 252\nsetSiteAddress( ) method, 252\nrect( ) function, 58\nrectMode( ) method, 58\nrecursion\nbenefits and challenges for display and\ninteraction, 182\nbuilding a directory tree, 182–186\n(see also treemaps)\nreferences, 24\nreferer information (web server logs), 245,\n253\nadditional data mining with, 262\nrefining data representation, 5\nbaseball statistics (example), 121–125\nhighlighting the lines, 121\nnumeric data typeface, 123–125\ntypography, 126\nchoosing proper representation, 73–77\ndate transitions in baseball project, 132\ndrawing axis labels on time series\nplot, 62–72\ntitling both axes, 69–72\nvolume labels on vertical axis, 65–68\nyear labels, 63–65\ngraph representing Huckleberry Finn\ntext, 233–236\nhighlighting points while typing zip code\ndigits, 158\nlabeling time series data set, 59–62\nloading data using threads, 178–180\nplotting time series data points, 57–59\npoint drawing when zooming, 177\nprogressively brightening or dimming\npoints, 165\nresources for further information, 346\nshowing currently selected\npoint, 162–164\nsmooth interpolation of values over\ntime, 48–51\ntab images, 85\nteam logos (baseball project), 108\ntreemap display, 201–208\ncolors, 201–203\nmaintaining context, 204–206\nmaking colors more useful, 206\nways to connect points, 77–82\nshowing data as an area, 78–80\nunboxed plot with reverse-color\ngridlines, 80\nusing bar chart instead, 82\nweb site visits graph, drawing node\nnames, 259\nzip codes project (example), 11\nregular expressions (regexps), 102–107, 316\nparsing Apache logfile data, 246\nprogram to parse data from\nMLB.com, 104\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2544
  },
  {
    "chunk_full": "362\n|\nIndex\nrelationships, displaying, 118\nrelax( ) method, 255\nEdge class, 225\nGraph.java example source, 226\nNode class, 226\nrelaxation, 224\nrenderers, 24\nrepresenting data, 5\nbaseball statistics project, 118–120\nteam rankings (example), 120\nchoosing proper representation, 73–77\nconnections with other steps in zip code\nproject, 14\ndirectory structure, 194–198\ndiscrete values represented with a bar\nchart, 82\ngraph of web site visits, branches and\nnodes, 256\ngraph representing Huckleberry Finn\ntext, 233–236\ngraphs, limitations of, 240\nplotting time series data points, 57–59\nresources for further information, 346\nscatterplot of zip codes, 157\nshowing progress, 188\nweb site visits graph, drawing node\nnames, 259\nzip codes project (example), 9\nrest length, 224\nREST-style APIs, 265\nResultSet class, 293\nRGB color space, 38\nHSB versus, 39\nrolloverItem, 199\nroot directory, 185\nroot folder, 200\nrow height (baseball statistics project), 118\nrow names in data tables, 35\nRunnable class, 179\nrunningX value, 84\nS\n\\s (whitespace character) in regular\nexpressions, 103\nSalaryList class, 114, 115\nSansSerif typeface, 60\nsaturation and brightness of colors, 38\nsettings levels, 202\nsave( ) method, 270\nsaveBytes( ) method, 270\nsaveFrame( ) function, 23\nsavePath( ) method, 269\nsaveStrings( ) method, 270\nscatterplot maps, 145–181\nacquiring zip code data from U.S. Census\nBureau, 145\nparsing and filtering zip code data, 147\nscientific visualization, 347\nscreen-scraping, 96\ndata acquisition ethics, 266\ngeneral process, 98\ntables from HTML files, 310\nscripting, 20, 29\nscripting languages\nuse of objects for all values, 113\nusing with Processing, 264\nsearch engines, 265\nsearching, 265\nseason array, 130\nsecurity of information, 3\nsecurity restrictions, Processing software, 26\nserialization, 154\nSerif typeface, 60\nsetBounds( ) method, 203\nsetup( ) function, 21, 32\nbaseball statistics project, 117\nfont, setting, 42\nGraphDemo (Processing version), 222\nweb site traffic graph (example), 252\nsetupLogos( ) function, 117\nsetupSalaries( ) function, 115, 118\nsetupStandings( ) function, 117\ndownloading data for each day of baseball\nseason, 130\nShape class, 334\n.java source file, 335\nshape commands (beginShape( ) and\nendShape( )), 73–76\nShapefile (SHP) format, 324\nShneiderman, Ben, 189\nshowContents( ) method, 200\nSIDE_PADDING variable (baseball\nproject), 119\nSimple API for XML (SAX), 314\nSimpleDateFormat class, 128\nSimpleMapItem objects, 190\nSimpleMapModel class, 190\nsite addresses and aliases, 253\nSix Degrees of Kevin Bacon game, 242\nsize( ) method, 22, 24, 337\nspecifying renderer, 24\nsketchbooks, 20\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2545
  },
  {
    "chunk_full": "Index\n|\n363\nsketches, 20, 28\nrunning online inside a web browser, 133\nsketch folder contents, viewing, 27\nstarting a new sketch, 31\nusing Java code, 342\nsketching, 29\nsketchPath variable, 269, 277\nSlurper class, 179\nsmooth( ) function, 33\nSOAP (Simple Object Access Protocol), 265\nsorting\ncase-insensitive, 183\nimproving handling of ties, 126\nlists of files, 280\nsource code for processing.core libraries, 343\nSourceForge, fonts, 124\nspanAspect and screenAspect variables, 174\nsplit( ) method, 112, 230\nsplitTokens( ) method, 229\nspreadsheets (see Microsoft Excel;\nOpenOffice spreadsheet)\nSQL (Structured Query Language), 288\nSQLite, 294\nstages of visualizing data, 1–18\nconnections among, 14\nlisting of, 5–6\nprinciples, 15–18\nconveying more with less detail, 17\nknowing your audience, 17\nunique requirements of each\nproject, 16\nreasons for planning, 2–5\ncollection of data outpaces its use, 2\nconstant changes on data, 3\nidentifying the question, 3\ninformation overload, 2\nmeaning of collected information, 3\nneed for insights from diverse fields, 5\nzip code project (example), 6–13\nacquiring data, 7\nfiltering the data, 9\ninteracting with the data, 11–13\niterating through and combining\nstages, 14\nmining the data, 9\nparsing the data, 8\nrefining the data, 11\nrepresenting the data, 9\nStandingsList class, 116\ncompare( ) method, 126\nstandingsY and salaryY variables (baseball\nproject), 120\nstate abbreviations for FIPS codes, 147, 148\nstatic final modifiers, 118\nstatistics, 5\nstatus bar variables, 189\nstop words, 231\nStreamer class, 248, 254, 273\nStreamerQueue class, 274\nString class\nendsWith( ) method, 277\nindexOf( ) method, 306\nreplaceAll( ) method, 229\nstrings\nbreaking into characters and capitalizing\nfirst character of each word, 149\nconverting String array to int array, 56\nconverting to floats, 276\ncreating new String object from\ntypedChars array, 160\nloadStrings( ) function, 26\nsorting, case and, 183\nString class, 26\nzip code numbering project, 8\nstroke( ) method, 58\ncolor and line thickness in baseball\nstatistics, 121\nparameter variations, 21\nstrokeWeight( ) method, 193\nStuffIt (SIT and SITX), 319\nsubstring( ) method, 302\nsubway maps, 3\nconveying more information with fewer\ndetails, 17\nsuperclass, 114\nSVG (Scalable Vector Graphics), 320–322\nshape data, parsing, 296\nSwing API\nembedding PApplet into an\napplication, 340–342\nHTML parser, 308–310\nSwing UI Toolkit, folder selection dialog\nbox, 217–218\nsymbolic links, 184\nsynchronization (threads), 274\nT\ntabbed panes, 83–87\nbetter tab images, 85\ndrawing tabs instead of a title, 84\nmouse input, handling, 85\ntab-delimited values (see TSV files)\nTable class, 32, 310\ndata stored as float values, 55\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2546
  },
  {
    "chunk_full": "364\n|\nIndex\ntables, 288\ntabPad variable, 83\ntabTop and tabBottom variables, 83\ntaggedItem variable, 204\ntags, adding to folders in treemap\ndisplay, 204–206\nTape Archive (TAR), 319\ntarget( ) method, 48\nColorIntegrator class, 165\ntargetX1, targetY1, targetX2, and targetY2\narrays, 174\nteamIndex( ) function, 126\ntext data, loading, 270–276\nfiles too large for loadStrings( ), 270\nreading files asynchronously with a\nthread, 273–275\nreading files progressively, 272\ntext editors, 298\ntext files, 294\nconverting to arrays, 114\ntext( ) method\nbaseball statistics project, 120\ndrawing int or float values, 66\nmouse rollover information, 43\nwriting name of currently visible column\nin a data set, 59\ntextAlign( ) method, 63, 69\nleft-aligning and vertically centering\ntext, 119\nvertically centering text, 66\ntextAscent( ) method, 69\ntextFont( ) method, 42\ntextWidth( ) method, 69\ncalculating tab width, 84\nThe Oracle of Bacon (web site), 242\nthis (variable), 28\nThread class, 178\nthreads, 178\nreading files asynchronously, 273–275\ntick marks, 67\nTidy, 304\nembedding into a sketch, 305\nusing with XML documents, 311\nTIFF-format images of program output, 23\ntime series, 54–93\nbeverage consumption statistics, acquiring\nand parsing, 55\nchoosing proper representation, 73–77\ncleaning the data table, 55\ndrawing axis labels, 62–72\ntitling both axes, 69–72\nvolume labels on vertical axis, 65–68\nyear labels, 63–65\ninterpolation between data sets, 87–92\nlabeling the data set, 59–62\nplotting the data, 57–59\nrollovers, using to highlight points, 76–77\ntext labels as tabbed panes, 83–87\nways to connect points, 77–82\nshowing data as an area, 78–80\nunboxed plot with reverse-color\ngridline, 80\nusing bar chart instead, 82\ntitles, drawTitle( ) method, 64\ntotalCount variable, 156\ntransitioning to another data value, 48\ntranslate( ) method, 119\ntransparency, 41\ntree structures, 182\nbuilding directory tree using\nrecursion, 182–186\nloading asynchronously using a\nqueue, 186–188\nshowing progress while cataloging the\ndisk, 188\nTreemap class, 190\ntreemaps, 189–219\ndepicting relative size of files and\nfolders, 194\ndepicting size of files and\nfolders, 194–198\nfolder selection dialog box, 217–218\nimproving display, 201–208\nadding colors, 201–203\nmaintaining context, 204–206\nmaking colors more useful, 206\nword usage (example), 190–193\nzoom capability, 208–217\nupdating FileItem, 210–213\nupdating FolderItem, 213–217\ntrim( ) method, 302\nTrueType fonts, 61\ntry/catch block, 271\nopenStream( ) method, 284\nTSV (tab-separated values) files, 147, 299\nfips.tsv file, 148\nremoving extraneous quotes and\ncommas, 150\nTufte, Edward, 54\nTwain, Mark (see Clemens, Samuel L.)\nTX( ) and TY( ) (transform x and y)\nfunctions, 157\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2547
  },
  {
    "chunk_full": "Index\n|\n365\ntypedChars array, 159\ncreating new String object from, 160\ntypedCount array, 159\ntypedPartials array, 160\ntypedPartials variable, 159\ntypedString value, 160\ntypefaces, built into systems, 60\ntypography, 126, 346\nU\nU.S. Census Bureau TIGER/LINE site, 180\nU.S. Census Bureau zip code data, 146\nU.S. Postal Service ZIP system, 145\nU.S. Postal Service zip system\n(see also zip code project)\nunderstanding data, process of, 5\nUnicode character escapes, 126\nUnix epoch, 128\nUnix systems\n. (single dot) and .. (double dot) directory\nentries, 183\ncommand-line utilities, 266\nUnix-based systems, symbolic link files, 184\nupdate( ) method, 255\nIntegrator class, 48, 133\nNode class, 227\nSalaryList class, 115\nupdateAnimation( ) method, 166\nupdateColors( ) method, 202\nbrightness values based on file\nmodification times, 208\nupdateTable( ) function, 46–48\nupdateTyped( ) method, 160\nchosen variable, 164\nupdating the screen, 338\nURL class, openStream( ) method, 26\nURLs, 100\nfiles located at, 268\nlength, 285\nloading files from, 270\nreferer, 253\nUSA Today web site, 109\nuser agent (browser type and platform), 245\nV\n“value added” versions of zip code data, 145\nvariables\nbaseball statistics project, 118\nplaces, number of, 155\nvarying over time, 94\nvectors, 227\nsaving an image in vector format, 236\nSVG (Scalable Vector Graphics), 320–322\nvertex( ) method, 73\nvertices\ncurve vertices, 77\nuse in continually drawn time\nseries, 73–76\nVisitor class, 248, 260\ndraw( ) method, 255\nvisual design, insight from diverse fields, 5\nvisual representation (see refining visual\nrepresentation; representing data)\nvisualization versus information\nvisualization, 6\nW\n\\w (word) character in regular\nexpressions, 103\nW3C Extended logfile format, 247\nweb page for this book, xii\nweb server logfiles (Apache), 245–247\nweb services, data availability through, 96\nweb site (Processing), 20\nWell-known text (WKT), 324\nWget utility, 267\nwhitespace characters, matching in regular\nexpressions, 103\nwindow size, 21\nWindows systems\nCygwin, 266\nfile paths, 186\nGeorgia (default font), 123\ntext editors and hex viewers, 298\ntypefaces, built-in, 60\nWireshark, 328–330\nWKT (Well-known text), 324\nWordItem class, 190\nWordMap class, 191\nwriteData( ) method, 238\nwriting a program to convert data versus\nprocessing by hand, 111\nWurman, Richard Saul, 2, 348\nX\nXerces project, 315\nXML, 96, 311–315\ncleaning up with Tidy, 311\nother parsing methods, 314\nusing Processing XML library to read\ngeocoding data, 312–314\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2548
  },
  {
    "chunk_full": "366\n|\nIndex\nXML Import library, 28\nXML Path Language (XPath), 314\nXMLElement class, 28, 312–314\nZ\nZIP (Zoning Improvement Plan), 145\nzip code project, 6–15\n(see also mapping)\nZIP files, 317–319\nzips.tsv file, 145\nZoning Improvement Plan (ZIP), 145\nzooming\nchanging drawing of points when\nzooming, 177\ntreemap data display, 208–217\nupdating FileItem, 210–213\nupdating FolderItem, 213–217\nzooming in on zip code\nlocations, 167–177\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2549
  },
  {
    "chunk_full": "About the Author\nBen Fry received his doctorate from the Aesthetics + Computation Group at the MIT\nMedia Laboratory. He was the 2006–2007 Nierenberg Chair of Design for the Carn-\negie Mellon School of Design. He worked with Casey Reas to develop Processing,\nwhich won a Golden Nica from the Prix Ars Electronica in 2005. Ben’s work has\nreceived a New Media Fellowship from the Rockefeller Foundation and has been\nshown at the Museum of Modern Art, Ars Electronica, the 2002 Whitney Biennial,\nand the 2003 Cooper Hewitt Design Triennial.\nColophon\nThe animal on the cover of Visualizing Data is a Northern hawk owl (Surnia ulula).\nThey are called Northern hawk owls because they are largely found in the boreal\nforests of North America and Eurasia, and because of their behavioral similarities to\nthe hawk; they fly, hover, and soar low over open areas searching for prey. Also,\nmore like hawks than owls, they predominantly use their sight, rather than their\nhearing, when hunting.\nThey are widely dispersed geographically, found from Eurasia to Norway, Sweden,\nand Finland; east through Siberia to Kamchatka; and in North China and Central\nAsia as far south as Tien Shan. In North America, they can be found from Alaska east\nto Labrador, Canada. They breed wherever food is plentiful; when food is scarce,\nthey (mostly the young owls) may fly south of their normal distribution.\nMedium-size owls, they are usually between 36–41cm long with a wingspan between\n22–25cm wide. Typically, males weigh between 273–326g and females weigh more,\nbetween 306–392g. The sexes are very similar in appearance and can be most easily\ndistinguished by their calls. The typical male call is a fast, melodious, purring trill;\nalthough the female call is similar, it has a higher pitch and is less clear.\nTheir heads are round and their faces whitish, bordered on each side with a thick\nblack stripe. The upper half of their body is generally dark gray and black, with a\ndensely spotted forehead and crown. Their tails are long with white stripes. Their\nbills are yellow and they have pale yellow eyes. (Young owls have golden yellow eyes\nthat turn paler as they age.)\nNorthern hawk owls—unlike most other owls—are typically diurnal, meaning they\nhunt during the day. They feed on small mammals, such as lemmings, voles, and\nrabbits. Other prey includes birds, frogs, and even fish. Often, they sit on a perch—\ntypically in a conspicuous spot—scoping out potential targets. Once prey is spotted,\nthey quickly take flight and swoop down to attack. When food is plentiful, they\ncatch an excess and hide it for later.\nTheir nesting period begins in April and lasts through the first half of May. Males\nscope out potential nesting sites, and females select the spot. (They are monoga-\nmous throughout the mating season.) Potential sites include empty woodpecker\nholes; abandoned squirrel, crow, and hawk nests; and rotting trees. They lay\nbetween 3–13 eggs at 1 to 2 day intervals, and incubate the eggs for approximately\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2550
  },
  {
    "chunk_full": "25 to 30 days. The males feed the females during the incubation period. Chicks leave\nthe nest after about 25 days and can fly well by the time they are 6 weeks old.\nMore research is necessary to better understand Northern hawk owls—one of the\nleast researched bird species in North America—and their habitat needs and migra-\ntion patterns. Habitat destruction is a major threat to them. The removal of dead\ntrees and stumps deprives these owls of the nesting areas they need to procreate.\nOther concerns include poaching (even though they are protected under the Migra-\ntory Bird Treaty Act, which makes it illegal to harm or kill certain migratory bird\nspecies) and collisions with power lines and vehicles.\nThe cover image is from Johnson’s Natural History. The cover font is Adobe ITC\nGaramond. The text font is Linotype Birka; the heading font is Adobe Myriad\nCondensed; and the code font is LucasFont’s TheSans Mono Condensed.\n",
    "book_id": "visualizing_data",
    "book_title": "Visualizing data",
    "book_author": "Unknown",
    "topic_id": "technology_processing",
    "topic_label": "processing",
    "chunk_index": 2551
  }
]