# Epic v1.1.0: Hygiene + MGMT Generalization

**Status:** üöß In Progress
**Branch:** v1.1.0
**Started:** 2026-01-26
**Completed:** _In progress_

---

## Goal

Repository structure and MGMT system generalization. This epic evolved to combine two related improvements:

1. **MGMT System Structure:** Consolidate status files into MGMT/ folder and generalize terminology
2. **Hidden Object Files:** Update scripts to use hidden filenames (`.faiss.index`, `.chunks.json`, `.chunks.pkl`)

**Why merge these:**

- Both improve repository organization and clarity
- MGMT folder creates clear separation between project code and meta-documentation
- Renaming CONTRIBUTING‚ÜíPOLICY better reflects dual-level system (project + global)
- Prompts renamed to MGMT-start/MGMT-end for consistency
- Can be tested and released together as coherent system upgrade

---

## What We're Building

### Phase 1: MGMT System (DONE)

**Before:**

```
librarian/
  engine/
    docs/             ‚Üê Status files (confusing location)
      CHANGELOG.md
      ROADMAP.md
      CONTRIBUTING.md ‚Üê Misleading name
      CHECKS.md
  .github/
    prompts/
      whatsup.prompt.md      ‚Üê Generic names
      wrap-it-up.prompt.md
```

**After:**

```
librarian/
  MGMT/               ‚Üê All meta-documentation & status files
    CHANGELOG.md
    ROADMAP.md
    POLICY.md         ‚Üê Renamed from CONTRIBUTING
    POLICY-global.md  ‚Üê Universal rules (cross-project)
    CHECKS.md
    gaps/
      epic-notes/
  .github/
    prompts/
      MGMT-start.prompt.md ‚Üê Renamed from whatsup
      MGMT-end.prompt.md   ‚Üê Renamed from wrap-it-up
      research.prompt.md
```

**Rationale:**

- **MGMT/** = Clear namespace for all management/meta files
- **POLICY** = Better name (applies to solo users too, not just contributors)
- **POLICY-global.md** = Placeholder for universal rules across all projects
- **MGMT-start/end** = Consistent naming with MGMT folder
- README navigation shows both: `POLICY [project](POLICY.md) / [global](POLICY-global.md)`

### Phase 2: Hidden Object Files (TODO)

**Before:**

```
books/AI/policy/
  chunks.json         ‚Üê Visible clutter
  faiss.index         ‚Üê Visible clutter
  topic-index.json    ‚Üê User metadata (stays visible)
  book1.epub          ‚Üê User content
```

**After:**

```
books/AI/policy/
  topic-index.json    ‚Üê User metadata (stays visible)
  .chunks.json        ‚Üê Hidden (implementation detail)
  .faiss.index        ‚Üê Hidden (implementation detail)
  book1.epub          ‚Üê User content
```

**Rationale:**

- Object files (chunks, indices) are implementation details ‚Üí hide them
- Metadata (topic-index.json) is user-relevant ‚Üí keep visible
- Less clutter in user's file browser

---

## Tasks

### Part 1: MGMT System Restructure ‚úÖ

- [x] Create `MGMT/` directory structure
- [x] Copy `engine/docs/*` ‚Üí `MGMT/`
- [x] Rename `CONTRIBUTING.md` ‚Üí `POLICY.md`
- [x] Create `POLICY-global.md` (placeholder)
- [x] Update README.md navigation block
- [x] Update all MGMT file navigation blocks
- [x] Rename prompts: whatsup ‚Üí MGMT-start, wrap-it-up ‚Üí MGMT-end
- [x] Update prompt content (CONTRIBUTING‚ÜíPOLICY references)
- [ ] Remove old engine/docs/ folder
- [ ] Update any scripts that reference old paths
- [ ] Test all navigation links work
- [ ] Update ROADMAP title to reflect new scope

### Part 2: Hidden Object Files

- [ ] Update `indexer_v2.py` to write `.chunks.json` (hidden)
- [ ] Update `indexer_v2.py` to write `.faiss.index` (hidden)
- [ ] Update `research.py` to read from hidden files
- [ ] Update `mcp_server.py` to read from hidden files
- [ ] Update any other scripts that reference object files
- [ ] Add migration script to rename existing files (optional helper)
- [ ] Update CHECKS.md tests for new filenames
- [ ] Test on macOS (hidden files work)
- [ ] Document in README/CHANGELOG

### Part 3: Validation

- [ ] All stability checks pass (run from CHECKS.md)
- [ ] Research queries work (`python3.11 engine/scripts/research.py "test" --topic ai`)
- [ ] Indexing works (`python3.11 engine/scripts/indexer_v2.py --topic cooking`)
- [ ] MCP server starts successfully
- [ ] Document breaking changes for existing users
- [ ] Update migration guide

---

## Session Log

### Session 1: 2026-01-26 (MGMT System Restructure)

**Setup:**

- Committed workspace title change on main
- Created v1.1.0 branch
- Updated ROADMAP epic status (‚è≥ ‚Üí üöß)
- Created initial epic notes

**Pivoted scope:**

- User decided to merge Hygiene with MGMT system generalization
- Changed from "move to engine/" to "create MGMT/ folder"
- Renamed CONTRIBUTING‚ÜíPOLICY (better reflects universal applicability)
- Renamed prompts for consistency with MGMT naming

**MGMT System Restructure (completed):**

- ‚úÖ Created MGMT/ folder structure
- ‚úÖ Copied engine/docs/\* to MGMT/
- ‚úÖ Renamed CONTRIBUTING.md ‚Üí POLICY.md (+ updated title)
- ‚úÖ Created POLICY-global.md placeholder
- ‚úÖ Updated README.md navigation (POLICY shows both project/global links)
- ‚úÖ Updated all MGMT file navigation blocks (CHANGELOG, ROADMAP, CHECKS, POLICY)
- ‚úÖ Renamed whatsup.prompt.md ‚Üí MGMT-start.prompt.md
- ‚úÖ Renamed wrap-it-up.prompt.md ‚Üí MGMT-end.prompt.md
- ‚úÖ Updated all CONTRIBUTING‚ÜíPOLICY references in both prompts
- ‚úÖ Updated prompt titles, version numbers, and key principles
- ‚úÖ Updated this epic notes file to reflect new scope

**Next:**

- Remove old engine/docs/ folder (or decide to keep it temporarily)
- Update ROADMAP epic title/description
- Begin Part 2: Hidden object files
- Commit progress

**Impact:**

- Much clearer system structure
- Better generalization for multi-project use
- POLICY name makes more sense for solo developers
- MGMT naming is consistent and clear

---

**Last updated:** 2026-01-26
